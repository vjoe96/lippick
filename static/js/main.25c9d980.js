/*! For license information please see main.25c9d980.js.LICENSE.txt */
!function(){var e={7757:function(e,t,n){e.exports=n(9727)},6374:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}u((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.loadFromFiles=t.load=t.loadTruncatedMobileNet=t.CustomMobileNet=t.getTopKClasses=t.IMAGE_SIZE=void 0;var o=n(6322),i=n(6322),s=n(2336),u=n(7104),c=n(6547),l=.25,f=.35;t.IMAGE_SIZE=224;var p=function(e){return e.packageVersion=e.packageVersion||c.version,e.packageName=e.packageName||"@teachablemachine/image",e.timeStamp=e.timeStamp||(new Date).toISOString(),e.userMetadata=e.userMetadata||{},e.modelName=e.modelName||"untitled",e.labels=e.labels||[],e.imageSize=e.imageSize||t.IMAGE_SIZE,e},d=function(e,t){if(1===e){if(.25!==t&&.5!==t&&.75!==t&&1!==t)return console.warn("Invalid alpha. Options are: 0.25, 0.50, 0.75 or 1.00."),console.log("Loading model with alpha: ",l.toFixed(2)),l}else if(.35!==t&&.5!==t&&.75!==t&&1!==t)return console.warn("Invalid alpha. Options are: 0.35, 0.50, 0.75 or 1.00."),console.log("Loading model with alpha: ",f.toFixed(2)),f;return t},h=function(e){return r(void 0,void 0,void 0,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return"string"!==typeof e?[3,3]:[4,fetch(e)];case 1:return[4,n.sent().json()];case 2:return t=n.sent(),[3,4];case 3:if(!(r=e)||!Array.isArray(r.labels))throw new Error("Invalid Metadata provided");t=e,n.label=4;case 4:return[2,p(t)]}var r}))}))};function v(e,t,n){return void 0===n&&(n=3),r(this,void 0,void 0,(function(){var r;return a(this,(function(a){switch(a.label){case 0:return[4,t.data()];case 1:return r=a.sent(),[2,o.tidy((function(){n=Math.min(n,r.length);for(var t=[],a=0;a<r.length;a++)t.push({value:r[a],index:a});t.sort((function(e,t){return t.value-e.value}));var o=new Float32Array(n),i=new Int32Array(n);for(a=0;a<n;a++)o[a]=t[a].value,i[a]=t[a].index;var s=[];for(a=0;a<i.length;a++)s.push({className:e[i[a]],probability:o[a]});return s}))]}}))}))}t.getTopKClasses=v;var m=function(){function e(e,t){this.model=e,this._metadata=p(t)}return Object.defineProperty(e,"EXPECTED_IMAGE_SIZE",{get:function(){return t.IMAGE_SIZE},enumerable:!1,configurable:!0}),e.prototype.getMetadata=function(){return this._metadata},e.prototype.getTotalClasses=function(){return this.model.output.shape[1]},e.prototype.getClassLabels=function(){return this._metadata.labels},e.prototype.predictTopK=function(e,t,n){return void 0===t&&(t=10),void 0===n&&(n=!1),r(this,void 0,void 0,(function(){var r,c,l,f=this;return a(this,(function(a){switch(a.label){case 0:return r=u.cropTo(e,this._metadata.imageSize,n),c=o.tidy((function(){var e=s.capture(r,f._metadata.grayscale);return f.model.predict(e)})),[4,v(this._metadata.labels,c,t)];case 1:return l=a.sent(),i.dispose(c),[2,l]}}))}))},e.prototype.predict=function(e,t){return void 0===t&&(t=!1),r(this,void 0,void 0,(function(){var n,r,c,l,f,p=this;return a(this,(function(a){switch(a.label){case 0:return n=u.cropTo(e,this._metadata.imageSize,t),[4,(r=o.tidy((function(){var e=s.capture(n,p._metadata.grayscale);return p.model.predict(e)}))).data()];case 1:for(c=a.sent(),l=[],f=0;f<c.length;f++)l.push({className:this._metadata.labels[f],probability:c[f]});return i.dispose(r),[2,l]}}))}))},e.prototype.dispose=function(){this.truncatedModel.dispose()},e}();t.CustomMobileNet=m,t.loadTruncatedMobileNet=function(e){return r(this,void 0,void 0,(function(){var n,r,i,s,u,c,p;return a(this,(function(a){switch(a.label){case 0:return n=function(e){if((e=e||{}).checkpointUrl&&e.trainingLayer)return(e.alpha||e.version)&&console.warn("Checkpoint URL passed to modelOptions, alpha options are ignored"),[e.checkpointUrl,e.trainingLayer];if(e.version=e.version||1,1===e.version){e.alpha=e.alpha||l,e.alpha=d(e.version,e.alpha),console.log("Loading mobilenet "+e.version+" and alpha "+e.alpha);var n=e.alpha.toFixed(2);return"1.00"===n&&(n="1.0"),["https://storage.googleapis.com/tfjs-models/tfjs/mobilenet_v1_"+n+"_"+t.IMAGE_SIZE+"/model.json","conv_pw_13_relu"]}if(2===e.version)return e.alpha=e.alpha||f,e.alpha=d(e.version,e.alpha),console.log("Loading mobilenet "+e.version+" and alpha "+e.alpha),["https://storage.googleapis.com/teachable-machine-models/mobilenet_v2_weights_tf_dim_ordering_tf_kernels_"+e.alpha.toFixed(2)+"_"+t.IMAGE_SIZE+"_no_top/model.json","out_relu"];throw new Error("MobileNet V"+e.version+" doesn't exist")}(e),r=n[0],i=n[1],[4,o.loadLayersModel(r)];case 1:return s=a.sent(),e&&1===e.version?(u=s.getLayer(i),c=o.model({inputs:s.inputs,outputs:u.output}),(p=o.sequential()).add(c),p.add(o.layers.flatten()),[2,p]):(u=s.getLayer(i),c=o.model({inputs:s.inputs,outputs:u.output}),(p=o.sequential()).add(c),p.add(o.layers.globalAveragePooling2d({})),[2,p])}}))}))},t.load=function(e,t){return r(this,void 0,void 0,(function(){var n,r;return a(this,(function(a){switch(a.label){case 0:return[4,o.loadLayersModel(e)];case 1:return n=a.sent(),t?[4,h(t)]:[3,3];case 2:return r=a.sent(),[3,4];case 3:r=null,a.label=4;case 4:return[2,new m(n,r)]}}))}))},t.loadFromFiles=function(e,t,n){return r(this,void 0,void 0,(function(){var r,i,s;return a(this,(function(a){switch(a.label){case 0:return[4,o.loadLayersModel(o.io.browserFiles([e,t]))];case 1:return r=a.sent(),[4,new Response(n).json()];case 2:return i=a.sent(),n?[4,h(i)]:[3,4];case 3:return s=a.sent(),[3,5];case 4:s=null,a.label=5;case 5:return[2,new m(r,s)]}}))}))}},7159:function(e,t,n){"use strict";var r=n(6374);Object.defineProperty(t,"zD",{enumerable:!0,get:function(){return r.load}});var a=n(3488);var o=n(4584);var i=n(6547)},3488:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.createTeachable=t.TeachableMobileNet=void 0;var i=n(6322),s=n(6322),u=n(2336),c=n(6374),l=n(6699);function f(e,t){for(var n,r=e.length,a=e.slice(),o=r-1;o>0;o-=1){var i=void 0;n=[a[i=t?Math.floor(t()*(o+1)):Math.floor(Math.random()*(o+1))],a[o]],a[o]=n[0],a[i]=n[1]}return a}var p=function(e){function t(t,n){var r=e.call(this,i.sequential(),n)||this;return r.totalSamples=0,r.examples=[],r.truncatedModel=t,r}return r(t,e),Object.defineProperty(t.prototype,"asSequentialModel",{get:function(){return this.model},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isTrained",{get:function(){return!!this.model&&this.model.layers&&this.model.layers.length>2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPrepared",{get:function(){return!!this.trainDataset},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numClasses",{get:function(){return this._metadata.labels.length},enumerable:!1,configurable:!0}),t.prototype.addExample=function(e,t){return a(this,void 0,void 0,(function(){var n,r,a;return o(this,(function(o){var i;return n="object"===typeof(i=t).dataId&&"object"===typeof i.shape?t:u.capture(t,this._metadata.grayscale),r=this.truncatedModel.predict(n),a=r.dataSync(),n.dispose(),r.dispose(),this.examples[e].push(a),this.totalSamples++,[2]}))}))},t.prototype.predict=function(t,n){return void 0===n&&(n=!1),a(this,void 0,void 0,(function(){return o(this,(function(r){if(!this.model)throw new Error("Model has not been trained yet, called train() first");return[2,e.prototype.predict.call(this,t,n)]}))}))},t.prototype.predictTopK=function(t,n,r){return void 0===n&&(n=10),void 0===r&&(r=!1),a(this,void 0,void 0,(function(){return o(this,(function(a){if(!this.model)throw new Error("Model has not been trained yet, called train() first");return[2,e.prototype.predictTopK.call(this,t,n,r)]}))}))},t.prototype.prepare=function(){for(var e in this.examples)if(0===e.length)throw new Error("Add some examples before training");var t=this.convertToTfDataset();this.trainDataset=t.trainDataset,this.validationDataset=t.validationDataset},t.prototype.convertToTfDataset=function(){for(var e=0;e<this.examples.length;e++)this.examples[e]=f(this.examples[e],this.seed);var t=[],n=[],r=function(e){var r=function(e,t){var n=new Array(t).fill(0);return n[e]=1,n}(e,a.numClasses),o=a.examples[e].length,i=o-Math.ceil(.15*o),s=a.examples[e].slice(0,i).map((function(e){return{data:e,label:r}})),u=a.examples[e].slice(i).map((function(e){return{data:e,label:r}}));t=t.concat(s),n=n.concat(u)},a=this;for(e=0;e<this.examples.length;e++)r(e);t=f(t,this.seed),n=f(n,this.seed);var o=i.data.array(t.map((function(e){return e.data}))),s=i.data.array(n.map((function(e){return e.data}))),u=i.data.array(t.map((function(e){return e.label}))),c=i.data.array(n.map((function(e){return e.label})));return{trainDataset:i.data.zip({xs:o,ys:u}),validationDataset:i.data.zip({xs:s,ys:c})}},t.prototype.save=function(e,t){return a(this,void 0,void 0,(function(){return o(this,(function(n){return[2,this.model.save(e,t)]}))}))},t.prototype.train=function(e,t){return void 0===t&&(t={}),a(this,void 0,void 0,(function(){var n,r,a,u,c,l,f,p,d,h=this;return o(this,(function(o){switch(o.label){case 0:if(n=t.onTrainEnd||function(){},t.onTrainEnd=function(e){h.__stopTrainingResolve&&(h.__stopTrainingResolve(),h.__stopTrainingResolve=null),n(e)},this.isPrepared||this.prepare(),r=this.getLabels().length,s.util.assert(r===this.numClasses,(function(){return"Can not train, has "+r+" labels and "+h.numClasses+" classes"})),a=this.truncatedModel.outputs[0].shape.slice(1),u=i.util.sizeFromShape(a),c=this.seed?i.initializers.varianceScaling({seed:3.14}):i.initializers.varianceScaling({}),this.trainingModel=i.sequential({layers:[i.layers.dense({inputShape:[u],units:e.denseUnits,activation:"relu",kernelInitializer:c,useBias:!0}),i.layers.dense({kernelInitializer:c,useBias:!1,activation:"softmax",units:this.numClasses})]}),l=i.train.adam(e.learningRate),this.trainingModel.compile({optimizer:l,loss:"categoricalCrossentropy",metrics:["accuracy"]}),!(e.batchSize>0))throw new Error("Batch size is 0 or NaN. Please choose a non-zero fraction");return f=this.trainDataset.batch(e.batchSize),p=this.validationDataset.batch(e.batchSize),[4,this.trainingModel.fitDataset(f,{epochs:e.epochs,validationData:p,callbacks:t})];case 1:return o.sent(),(d=i.sequential()).add(this.truncatedModel),d.add(this.trainingModel),this.model=d,l.dispose(),[2,this.model]}}))}))},t.prototype.prepareDataset=function(){for(var e=0;e<this.numClasses;e++)this.examples[e]=[]},t.prototype.setLabel=function(e,t){this._metadata.labels[e]=t},t.prototype.setLabels=function(e){this._metadata.labels=e,this.prepareDataset()},t.prototype.getLabel=function(e){return this._metadata.labels[e]},t.prototype.getLabels=function(){return this._metadata.labels},t.prototype.setName=function(e){this._metadata.modelName=e},t.prototype.getName=function(){return this._metadata.modelName},t.prototype.stopTraining=function(){var e=this;return new Promise((function(t,n){e.trainingModel.stopTraining=!0,e.__stopTrainingResolve=t}))},t.prototype.dispose=function(){this.trainingModel.dispose(),e.prototype.dispose.call(this)},t.prototype.calculateAccuracyPerClass=function(){return a(this,void 0,void 0,(function(){var e,t,n,r,s,u,c,l,f,p,d,h,v,m,g,y,b,x,w=this;return o(this,(function(k){switch(k.label){case 0:return e=this.validationDataset.mapAsync((function(e){return a(w,void 0,void 0,(function(){return o(this,(function(t){return[2,e.xs]}))}))})),t=this.validationDataset.mapAsync((function(e){return a(w,void 0,void 0,(function(){return o(this,(function(t){return[2,e.ys]}))}))})),n=Math.min(t.size,32),r=Math.ceil(t.size/n),s=e.batch(n),u=t.batch(n),[4,s.iterator()];case 1:return c=k.sent(),[4,u.iterator()];case 2:l=k.sent(),f=[],p=[],x=0,k.label=3;case 3:return x<r?[4,c.next()]:[3,7];case 4:return d=k.sent(),h=this.trainingModel.predict(d.value),v=h.argMax(1),f.push(v),[4,l.next()];case 5:m=k.sent(),g=m.value.argMax(1),p.push(g),d.value.dispose(),h.dispose(),m.value.dispose(),k.label=6;case 6:return x++,[3,3];case 7:if(y=i.concat(p),b=i.concat(f),1!==r)for(x=0;x<f.length;x++)f[x].dispose(),p[x].dispose();return[2,{reference:y,predictions:b}]}}))}))},t.prototype.setSeed=function(e){this.seed=l(e)},t}(c.CustomMobileNet);t.TeachableMobileNet=p,t.createTeachable=function(e,t){return a(this,void 0,void 0,(function(){var n;return o(this,(function(r){switch(r.label){case 0:return[4,c.loadTruncatedMobileNet(t)];case 1:return n=r.sent(),[2,new p(n,e)]}}))}))}},7104:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cropTo=t.resizeMinTo=t.resizeMaxTo=t.resize=void 0;var n=function(){return document.createElement("canvas")};function r(e,t,r){return void 0===r&&(r=n()),r.width=e.width*t,r.height=e.height*t,r.getContext("2d").drawImage(e,0,0,r.width,r.height),r}t.resize=r,t.resizeMaxTo=function(e,t,a){return void 0===a&&(a=n()),r(e,t/Math.max(e.width,e.height),a)},t.resizeMinTo=function(e,t,a){return void 0===a&&(a=n()),r(e,t/Math.min(e.width,e.height),a)},t.cropTo=function(e,t,r,a){void 0===r&&(r=!1),void 0===a&&(a=n());var o=e.width,i=e.height;e instanceof HTMLVideoElement&&(o=e.videoWidth,i=e.videoHeight);var s=t/Math.min(o,i),u=Math.ceil(o*s),c=Math.ceil(i*s),l=u-t,f=c-t;a.width=a.height=t;var p=a.getContext("2d");return p.drawImage(e,-1*~~(l/2),-1*~~(f/2),u,c),r&&(p.scale(-1,1),p.drawImage(a,-1*t,0)),a}},2336:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cropTensor=t.capture=void 0;var r=n(6322);function a(e,t,n){var a=Math.min(e.shape[0],e.shape[1]),o=e.shape[0]/2-a/2,i=e.shape[1]/2-a/2;if(t&&!n){var s=e.slice([o,i,0],[a,a,3]);s=s.reshape([a*a,1,3]);return s=(s=r.mul(s,[.2989,.587,.114])).reshape([a,a,3]),s=r.sum(s,-1),s=r.expandDims(s,-1)}return e.slice([o,i,0],[a,a,3])}t.capture=function(e,t){return r.tidy((function(){return a(r.browser.fromPixels(e),t).expandDims(0).toFloat().div(r.scalar(127)).sub(r.scalar(1))}))},t.cropTensor=a},4584:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var a,o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(s){o=[6,s],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Webcam=void 0;var i=n(221),s=n(7104),u={facingMode:"user",frameRate:24},c=function(){function e(e,t,n){void 0===e&&(e=400),void 0===t&&(t=400),void 0===n&&(n=!1),this.width=e,this.height=t,this.flip=n}return e.prototype.getWebcam=function(e){if(void 0===e&&(e={}),!window.navigator.mediaDevices||!window.navigator.mediaDevices.getUserMedia)return Promise.reject("Your browser does not support WebRTC. Please try another one.");e.width=640;var t=function(e){return e.facingMode=e.facingMode||u.facingMode,e.frameRate=e.frameRate||u.frameRate,e.aspectRatio=e.aspectRatio||u.aspectRatio,e}(e),n=document.createElement("video");return window.navigator.mediaDevices.getUserMedia({video:t}).then((function(e){return n.srcObject=e,n.addEventListener("loadedmetadata",(function(e){var t=n.videoWidth,r=n.videoHeight;n.width=t,n.height=r})),n}),(function(){return Promise.reject("Could not open your camera. You may have denied access.")}))},e.prototype.setup=function(e){return void 0===e&&(e={}),a(this,void 0,void 0,(function(){var t;return o(this,(function(n){switch(n.label){case 0:return this.webcam?[3,2]:(t=this,[4,this.getWebcam(e)]);case 1:t.webcam=n.sent(),this.canvas||(this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height),n.label=2;case 2:return[2]}}))}))},e.prototype.play=function(){return this.webcam.play()},e.prototype.pause=function(){this.webcam.pause()},e.prototype.stop=function(){this.stopStreamedVideo(this.webcam)},e.prototype.update=function(){this.renderCameraToCanvas()},e.prototype.stopStreamedVideo=function(e){e.srcObject.getTracks().forEach((function(e){e.stop()})),e.srcObject=null},e.prototype.renderCameraToCanvas=function(){if(this.canvas&&this.webcam){var e=this.canvas.getContext("2d");if(0!==this.webcam.videoWidth){var t=s.cropTo(this.webcam,this.width,this.flip);e.drawImage(t,0,0)}}},r([i.default],e.prototype,"getWebcam",null),r([i.default],e.prototype,"setup",null),r([i.default],e.prototype,"play",null),r([i.default],e.prototype,"pause",null),r([i.default],e.prototype,"stop",null),r([i.default],e.prototype,"update",null),r([i.default],e.prototype,"stopStreamedVideo",null),r([i.default],e.prototype,"renderCameraToCanvas",null),e}();t.Webcam=c},6547:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0;t.version="0.8.4-alpha2"},8598:function(e,t,n){var r=n(7401),a=n(3627),o=n(7320),i=n(7220),s=n(4972),u=n(2584),c=n(9638);c.alea=r,c.xor128=a,c.xorwow=o,c.xorshift7=i,c.xor4096=s,c.tychei=u,e.exports=c},7401:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this,n=function(){var e=4022871197;return function(t){t=t.toString();for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)}}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function s(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function u(e,t){var n=new i(e),r=t&&t.state,a=n.next;return a.int32=function(){return 4294967296*n.next()|0},a.double=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.alea=u}(0,e=n.nmd(e),n.amdD)},2584:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,a=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^a,a=a-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^a,t.a=a-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function u(e,t){var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.tychei=u}(0,e=n.nmd(e),n.amdD)},3627:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function u(e,t){var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.xor128=u}(0,e=n.nmd(e),n.amdD)},4972:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this;t.next=function(){var e,n,r=t.w,a=t.X,o=t.i;return t.w=r=r+1640531527|0,n=a[o+34&127],e=a[o=o+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=a[o]=n^e,t.i=o,n+(r^r>>>16)|0},function(e,t){var n,r,a,o,i,s=[],u=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,u=Math.max(u,t.length)),a=0,o=-32;o<u;++o)t&&(r^=t.charCodeAt((o+32)%t.length)),0===o&&(i=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,o>=0&&(i=i+1640531527|0,a=0==(n=s[127&o]^=r+i)?a+1:0);for(a>=128&&(s[127&(t&&t.length||0)]=-1),a=127,o=512;o>0;--o)r=s[a+34&127],n=s[a=a+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[a]=r^n;e.w=i,e.X=s,e.i=a}(t,e)}function s(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function u(e,t){null==e&&(e=+new Date);var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.X&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.xor4096=u}(0,e=n.nmd(e),n.amdD)},7220:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this;t.next=function(){var e,n,r=t.x,a=t.i;return e=r[a],n=(e^=e>>>7)^e<<24,n^=(e=r[a+1&7])^e>>>10,n^=(e=r[a+3&7])^e>>>3,n^=(e=r[a+4&7])^e<<7,e=r[a+7&7],n^=(e^=e<<13)^e<<9,r[a]=n,t.i=a+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function s(e,t){return t.x=e.x.slice(),t.i=e.i,t}function u(e,t){null==e&&(e=+new Date);var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.x&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.xorshift7=u}(0,e=n.nmd(e),n.amdD)},7320:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function u(e,t){var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.xorwow=u}(0,e=n.nmd(e),n.amdD)},9638:function(e,t,n){var r;!function(a,o){var i,s=this,u=256,c=o.pow(u,6),l=o.pow(2,52),f=2*l,p=255;function d(e,t,n){var r=[],p=g(m((t=1==t?{entropy:!0}:t||{}).entropy?[e,y(a)]:null==e?function(){try{var e;return i&&(e=i.randomBytes)?e=e(u):(e=new Uint8Array(u),(s.crypto||s.msCrypto).getRandomValues(e)),y(e)}catch(r){var t=s.navigator,n=t&&t.plugins;return[+new Date,s,n,s.screen,y(a)]}}():e,3),r),d=new h(r),b=function(){for(var e=d.g(6),t=c,n=0;e<l;)e=(e+n)*u,t*=u,n=d.g(1);for(;e>=f;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return 0|d.g(4)},b.quick=function(){return d.g(4)/4294967296},b.double=b,g(y(d.S),a),(t.pass||n||function(e,t,n,r){return r&&(r.S&&v(r,d),e.state=function(){return v(d,{})}),n?(o.random=e,t):e})(b,p,"global"in t?t.global:this==o,t.state)}function h(e){var t,n=e.length,r=this,a=0,o=r.i=r.j=0,i=r.S=[];for(n||(e=[n++]);a<u;)i[a]=a++;for(a=0;a<u;a++)i[a]=i[o=p&o+e[a%n]+(t=i[a])],i[o]=t;(r.g=function(e){for(var t,n=0,a=r.i,o=r.j,i=r.S;e--;)t=i[a=p&a+1],n=n*u+i[p&(i[a]=i[o=p&o+t])+(i[o]=t)];return r.i=a,r.j=o,n})(u)}function v(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function m(e,t){var n,r=[],a=typeof e;if(t&&"object"==a)for(n in e)try{r.push(m(e[n],t-1))}catch(o){}return r.length?r:"string"==a?e:e+"\0"}function g(e,t){for(var n,r=e+"",a=0;a<r.length;)t[p&a]=p&(n^=19*t[p&a])+r.charCodeAt(a++);return y(t)}function y(e){return String.fromCharCode.apply(0,e)}if(o.seedrandom=d,g(o.random(),a),e.exports){e.exports=d;try{i=n(914)}catch(b){}}else void 0===(r=function(){return d}.call(t,n,t,e))||(e.exports=r)}([],Math)},2652:function(e,t,n){"use strict";n.d(t,{g_:function(){return Fr},Ue:function(){return F},YL:function(){return Lr},iw:function(){return P},gJ:function(){return Zr}});var r={};n.r(r),n.d(r,{json:function(){return V}});var a={};n.r(a),n.d(a,{json:function(){return H}});var o={};n.r(o),n.d(o,{json:function(){return G}});var i={};n.r(i),n.d(i,{json:function(){return q}});var s={};n.r(s),n.d(s,{json:function(){return X}});var u={};n.r(u),n.d(u,{json:function(){return K}});var c={};n.r(c),n.d(c,{json:function(){return Y}});var l={};n.r(l),n.d(l,{json:function(){return Q}});var f={};n.r(f),n.d(f,{json:function(){return $}});var p={};n.r(p),n.d(p,{json:function(){return J}});var d={};n.r(d),n.d(d,{json:function(){return ee}});var h={};n.r(h),n.d(h,{json:function(){return te}});var v={};n.r(v),n.d(v,{json:function(){return ne}});var m={};n.r(m),n.d(m,{json:function(){return re}});var g={};n.r(g),n.d(g,{json:function(){return ae}});var y={};n.r(y),n.d(y,{json:function(){return oe}});var b={};n.r(b),n.d(b,{json:function(){return ie}});var x={};n.r(x),n.d(x,{json:function(){return se}});var w={};n.r(w),n.d(w,{json:function(){return ue}});var k={};n.r(k),n.d(k,{OP_SCOPE_SUFFIX:function(){return sn.zvA},abs:function(){return sn.WnP},acos:function(){return sn.Khb},acosh:function(){return sn.__u},add:function(){return sn.IHx},addN:function(){return sn.QBD},all:function(){return sn.$6P},any:function(){return sn.YjB},argMax:function(){return sn.NqF},argMin:function(){return sn.vHJ},asin:function(){return sn.ZRM},asinh:function(){return sn.VfV},atan:function(){return sn.z4N},atan2:function(){return sn.fvJ},atanh:function(){return sn.C80},avgPool:function(){return sn.wS1},avgPool3d:function(){return sn.uR5},basicLSTMCell:function(){return sn.zEQ},batchNorm:function(){return sn.tgs},batchNorm2d:function(){return sn.Dxk},batchNorm3d:function(){return sn.JY5},batchNorm4d:function(){return sn.p3b},batchToSpaceND:function(){return sn.E4h},bincount:function(){return sn.yE8},booleanMaskAsync:function(){return sn.anm},broadcastArgs:function(){return sn.XsQ},broadcastTo:function(){return sn.UFq},buffer:function(){return sn.f3b},cast:function(){return sn.pju},ceil:function(){return sn.mDi},clipByValue:function(){return sn.iUl},clone:function(){return sn.d9v},complex:function(){return sn.PYB},concat:function(){return sn.zoF},concat1d:function(){return sn.gME},concat2d:function(){return sn.Izb},concat3d:function(){return sn.MNy},concat4d:function(){return sn.ZaL},conv1d:function(){return sn.PAt},conv2d:function(){return sn.Tek},conv2dTranspose:function(){return sn.bc},conv3d:function(){return sn.pdZ},conv3dTranspose:function(){return sn.$QV},cos:function(){return sn.mCk},cosh:function(){return sn.f9Y},cosineWindow:function(){return sn.mew},cumprod:function(){return sn.$Gn},cumsum:function(){return sn.zbp},denseBincount:function(){return sn.ppE},depthToSpace:function(){return sn.nTT},depthwiseConv2d:function(){return sn.B10},diag:function(){return sn.Ka3},dilation2d:function(){return sn.WmZ},div:function(){return sn.hiC},divNoNan:function(){return sn.NTj},dot:function(){return sn.AKD},dropout:function(){return sn.rvX},einsum:function(){return sn.WYO},elu:function(){return sn.pyx},enclosingPowerOfTwo:function(){return sn.GRh},equal:function(){return sn.DgJ},erf:function(){return sn.qNN},euclideanNorm:function(){return sn.d2q},exp:function(){return sn.Qqt},expandDims:function(){return sn.dt4},expm1:function(){return sn.t$B},eye:function(){return sn.iyy},fft:function(){return sn.kp_},fill:function(){return sn.hlL},floor:function(){return sn.GWj},floorDiv:function(){return sn.qPi},fused:function(){return sn.imm},gather:function(){return sn.Iqj},gatherND:function(){return sn.dbB},greater:function(){return sn.pjt},greaterEqual:function(){return sn.brS},ifft:function(){return sn.Sxn},imag:function(){return sn.asL},image:function(){return sn.BHj},inTopKAsync:function(){return sn.V3u},irfft:function(){return sn.wx0},isFinite:function(){return sn.xVT},isInf:function(){return sn.UWc},isNaN:function(){return sn.i2d},leakyRelu:function(){return sn.hi7},less:function(){return sn.d9m},lessEqual:function(){return sn.zN1},linalg:function(){return sn.$r2},linspace:function(){return sn.SX3},localResponseNormalization:function(){return sn.G9k},log:function(){return sn.cM7},log1p:function(){return sn.Krr},logSigmoid:function(){return sn.e_t},logSoftmax:function(){return sn.CmS},logSumExp:function(){return sn.l_t},logicalAnd:function(){return sn.HvI},logicalNot:function(){return sn.hJK},logicalOr:function(){return sn.K5V},logicalXor:function(){return sn.egP},losses:function(){return sn.MB5},lowerBound:function(){return sn.eab},matMul:function(){return sn.OI3},max:function(){return sn.Fp7},maxPool:function(){return sn._sB},maxPool3d:function(){return sn.YQQ},maxPoolWithArgmax:function(){return sn.Ip$},maximum:function(){return sn.gWQ},mean:function(){return sn.J69},meshgrid:function(){return sn.ry_},min:function(){return sn.VV$},minimum:function(){return sn.LTh},mirrorPad:function(){return sn.VdP},mod:function(){return sn.wQq},moments:function(){return sn.Gi7},movingAverage:function(){return sn.p_},mul:function(){return sn.dC7},multiRNNCell:function(){return sn.rq4},multinomial:function(){return sn.SJ_},neg:function(){return sn.W76},norm:function(){return sn.KOy},notEqual:function(){return sn.Quu},oneHot:function(){return sn.lfX},ones:function(){return sn.iUs},onesLike:function(){return sn.JpU},op:function(){return sn.op},outerProduct:function(){return sn.N2O},pad:function(){return sn.vku},pad1d:function(){return sn.pNR},pad2d:function(){return sn.koy},pad3d:function(){return sn.t1L},pad4d:function(){return sn.lGY},pool:function(){return sn.d_R},pow:function(){return sn.sQ3},prelu:function(){return sn.AL3},print:function(){return sn.S0v},prod:function(){return sn.WVs},rand:function(){return sn.TN_},randomGamma:function(){return sn.wzB},randomNormal:function(){return sn.nGf},randomUniform:function(){return sn.LGj},range:function(){return sn.w6H},real:function(){return sn.kwC},reciprocal:function(){return sn.M25},relu:function(){return sn.UYe},relu6:function(){return sn.btT},reshape:function(){return sn.XLQ},reverse:function(){return sn.GYS},reverse1d:function(){return sn.SDf},reverse2d:function(){return sn.diP},reverse3d:function(){return sn.sx7},reverse4d:function(){return sn.mG2},rfft:function(){return sn.QEs},round:function(){return sn.NMM},rsqrt:function(){return sn.bp0},scalar:function(){return sn.iD$},scatterND:function(){return sn.snQ},searchSorted:function(){return sn.zcT},selu:function(){return sn.U8D},separableConv2d:function(){return sn.U_I},setdiff1dAsync:function(){return sn.ODp},sigmoid:function(){return sn.XD2},sign:function(){return sn.Xxe},signal:function(){return sn.tdS},sin:function(){return sn.O$l},sinh:function(){return sn.R_K},slice:function(){return sn.tPi},slice1d:function(){return sn.jZU},slice2d:function(){return sn.SmN},slice3d:function(){return sn.CnO},slice4d:function(){return sn.p0P},softmax:function(){return sn.XAC},softplus:function(){return sn.Wvh},spaceToBatchND:function(){return sn.fBT},sparse:function(){return sn.rVs},sparseToDense:function(){return sn.ers},spectral:function(){return sn.uN7},split:function(){return sn.Vl2},sqrt:function(){return sn._b3},square:function(){return sn.h62},squaredDifference:function(){return sn.$i},squeeze:function(){return sn.L9e},stack:function(){return sn.knu},step:function(){return sn.Nbs},stridedSlice:function(){return sn.NXj},string:function(){return sn.Z_8},sub:function(){return sn.luU},sum:function(){return sn.Smz},tan:function(){return sn.ORZ},tanh:function(){return sn.AEp},tensor:function(){return sn.XeE},tensor1d:function(){return sn.RRF},tensor2d:function(){return sn.odF},tensor3d:function(){return sn.wOQ},tensor4d:function(){return sn.yXz},tensor5d:function(){return sn.Bfx},tensor6d:function(){return sn.xZs},tile:function(){return sn.Gg6},topk:function(){return sn.hg7},transpose:function(){return sn.p4s},truncatedNormal:function(){return sn.Xu6},unique:function(){return sn.Two},unsortedSegmentSum:function(){return sn.pUJ},unstack:function(){return sn.HHK},upperBound:function(){return sn.GaM},variable:function(){return sn.VD$},where:function(){return sn.arb},whereAsync:function(){return sn.itS},zeros:function(){return sn.lls},zerosLike:function(){return sn.P84}});var S=n(3772);(0,S.OBj)().registerFlag("KEEP_INTERMEDIATE_TENSORS",(function(){return!1}),(function(e){e&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")}));var E,C,N=n(5861),T=n(5671),I=n(3144),O=n(7757),_=n.n(O),D=n(9439),A=n(3433);!function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_QINT16=15]="DT_QINT16",e[e.DT_QUINT16=16]="DT_QUINT16",e[e.DT_UINT16=17]="DT_UINT16",e[e.DT_COMPLEX128=18]="DT_COMPLEX128",e[e.DT_HALF=19]="DT_HALF",e[e.DT_RESOURCE=20]="DT_RESOURCE",e[e.DT_VARIANT=21]="DT_VARIANT",e[e.DT_UINT32=22]="DT_UINT32",e[e.DT_UINT64=23]="DT_UINT64",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",e[e.DT_QINT16_REF=115]="DT_QINT16_REF",e[e.DT_QUINT16_REF=116]="DT_QUINT16_REF",e[e.DT_UINT16_REF=117]="DT_UINT16_REF",e[e.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",e[e.DT_HALF_REF=119]="DT_HALF_REF",e[e.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",e[e.DT_VARIANT_REF=121]="DT_VARIANT_REF",e[e.DT_UINT32_REF=122]="DT_UINT32_REF",e[e.DT_UINT64_REF=123]="DT_UINT64_REF"}(E||(E={})),function(e){!function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))}(C||(C={}));var R={};function P(e,t){var n={tfOpName:e,category:"custom",inputs:[],attrs:[],customExecutor:t};R[e]=n}function M(e){return R[e]}function F(e){delete R[e]}function L(e,t,n,r,a){var o=t.inputParams[e];if(o&&void 0!==o.inputIndexStart){var i=o.inputIndexStart,s=0===o.inputIndexEnd?void 0:void 0===o.inputIndexEnd?i+1:o.inputIndexEnd;if("tensor"===o.type)return j(t.inputNames[o.inputIndexStart],n,r,a);if("tensors"===o.type)return t.inputNames.slice(i,s).map((function(e){return j(e,n,r,a)}));var u=j(t.inputNames.slice(i)[0],n,r,a),c=u.dataSync();return"number"===o.type?c[0]:S.D5U.toNestedArray(u.shape,c)}var l=t.attrParams[e];return l&&l.value}function j(e,t,n,r){var a=B(e),o=(0,D.Z)(a,2),i=o[0],s=o[1];if(null!=r){var u=r.getHashTableHandleByName(i);if(null!=u)return u}var c=n.currentContextIds.find((function(e){return!!t[z(i,e)]}));return void 0!==c?t[z(i,c)][s]:void 0}function Z(e,t){var n=B(e),r=(0,D.Z)(n,3),a=r[0],o=r[1],i=r[2];return[z(a,t&&t.currentContextId),o,i]}function z(e,t){return t?"".concat(e,"-").concat(t):e}function B(e){var t=e.split(":");if(1===t.length)return[e,0,void 0];var n=t[0],r=3===t.length?t[1]:void 0;return[n,Number(t[t.length-1]),r]}function U(e,t,n){var r=L("pad",e,t,n);if("explicit"===r){r=L("explicitPaddings",e,t,n);for(var a=[[0,0],[0,0],[0,0],[0,0]],o=0;o<4;o++)a[o][0]=r[2*o],a[o][1]=r[2*o+1];return a}return r}function W(e){return e.kept?e:(0,S.d9v)(e)}var V=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],H=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Prod",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axes",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],G=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],q=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number"}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],X=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],K=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],Y=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],Q=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],$=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]}],J=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],ee=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],te=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]}],ne=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"SparseToDense",category:"normalization",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!0,notSupported:!0}]}],re=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],ae=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]}],oe=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],ie=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],se=[{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],ue=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}],ce=function(){function e(){var t;(0,T.Z)(this,e);var n=[r,a,o,i,s,u,c,l,f,p,d,h,v,m,g,y,b,x,w],k=(t=[]).concat.apply(t,(0,A.Z)(n.map((function(e){return e.json}))));this.opMappers=k.reduce((function(e,t){return e[t.tfOpName]=t,e}),{})}return(0,I.Z)(e,[{key:"transformGraph",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.node,a=[],o=[],i=[],s=r.reduce((function(e,n){return e[n.name]=t.mapNode(n),n.op.startsWith("Placeholder")?a.push(e[n.name]):"Const"===n.op?o.push(e[n.name]):null!=n.input&&0!==n.input.length||i.push(e[n.name]),e}),{}),u=[],c=[],l={},f={};null!=n&&(l=this.mapSignatureEntries(n.inputs),f=this.mapSignatureEntries(n.outputs));var p=Object.keys(s);p.forEach((function(e){var t=s[e];t.inputNames.forEach((function(e,n){var r=Z(e),a=(0,D.Z)(r,3),o=a[0],i=a[2],u=s[o];if(null!=u.outputs){var c=u.outputs.indexOf(i);if(-1!==c){var l="".concat(o,":").concat(c);t.inputNames[n]=l}}t.inputs.push(u),u.children.push(t)}))})),0===Object.keys(f).length?p.forEach((function(e){var t=s[e];0===t.children.length&&c.push(t)})):Object.keys(f).forEach((function(e){var t=Z(e),n=(0,D.Z)(t,1)[0],r=s[n];null!=r&&(r.signatureKey=f[e],c.push(r))})),Object.keys(l).length>0?Object.keys(l).forEach((function(e){var t=Z(e),n=(0,D.Z)(t,1)[0],r=s[n];r&&(r.signatureKey=l[e],u.push(r))})):u=a;var d={};null!=e.library&&null!=e.library.function&&(d=e.library.function.reduce((function(e,n){return e[n.signature.name]=t.mapFunction(n),e}),{}));var h={nodes:s,inputs:u,outputs:c,weights:o,placeholders:a,signature:n,functions:d};return i.length>0&&(h.initNodes=i),h}},{key:"mapSignatureEntries",value:function(e){return Object.keys(e||{}).reduce((function(t,n){return t[e[n].name]=n,t}),{})}},{key:"mapNode",value:function(e){var t=M(e.op)||this.opMappers[e.op]||{};null==e.attr&&(e.attr={});var n={name:e.name,op:e.op,category:t.category,inputNames:(e.input||[]).map((function(e){return e.startsWith("^")?e.slice(1):e})),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:t.outputs};return null!=t.inputs&&(n.inputParams=t.inputs.reduce((function(e,t){return e[t.name]={type:t.type,inputIndexStart:t.start,inputIndexEnd:t.end},e}),{})),null!=t.attrs&&(n.attrParams=t.attrs.reduce((function(t,n){var r=n.type,a=void 0;switch(n.type){case"string":void 0===(a=fe(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=fe(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"string[]":void 0===(a=we(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=we(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number":void 0===(a=de(e.attr,n.tfName,n.defaultValue||0))&&n.tfDeprecatedName&&(a=de(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number[]":void 0===(a=xe(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=xe(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool":void 0===(a=pe(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=pe(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool[]":void 0===(a=Se(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=Se(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape":void 0===(a=be(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=be(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape[]":void 0===(a=ke(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=ke(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype":void 0===(a=me(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=me(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype[]":void 0===(a=ge(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=ge(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"func":void 0===(a=ve(e.attr,n.tfName,n.defaultValue))&&n.tfDeprecatedName&&(a=ve(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error("Unsupported param type: ".concat(n.type," for op: ").concat(e.op))}return t[n.name]={value:a,type:r},t}),{})),n}},{key:"mapFunction",value:function(e){var t=this,n=e.nodeDef,r=[],a={};null!=n&&(a=n.reduce((function(e,n){return e[n.name]=t.mapNode(n),"Const"===n.op&&r.push(e[n.name]),e}),{}));var o=[],i=[];e.signature.inputArg.forEach((function(e){var t=Z(e.name),n=(0,D.Z)(t,1)[0],r={name:n,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:he(e.type),type:"dtype"}},children:[]};r.signatureKey=e.name,o.push(r),a[n]=r})),Object.keys(a).forEach((function(e){var t=a[e];t.inputNames.forEach((function(e,n){var r=Z(e),o=(0,D.Z)(r,3),i=o[0],s=o[2],u=a[i];if(null!=u.outputs){var c=u.outputs.indexOf(s);if(-1!==c){var l="".concat(i,":").concat(c);t.inputNames[n]=l}}t.inputs.push(u),u.children.push(t)}))}));var s=e.ret;e.signature.outputArg.forEach((function(e){var t=Z(s[e.name]),n=(0,D.Z)(t,2),r=n[0],o=n[1],u=a[r];null!=u&&(u.defaultOutput=o,i.push(u))}));var u=this.mapArgsToSignature(e);return{nodes:a,inputs:o,outputs:i,weights:r,placeholders:[],signature:u}}},{key:"mapArgsToSignature",value:function(e){var t=this;return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce((function(e,n){return e[n.name]=t.mapArgToTensorInfo(n),e}),{}),outputs:e.signature.outputArg.reduce((function(n,r){return n[r.name]=t.mapArgToTensorInfo(r,e.ret),n}),{})}}},{key:"mapArgToTensorInfo",value:function(e,t){var n=e.name;return null!=t&&(n=t[n]),{name:n,dtype:e.type}}}],[{key:"Instance",get:function(){return this._instance||(this._instance=new this)}}]),e}();function le(e,t){var n=Array.isArray(e)?String.fromCharCode.apply(null,e):function(e){var t=(0,S.OBj)().global;if("undefined"!==typeof t.atob)return t.atob(e);if("undefined"!==typeof Buffer)return new Buffer(e,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}(e);return t?n:n.toLowerCase()}function fe(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e[t];return null!=a?le(a.s,r):n}function pe(e,t,n){var r=e[t];return r?r.b:n}function de(e,t,n){var r=e[t]||{},a=null!=r.i?r.i:null!=r.f?r.f:n;return"number"===typeof a?a:parseInt(a,10)}function he(e){switch("string"===typeof e&&(e=E[e]),e){case E.DT_FLOAT:case E.DT_HALF:return"float32";case E.DT_INT32:case E.DT_INT64:case E.DT_INT8:case E.DT_UINT8:return"int32";case E.DT_BOOL:return"bool";case E.DT_DOUBLE:return"float32";case E.DT_STRING:return"string";default:return null}}function ve(e,t,n){var r=e[t];return r&&r.func?r.func.name:n}function me(e,t,n){var r=e[t];return r&&r.type?he(r.type):n}function ge(e,t,n){var r=e[t];return r&&r.list&&r.list.type?r.list.type.map((function(e){return he(e)})):n}function ye(e){if(!e.unknownRank)return null!=e.dim?e.dim.map((function(e){return"number"===typeof e.size?e.size:parseInt(e.size,10)})):[]}function be(e,t,n){var r=e[t];return r&&r.shape?ye(r.shape):n}function xe(e,t,n){var r=e[t];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map((function(e){return"number"===typeof e?e:parseInt(e,10)})):n}function we(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e[t];return a&&a.list&&a.list.s?a.list.s.map((function(e){return le(e,r)})):n}function ke(e,t,n){var r=e[t];return r&&r.list&&r.list.shape?r.list.shape.map((function(e){return ye(e)})):n}function Se(e,t,n){var r=e[t];return r&&r.list&&r.list.b?r.list.b:n}var Ee=function(){function e(t,n,r){var a=this;(0,T.Z)(this,e),this.node=t,this.tensorMap=n,this.context=r,this.inputs=[],this.attrs={},this.inputs=t.inputNames.map((function(e){return a.getInput(e)})),null!=t.rawAttrs&&(this.attrs=Object.keys(t.rawAttrs).reduce((function(e,t){return e[t]=a.getAttr(t),e}),{}))}return(0,I.Z)(e,[{key:"getInput",value:function(e){return j(e,this.tensorMap,this.context)}},{key:"getAttr",value:function(e,t){var n=this.node.rawAttrs[e];if(null!=n.tensor)return j(e,this.tensorMap,this.context);if(null!=n.i||null!=n.f)return de(this.node.rawAttrs,e,t);if(null!=n.s)return fe(this.node.rawAttrs,e,t);if(null!=n.b)return pe(this.node.rawAttrs,e,t);if(null!=n.shape)return be(this.node.rawAttrs,e,t);if(null!=n.type)return me(this.node.rawAttrs,e,t);if(null!=n.list){if(null!=n.list.i||null!=n.list.f)return xe(this.node.rawAttrs,e,t);if(null!=n.list.s)return we(this.node.rawAttrs,e,t);if(null!=n.list.shape)return ke(this.node.rawAttrs,e,t);if(null!=n.list.b)return Se(this.node.rawAttrs,e,t);if(null!=n.list.type)return ge(this.node.rawAttrs,e,t)}return t}}]),e}(),Ce=n(3312),Ne=n(5506),Te=n(4645),Ie=n(651),Oe=n(5750),_e=n(5923),De=n(7145),Ae=n(4774),Re=n(2273),Pe=n(705),Me=n(4334),Fe=n(7993),Le=n(7613),je=n(1719),Ze=n(4502),ze=n(3053),Be=n(54),Ue=n(4778),We=n(2227),Ve=n(7897),He=n(1396),Ge=n(9253),qe=n(1227),Xe=n(6679),Ke=n(2353),Ye=n(3891),Qe=n(411),$e=n(5682),Je=n(2628),et=n(378),tt=n(5341),nt=n(6996),rt=n(4362),at=n(2209),ot=n(6972),it=n(7539),st=n(766),ut=n(413),ct=n(7643),lt=n(7254),ft=n(2070),pt=n(7657),dt=n(4626),ht=n(6902),vt=n(7391),mt=n(1744),gt=n(6999),yt=n(9836),bt=n(5900),xt=n(5115),wt=n(7722),kt=n(4419),St=n(6859),Et=n(7005);function Ct(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if("number"!==typeof e&&"number"!==typeof t){S.D5U.assert(e.length===t.length,(function(){return n+" Shapes ".concat(e," and ").concat(t," must match")}));for(var r=0;r<e.length;r++){var a=e[r],o=t[r];S.D5U.assert(a<0||o<0||a===o,(function(){return n+" Shapes ".concat(e," and ").concat(t," must match")}))}}}function Nt(e){return"number"!==typeof e&&!e.some((function(e){return e<0}))}function Tt(e,t,n){var r=It(e,n),a=!Nt(r);if(a&&0===t.length)throw new Error("Tried to calculate elements of an empty list"+" with non-fully-defined elementShape: ".concat(r));if(a&&t.forEach((function(e){r=It(e.shape,r)})),!Nt(r))throw new Error("Non-fully-defined elementShape: ".concat(r));return r}function It(e,t){if("number"===typeof e)return t;if("number"===typeof t)return e;if(e.length!==t.length)throw new Error("Incompatible ranks during merge: ".concat(e," vs. ").concat(t));for(var n=[],r=0;r<e.length;++r){var a=e[r],o=t[r];if(a>=0&&o>=0&&a!==o)throw new Error("Incompatible shape during merge: ".concat(e," vs. ").concat(t));n[r]=a>=0?a:o}return n}var Ot=function(){function e(t,n,r,a,o,i,s){(0,T.Z)(this,e),this.name=t,this.dtype=n,this.maxSize=r,this.elementShape=a,this.identicalElementShapes=o,this.dynamicSize=i,this.clearAfterRead=s,this.tensors=[],this.closed_=!1,this.idTensor=(0,S.iD$)(0),(0,S.CnY)(this.idTensor)}return(0,I.Z)(e,[{key:"id",get:function(){return this.idTensor.id}},{key:"closed",get:function(){return this.closed_}},{key:"clearAndClose",value:function(e){this.tensors.forEach((function(t){null!=e&&e.has(t.tensor.id)||t.tensor.dispose()})),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}},{key:"size",value:function(){return this.tensors.length}},{key:"read",value:function(e){if(this.closed_)throw new Error("TensorArray ".concat(this.name," has already been closed."));if(e<0||e>=this.size())throw new Error("Tried to read from index ".concat(e,", but array size is: ").concat(this.size()));var t=this.tensors[e];if(t.cleared)throw new Error("TensorArray ".concat(this.name,": Could not read index ").concat(e," twice because it was cleared after a previous read ")+"(perhaps try setting clear_after_read = false?).");return this.clearAfterRead&&(t.cleared=!0),t.read=!0,t.tensor}},{key:"readMany",value:function(e){var t=this;return e.map((function(e){return t.read(e)}))}},{key:"write",value:function(e,t){if(this.closed_)throw new Error("TensorArray ".concat(this.name," has already been closed."));if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error("Tried to write to index ".concat(e,", but array is not resizeable and size is: ").concat(this.maxSize));var n=this.tensors[e]||{};if(t.dtype!==this.dtype)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,",\n          because the value dtype is ").concat(t.dtype,", but TensorArray dtype is ").concat(this.dtype,"."));if(0!==this.size()||null!=this.elementShape&&0!==this.elementShape.length||(this.elementShape=t.shape),Ct(this.elementShape,t.shape,"TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,".")),n.read)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,", because it has already been read."));if(n.written)throw new Error("TensorArray ".concat(this.name,": Could not write to TensorArray index ").concat(e,", because it has already been written."));n.tensor=t,(0,S.CnY)(t),n.written=!0,this.tensors[e]=n}},{key:"writeMany",value:function(e,t){var n=this;if(e.length!==t.length)throw new Error("TensorArray ".concat(this.name,": could not write multiple tensors,")+"because the index size: ".concat(e.length," is not the same as tensors size: ").concat(t.length,"."));e.forEach((function(e,r){return n.write(e,t[r])}))}},{key:"gather",value:function(e,t){if(t&&t!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but gather requested dtype ").concat(t));if(e)e=e.slice(0,this.size());else{e=[];for(var n=0;n<this.size();n++)e.push(n)}if(0===e.length)return(0,S.XeE)([],[0].concat(this.elementShape));var r=this.readMany(e);return Ct(this.elementShape,r[0].shape,"TensorArray shape mismatch: "),(0,S.knu)(r,0)}},{key:"concat",value:function(e){if(e&&e!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but concat requested dtype ").concat(e));if(0===this.size())return(0,S.XeE)([],[0].concat(this.elementShape));for(var t=[],n=0;n<this.size();n++)t.push(n);var r=this.readMany(t);return Ct(this.elementShape,r[0].shape,"TensorArray shape mismatch: tensor array shape (".concat(this.elementShape,") vs first tensor shape (").concat(r[0].shape,")")),(0,S.zoF)(r,0)}},{key:"scatter",value:function(e,t){if(t.dtype!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but tensor has dtype ").concat(t.dtype));if(e.length!==t.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: ".concat(e.length," vs. ").concat(t.shape[0]));var n=Math.max.apply(Math,(0,A.Z)(e));if(!this.dynamicSize&&n>=this.maxSize)throw new Error("Max index must be < array size (".concat(n,"  vs. ").concat(this.maxSize,")"));this.writeMany(e,(0,S.HHK)(t,0))}},{key:"split",value:function(e,t){var n=this;if(t.dtype!==this.dtype)throw new Error("TensorArray dtype is ".concat(this.dtype," but tensor has dtype ").concat(t.dtype));var r=0,a=e.map((function(e){return r+=e}));if(r!==t.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ".concat(r,", and tensor's shape is: ").concat(t.shape));if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error("TensorArray's size is not equal to the size of lengths (".concat(this.maxSize," vs. ").concat(e.length,"), ")+"and the TensorArray is not marked as dynamically resizeable");var o=0===r?0:t.size/r,i=[];(0,S.lub)((function(){t=(0,S.XLQ)(t,[1,r,o]);for(var s=0;s<e.length;++s){var u=[0,0===s?0:a[s-1],0],c=[1,e[s],o];i[s]=(0,S.XLQ)((0,S.tPi)(t,u,c),n.elementShape)}return i}));for(var s=[],u=0;u<e.length;u++)s[u]=u;this.writeMany(s,i)}}]),e}(),_t=function(){function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;(0,T.Z)(this,e),this.tensors=t,this.elementShape=n,this.elementDtype=r,null!=t&&t.forEach((function(e){if(r!==e.dtype)throw new Error("Invalid data types; op elements ".concat(r,", but list elements ").concat(e.dtype));Ct(n,e.shape,"TensorList shape mismatch: "),(0,S.CnY)(e)})),this.idTensor=(0,S.iD$)(0),this.maxNumElements=a,(0,S.CnY)(this.idTensor)}return(0,I.Z)(e,[{key:"id",get:function(){return this.idTensor.id}},{key:"copy",value:function(){return new e((0,A.Z)(this.tensors),this.elementShape,this.elementDtype)}},{key:"clearAndClose",value:function(e){this.tensors.forEach((function(t){null!=e&&e.has(t.id)||t.dispose()})),this.tensors.length=0,this.idTensor.dispose()}},{key:"size",value:function(){return this.tensors.length}},{key:"stack",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));if(-1!==r&&this.tensors.length!==r)throw new Error("Operation expected a list with ".concat(r," elements but got a list with ").concat(this.tensors.length," elements."));Ct(e,this.elementShape,"TensorList shape mismatch: ");var a=Tt(this.elementShape,this.tensors,e);return(0,S.lub)((function(){var e=n.tensors.map((function(e){return(0,S.XLQ)(e,a)}));return(0,S.knu)(e,0)}))}},{key:"popBack",value:function(e,t){if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));if(0===this.size())throw new Error("Trying to pop from an empty list.");var n=Tt(this.elementShape,this.tensors,e),r=this.tensors.pop();return Ct(r.shape,e,"TensorList shape mismatch: "),(0,S.XLQ)(r,n)}},{key:"pushBack",value:function(e){if(e.dtype!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(e.dtype,", but list elements ").concat(this.elementDtype));if(Ct(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");(0,S.CnY)(e),this.tensors.push(e)}},{key:"resize",value:function(t){if(t<0)throw new Error("TensorListResize expects size to be non-negative. Got: ".concat(t));if(-1!==this.maxNumElements&&t>this.maxNumElements)throw new Error("TensorListResize input size ".concat(t," is greater maxNumElement ").concat(this.maxNumElements,"."));var n=new e([],this.elementShape,this.elementDtype,this.maxNumElements);n.tensors.length=t;for(var r=0;r<Math.min(this.tensors.length,t);++r)n.tensors[r]=this.tensors[r];return n}},{key:"getItem",value:function(e,t,n){if(n!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(n,", but list elements ").concat(this.elementDtype));if(e<0||e>this.tensors.length)throw new Error("Trying to access element ".concat(e," in a list with ").concat(this.tensors.length," elements."));if(null==this.tensors[e])throw new Error("element at index ".concat(e," is null."));Ct(this.tensors[e].shape,t,"TensorList shape mismatch: ");var r=Tt(this.elementShape,this.tensors,t);return(0,S.XLQ)(this.tensors[e],r)}},{key:"setItem",value:function(e,t){if(t.dtype!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t.dtype,", but list elements ").concat(this.elementDtype));if(e<0||-1!==this.maxNumElements&&e>=this.maxNumElements)throw new Error("Trying to set element ".concat(e," in a list with max ").concat(this.maxNumElements," elements."));Ct(this.elementShape,t.shape,"TensorList shape mismatch: "),(0,S.CnY)(t),this.tensors[e]=t}},{key:"gather",value:function(e,t,n){var r=this;if(t!==this.elementDtype)throw new Error("Invalid data types; op elements ".concat(t,", but list elements ").concat(this.elementDtype));Ct(this.elementShape,n,"TensorList shape mismatch: "),e=e.slice(0,this.size());var a=Tt(this.elementShape,this.tensors,n);return 0===e.length?(0,S.XeE)([],[0].concat(a)):(0,S.lub)((function(){var t=e.map((function(e){return(0,S.XLQ)(r.tensors[e],a)}));return(0,S.knu)(t,0)}))}},{key:"concat",value:function(e,t){var n=this;if(e&&e!==this.elementDtype)throw new Error("TensorList dtype is ".concat(this.elementDtype," but concat requested dtype ").concat(e));Ct(this.elementShape,t,"TensorList shape mismatch: ");var r=Tt(this.elementShape,this.tensors,t);return 0===this.size()?(0,S.XeE)([],[0].concat(r)):(0,S.lub)((function(){var e=n.tensors.map((function(e){return(0,S.XLQ)(e,r)}));return(0,S.zoF)(e,0)}))}}]),e}();function Dt(e,t,n){var r=e.dtype;if(e.shape.length<1)throw new Error("Tensor must be at least a vector, but saw shape: ".concat(e.shape));if(e.dtype!==n)throw new Error("Invalid data types; op elements ".concat(e.dtype,", but list elements ").concat(n));Ct(e.shape.slice(1),t,"TensorList shape mismatch: ");var a=(0,S.HHK)(e);return new _t(a,t,r)}function At(e,t,n){return new _t([],e,t,n)}function Rt(e,t,n,r){if(t.length!==e.shape[0])throw new Error("Expected len(indices) == tensor.shape[0], but saw: ".concat(t.length," vs. ").concat(e.shape[0]));var a=Math.max.apply(Math,(0,A.Z)(t));if(null!=r&&-1!==r&&a>=r)throw new Error("Max index must be < array size (".concat(a,"  vs. ").concat(r,")"));var o=new _t([],n,e.dtype,r),i=(0,S.HHK)(e,0);return t.forEach((function(e,t){o.setItem(e,i[t])})),o}function Pt(e,t,n){var r=0,a=t.map((function(e){return r+=e}));if(r!==e.shape[0])throw new Error("Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ".concat(r,", and tensor's shape is: ").concat(e.shape));for(var o=It(e.shape.slice(1),n),i=0===r?0:e.size/r,s=(0,S.lub)((function(){var n=[];e=(0,S.XLQ)(e,[1,r,i]);for(var s=0;s<t.length;++s){var u=[0,0===s?0:a[s-1],0],c=[1,t[s],i];n[s]=(0,S.XLQ)((0,S.tPi)(e,u,c),o)}return e.dispose(),n})),u=new _t([],n,e.dtype,t.length),c=0;c<s.length;c++)u.setItem(c,s[c]);return u}var Mt=function(){var e=(0,N.Z)(_().mark((function e(t,n,r){var a,o,i,s,u,c,l,f,p,d,h,v,m,g,y,b,x,w,k,E,C,N,T,I,O,D,A,R,P,M,F,Z,z,B,U,V,H,G,q,X,K,Y,Q,$,J,ee,te,ne,re,ae,oe,ie,se,ue,ce,le,fe,pe,de,he,ve,me,ge,ye,be,xe,we,ke,Se,Ee,Ce,Ne,Te,Ie,Oe,_e,De,Ae,Re,Pe,Me,Fe,Le,je,Ze,ze,Be,Ue,We,Ve,He,Ge,qe,Xe,Ke,Ye,Qe,$e,Je,et,tt,nt;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.op,e.next="If"===e.t0||"StatelessIf"===e.t0?3:"While"===e.t0||"StatelessWhile"===e.t0?15:"LoopCond"===e.t0?19:"Switch"===e.t0?21:"Merge"===e.t0?32:"Enter"===e.t0?37:"Exit"===e.t0?41:"NextIteration"===e.t0?44:"TensorArrayV3"===e.t0?47:"TensorArrayWriteV3"===e.t0?57:"TensorArrayReadV3"===e.t0?63:"TensorArrayGatherV3"===e.t0?67:"TensorArrayScatterV3"===e.t0?72:"TensorArrayConcatV3"===e.t0?78:"TensorArraySplitV3"===e.t0?82:"TensorArraySizeV3"===e.t0?88:"TensorArrayCloseV3"===e.t0?91:"TensorListSetItem"===e.t0?95:"TensorListGetItem"===e.t0?101:"TensorListScatterV2"===e.t0||"TensorListScatter"===e.t0?107:"TensorListReserve"===e.t0||"EmptyTensorList"===e.t0?114:"TensorListGather"===e.t0?121:"TensorListStack"===e.t0?127:"TensorListFromTensor"===e.t0?133:"TensorListConcat"===e.t0||"TensorListConcatV2"===e.t0?139:"TensorListPushBack"===e.t0?144:"TensorListPopBack"===e.t0?149:"TensorListSplit"===e.t0?154:"TensorListLength"===e.t0?160:"TensorListResize"===e.t0?163:169;break;case 3:return a=L("thenBranch",t,n,r),o=L("elseBranch",t,n,r),i=L("cond",t,n,r),s=L("args",t,n,r),e.next=9,i.data();case 9:if(!e.sent[0]){e.next=14;break}return e.abrupt("return",r.functionMap[a].executeFunctionAsync(s,r.tensorArrayMap,r.tensorListMap));case 14:return e.abrupt("return",r.functionMap[o].executeFunctionAsync(s,r.tensorArrayMap,r.tensorListMap));case 15:return e.delegateYield(_().mark((function e(){var a,o,i,s,u,c,l,f;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=L("body",t,n,r),o=L("cond",t,n,r),i=L("args",t,n,r),e.next=5,r.functionMap[o].executeFunctionAsync(i,r.tensorArrayMap,r.tensorListMap);case 5:return s=e.sent,u=i.map((function(e){return e.id})),e.next=9,s[0].data();case 9:c=e.sent,s.forEach((function(e){e.kept||-1!==u.indexOf(e.id)||e.dispose()})),l=i,f=_().mark((function e(){var t,n,i;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l,e.next=3,r.functionMap[a].executeFunctionAsync(l,r.tensorArrayMap,r.tensorListMap);case 3:return l=e.sent,n=l.map((function(e){return e.id})),t.forEach((function(e){e.kept||-1!==u.indexOf(e.id)||-1!==n.indexOf(e.id)||e.dispose()})),e.next=8,r.functionMap[o].executeFunctionAsync(l,r.tensorArrayMap,r.tensorListMap);case 8:return i=e.sent,e.next=11,i[0].data();case 11:c=e.sent,i.forEach((function(e){e.kept||-1!==u.indexOf(e.id)||-1!==n.indexOf(e.id)||e.dispose()}));case 13:case"end":return e.stop()}}),e)}));case 13:if(!c[0]){e.next=17;break}return e.delegateYield(f(),"t0",15);case 15:e.next=13;break;case 17:return e.abrupt("return",{v:l});case 18:case"end":return e.stop()}}),e)}))(),"t1",16);case 16:if("object"!==typeof(u=e.t1)){e.next=19;break}return e.abrupt("return",u.v);case 19:return c=L("pred",t,n,r),e.abrupt("return",[W(c)]);case 21:return l=L("pred",t,n,r),(f=L("data",t,n,r)).kept||(f=W(f)),e.next=26,l.data();case 26:if(!e.sent[0]){e.next=30;break}e.t2=[void 0,f],e.next=31;break;case 30:e.t2=[f,void 0];case 31:return e.abrupt("return",e.t2);case 32:if(p=t.inputNames.find((function(e){return void 0!==j(e,n,r)})),!p){e.next=36;break}return d=j(p,n,r),e.abrupt("return",[W(d)]);case 36:return e.abrupt("return",void 0);case 37:return h=L("frameName",t,n,r),v=L("tensor",t,n,r),r.enterFrame(h),e.abrupt("return",[W(v)]);case 41:return m=L("tensor",t,n,r),r.exitFrame(),e.abrupt("return",[W(m)]);case 44:return g=L("tensor",t,n,r),r.nextIteration(),e.abrupt("return",[W(g)]);case 47:return y=L("size",t,n,r),b=L("dtype",t,n,r),x=L("elementShape",t,n,r),w=L("dynamicSize",t,n,r),k=L("clearAfterRead",t,n,r),E=L("identicalElementShapes",t,n,r),C=L("name",t,n,r),N=new Ot(C,b,y,x,E,w,k),r.addTensorArray(N),e.abrupt("return",[N.idTensor,(0,S.iD$)(1)]);case 57:return T=L("tensorArrayId",t,n,r),I=L("index",t,n,r),O=L("tensor",t,n,r),(D=r.getTensorArray(T.id)).write(I,O),e.abrupt("return",[D.idTensor]);case 63:return A=L("tensorArrayId",t,n,r),R=L("index",t,n,r),P=r.getTensorArray(A.id),e.abrupt("return",[P.read(R)]);case 67:return M=L("tensorArrayId",t,n,r),F=L("indices",t,n,r),Z=L("dtype",t,n,r),z=r.getTensorArray(M.id),e.abrupt("return",[z.gather(F,Z)]);case 72:return B=L("tensorArrayId",t,n,r),U=L("indices",t,n,r),V=L("tensor",t,n,r),(H=r.getTensorArray(B.id)).scatter(U,V),e.abrupt("return",[H.idTensor]);case 78:return G=L("tensorArrayId",t,n,r),q=r.getTensorArray(G.id),X=L("dtype",t,n,r),e.abrupt("return",[q.concat(X)]);case 82:return K=L("tensorArrayId",t,n,r),Y=L("tensor",t,n,r),Q=L("lengths",t,n,r),($=r.getTensorArray(K.id)).split(Q,Y),e.abrupt("return",[$.idTensor]);case 88:return J=L("tensorArrayId",t,n,r),ee=r.getTensorArray(J.id),e.abrupt("return",[(0,S.iD$)(ee.size(),"int32")]);case 91:return te=L("tensorArrayId",t,n,r),(ne=r.getTensorArray(te.id)).clearAndClose(),e.abrupt("return",[ne.idTensor]);case 95:return re=L("tensorListId",t,n,r),ae=L("index",t,n,r),oe=L("tensor",t,n,r),(ie=r.getTensorList(re.id)).setItem(ae,oe),e.abrupt("return",[ie.idTensor]);case 101:return se=L("tensorListId",t,n,r),ue=L("index",t,n,r),ce=L("elementShape",t,n,r),le=L("elementDType",t,n,r),fe=r.getTensorList(se.id),e.abrupt("return",[fe.getItem(ue,ce,le)]);case 107:return pe=L("indices",t,n,r),de=L("tensor",t,n,r),he=L("elementShape",t,n,r),ve=L("numElements",t,n,r),me=Rt(de,pe,he,ve),r.addTensorList(me),e.abrupt("return",[me.idTensor]);case 114:return ge=L("elementShape",t,n,r),ye=L("elementDType",t,n,r),be="TensorListReserve"===t.op?"numElements":"maxNumElements",xe=L(be,t,n,r),we=At(ge,ye,xe),r.addTensorList(we),e.abrupt("return",[we.idTensor]);case 121:return ke=L("tensorListId",t,n,r),Se=L("indices",t,n,r),Ee=L("elementShape",t,n,r),Ce=L("elementDType",t,n,r),Ne=r.getTensorList(ke.id),e.abrupt("return",[Ne.gather(Se,Ce,Ee)]);case 127:return Te=L("tensorListId",t,n,r),Ie=L("elementShape",t,n,r),Oe=L("elementDType",t,n,r),_e=L("numElements",t,n,r),De=r.getTensorList(Te.id),e.abrupt("return",[De.stack(Ie,Oe,_e)]);case 133:return Ae=L("tensor",t,n,r),Re=L("elementShape",t,n,r),Pe=L("elementDType",t,n,r),Me=Dt(Ae,Re,Pe),r.addTensorList(Me),e.abrupt("return",[Me.idTensor]);case 139:return Fe=L("tensorListId",t,n,r),Le=r.getTensorList(Fe.id),je=L("dtype",t,n,r),Ze=L("elementShape",t,n,r),e.abrupt("return",[Le.concat(je,Ze)]);case 144:return ze=L("tensorListId",t,n,r),Be=L("tensor",t,n,r),(Ue=r.getTensorList(ze.id)).pushBack(Be),e.abrupt("return",[Ue.idTensor]);case 149:return We=L("tensorListId",t,n,r),Ve=L("elementShape",t,n,r),He=L("elementDType",t,n,r),Ge=r.getTensorList(We.id),e.abrupt("return",[Ge.popBack(Ve,He)]);case 154:return qe=L("tensor",t,n,r),Xe=L("elementShape",t,n,r),Ke=L("lengths",t,n,r),Ye=Pt(qe,Ke,Xe),r.addTensorList(Ye),e.abrupt("return",[Ye.idTensor]);case 160:return Qe=L("tensorListId",t,n,r),$e=r.getTensorList(Qe.id),e.abrupt("return",[(0,S.iD$)($e.size(),"int32")]);case 163:return Je=L("tensorListId",t,n,r),et=L("size",t,n,r),tt=r.getTensorList(Je.id),nt=tt.resize(et),r.addTensorList(nt),e.abrupt("return",[nt.idTensor]);case 169:throw TypeError("Node type ".concat(t.op," is not implemented"));case 170:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Ft=n(4918),Lt=n(3457),jt=n(6947),Zt=n(1732),zt=n(1147),Bt=n(8113),Ut=n(9204),Wt=n(5777),Vt=n(8811),Ht=n(5840),Gt=n(9185),qt=n(7580);function Xt(e,t,n){var r=L("fusedOps",e,t,n),a=(0,D.Z)(r,2),o=a[0],i=a[1],s="biasadd"===o,u=!s,c="prelu"===i,l="fusedbatchnorm"===o,f=L("numArgs",e,t,n);if(s){if(c&&2!==f)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!c&&s&&1!==f)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(l)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");var p=L("strides",e,t,n),d=U(e,t,n),h=L("dataFormat",e,t,n).toUpperCase(),v=L("dilations",e,t,n),m=L("args",e,t,n),g=(0,D.Z)(m,2),y=g[0],b=g[1];return u&&(b=y,y=void 0),{stride:p,pad:d,dataFormat:h,dilations:v,biasArg:y,preluArg:b,activationFunc:i,leakyreluAlpha:L("leakyreluAlpha",e,t,n)}}var Kt=n(8582),Yt=n(2453),Qt=n(4660),$t=n(4326),Jt=n(6100),en=n(773),tn=n(6407),nn=n(422),rn=n(4849),an=n(7742),on=n(7293),sn=n(5317),un=n(9118),cn=n(1867),ln=n(4438);function fn(e,t,n){return{boxes:L("boxes",e,t,n),scores:L("scores",e,t,n),maxOutputSize:L("maxOutputSize",e,t,n),iouThreshold:L("iouThreshold",e,t,n),scoreThreshold:L("scoreThreshold",e,t,n),softNmsSigma:L("softNmsSigma",e,t,n)}}var pn=function(){var e=(0,N.Z)(_().mark((function e(t,n,r){var a,o,i,s,u,c,l,f,p,d,h,v,m,g,y,b,x,w,k,S,E,C,N,T;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.op,e.next="NonMaxSuppressionV5"===e.t0?3:"NonMaxSuppressionV4"===e.t0?8:"NonMaxSuppressionV3"===e.t0||"NonMaxSuppressionV2"===e.t0?14:"Where"===e.t0?19:"ListDiff"===e.t0?26:27;break;case 3:return a=fn(t,n,r),o=a.boxes,i=a.scores,s=a.maxOutputSize,u=a.iouThreshold,c=a.scoreThreshold,l=a.softNmsSigma,e.next=6,sn.BHj.nonMaxSuppressionWithScoreAsync(o,i,s,u,c,l);case 6:return f=e.sent,e.abrupt("return",[f.selectedIndices,f.selectedScores]);case 8:return p=fn(t,n,r),d=p.boxes,h=p.scores,v=p.maxOutputSize,m=p.iouThreshold,g=p.scoreThreshold,y=L("padToMaxOutputSize",t,n,r),e.next=12,sn.BHj.nonMaxSuppressionPaddedAsync(d,h,v,m,g,y);case 12:return b=e.sent,e.abrupt("return",[b.selectedIndices,b.validOutputs]);case 14:return x=fn(t,n,r),w=x.boxes,k=x.scores,S=x.maxOutputSize,E=x.iouThreshold,C=x.scoreThreshold,e.next=17,sn.BHj.nonMaxSuppressionAsync(w,k,S,E,C);case 17:return e.t1=e.sent,e.abrupt("return",[e.t1]);case 19:return N=un.p(L("condition",t,n,r),"bool"),e.next=22,cn.i(N);case 22:return e.t2=e.sent,T=[e.t2],N.dispose(),e.abrupt("return",T);case 26:return e.abrupt("return",ln.O(L("x",t,n,r),L("y",t,n,r)));case 27:throw TypeError("Node type ".concat(t.op," is not implemented"));case 28:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),dn=n(4255),hn=n(9085),vn=n(6035),mn=n(4860),gn=n(2894),yn=n(7067),bn=function(){function e(t,n){(0,T.Z)(this,e),this.keyDType=t,this.valueDType=n,this.handle=(0,S.iD$)(0),this.tensorMap=new Map,(0,S.CnY)(this.handle)}return(0,I.Z)(e,[{key:"id",get:function(){return this.handle.id}},{key:"clearAndClose",value:function(){this.tensorMap.forEach((function(e){return e.dispose()})),this.tensorMap.clear(),this.handle.dispose()}},{key:"size",value:function(){return this.tensorMap.size}},{key:"tensorSize",value:function(){return yn.i(this.size(),"int32")}},{key:"import",value:function(){var e=(0,N.Z)(_().mark((function e(t,n){var r,a=this;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkKeyAndValueTensor(t,n),e.next=3,t.data();case 3:return r=e.sent,this.tensorMap.forEach((function(e){return e.dispose()})),this.tensorMap.clear(),e.abrupt("return",(0,S.lub)((function(){var e=(0,S.HHK)(n),t=r.length,o=e.length;S.D5U.assert(t===o,(function(){return"The number of elements doesn't match, keys has "+"".concat(t," elements, the values has ").concat(o," ")+"elements."}));for(var i=0;i<t;i++){var s=r[i],u=e[i];(0,S.CnY)(u),a.tensorMap.set(s,u)}return a.handle})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"find",value:function(){var e=(0,N.Z)(_().mark((function e(t,n){var r,a=this;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.checkKeyAndValueTensor(t,n),e.next=3,t.data();case 3:return r=e.sent,e.abrupt("return",(0,S.lub)((function(){for(var e=[],t=0;t<r.length;t++){var o=r[t],i=a.findWithDefault(o,n);e.push(i)}return(0,S.knu)(e)})));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"findWithDefault",value:function(e,t){var n=this.tensorMap.get(e);return null!=n?n:t}},{key:"checkKeyAndValueTensor",value:function(e,t){if(e.dtype!==this.keyDType)throw new Error("Expect key dtype ".concat(this.keyDType,", but got ")+"".concat(e.dtype));if(t.dtype!==this.valueDType)throw new Error("Expect value dtype ".concat(this.valueDType,", but got ")+"".concat(t.dtype))}}]),e}(),xn=function(){var e=(0,N.Z)(_().mark((function e(t,n,r,a){var o,i,s,u,c,l,f,p,d,h,v,m,g;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.op,e.next="HashTable"===e.t0||"HashTableV2"===e.t0?3:"LookupTableImport"===e.t0||"LookupTableImportV2"===e.t0?8:"LookupTableFind"===e.t0||"LookupTableFindV2"===e.t0?16:"LookupTableSize"===e.t0||"LookupTableSizeV2"===e.t0?24:27;break;case 3:return o=L("keyDType",t,n,r),i=L("valueDType",t,n,r),s=new bn(o,i),a.addHashTable(t.name,s),e.abrupt("return",[s.handle]);case 8:return u=L("tableHandle",t,n,r,a),c=L("keys",t,n,r),l=L("values",t,n,r),f=a.getHashTableById(u.id),e.next=14,f.import(c,l);case 14:return e.t1=e.sent,e.abrupt("return",[e.t1]);case 16:return p=L("tableHandle",t,n,r,a),d=L("keys",t,n,r),h=L("defaultValue",t,n,r),v=a.getHashTableById(p.id),e.next=22,v.find(d,h);case 22:return e.t2=e.sent,e.abrupt("return",[e.t2]);case 24:return m=L("tableHandle",t,n,r,a),g=a.getHashTableById(m.id),e.abrupt("return",[g.tensorSize()]);case 27:throw TypeError("Node type ".concat(t.op," is not implemented"));case 28:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),wn=n(3254),kn=n(5549),Sn=n(5014),En=n(8327),Cn=n(4920),Nn=n(2642),Tn=n(2177),In=n(875),On=n(5117),_n=n(329),Dn=n(7221),An=n(8060),Rn=n(1240),Pn=n(3313),Mn=n(3700),Fn=n(936),Ln=n(4910),jn=n(4561),Zn=n(9991),zn=n(6176),Bn=n(6568),Un=n(7891),Wn=n(227),Vn=n(4108),Hn=n(8543),Gn=n(9995),qn=n(5157),Xn=n(9457),Kn=n(8862),Yn=n(7531),Qn=n(7419),$n=n(4836),Jn=n(9498),er=n(4933),tr=n(9238),nr=n(9017),rr=n(3931),ar=n(5561),or=n(8306),ir=n(4566),sr=n(2343),ur=n(2588),cr=n(3522),lr=n(3357),fr=n(7635),pr=n(530),dr=n(4617),hr=n(774),vr=n(2975),mr=n(9719),gr=n(1970),yr=n(5696),br=n(6994),xr=n(1878),wr=n(9742),kr=n(238);function Sr(e,t,n,r){var a=function(e,t,n){switch(e.category){case"arithmetic":return S.lub((function(){return function(e,t,n){switch(e.op){case"BiasAdd":case"AddV2":case"Add":return[Ce.I(L("a",e,t,n),L("b",e,t,n))];case"AddN":return[Ne.Q(L("tensors",e,t,n))];case"FloorMod":case"Mod":return[Te.w(L("a",e,t,n),L("b",e,t,n))];case"Mul":return[Ie.d(L("a",e,t,n),L("b",e,t,n))];case"RealDiv":case"Div":return[Oe.h(L("a",e,t,n),L("b",e,t,n))];case"DivNoNan":return[_e.N(L("a",e,t,n),L("b",e,t,n))];case"FloorDiv":return[De.q(L("a",e,t,n),L("b",e,t,n))];case"Sub":return[Ae.l(L("a",e,t,n),L("b",e,t,n))];case"Minimum":return[Re.L(L("a",e,t,n),L("b",e,t,n))];case"Maximum":return[Pe.g(L("a",e,t,n),L("b",e,t,n))];case"Pow":return[Me.s(L("a",e,t,n),L("b",e,t,n))];case"SquaredDifference":return[Fe.$(L("a",e,t,n),L("b",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"basic_math":return S.lub((function(){return function(e,t,n){switch(e.op){case"Abs":case"ComplexAbs":return[Le.W(L("x",e,t,n))];case"Acos":return[je.K(L("x",e,t,n))];case"Acosh":return[Ze._(L("x",e,t,n))];case"Asin":return[ze.Z(L("x",e,t,n))];case"Asinh":return[Be.V(L("x",e,t,n))];case"Atan":return[Ue.z(L("x",e,t,n))];case"Atan2":return[We.f(L("x",e,t,n),L("y",e,t,n))];case"Atanh":return[Ve.C(L("x",e,t,n))];case"Ceil":return[He.m(L("x",e,t,n))];case"Complex":return[Ge.P(L("real",e,t,n),L("imag",e,t,n))];case"Cos":return[qe.m(L("x",e,t,n))];case"Cosh":return[Xe.f(L("x",e,t,n))];case"Elu":return[Ke.p(L("x",e,t,n))];case"Erf":return[Ye.q(L("x",e,t,n))];case"Exp":return[Qe.Q(L("x",e,t,n))];case"Expm1":return[$e.t(L("x",e,t,n))];case"Floor":return[Je.G(L("x",e,t,n))];case"Log":return[et.c(L("x",e,t,n))];case"Log1p":return[tt.K(L("x",e,t,n))];case"Imag":return[nt.a(L("x",e,t,n))];case"Neg":return[rt.W(L("x",e,t,n))];case"Reciprocal":return[at.M(L("x",e,t,n))];case"Real":return[ot.k(L("x",e,t,n))];case"Relu":return[it.U(L("x",e,t,n))];case"Round":return[st.N(L("x",e,t,n))];case"Selu":return[ut.U(L("x",e,t,n))];case"Sigmoid":return[ct.X(L("x",e,t,n))];case"Sin":return[lt.O(L("x",e,t,n))];case"Sign":return[ft.X(L("x",e,t,n))];case"Sinh":return[pt.R(L("x",e,t,n))];case"Softplus":return[dt.W(L("x",e,t,n))];case"Sqrt":return[ht._(L("x",e,t,n))];case"Square":return[vt.h(L("x",e,t,n))];case"Tanh":return[mt.A(L("x",e,t,n))];case"Tan":return[gt.O(L("x",e,t,n))];case"ClipByValue":return[yt.i(L("x",e,t,n),L("clipValueMin",e,t,n),L("clipValueMax",e,t,n))];case"Relu6":return[bt.b(L("x",e,t,n))];case"Rsqrt":return[xt.b(j(e.inputNames[0],t,n))];case"Prod":return[wt.W(L("x",e,t,n),L("axes",e,t,n))];case"LeakyRelu":return[kt.h(L("x",e,t,n),L("alpha",e,t,n))];case"Prelu":return[St.A(L("x",e,t,n),L("alpha",e,t,n))];case"IsNan":return[Et.i(j(e.inputNames[0],t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"control":return Mt(e,t,n);case"convolution":return S.lub((function(){return function(e,t,n){switch(e.op){case"Conv1D":var r=L("stride",e,t,n),a=L("pad",e,t,n),o=L("dataFormat",e,t,n).toUpperCase(),i=L("dilation",e,t,n);return[Ft.P(L("x",e,t,n),L("filter",e,t,n),r,a,o,i)];case"Conv2D":var s=L("strides",e,t,n),u=U(e,t,n),c=L("dataFormat",e,t,n).toUpperCase(),l=L("dilations",e,t,n);return[Lt.T(L("x",e,t,n),L("filter",e,t,n),[s[1],s[2]],u,c,[l[1],l[2]])];case"_FusedConv2D":var f=Xt(e,t,n),p=f.stride,d=f.pad,h=f.dataFormat,v=f.dilations,m=f.biasArg,g=f.preluArg,y=f.activationFunc,b=f.leakyreluAlpha;return[jt.conv2d({x:L("x",e,t,n),filter:L("filter",e,t,n),strides:[p[1],p[2]],pad:d,dataFormat:h,dilations:[v[1],v[2]],bias:m,activation:y,preluActivationWeights:g,leakyreluAlpha:b})];case"FusedDepthwiseConv2dNative":var x=Xt(e,t,n),w=x.stride,k=x.pad,S=x.dataFormat,E=x.dilations,C=x.biasArg,N=x.preluArg,T=x.activationFunc,I=x.leakyreluAlpha;return[jt.depthwiseConv2d({x:L("x",e,t,n),filter:L("filter",e,t,n),strides:[w[1],w[2]],pad:k,dataFormat:S,dilations:[E[1],E[2]],bias:C,activation:T,preluActivationWeights:N,leakyreluAlpha:I})];case"Conv2DBackpropInput":case"Conv2dTranspose":var O=L("outputShape",e,t,n),_=L("strides",e,t,n),D=U(e,t,n);return[Zt.b(L("x",e,t,n),L("filter",e,t,n),O,[_[1],_[2]],D)];case"DepthwiseConv2dNative":case"DepthwiseConv2d":var A=L("strides",e,t,n),R=U(e,t,n),P=L("dilations",e,t,n),M=L("dataFormat",e,t,n).toUpperCase();return[zt.B(L("input",e,t,n),L("filter",e,t,n),[A[1],A[2]],R,M,[P[1],P[2]])];case"Conv3D":var F=L("strides",e,t,n),j=L("pad",e,t,n),Z=L("dataFormat",e,t,n).toUpperCase(),z=L("dilations",e,t,n);return[Bt.p(L("x",e,t,n),L("filter",e,t,n),[F[1],F[2],F[3]],j,Z,[z[1],z[2],z[3]])];case"AvgPool":var B=L("strides",e,t,n),W=L("pad",e,t,n),V=L("kernelSize",e,t,n);return[Ut.w(L("x",e,t,n),[V[1],V[2]],[B[1],B[2]],W)];case"MaxPool":var H=L("strides",e,t,n),G=L("pad",e,t,n),q=L("kernelSize",e,t,n);return[Wt._(L("x",e,t,n),[q[1],q[2]],[H[1],H[2]],G)];case"MaxPoolWithArgmax":var X=L("strides",e,t,n),K=L("pad",e,t,n),Y=L("kernelSize",e,t,n),Q=L("includeBatchInIndex",e,t,n),$=Vt.I(L("x",e,t,n),[Y[1],Y[2]],[X[1],X[2]],K,Q);return[$.result,$.indexes];case"AvgPool3D":var J=L("strides",e,t,n),ee=L("pad",e,t,n),te=L("kernelSize",e,t,n);return[Ht.u(L("x",e,t,n),[te[1],te[2],te[3]],[J[1],J[2],J[3]],ee)];case"MaxPool3D":var ne=L("strides",e,t,n),re=L("pad",e,t,n),ae=L("kernelSize",e,t,n);return[Gt.Y(L("x",e,t,n),[ae[1],ae[2],ae[3]],[ne[1],ne[2],ne[3]],re)];case"Dilation2D":var oe=L("strides",e,t,n),ie=L("pad",e,t,n),se=L("dilations",e,t,n),ue=oe[1],ce=oe[2],le=se[1],fe=se[2];return[qt.W(L("x",e,t,n),L("filter",e,t,n),[ue,ce],ie,[le,fe],"NHWC")];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"creation":return S.lub((function(){return function(e,t,n){switch(e.op){case"Fill":var r=L("shape",e,t,n),a=L("dtype",e,t,n),o=L("value",e,t,n);return[Kt.h(r,o,a)];case"LinSpace":var i=L("start",e,t,n),s=L("stop",e,t,n),u=L("num",e,t,n);return[Yt.S(i,s,u)];case"Multinomial":var c=L("logits",e,t,n),l=L("numSamples",e,t,n),f=L("seed",e,t,n);return[Qt.S(c,l,f)];case"OneHot":var p=L("indices",e,t,n),d=L("depth",e,t,n),h=L("onValue",e,t,n),v=L("offValue",e,t,n);return[$t.l(p,d,h,v)];case"Ones":return[Jt.i(L("shape",e,t,n),L("dtype",e,t,n))];case"OnesLike":return[en.J(L("x",e,t,n))];case"RandomUniform":return[tn.L(L("shape",e,t,n),L("minval",e,t,n),L("maxval",e,t,n),L("dtype",e,t,n))];case"Range":var m=L("start",e,t,n),g=L("stop",e,t,n),y=L("step",e,t,n);return[nn.w(m,g,y,L("dtype",e,t,n))];case"TruncatedNormal":var b=L("shape",e,t,n),x=L("mean",e,t,n),w=L("stdDev",e,t,n),k=L("seed",e,t,n);return[rn.X(b,x,w,L("dtype",e,t,n),k)];case"Zeros":return[an.l(L("shape",e,t,n),L("dtype",e,t,n))];case"ZerosLike":return[on.P(L("x",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"dynamic":return pn(e,t,n);case"evaluation":return S.lub((function(){return function(e,t,n){switch(e.op){case"LowerBound":var r=L("sortedSequence",e,t,n),a=L("values",e,t,n);return[dn.e(r,a)];case"TopKV2":var o=L("x",e,t,n),i=L("k",e,t,n),s=L("sorted",e,t,n),u=hn.h(o,i,s);return[u.values,u.indices];case"UpperBound":var c=L("sortedSequence",e,t,n),l=L("values",e,t,n);return[vn.G(c,l)];case"Unique":var f=L("x",e,t,n),p=mn.T(f);return[p.values,p.indices];case"UniqueV2":var d=L("x",e,t,n),h=L("axis",e,t,n),v=mn.T(d,h);return[v.values,v.indices];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"image":return S.lub((function(){return function(e,t,n){switch(e.op){case"ResizeBilinear":var r=L("images",e,t,n),a=L("size",e,t,n),o=L("alignCorners",e,t,n),i=L("halfPixelCenters",e,t,n);return[sn.BHj.resizeBilinear(r,[a[0],a[1]],o,i)];case"ResizeNearestNeighbor":var s=L("images",e,t,n),u=L("size",e,t,n),c=L("alignCorners",e,t,n),l=L("halfPixelCenters",e,t,n);return[sn.BHj.resizeNearestNeighbor(s,[u[0],u[1]],c,l)];case"CropAndResize":var f=L("image",e,t,n),p=L("boxes",e,t,n),d=L("boxInd",e,t,n),h=L("cropSize",e,t,n),v=L("method",e,t,n),m=L("extrapolationValue",e,t,n);return[sn.BHj.cropAndResize(f,p,d,h,v,m)];case"ImageProjectiveTransformV3":var g=L("images",e,t,n),y=L("transforms",e,t,n),b=L("outputShape",e,t,n),x=L("fillValue",e,t,n),w=L("interpolation",e,t,n),k=L("fillMode",e,t,n);return[sn.BHj.transform(g,y,w.toLowerCase(),k.toLowerCase(),x,b)];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"graph":return S.lub((function(){return function(e,t,n){switch(e.op){case"Const":return t[e.name];case"PlaceholderWithDefault":var r=L("default",e,t,n);return[j(e.name,t,n)||r];case"Placeholder":return[j(e.name,t,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":case"Snapshot":return[W(L("x",e,t,n))];case"IdentityN":return L("x",e,t,n).map((function(e){return W(e)}));case"Shape":return[gn.R(L("x",e,t,n).shape,"int32")];case"ShapeN":return L("x",e,t,n).map((function(e){return gn.R(e.shape)}));case"Size":return[yn.i(L("x",e,t,n).size,"int32")];case"Rank":return[yn.i(L("x",e,t,n).rank,"int32")];case"NoOp":return[yn.i(1)];case"Print":var a=L("x",e,t,n),o=L("data",e,t,n),i=L("message",e,t,n),s=L("summarize",e,t,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(i);for(var u=0;u<o.length;u++)console.log(Array.prototype.slice.call(o[u].dataSync()).slice(0,s));return[a];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"logical":return S.lub((function(){return function(e,t,n){switch(e.op){case"Equal":return[wn.D(L("a",e,t,n),L("b",e,t,n))];case"NotEqual":return[kn.Q(L("a",e,t,n),L("b",e,t,n))];case"Greater":return[Sn.p(L("a",e,t,n),L("b",e,t,n))];case"GreaterEqual":return[En.b(L("a",e,t,n),L("b",e,t,n))];case"Less":return[Cn.d(L("a",e,t,n),L("b",e,t,n))];case"LessEqual":return[Nn.z(L("a",e,t,n),L("b",e,t,n))];case"LogicalAnd":return[Tn.H(L("a",e,t,n),L("b",e,t,n))];case"LogicalNot":return[In.h(L("a",e,t,n))];case"LogicalOr":return[On.K(L("a",e,t,n),L("b",e,t,n))];case"Select":case"SelectV2":return[_n.a(L("condition",e,t,n),L("a",e,t,n),L("b",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"matrices":return S.lub((function(){return function(e,t,n){switch(e.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[Dn.O(L("a",e,t,n),L("b",e,t,n),L("transposeA",e,t,n),L("transposeB",e,t,n))];case"Einsum":return[An.W.apply(k,[L("equation",e,t,n)].concat((0,A.Z)(L("tensors",e,t,n))))];case"Transpose":return[Rn.p(L("x",e,t,n),L("perm",e,t,n))];case"_FusedMatMul":var r=L("fusedOps",e,t,n),a=(0,D.Z)(r,2),o=a[0],i=a[1],s="biasadd"===o,u="prelu"===i,c=L("numArgs",e,t,n),l=L("leakyreluAlpha",e,t,n);if(s){if(u&&2!==c)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!u&&1!==c)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}var f=L("args",e,t,n),p=(0,D.Z)(f,2),d=p[0],h=p[1];return[jt.matMul({a:L("a",e,t,n),b:L("b",e,t,n),transposeA:L("transposeA",e,t,n),transposeB:L("transposeB",e,t,n),bias:d,activation:i,preluActivationWeights:h,leakyreluAlpha:l})];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"normalization":return S.lub((function(){return function(e,t,n){switch(e.op){case"EuclideanNorm":return[Pn.d(L("x",e,t,n),L("axis",e,t,n),L("keepDims",e,t,n))];case"FusedBatchNorm":case"FusedBatchNormV2":case"FusedBatchNormV3":return[Mn.t(L("x",e,t,n),L("mean",e,t,n),L("variance",e,t,n),L("offset",e,t,n),L("scale",e,t,n),L("epsilon",e,t,n))];case"LRN":return[Fn.G(L("x",e,t,n),L("radius",e,t,n),L("bias",e,t,n),L("alpha",e,t,n),L("beta",e,t,n))];case"Softmax":return[Ln.X(L("x",e,t,n))];case"LogSoftmax":return[jn.C(L("x",e,t,n))];case"SparseToDense":return[Zn.e(L("sparseIndices",e,t,n),L("outputShape",e,t,n),L("sparseValues",e,t,n),L("defaultValue",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"reduction":return S.lub((function(){return function(e,t,n){switch(e.op){case"Max":var r=L("axis",e,t,n),a=L("keepDims",e,t,n);return[zn.F(L("x",e,t,n),r,a)];case"Mean":var o=L("axis",e,t,n),i=L("keepDims",e,t,n);return[Bn.J(L("x",e,t,n),o,i)];case"Min":var s=L("axis",e,t,n),u=L("keepDims",e,t,n);return[Un.V(L("x",e,t,n),s,u)];case"Sum":var c=L("axis",e,t,n),l=L("keepDims",e,t,n);return[Wn.S(L("x",e,t,n),c,l)];case"All":var f=L("axis",e,t,n),p=L("keepDims",e,t,n);return[Vn.$(L("x",e,t,n),f,p)];case"Any":var d=L("axis",e,t,n),h=L("keepDims",e,t,n);return[Hn.Y(L("x",e,t,n),d,h)];case"ArgMax":var v=L("axis",e,t,n);return[Gn.N(L("x",e,t,n),v)];case"ArgMin":var m=L("axis",e,t,n);return[qn.v(L("x",e,t,n),m)];case"Prod":var g=L("axis",e,t,n),y=L("keepDims",e,t,n);return[wt.W(L("x",e,t,n),g,y)];case"Cumprod":var b=L("axis",e,t,n),x=L("exclusive",e,t,n),w=L("reverse",e,t,n);return[Xn.$(L("x",e,t,n),b,x,w)];case"Cumsum":var k=L("axis",e,t,n),S=L("exclusive",e,t,n),E=L("reverse",e,t,n);return[Kn.z(L("x",e,t,n),k,S,E)];case"Bincount":var C=L("x",e,t,n),N=L("weights",e,t,n),T=L("size",e,t,n);return[Yn.y(C,N,T)];case"DenseBincount":var I=L("x",e,t,n),O=L("weights",e,t,n),_=L("size",e,t,n),D=L("binaryOutput",e,t,n);return[Qn.p(I,O,_,D)];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"slice_join":return S.lub((function(){return function(e,t,n){switch(e.op){case"ConcatV2":case"Concat":var r=L("n",e,t,n),a=L("axis",e,t,n),o=L("tensors",e,t,n);return o=o.slice(0,r),[$n.z(o,a)];case"Gather":var i=L("x",e,t,n),s=L("indices",e,t,n);return[Jn.I(i,un.p(s,"int32"),0)];case"GatherV2":var u=L("axis",e,t,n),c=L("batchDims",e,t,n),l=L("x",e,t,n),f=L("indices",e,t,n);return[Jn.I(l,un.p(f,"int32"),u,c)];case"Reverse":for(var p=L("dims",e,t,n),d=[],h=0;h<p.length;h++)p[h]&&d.push(h);var v=L("x",e,t,n);return[er.G(v,d)];case"ReverseV2":var m=L("axis",e,t,n),g=L("x",e,t,n);return[er.G(g,m)];case"Slice":var y=L("begin",e,t,n),b=L("size",e,t,n);return[tr.t(L("x",e,t,n),y,b)];case"StridedSlice":var x=L("begin",e,t,n),w=L("end",e,t,n),k=L("strides",e,t,n),E=L("beginMask",e,t,n),C=L("endMask",e,t,n),N=L("ellipsisMask",e,t,n),T=L("newAxisMask",e,t,n),I=L("shrinkAxisMask",e,t,n),O=L("x",e,t,n);return[nr.N(O,x,w,k,E,C,N,T,I)];case"Pack":return(0,S.lub)((function(){var r=L("axis",e,t,n),a=L("tensors",e,t,n),o=a[0].shape,i=rr.L(a[0]).shape,s=a.map((function(e){var t=S.D5U.arraysEqual(e.shape,o);if(!t&&!S.D5U.arraysEqual(rr.L(e).shape,i))throw new Error("the input tensors shape does not match");return t?e:ar.X(e,o)}));return[or.k(s,r)]}));case"Unpack":var _=L("axis",e,t,n),D=L("tensor",e,t,n);return ir.H(D,_);case"Tile":var A=L("reps",e,t,n);return[sr.G(L("x",e,t,n),A)];case"Split":case"SplitV":var R=L("axis",e,t,n),P=L("numOrSizeSplits",e,t,n),M=L("x",e,t,n);return ur.V(M,P,R);case"ScatterNd":var F=L("indices",e,t,n),j=L("values",e,t,n),Z=L("shape",e,t,n);return[cr.s(F,j,Z)];case"GatherNd":var z=L("x",e,t,n),B=L("indices",e,t,n);return[lr.d(z,B)];case"SparseToDense":var U=L("sparseIndices",e,t,n),W=L("outputShape",e,t,n),V=L("sparseValues",e,t,n),H=L("defaultValue",e,t,n);return[Zn.e(U,V,W,V.dtype===H.dtype?H:un.p(H,V.dtype))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"sparse":return S.lub((function(){return function(e,t,n){switch(e.op){case"SparseFillEmptyRows":var r=sn.rVs.sparseFillEmptyRows(L("indices",e,t,n),L("values",e,t,n),L("denseShape",e,t,n),L("defaultValue",e,t,n));return[r.outputIndices,r.outputValues,r.emptyRowIndicator,r.reverseIndexMap];case"SparseReshape":var a=sn.rVs.sparseReshape(L("inputIndices",e,t,n),L("inputShape",e,t,n),L("newShape",e,t,n));return[a.outputIndices,a.outputShape];case"SparseSegmentMean":return[sn.rVs.sparseSegmentMean(L("data",e,t,n),L("indices",e,t,n),L("segmentIds",e,t,n))];case"SparseSegmentSum":return[sn.rVs.sparseSegmentSum(L("data",e,t,n),L("indices",e,t,n),L("segmentIds",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"spectral":return S.lub((function(){return function(e,t,n){switch(e.op){case"FFT":return[fr.k(L("x",e,t,n))];case"IFFT":return[pr.S(L("x",e,t,n))];case"RFFT":return[dr.Q(L("x",e,t,n))];case"IRFFT":return[hr.w(L("x",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"string":return S.lub((function(){return function(e,t,n){switch(e.op){case"StringNGrams":var r=sn.Z_8.stringNGrams(L("data",e,t,n),L("dataSplits",e,t,n),L("separator",e,t,n),L("nGramWidths",e,t,n),L("leftPad",e,t,n),L("rightPad",e,t,n),L("padWidth",e,t,n),L("preserveShortSequences",e,t,n));return[r.nGrams,r.nGramsSplits];case"StringSplit":var a=sn.Z_8.stringSplit(L("input",e,t,n),L("delimiter",e,t,n),L("skipEmpty",e,t,n));return[a.indices,a.values,a.shape];case"StringToHashBucketFast":return[sn.Z_8.stringToHashBucketFast(L("input",e,t,n),L("numBuckets",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"transformation":return S.lub((function(){return function(e,t,n){switch(e.op){case"Cast":return[un.p(L("x",e,t,n),L("dtype",e,t,n))];case"ExpandDims":var r=L("axis",e,t,n);return[vr.d(L("x",e,t,n),r)];case"Squeeze":var a=L("axis",e,t,n);return[rr.L(L("x",e,t,n),a)];case"Reshape":return[ar.X(L("x",e,t,n),L("shape",e,t,n))];case"MirrorPad":return[mr.V(L("x",e,t,n),L("padding",e,t,n),L("mode",e,t,n))];case"PadV2":case"Pad":return[gr.v(L("x",e,t,n),L("padding",e,t,n),L("constantValue",e,t,n))];case"SpaceToBatchND":var o=L("blockShape",e,t,n),i=L("paddings",e,t,n);return[yr.f(L("x",e,t,n),o,i)];case"BatchToSpaceND":var s=L("blockShape",e,t,n),u=L("crops",e,t,n);return[br.E(L("x",e,t,n),s,u)];case"DepthToSpace":var c=L("blockSize",e,t,n),l=L("dataFormat",e,t,n).toUpperCase();return[xr.n(L("x",e,t,n),c,l)];case"BroadcastTo":return[wr.U(L("x",e,t,n),L("shape",e,t,n))];case"BroadcastArgs":return[kr.X(L("s0",e,t,n),L("s1",e,t,n))];default:throw TypeError("Node type ".concat(e.op," is not implemented"))}}(e,t,n)}));case"hash_table":return xn(e,t,n,r);case"custom":var a=M(e.op);if(a&&a.customExecutor)return a.customExecutor(new Ee(e,t,n));throw TypeError("Custom op ".concat(e.op," is not registered."));default:throw TypeError("Unknown op '".concat(e.op,"'. File an issue at ")+"https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()")}}(e,t,n);return S.D5U.isPromise(a)?a.then((function(e){return[].concat(e)})):[].concat(a)}var Er=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};(0,T.Z)(this,e),this.weightMap=t,this.tensorArrayMap=n,this.tensorListMap=r,this.functionMap=a,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}return(0,I.Z)(e,[{key:"newFrame",value:function(e,t){return{id:e,frameName:t,iterationId:0}}},{key:"currentContext",get:function(){return this.contexts},set:function(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}},{key:"currentContextId",get:function(){return this._currentContextIds[0]}},{key:"currentContextIds",get:function(){return this._currentContextIds}},{key:"generateCurrentContextIds",value:function(){for(var e=[],t=0;t<this.contexts.length-1;t++){var n=this.contexts.slice(0,this.contexts.length-t);e.push(this.contextIdforContexts(n))}e.push(""),this._currentContextIds=e}},{key:"contextIdforContexts",value:function(e){return e?e.map((function(e){return 0===e.id&&0===e.iterationId?"":"".concat(e.frameName,"-").concat(e.iterationId)})).join("/"):""}},{key:"enterFrame",value:function(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}},{key:"exitFrame",value:function(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()}},{key:"nextIteration",value:function(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");this.contexts=this.contexts.slice(),this.lastId++;var e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}},{key:"getWeight",value:function(e){return this.weightMap[e]}},{key:"addTensorArray",value:function(e){this.tensorArrayMap[e.id]=e}},{key:"getTensorArray",value:function(e){return this.tensorArrayMap[e]}},{key:"addTensorList",value:function(e){this.tensorListMap[e.id]=e}},{key:"getTensorList",value:function(e){return this.tensorListMap[e]}},{key:"dispose",value:function(e){for(var t in this.tensorArrayMap)this.tensorArrayMap[t].clearAndClose(e);for(var n in this.tensorListMap)this.tensorListMap[n].clearAndClose(e)}}]),e}();function Cr(e,t,n,r){var a=new Set,o=[],i=null,s=null,u=new Set,c=Object.keys(e).map((function(e){return B(e)[0]})),l=[];null!=r&&(l=r.map((function(e){return B(e.name)[0]})));for(var f=(0,A.Z)(t);f.length>0;){var p=f.pop();(Or(p)||_r(p)||Dr(p))&&null==i&&(s=(i=p).children.map((function(e){return e.name})).filter((function(e){return a.has(e)}))),a.add(p.name),null==n[p.name]&&(-1===c.indexOf(p.name)&&-1===l.indexOf(p.name)&&(0!==p.inputs.length?p.inputs.forEach((function(e){u.has(e.name)||(u.add(e.name),f.push(e))})):o.push(p.name)))}return{inputs:e,outputs:t,usedNodes:a,missingInputs:o,dynamicNode:i,syncInputs:s}}var Nr=["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"],Tr=["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"],Ir=["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"];function Or(e){return Nr.indexOf(e.op)>=0}function _r(e){return Tr.indexOf(e.op)>=0}function Dr(e){return Ir.indexOf(e.op)>=0}var Ar=function(){function e(t,n){var r=this;(0,T.Z)(this,e),this.graph=t,this.parent=n,this.compiledMap=new Map,this._weightMap={},this.SEPERATOR=",",this._functions={},this._functionExecutorMap={},this.intermediateTensors={},this.keepTensorForDebug=!1,this._outputs=t.outputs,this._inputs=t.inputs,this._initNodes=t.initNodes,this._signature=t.signature,this._functions=t.functions,null!=t.functions&&Object.keys(t.functions).forEach((function(n){r._functionExecutorMap[n]=new e(t.functions[n],r)}))}return(0,I.Z)(e,[{key:"weightIds",get:function(){return this.parent?this.parent.weightIds:this._weightIds}},{key:"functionExecutorMap",get:function(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}},{key:"weightMap",get:function(){return this.parent?this.parent.weightMap:this._weightMap},set:function(e){var t,n=Object.keys(e).map((function(t){return e[t].map((function(e){return e.id}))}));this._weightIds=(t=[]).concat.apply(t,(0,A.Z)(n)),this._weightMap=e}},{key:"resourceManager",set:function(e){this._resourceManager=e}},{key:"inputs",get:function(){return this._inputs.map((function(e){return{name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}}))}},{key:"outputs",get:function(){return this._outputs.map((function(e){return{name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}}))}},{key:"inputNodes",get:function(){return this._inputs.map((function(e){return e.signatureKey||e.name}))}},{key:"outputNodes",get:function(){return this._outputs.map((function(e){var t=e.signatureKey||e.name;return e.defaultOutput?"".concat(t,":").concat(e.defaultOutput):t}))}},{key:"functions",get:function(){var e=this;return Object.keys(this._functions).reduce((function(t,n){return t[n]=e._functions[n].signature,t}),{})}},{key:"getCompilationKey",value:function(e,t){var n=e.map((function(e){return e.name})).sort(),r=t.map((function(e){return e.name})).sort();return n.join(this.SEPERATOR)+"--"+r.join(this.SEPERATOR)}},{key:"compile",value:function(e,t){var n=Cr(e,t,this.weightMap,this._initNodes),r=n.missingInputs,a=n.dynamicNode,o=n.syncInputs;if(null!=a)throw new Error("This execution contains the node '".concat(a.name,"', which has ")+"the dynamic op '".concat(a.op,"'. Please use ")+"model.executeAsync() instead. Alternatively, to avoid the "+"dynamic ops, specify the inputs [".concat(o,"]"));if(r.length>0){var i=t.map((function(e){return e.name})),s=Object.keys(e);throw new Error("Cannot compute the outputs [".concat(i,"] from the provided inputs ")+"[".concat(s,"]. Missing the following inputs: [").concat(r,"]"))}return function(e,t,n){var r=n.usedNodes,a=n.inputs,o=[],i=Object.keys(a).map((function(e){return B(e)[0]})).map((function(t){return e.nodes[t]})),s=e.initNodes;i.forEach((function(e){r.has(e.name)&&o.push(e)})),e.weights.forEach((function(e){r.has(e.name)&&o.push(e)})),null!=s&&s.forEach((function(e){r.has(e.name)&&o.push(e)}));for(var u=new Set,c=[];o.length>0;){var l=o.pop();u.add(l.name),t[l.name]||c.push(l),l.children.forEach((function(e){!u.has(e.name)&&r.has(e.name)&&e.inputs.every((function(e){return u.has(e.name)}))&&o.push(e)}))}return c}(this.graph,this.weightMap,n)}},{key:"execute",value:function(e,t){var n=this;e=this.mapInputs(e);var r=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t);var a=r.map((function(e){return n.graph.nodes[B(e)[0]]})),o=t.map((function(e){return B(e)[0]})),i=o.map((function(e){return n.graph.nodes[e]}));this.resetIntermediateTensors(),0===i.length&&(i=this._outputs);var s=this.getCompilationKey(a,i),u=this.compiledMap.get(s);null==u&&(u=this.compile(e,i),this.compiledMap.set(s,u));var c={},l={};return(0,S.lub)((function(){var r=new Er(n.weightMap,c,l,n.functionExecutorMap),a=Object.assign({},n.weightMap);Object.keys(e).forEach((function(t){var n=B(t),r=(0,D.Z)(n,2),o=r[0],i=[];i[r[1]]=e[t],a[o]=i}));for(var i=n.getFrozenTensorIds(a),s={},f=0;f<u.length;f++){var p=u[f];if(!a[p.name]){var d=Sr(p,a,r,n._resourceManager);if(S.D5U.isPromise(d))throw new Error("The execution of the op '".concat(p.op,"' returned a promise. ")+"Please use model.executeAsync() instead.");a[p.name]=d,n.checkTensorForDisposal(p.name,p,a,r,i,o,s)}}return null==n.parent&&r.dispose(i),t.map((function(e){return j(e,a,r)}))}))}},{key:"getFrozenTensorIds",value:function(e){var t=[].concat.apply([],Object.keys(e).map((function(t){return e[t]})).map((function(e){return e.map((function(e){return e.id}))})));return new Set(t)}},{key:"checkTensorForDisposal",value:function(e,t,n,r,a,o,i){var s=this;"control"!==t.category&&-1===o.indexOf(e)&&(n[e].forEach((function(e){null!=e&&(i[e.id]=(i[e.id]||0)+t.children.length)})),t.inputs.forEach((function(e){if("control"!==e.category){var o=function(e,t,n){return t[z(e,n.currentContextId)]}(e.name,n,r);null!=o&&o.forEach((function(e){if(e&&!e.kept&&!a.has(e.id)){var n=i[e.id];if(1===n){if(s.keepTensorForDebug){var o=Z(t.name,r),u=(0,D.Z)(o,2),c=u[0],l=u[1];s.intermediateTensors[c]||(s.intermediateTensors[c]=[]),s.intermediateTensors[c][l]=e}else e.dispose();delete i[e.id]}else null!=n&&i[e.id]--}}))}})))}},{key:"executeAsync",value:function(){var e=(0,N.Z)(_().mark((function e(t,n){return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._executeAsync(t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"disposeIntermediateTensors",value:function(){var e=this;this.intermediateTensors&&(Object.keys(this.intermediateTensors).forEach((function(t){return e.intermediateTensors[t].forEach((function(e){return e.dispose()}))})),this.disposeTensorsMap())}},{key:"disposeTensorsMap",value:function(){var e=this;this.tensorsMap&&Object.keys(this.tensorsMap).forEach((function(t){e.tensorsMap[t].forEach((function(t){!t||t.kept||t.isDisposed||e.keepIds.has(t.id)||t.dispose()}))}))}},{key:"getIntermediateTensors",value:function(){return this.tensorsMap}},{key:"resetIntermediateTensors",value:function(){for(var e in this.intermediateTensors)this.intermediateTensors[e].forEach((function(e){return e.dispose()})),delete this.intermediateTensors[e]}},{key:"_executeAsync",value:function(){var e=(0,N.Z)(_().mark((function e(t,n){var r,a,o,i,s,u,c,l=this,f=arguments;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=f.length>2&&void 0!==f[2]&&f[2],a=f.length>3&&void 0!==f[3]?f[3]:{},o=f.length>4&&void 0!==f[4]?f[4]:{},r||(t=this.mapInputs(t),this.checkInputs(t),this.checkInputShapeAndType(t),n=this.mapOutputs(n),this.checkOutputs(n));try{this.keepTensorForDebug=(0,S.OBj)().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(p){console.warn(p.message)}return this.resetIntermediateTensors(),i=new Er(this.weightMap,a,o,this.functionExecutorMap),e.next=9,this.executeWithControlFlow(t,i,n,r);case 9:return this.tensorsMap=e.sent,s=n.map((function(e){return j(e,l.tensorsMap,i)})),u=s.map((function(e){return e.id})),c=Object.keys(t).map((function(e){return t[e].id})),this.keepIds=new Set([].concat((0,A.Z)(u),(0,A.Z)(c),(0,A.Z)(this.weightIds))),this.keepTensorForDebug||this.disposeTensorsMap(),null==this.parent&&i.dispose(this.keepIds),e.abrupt("return",s);case 17:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"executeFunctionAsync",value:function(){var e=(0,N.Z)(_().mark((function e(t,n,r){var a,o=this;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.reduce((function(e,t,n){return e[o.inputs[n].name]=t,e}),{}),e.abrupt("return",this._executeAsync(a,this.outputNodes,!0,n,r));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"executeWithControlFlow",value:function(){var e=(0,N.Z)(_().mark((function e(t,n,r,a){var o,i,s,u,c,l,f,p,d,h,v,m,g,y,b,x,w,k=this;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=Object.keys(t),i=o.map((function(e){return k.graph.nodes[B(e)[0]]})),s=r.map((function(e){return B(e)[0]})),0===(u=s.map((function(e){return k.graph.nodes[e]}))).length&&(u=this._outputs),c=Cr(t,u,this.weightMap,this._initNodes),l=c.usedNodes,f=c.missingInputs,p=c.dynamicNode,d=c.syncInputs,h=[].concat((0,A.Z)(i),(0,A.Z)(this.graph.weights),(0,A.Z)(this._initNodes||[])).map((function(e){return{node:e,contexts:n.currentContext}})),v=Object.assign({},this.weightMap),Object.keys(t).forEach((function(e){var n=B(e),r=(0,D.Z)(n,2),a=r[0],o=[];o[r[1]]=t[e],v[a]=o})),m={},g=this.getFrozenTensorIds(v),y={};case 12:if(!(h.length>0)){e.next=18;break}return b=this.processStack(i,h,n,v,y,g,s,m,l),e.next=16,Promise.all(b);case 16:e.next=12;break;case 18:if(null!=p||a||console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead."),!((x=u.filter((function(e){return!Or(e)&&!j(e.name,v,n)})).map((function(e){return e.name}))).length>0)){e.next=24;break}throw w="",null!=p&&(w="Alternatively, to avoid the dynamic ops, use model.execute() "+"and specify the inputs [".concat(d,"]")),new Error("Cannot compute the outputs [".concat(x,"] from the provided ")+"inputs [".concat(o,"]. Consider providing the following inputs: ")+"[".concat(f,"]. ").concat(w));case 24:return e.abrupt("return",v);case 25:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"processStack",value:function(e,t,n,r,a,o,i,s,u){for(var c=this,l=[],f=function(){var e=t.pop();n.currentContext=e.contexts;var f="";if("Enter"===e.node.op&&L("isConstant",e.node,r,n)){var p=Z(e.node.name,n),d=(0,D.Z)(p,1);f=d[0]}if(null==r[e.node.name]){var h=Sr(e.node,r,n,c._resourceManager);if(!f){var v=Z(e.node.name,n),m=(0,D.Z)(v,1);f=m[0]}var g=n.currentContext;S.D5U.isPromise(h)?l.push(h.then((function(l){return r[f]=l,n.currentContext=g,c.checkTensorForDisposal(f,e.node,r,n,o,i,s),c.processChildNodes(e.node,t,n,r,a,u),l}))):(r[f]=h,c.checkTensorForDisposal(f,e.node,r,n,o,i,s),c.processChildNodes(e.node,t,n,r,a,u))}else c.processChildNodes(e.node,t,n,r,a,u)};t.length>0;)f();return l}},{key:"processChildNodes",value:function(e,t,n,r,a,o){e.children.forEach((function(e){var i=Z(e.name,n),s=(0,D.Z)(i,1)[0];!a[s]&&o.has(e.name)&&("Merge"===e.op?e.inputNames.some((function(e){return!!j(e,r,n)}))&&(a[s]=!0,t.push({contexts:n.currentContext,node:e})):e.inputNames.every((function(e){return!!j(e,r,n)}))&&(a[s]=!0,t.push({contexts:n.currentContext,node:e})))}))}},{key:"dispose",value:function(){var e=this;Object.keys(this.weightMap).forEach((function(t){return e.weightMap[t].forEach((function(e){return e.dispose()}))}))}},{key:"checkInputShapeAndType",value:function(e){var t=this;Object.keys(e).forEach((function(n){var r=e[n],a=B(n),o=(0,D.Z)(a,1)[0],i=t.graph.nodes[o];if(i.attrParams.shape&&i.attrParams.shape.value){var s=i.attrParams.shape.value,u=s.length===r.shape.length&&r.shape.every((function(e,t){return-1===s[t]||s[t]===e}));S.D5U.assert(u,(function(){return"The shape of dict['".concat(i.name,"'] provided in ")+"model.execute(dict) must be [".concat(s,"], but was ")+"[".concat(r.shape,"]")}))}i.attrParams.dtype&&i.attrParams.dtype.value&&S.D5U.assert(r.dtype===i.attrParams.dtype.value,(function(){return"The dtype of dict['".concat(i.name,"'] provided in ")+"model.execute(dict) must be "+"".concat(i.attrParams.dtype.value,", but was ").concat(r.dtype)}))}))}},{key:"mapInputs",value:function(e){var t={};for(var n in e){if(null!=this._signature&&null!=this._signature.inputs&&null!=this._signature.inputs[n])t[this._signature.inputs[n].name]=e[n];else t[n]=e[n]}return t}},{key:"checkInputs",value:function(e){var t=this,n=Object.keys(e).filter((function(e){var n=B(e),r=(0,D.Z)(n,1)[0];return null==t.graph.nodes[r]}));if(n.length>0)throw new Error("The dict provided in model.execute(dict) has "+"keys: [".concat(n,"] that are not part of graph"))}},{key:"mapOutputs",value:function(e){var t=this;return e.map((function(e){return null!=t._signature&&null!=t._signature.outputs&&null!=t._signature.outputs[e]?t._signature.outputs[e].name:e}),{})}},{key:"checkOutputs",value:function(e){var t=this;e.forEach((function(e){var n=B(e),r=(0,D.Z)(n,1)[0];if(!t.graph.nodes[r])throw new Error("The output '".concat(e,"' is not found in the graph"))}))}}]),e}(),Rr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,T.Z)(this,e),this.hashTableNameToHandle=t,this.hashTableMap=n}return(0,I.Z)(e,[{key:"addHashTable",value:function(e,t){this.hashTableNameToHandle[e]=t.handle,this.hashTableMap[t.id]=t}},{key:"getHashTableHandleByName",value:function(e){return this.hashTableNameToHandle[e]}},{key:"getHashTableById",value:function(e){return this.hashTableMap[e]}},{key:"dispose",value:function(){for(var e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(var t in this.hashTableNameToHandle)this.hashTableNameToHandle[t].dispose(),delete this.hashTableNameToHandle[t]}}]),e}(),Pr="?tfjs-format=file",Mr="model.json",Fr=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,T.Z)(this,e),this.modelUrl=t,this.loadOptions=n,this.version="n/a",null==n&&(this.loadOptions={}),this.resourceManager=new Rr}return(0,I.Z)(e,[{key:"modelVersion",get:function(){return this.version}},{key:"inputNodes",get:function(){return this.executor.inputNodes}},{key:"outputNodes",get:function(){return this.executor.outputNodes}},{key:"inputs",get:function(){return this.executor.inputs}},{key:"outputs",get:function(){return this.executor.outputs}},{key:"weights",get:function(){return this.executor.weightMap}},{key:"metadata",get:function(){return this.artifacts.userDefinedMetadata}},{key:"modelSignature",get:function(){return this.signature}},{key:"findIOHandler",value:function(){var e=this.modelUrl;if(null!=e.load)this.handler=e;else if(null!=this.loadOptions.requestInit)this.handler=S.io.browserHTTPRequest(e,this.loadOptions);else{var t=S.io.getLoadHandlers(e,this.loadOptions);if(0===t.length)t.push(S.io.browserHTTPRequest(e,this.loadOptions));else if(t.length>1)throw new Error("Found more than one (".concat(t.length,") load handlers for ")+"URL '".concat([e],"'"));this.handler=t[0]}}},{key:"load",value:function(){var e=(0,N.Z)(_().mark((function e(){var t;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.findIOHandler(),null!=this.handler.load){e.next=3;break}throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");case 3:return e.next=5,this.handler.load();case 5:return t=e.sent,e.abrupt("return",this.loadSync(t));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadSync",value:function(e){this.artifacts=e;var t,n=this.artifacts.modelTopology;t=null!=this.artifacts.userDefinedMetadata&&null!=this.artifacts.userDefinedMetadata.signature?this.artifacts.userDefinedMetadata.signature:this.artifacts.signature,this.signature=t,this.version="".concat(n.versions.producer,".").concat(n.versions.minConsumer);var r=S.io.decodeWeights(this.artifacts.weightData,this.artifacts.weightSpecs);if(this.executor=new Ar(ce.Instance.transformGraph(n,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(r),this.executor.resourceManager=this.resourceManager,null!=e.modelInitializer&&null!=e.modelInitializer.node){var a=ce.Instance.transformGraph(e.modelInitializer);this.initializer=new Ar(a),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializer.executeAsync({},[])}return!0}},{key:"save",value:function(){var e=(0,N.Z)(_().mark((function e(t,n){var r;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=9;break}if(0!==(r=S.io.getSaveHandlers(t)).length){e.next=6;break}throw new Error("Cannot find any save handlers for URL '".concat(t,"'"));case 6:if(!(r.length>1)){e.next=8;break}throw new Error("Found more than one (".concat(r.length,") save handlers for ")+"URL '".concat(t,"'"));case 8:t=r[0];case 9:if(null!=t.save){e.next=11;break}throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");case 11:return e.abrupt("return",t.save(this.artifacts));case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"predict",value:function(e,t){return this.execute(e,this.outputNodes)}},{key:"normalizeInputs",value:function(e){if(!(e instanceof S.esB)&&!Array.isArray(e))return e;if((e=Array.isArray(e)?e:[e]).length!==this.inputNodes.length)throw new Error("Input tensor count mismatch,"+"the graph model has ".concat(this.inputNodes.length," placeholders, ")+"while there are ".concat(e.length," input tensors."));return this.inputNodes.reduce((function(t,n,r){return t[n]=e[r],t}),{})}},{key:"normalizeOutputs",value:function(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}},{key:"execute",value:function(e,t){e=this.normalizeInputs(e),t=this.normalizeOutputs(t);var n=this.executor.execute(e,t);return n.length>1?n:n[0]}},{key:"executeAsync",value:function(){var e=(0,N.Z)(_().mark((function e(t,n){var r;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.normalizeInputs(t),n=this.normalizeOutputs(n),e.next=4,this.executor.executeAsync(t,n);case 4:return r=e.sent,e.abrupt("return",r.length>1?r:r[0]);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getIntermediateTensors",value:function(){return this.executor.getIntermediateTensors()}},{key:"disposeIntermediateTensors",value:function(){this.executor.disposeIntermediateTensors()}},{key:"convertTensorMapToTensorsMap",value:function(e){return Object.keys(e).reduce((function(t,n){return t[n]=[e[n]],t}),{})}},{key:"dispose",value:function(){this.executor.dispose(),this.initializer&&this.initializer.dispose(),this.resourceManager.dispose()}}]),e}();function Lr(e){return jr.apply(this,arguments)}function jr(){return jr=(0,N.Z)(_().mark((function e(t){var n,r,a=arguments;return _().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]?a[1]:{},null!=t){e.next=3;break}throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");case 3:return null==n&&(n={}),n.fromTFHub&&null==t.load&&(t.endsWith("/")||(t+="/"),t="".concat(t).concat(Mr).concat(Pr)),r=new Fr(t,n),e.next=8,r.load();case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)}))),jr.apply(this,arguments)}var Zr="3.17.0"},4679:function(e,t,n){"use strict";n.d(t,{JL:function(){return o},Zu:function(){return i}});var r=n(5671),a=n(3144),o=function(){function e(t,n){(0,r.Z)(this,e),this.backend=t,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}return(0,a.Z)(e,[{key:"get",value:function(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}},{key:"set",value:function(e,t){this.dataIdsCount++,this.data.set(e,t)}},{key:"has",value:function(e){return this.data.has(e)}},{key:"delete",value:function(e){return this.dataIdsCount--,this.data.delete(e)}},{key:"numDataIds",value:function(){return this.dataIdsCount}}]),e}(),i=function(){function e(){(0,r.Z)(this,e)}return(0,a.Z)(e,[{key:"refCount",value:function(e){return s("refCount")}},{key:"incRef",value:function(e){return s("incRef")}},{key:"timerAvailable",value:function(){return!0}},{key:"time",value:function(e){return s("time")}},{key:"read",value:function(e){return s("read")}},{key:"readSync",value:function(e){return s("readSync")}},{key:"readToGPU",value:function(e,t){return s("readToGPU")}},{key:"numDataIds",value:function(){return s("numDataIds")}},{key:"disposeData",value:function(e,t){return s("disposeData")}},{key:"write",value:function(e,t,n){return s("write")}},{key:"move",value:function(e,t,n,r,a){return s("move")}},{key:"memory",value:function(){return s("memory")}},{key:"floatPrecision",value:function(){return s("floatPrecision")}},{key:"epsilon",value:function(){return 32===this.floatPrecision()?1e-7:1e-4}},{key:"dispose",value:function(){return s("dispose")}}]),e}();function s(e){throw new Error("'".concat(e,"' not yet implemented or not found in the registry. ")+"This kernel may not be supported by the tfjs backend you have chosen")}},745:function(e,t,n){"use strict";n.d(t,{GP:function(){return i},qP:function(){return s},pA:function(){return u}});var r=n(3433);function a(e,t,n){var r=function(e,t,n){return function(e,t,n){var r=0,a=e.length,o=0,i=!1;for(;r<a;){var s=n(t,e[o=r+(a-r>>>1)]);s>0?r=o+1:(a=o,i=!s)}return i?r:-r-1}(e,t,n||o)}(e,t,n),a=r<0?-(r+1):r;e.splice(a,0,t)}function o(e,t){return e>t?1:e<t?-1:0}function i(e,t,n,r,a){return c(e,t,n,r,a,0)}function s(e,t,n,r,a,o){return c(e,t,n,r,a,0,!1,o,!0)}function u(e,t,n,r,a,o){return c(e,t,n,r,a,o,!0)}function c(e,t,n,o,i,s){for(var u=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7&&void 0!==arguments[7]&&arguments[7],d=arguments.length>8&&void 0!==arguments[8]&&arguments[8],h=[],v=0;v<t.length;v++)t[v]>i&&h.push({score:t[v],boxIndex:v,suppressBeginIndex:0});h.sort(p);for(var m=s>0?-.5/s:0,g=[],y=[];g.length<n&&h.length>0;){var b=h.pop(),x=b.score,w=b.boxIndex,k=b.suppressBeginIndex;if(x<i)break;for(var S=!1,E=g.length-1;E>=k;--E){var C=l(e,w,g[E]);if(C>=o){S=!0;break}if(b.score=b.score*f(o,m,C),b.score<=i)break}b.suppressBeginIndex=g.length,S||(b.score===x?(g.push(w),y.push(b.score)):b.score>i&&a(h,b,p))}var N=g.length,T=n-N;c&&T>0&&(g.push.apply(g,(0,r.Z)(new Array(T).fill(0))),y.push.apply(y,(0,r.Z)(new Array(T).fill(0))));var I={selectedIndices:g};return u&&(I.selectedScores=y),d&&(I.validOutputs=N),I}function l(e,t,n){var r=e.subarray(4*t,4*t+4),a=e.subarray(4*n,4*n+4),o=Math.min(r[0],r[2]),i=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),u=Math.max(r[1],r[3]),c=Math.min(a[0],a[2]),l=Math.min(a[1],a[3]),f=Math.max(a[0],a[2]),p=Math.max(a[1],a[3]),d=(s-o)*(u-i),h=(f-c)*(p-l);if(d<=0||h<=0)return 0;var v=Math.max(o,c),m=Math.max(i,l),g=Math.min(s,f),y=Math.min(u,p),b=Math.max(g-v,0)*Math.max(y-m,0);return b/(d+h-b)}function f(e,t,n){var r=Math.exp(t*n*n);return n<=e?r:0}function p(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}},4189:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(7039);function a(e,t){for(var n=[],a=0;a<t.length;a++)t[a]&&n.push(a);for(var o=(0,r.f)(e,"int32"),i=(0,r.f)([n.length,e.length],"int32"),s=0;s<n.length;s++){var u=o.indexToLoc(n[s]),c=s*e.length;i.values.set(u,c)}return i.toTensor()}},318:function(e,t,n){"use strict";n.d(t,{BV:function(){return O},wv:function(){return I}});var r=n(7762),a=n(3433),o=n(5861),i=n(5671),s=n(3144),u=n(7757),c=n.n(u),l=n(4679),f=n(5050),p=n(6581),d=n(2145),h=n(8864),v=n(7269),m=n(115),g=n(6147),y=function(){function e(t,n){(0,i.Z)(this,e),this.backendTimer=t,this.logger=n,null==n&&(this.logger=new b)}return(0,s.Z)(e,[{key:"profileKernel",value:function(e,t,n){var a,o,i=function(){a=n()},s=m.now();if(this.backendTimer.timerAvailable())o=this.backendTimer.time(i);else{i();var u,c=(0,r.Z)(a);try{for(c.s();!(u=c.n()).done;){u.value.dataSync()}}catch(d){c.e(d)}finally{c.f()}o=Promise.resolve({kernelMs:m.now()-s})}if((0,f.OB)().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(var l=function(t){var n=a[t];n.data().then((function(t){!function(e,t,n){if("float32"!==t)return!1;for(var r=0;r<e.length;r++){var a=e[r];if(isNaN(a)||!isFinite(a))return console.warn("Found ".concat(a," in the result of '").concat(n,"'")),!0}}(t,n.dtype,e)}))},p=0;p<a.length;p++)l(p);return{kernelName:e,outputs:a,inputs:t,timeMs:o.then((function(e){return e.kernelMs})),extraInfo:o.then((function(e){return null!=e.getExtraProfileInfo?e.getExtraProfileInfo():""}))}}},{key:"logKernelProfile",value:function(e){var t=this,n=e.kernelName,r=e.outputs,a=e.timeMs,o=e.inputs,i=e.extraInfo;r.forEach((function(e){Promise.all([e.data(),a,i]).then((function(r){t.logger.logKernelProfile(n,e,r[0],r[1],o,r[2])}))}))}}]),e}();var b=function(){function e(){(0,i.Z)(this,e)}return(0,s.Z)(e,[{key:"logKernelProfile",value:function(e,t,n,r,a,o){var i="number"===typeof r?g.oj("".concat(r,"ms"),9):r.error,s=g.oj(e,25),u=t.rank,c=t.size,l=g.oj(t.shape.toString(),14),f="";for(var p in a){var d=a[p];if(null!=d){var h=d.shape||t.shape,v=h.length;f+="".concat(p,": ").concat(v,"D ").concat(v>0?h:""," ")}}console.log("%c".concat(s,"\t%c").concat(i,"\t%c").concat(u,"D ").concat(l,"\t%c").concat(c,"\t%c").concat(f,"\t%c").concat(o),"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}]),e}();function x(e,t,n){for(var r={},a={},o=0;o<t.length;o++)r[t[o].id]=!0;for(var i=0;i<e.length;i++){var s=e[i],u=s.inputs;for(var c in u){for(var l=u[c],f=!1,p=0;p<t.length;p++)if(r[l.id]){s.outputs.forEach((function(e){return r[e.id]=!0})),f=!0,a[s.id]=!0;break}if(f)break}}var d={};d[n.id]=!0;for(var h={},v=e.length-1;v>=0;v--)for(var m=e[v],g=m.inputs,y=0;y<m.outputs.length;y++)if(d[m.outputs[y].id]){for(var b in g)d[g[b].id]=!0,h[m.id]=!0;break}for(var x=[],w=0;w<e.length;w++){var k=e[w];if(a[k.id]&&h[k.id]){var S={};for(var E in k.inputs){var C=k.inputs[E];r[C.id]&&(S[E]=C)}var N=Object.assign({},k);N.inputs=S,N.outputs=k.outputs,x.push(N)}}return x}function w(e,t,n,r){for(var a=function(a){var o=t[a],i=[];if(o.outputs.forEach((function(t){var n=e[t.id];null!=n?i.push(n):i.push(null)})),null==o.gradient)throw new Error("Cannot compute gradient: gradient function not found "+"for ".concat(o.kernelName,"."));var s=o.gradient(i),u=function(t){if(!(t in s))throw new Error("Cannot backprop through input ".concat(t,". ")+"Available gradients found: ".concat(Object.keys(s),"."));var a=n((function(){return s[t]()}));if("float32"!==a.dtype)throw new Error("Error in gradient for op ".concat(o.kernelName,". The gradient of input ")+"".concat(t," must have 'float32' dtype, but has '").concat(a.dtype,"'"));var i=o.inputs[t];if(!g.cO(a.shape,i.shape))throw new Error("Error in gradient for op ".concat(o.kernelName,". The gradient of input ")+"'".concat(t,"' has shape '").concat(a.shape,"', which does not match ")+"the shape of the input '".concat(i.shape,"'"));if(null==e[i.id])e[i.id]=a;else{var u=e[i.id];e[i.id]=r(u,a),u.dispose()}};for(var c in o.inputs)u(c)},o=t.length-1;o>=0;o--)a(o)}var k=n(4376),S=n(9064);function E(e){return null!=e.kernelName}var C=function(){function e(){(0,i.Z)(this,e),this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map((function(e){return e.name}))))}}}return(0,s.Z)(e,[{key:"dispose",value:function(){for(var e in this.registeredVariables)this.registeredVariables[e].dispose()}}]),e}(),N=function(){function e(t){(0,i.Z)(this,e),this.ENV=t,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new C}return(0,s.Z)(e,[{key:"ready",value:function(){var e=(0,o.Z)(c().mark((function e(){var t,n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.pendingBackendInit){e.next=2;break}return e.abrupt("return",this.pendingBackendInit.then((function(){})));case 2:if(null==this.backendInstance){e.next=4;break}return e.abrupt("return");case 4:t=this.getSortedBackends(),n=0;case 6:if(!(n<t.length)){e.next=18;break}return r=t[n],e.next=10,this.initializeBackend(r).success;case 10:if(!e.sent){e.next=15;break}return e.next=14,this.setBackend(r);case 14:return e.abrupt("return");case 15:n++,e.next=6;break;case 18:throw new Error("Could not initialize any backends, all backend initializations failed.");case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"backend",get:function(){if(null!=this.pendingBackendInit)throw new Error("Backend '".concat(this.backendName,"' has not yet been initialized. Make ")+"sure to await tf.ready() or await tf.setBackend() before calling other methods");if(null==this.backendInstance){var e=this.initializeBackendsAndReturnBest(),t=e.name;if(e.asyncInit)throw new Error("The highest priority backend '".concat(t,"' has not yet been ")+"initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(t)}return this.backendInstance}},{key:"backendNames",value:function(){return Object.keys(this.registryFactory)}},{key:"findBackend",value:function(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;if(this.initializeBackend(e).asyncInit)return null}return this.registry[e]}},{key:"findBackendFactory",value:function(e){return e in this.registryFactory?this.registryFactory[e].factory:null}},{key:"registerBackend",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e in this.registryFactory?(v.Z("".concat(e," backend was already registered. ")+"Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:t,priority:n},!0)}},{key:"setBackend",value:function(){var e=(0,o.Z)(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this.registryFactory[t]){e.next=2;break}throw new Error("Backend name '".concat(t,"' not found in registry"));case 2:if(this.backendName=t,null!=this.registry[t]){e.next=16;break}if(this.backendInstance=null,n=this.initializeBackend(t),r=n.success,!n.asyncInit){e.next=12;break}return e.next=9,r;case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=r;case 13:if(e.t0){e.next=16;break}return e.abrupt("return",!1);case 16:return this.backendInstance=this.registry[t],this.setupRegisteredKernels(),this.profiler=new y(this.backendInstance),e.abrupt("return",!0);case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setupRegisteredKernels",value:function(){var e=this;(0,h.tr)(this.backendName).forEach((function(t){null!=t.setupFunc&&t.setupFunc(e.backendInstance)}))}},{key:"disposeRegisteredKernels",value:function(e){var t=this;(0,h.tr)(e).forEach((function(n){null!=n.disposeFunc&&n.disposeFunc(t.registry[e])}))}},{key:"initializeBackend",value:function(e){var t=this,n=this.registryFactory[e];if(null==n)throw new Error("Cannot initialize backend ".concat(e,", no registration found."));try{var r=n.factory();if(!r||r instanceof l.Zu||"function"!==typeof r.then)return this.registry[e]=r,{success:!0,asyncInit:!1};var a=++this.pendingBackendInitId,o=r.then((function(n){return!(a<t.pendingBackendInitId)&&(t.registry[e]=n,t.pendingBackendInit=null,!0)})).catch((function(n){return a<t.pendingBackendInitId||(t.pendingBackendInit=null,v.Z("Initialization of backend ".concat(e," failed")),v.Z(n.stack||n.message)),!1}));return this.pendingBackendInit=o,{success:o,asyncInit:!0}}catch(i){return v.Z("Initialization of backend ".concat(e," failed")),v.Z(i.stack||i.message),{success:!1,asyncInit:!1}}}},{key:"removeBackend",value:function(e){if(!(e in this.registryFactory))throw new Error("".concat(e," backend not found in registry"));this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}},{key:"getSortedBackends",value:function(){var e=this;if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((function(t,n){return e.registryFactory[n].priority-e.registryFactory[t].priority}))}},{key:"initializeBackendsAndReturnBest",value:function(){for(var e=this.getSortedBackends(),t=0;t<e.length;t++){var n=e[t],r=this.initializeBackend(n),a=r.success,o=r.asyncInit;if(o||a)return{name:n,asyncInit:o}}throw new Error("Could not initialize any backends, all backend initializations failed.")}},{key:"moveData",value:function(e,t){var n=this.state.tensorInfo.get(t),r=n.backend,a=this.readSync(t),o=r.refCount(t);r.disposeData(t,!0),n.backend=e,e.move(t,a,n.shape,n.dtype,o),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}},{key:"tidy",value:function(e,t){var n,r=this,a=null;if(null==t){if("function"!==typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!==typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!==typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");a=e}return this.scopedRun((function(){return r.startScope(a)}),(function(){return r.endScope(n)}),(function(){return(n=t())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n}))}},{key:"scopedRun",value:function(e,t,n){e();try{var r=n();return t(),r}catch(a){throw t(),a}}},{key:"nextTensorId",value:function(){return e.nextTensorId++}},{key:"nextVariableId",value:function(){return e.nextVariableId++}},{key:"clone",value:function(e){var t=O.runKernel(d.iJ,{x:e}),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(function(e){return{x:function(){var t={x:e},n={dtype:"float32"};return O.runKernel(d.RF,t,n)}}}),[],{}),t}},{key:"runKernel",value:function(e,t,n){if(null==this.backendName&&this.backend,!(null!=(0,h.pI)(e,this.backendName)))throw new Error("Kernel '".concat(e,"' not registered for backend '").concat(this.backendName,"'"));return this.runKernelFunc({kernelName:e,inputs:t,attrs:n})}},{key:"shouldCheckForMemLeaks",value:function(){return this.ENV.getBool("IS_TEST")}},{key:"checkKernelForMemLeak",value:function(e,t,n){var r=this.backend.numDataIds(),a=0;n.forEach((function(e){a+="complex64"===e.dtype?3:1}));var o=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],i=r-t-a-o;if(i>0)throw new Error("Backend '".concat(this.backendName,"' has an internal memory leak ")+"(".concat(i," data ids) after running '").concat(e,"'"))}},{key:"runKernelFunc",value:function(e){var t,n,r,a=this,o=[],i=this.isTapeOn(),s=this.state.numBytes,u=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;var c=E(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(E(e)){var l=e.kernelName,f=e.inputs,p=e.attrs;null==this.backendName&&this.backend;var d=(0,h.pI)(l,this.backendName);g.hu(null!=d,(function(){return"Cannot find registered kernel '".concat(l,"' for backend '").concat(a.backendName,"'")})),n=function(){var e=a.backend.numDataIds();r=d.kernelFunc({inputs:f,attrs:p,backend:a.backend});var t=Array.isArray(r)?r:[r];a.shouldCheckForMemLeaks()&&a.checkKernelForMemLeak(l,e,t);var n=t.map((function(e){return null!=e.rank?e:a.makeTensorFromTensorInfo(e)}));if(i){var s=a.getTensorsForGradient(l,f,n);o=a.saveTensorsForBackwardMode(s)}return n}}else{var v=e.forwardFunc,m=function(e){i&&(o=e.map((function(e){return a.keep(a.clone(e))})))};n=function(){var e=a.backend.numDataIds();r=a.tidy((function(){return v(a.backend,m)}));var t=Array.isArray(r)?r:[r];return a.shouldCheckForMemLeaks()&&a.checkKernelForMemLeak(c,e,t),t}}var y,b=e.inputs,x=e.attrs,w=E(e)?null:e.backwardsFunc;return this.scopedRun((function(){return a.state.kernelDepth++}),(function(){return a.state.kernelDepth--}),(function(){a.ENV.getBool("DEBUG")||a.state.profiling?(y=a.profiler.profileKernel(c,b,(function(){return n()})),a.ENV.getBool("DEBUG")&&a.profiler.logKernelProfile(y),t=y.outputs):t=n()})),i&&this.addTapeNode(c,b,t,w,o,x),this.state.profiling&&this.state.activeProfile.kernels.push({name:c,bytesAdded:this.state.numBytes-s,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-u,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(b).map((function(e){return null!=b[e]?b[e].shape:null})),outputShapes:t.map((function(e){return e.shape})),kernelTimeMs:y.timeMs,extraInfo:y.extraInfo}),Array.isArray(r)?t:t[0]}},{key:"saveTensorsForBackwardMode",value:function(e){var t=this,n=e.map((function(e){return t.keep(t.clone(e))}));return n}},{key:"getTensorsForGradient",value:function(e,t,n){var r=(0,h.uk)(e);if(null!=r){var a,o=r.inputsToSave||[],i=r.outputsToSave||[];r.saveAllInputs?(g.hu(Array.isArray(t),(function(){return"saveAllInputs is true, expected inputs to be an array."})),a=Object.keys(t).map((function(e){return t[e]}))):a=o.map((function(e){return t[e]}));var s=n.filter((function(e,t){return i[t]}));return a.concat(s)}return[]}},{key:"makeTensor",value:function(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;var a=e;"string"===n&&g.HD(e[0])&&(a=e.map((function(e){return m.encodeString(e)})));var o=r.write(a,t,n),i=new k.es(t,n,o,this.nextTensorId());if(this.trackTensor(i,r),"string"===n){var s=this.state.tensorInfo.get(o),u=(0,g.Ub)(a);this.state.numBytes+=u-s.bytes,s.bytes=u}return i}},{key:"makeTensorFromTensorInfo",value:function(e,t){var n=e.dataId,r=e.shape,a=e.dtype,o=new k.es(r,a,n,this.nextTensorId());return this.trackTensor(o,t),o}},{key:"makeVariable",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.cast(r));var a=new k._w(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[a.name])throw new Error("Variable with name ".concat(a.name," was already registered"));return this.state.registeredVariables[a.name]=a,this.incRef(a,this.backend),a}},{key:"trackTensor",value:function(e,t){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;var n=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(n=e.size*g.bT(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof k._w||this.track(e)}},{key:"incRef",value:function(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}},{key:"removeDataId",value:function(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}},{key:"disposeTensor",value:function(e){if(this.state.tensorInfo.has(e.dataId)){var t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){var n=e.size*g.bT(e.dtype);this.state.numBytes-=n}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}}},{key:"disposeVariables",value:function(){for(var e in this.state.registeredVariables){var t=this.state.registeredVariables[e];this.disposeVariable(t)}}},{key:"disposeVariable",value:function(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}},{key:"memory",value:function(){var e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}},{key:"profile",value:function(){var e=(0,o.Z)(c().mark((function e(t){var n,o,i,s,u;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.state.profiling=!0,n=this.state.numBytes,o=this.state.numTensors,this.state.activeProfile.kernels=[],e.next=6,t();case 6:this.state.activeProfile.result=e.sent,this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,(0,a.Z)(this.state.activeProfile.kernels.map((function(e){return e.totalBytesSnapshot})))),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-o,i=(0,r.Z)(this.state.activeProfile.kernels),e.prev=12,i.s();case 14:if((s=i.n()).done){e.next=24;break}return u=s.value,e.next=18,u.kernelTimeMs;case 18:return u.kernelTimeMs=e.sent,e.next=21,u.extraInfo;case 21:u.extraInfo=e.sent;case 22:e.next=14;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(12),i.e(e.t0);case 29:return e.prev=29,i.f(),e.finish(29);case 32:return e.abrupt("return",this.state.activeProfile);case 33:case"end":return e.stop()}}),e,this,[[12,26,29,32]])})));return function(t){return e.apply(this,arguments)}}()},{key:"isTapeOn",value:function(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}},{key:"addTapeNode",value:function(e,t,n,r,a,o){var i=this,s={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:a},u=(0,h.uk)(e);null!=u&&(r=u.gradFunc),null!=r&&(s.gradient=function(e){return e=e.map((function(e,t){if(null==e){var r=n[t],a=g.wT(r.size,r.dtype);return i.makeTensor(a,r.shape,r.dtype)}return e})),r(e.length>1?e:e[0],a,o)}),this.state.activeTape.push(s)}},{key:"keep",value:function(e){return e.kept=!0,e}},{key:"startTape",value:function(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}},{key:"endTape",value:function(){this.state.gradientDepth--}},{key:"startScope",value:function(e){var t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}},{key:"endScope",value:function(e){for(var t=this,n=(0,S.getTensorsInContainer)(e),r=new Set(n.map((function(e){return e.id}))),a=0;a<this.state.activeScope.track.length;a++){var o=this.state.activeScope.track[a];o.kept||r.has(o.id)||o.dispose()}var i=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach((function(e){e.kept||e.scopeId!==i.id||t.track(e)}))}},{key:"gradients",value:function(e,t,n){var a=this,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(g.hu(t.length>0,(function(){return"gradients() received an empty list of xs."})),null!=n&&"float32"!==n.dtype)throw new Error("dy must have 'float32' dtype, but has '".concat(n.dtype,"'"));var i=this.scopedRun((function(){return a.startTape()}),(function(){return a.endTape()}),(function(){return a.tidy("forward",e)}));g.hu(i instanceof k.es,(function(){return"The result y returned by f() must be a tensor."}));var s=x(this.state.activeTape,t,i);if(!o&&0===s.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(function(){var e={};e[i.id]=null==n?T(i.shape):n,w(e,s,(function(e){return a.tidy(e)}),_);var o=t.map((function(t){return e[t.id]}));return 0===a.state.gradientDepth&&(a.state.activeTape.forEach((function(e){var t,n=(0,r.Z)(e.saved);try{for(n.s();!(t=n.n()).done;){t.value.dispose()}}catch(a){n.e(a)}finally{n.f()}})),a.state.activeTape=null),{value:i,grads:o}}))}},{key:"customGrad",value:function(e){var t=this;return g.hu(g.mf(e),(function(){return"The f passed in customGrad(f) must be a function."})),function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var o;g.hu(r.every((function(e){return e instanceof k.es})),(function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"}));var i={};r.forEach((function(e,t){i[t]=e}));var s=function(t,n){return o=e.apply(void 0,[].concat(r,[n])),g.hu(o.value instanceof k.es,(function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"})),g.hu(g.mf(o.gradFunc),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."})),o.value},u=function(e,t){var n=o.gradFunc(e,t),a=Array.isArray(n)?n:[n];g.hu(a.length===r.length,(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."})),g.hu(a.every((function(e){return e instanceof k.es})),(function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."}));var i={};return a.forEach((function(e,t){i[t]=function(){return e}})),i};return t.runKernelFunc({forwardFunc:s,backwardsFunc:u,inputs:i})}}},{key:"readSync",value:function(e){return this.state.tensorInfo.get(e).backend.readSync(e)}},{key:"read",value:function(e){return this.state.tensorInfo.get(e).backend.read(e)}},{key:"readToGPU",value:function(e,t){return this.state.tensorInfo.get(e).backend.readToGPU(e,t)}},{key:"time",value:function(){var e=(0,o.Z)(c().mark((function e(t){var n,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,m.now)(),e.next=3,this.backend.time(t);case 3:return(r=e.sent).wallMs=(0,m.now)()-n,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"track",value:function(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}},{key:"registeredVariables",get:function(){return this.state.registeredVariables}},{key:"reset",value:function(){for(var e in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new C,this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}]),e}();function T(e){var t=(0,g.p8)((0,g.NA)(e),"float32");return O.makeTensor(t,e,"float32")}function I(){var e=(0,p.D)();if(null==e._tfengine){var t=new f.qA(e);e._tfengine=new N(t)}return(0,f.iG)(e._tfengine.ENV),(0,k.Vi)((function(){return e._tfengine})),e._tfengine}N.nextTensorId=0,N.nextVariableId=0;var O=I();function _(e,t){var n={a:e,b:t};return O.runKernel(d.mm,n)}},5050:function(e,t,n){"use strict";n.d(t,{OB:function(){return h},Vi:function(){return v},iG:function(){return m},qA:function(){return f}});var r=n(9439),a=n(5861),o=n(5671),i=n(3144),s=n(7757),u=n.n(s),c=n(6147),l="tfjsflags",f=function(){function e(t){(0,o.Z)(this,e),this.global=t,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=p,this.populateURLFlags()}return(0,i.Z)(e,[{key:"setPlatform",value:function(e,t){null!=this.platform&&(h().getBool("IS_TEST")||h().getBool("PROD")||console.warn("Platform ".concat(this.platformName," has already been set. ")+"Overwriting the platform with ".concat(e,"."))),this.platformName=e,this.platform=t}},{key:"registerFlag",value:function(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){var r=this.urlFlags[e];h().getBool("IS_TEST")||h().getBool("PROD")||console.warn("Setting feature override from URL ".concat(e,": ").concat(r,".")),this.set(e,r)}}},{key:"getAsync",value:function(){var e=(0,a.Z)(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t in this.flags)){e.next=2;break}return e.abrupt("return",this.flags[t]);case 2:return e.next=4,this.evaluateFlag(t);case 4:return this.flags[t]=e.sent,e.abrupt("return",this.flags[t]);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"get",value:function(e){if(e in this.flags)return this.flags[e];var t=this.evaluateFlag(e);if((0,c.tI)(t))throw new Error("Flag ".concat(e," cannot be synchronously evaluated. ")+"Please use getAsync() instead.");return this.flags[e]=t,this.flags[e]}},{key:"getNumber",value:function(e){return this.get(e)}},{key:"getBool",value:function(e){return this.get(e)}},{key:"getFlags",value:function(){return this.flags}},{key:"features",get:function(){return this.flags}},{key:"set",value:function(e,t){if(null==this.flagRegistry[e])throw new Error("Cannot set flag ".concat(e," as it has not been registered."));this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}},{key:"evaluateFlag",value:function(e){if(null==this.flagRegistry[e])throw new Error("Cannot evaluate flag '".concat(e,"': no evaluation function found."));return this.flagRegistry[e].evaluationFn()}},{key:"setFlags",value:function(e){this.flags=Object.assign({},e)}},{key:"reset",value:function(){this.flags={},this.urlFlags={},this.populateURLFlags()}},{key:"populateURLFlags",value:function(){var e=this;if("undefined"!==typeof this.global&&"undefined"!==typeof this.global.location&&"undefined"!==typeof this.global.location.search){var t=this.getQueryParams(this.global.location.search);if(l in t)t.tfjsflags.split(",").forEach((function(t){var n=t.split(":"),a=(0,r.Z)(n,2),o=a[0],i=a[1];e.urlFlags[o]=function(e,t){if("true"===(t=t.toLowerCase())||"false"===t)return"true"===t;if("".concat(+t)===t)return+t;throw new Error("Could not parse value flag value ".concat(t," for flag ").concat(e,"."))}(o,i)}))}}}]),e}();function p(e){var t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return d(t,r[0],r[1]),r.join("=")})),t}function d(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}function h(){return v}var v=null;function m(e){v=e}},6581:function(e,t,n){"use strict";var r;function a(){if(null==r){var e;if("undefined"!==typeof window)e=window;else if("undefined"!==typeof n.g)e=n.g;else if("undefined"!==typeof process)e=process;else{if("undefined"===typeof self)throw new Error("Could not find a global object");e=self}r=e}return r}function o(e,t){var n=function(){var e=a();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}();if(n.has(e))return n.get(e);var r=t();return n.set(e,r),n.get(e)}n.d(t,{D:function(){return a},R:function(){return o}})},5875:function(e,t,n){"use strict";n.d(t,{B9:function(){return m},CQ:function(){return b},Cd:function(){return x},Cn:function(){return g},G4:function(){return s},MX:function(){return l},N5:function(){return h},N8:function(){return f},N_:function(){return w},R:function(){return u},SR:function(){return p},VY:function(){return T},XV:function(){return y},cF:function(){return c},cj:function(){return k},jq:function(){return C},lu:function(){return v},sq:function(){return d},x3:function(){return S},y3:function(){return N},ze:function(){return E}});var r=n(318),a=n(5050),o=n(4376),i=n(9064);function s(){(0,a.OB)().set("PROD",!0)}function u(){(0,a.OB)().set("DEBUG",!0)}function c(){(0,a.OB)().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function l(e){(0,a.OB)().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function f(){r.BV.disposeVariables()}function p(){return r.BV}function d(){return r.BV.memory()}function h(e){return r.BV.profile(e)}function v(e,t){return r.BV.tidy(e,t)}function m(e){(0,i.getTensorsInContainer)(e).forEach((function(e){return e.dispose()}))}function g(e){return r.BV.keep(e)}function y(e){return r.BV.time(e)}function b(e){return r.BV.setBackend(e)}function x(){return r.BV.ready()}function w(){return r.BV.backendName}function k(e){r.BV.removeBackend(e)}function S(e){return r.BV.findBackend(e)}function E(e){return r.BV.findBackendFactory(e)}function C(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return r.BV.registerBackend(e,t,n)}function N(){return r.BV.backend}function T(e,t){(0,a.OB)().setPlatform(e,t)}(0,o.FZ)(l)},6450:function(e,t,n){"use strict";n.d(t,{UQ:function(){return u},cb:function(){return d},fN:function(){return f},h7:function(){return l},pn:function(){return p},ti:function(){return c}});var r=n(3433),a=n(318),o=n(4376),i=n(8354),s=n(6147);function u(e){return s.hu(s.mf(e),(function(){return"The f passed in grad(f) must be a function"})),function(t,n){var r=(0,i._1)(t,"x","tf.grad","string_or_numeric"),o=null!=n?(0,i._1)(n,"dy","tf.grad"):null;return a.BV.tidy((function(){var t=a.BV.gradients((function(){return e(r)}),[r],o),n=t.value,i=t.grads;return null!=o&&s.k5(n.shape,o.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),h(i),i[0]}))}}function c(e){return s.hu(s.mf(e),(function(){return"The f passed in grads(f) must be a function"})),function(t,n){s.hu(Array.isArray(t),(function(){return"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s"}));var o=(0,i.sI)(t,"args","tf.grads","string_or_numeric"),u=null!=n?(0,i._1)(n,"dy","tf.grads"):null;return a.BV.tidy((function(){var t=a.BV.gradients((function(){return e.apply(void 0,(0,r.Z)(o))}),o,u),n=t.value,i=t.grads;return null!=u&&s.k5(n.shape,u.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),h(i),i}))}}function l(e){return s.hu(s.mf(e),(function(){return"The f passed in valueAndGrad(f) must be a function"})),function(t,n){s.hu(t instanceof o.es,(function(){return"The x passed in valueAndGrad(f)(x) must be a tensor"})),s.hu(null==n||n instanceof o.es,(function(){return"The dy passed in valueAndGrad(f)(x, dy) must be a tensor"}));var r=a.BV.gradients((function(){return e(t)}),[t],n),i=r.grads,u=r.value;return h(i),{grad:i[0],value:u}}}function f(e){return s.hu(s.mf(e),(function(){return"The f passed in valueAndGrads(f) must be a function"})),function(t,n){s.hu(Array.isArray(t)&&t.every((function(e){return e instanceof o.es})),(function(){return"The args passed in valueAndGrads(f)(args) must be array of tensors"})),s.hu(null==n||n instanceof o.es,(function(){return"The dy passed in valueAndGrads(f)(args, dy) must be a tensor"}));var i=a.BV.gradients((function(){return e.apply(void 0,(0,r.Z)(t))}),t,n);return null!=n&&s.k5(i.value.shape,n.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),h(i.grads),i}}function p(e,t){s.hu(s.mf(e),(function(){return"The f passed in variableGrads(f) must be a function"})),s.hu(null==t||Array.isArray(t)&&t.every((function(e){return e instanceof o._w})),(function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"}));var n=null!=t;if(!n)for(var r in t=[],a.BV.registeredVariables)t.push(a.BV.registeredVariables[r]);var i=n?t.filter((function(e){return!e.trainable})):null,u=t.length;t=t.filter((function(e){return e.trainable})),s.hu(t.length>0,(function(){return"variableGrads() expects at least one of the input variables to "+"be trainable, but none of the ".concat(u," variables is ")+"trainable."}));var c=a.BV.gradients(e,t,null,!0),l=c.value,f=c.grads;s.hu(f.some((function(e){return null!=e})),(function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."})),s.hu(0===l.rank,(function(){return"The f passed in variableGrads(f) must return a scalar, but it "+"returned a rank-".concat(l.rank," tensor")}));var p={};return t.forEach((function(e,t){null!=f[t]&&(p[e.name]=f[t])})),null!=i&&i.forEach((function(e){return p[e.name]=null})),{value:l,grads:p}}function d(e){return a.BV.customGrad(e)}function h(e){if(e.filter((function(e){return null==e})).length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that\n    the f you passed encloses all operations that lead from x to y.")}},3772:function(e,t,n){"use strict";n.d(t,{SYM:function(){return mt.SY},VGw:function(){return mt.VG},SpW:function(){return mt.Sp},zJI:function(){return an},HeW:function(){return sn},a4z:function(){return ln},DBS:function(){return dn},mm_:function(){return mt.mm},Xze:function(){return mt.Xz},oT6:function(){return mt.oT},IKK:function(){return mt.IK},sJF:function(){return mt.sJ},aJk:function(){return mt.aJ},M2y:function(){return mt.M2},qw7:function(){return mt.qw},jMg:function(){return mt.jM},QCc:function(){return mt.QC},Oyi:function(){return mt.Oy},JhU:function(){return mt.Jh},_k9:function(){return mt._k},IMb:function(){return mt.IM},ROF:function(){return mt.RO},XLW:function(){return mt.XL},zws:function(){return mt.zw},zvY:function(){return mt.zv},eEB:function(){return mt.eE},Ly9:function(){return mt.Ly},RFZ:function(){return mt.RF},gJX:function(){return mt.gJ},xnO:function(){return mt.xn},Zz9:function(){return mt.Zz},yj2:function(){return mt.yj},Eh3:function(){return mt.Eh},mhS:function(){return mt.mh},wUP:function(){return mt.wU},wm:function(){return mt.wm},x12:function(){return mt.x1},o2y:function(){return mt.o2},ik2:function(){return mt.ik},mc4:function(){return mt.mc},TR1:function(){return mt.TR},VcC:function(){return mt.Vc},Byc:function(){return mt.By},iHb:function(){return mt.iH},JLz:function(){return Tr.JL},QRR:function(){return mt.QR},T0n:function(){return mt.T0},cie:function(){return mt.ci},sL$:function(){return mt.sL},y7R:function(){return mt.y7},$w:function(){return mt.$w},p4S:function(){return mt.p4},Vn9:function(){return mt.Vn},ekb:function(){return mt.ek},ViN:function(){return y.Vi},$g6:function(){return mt.$g},SX0:function(){return mt.SX},HEU:function(){return mt.HE},qAh:function(){return y.qA},hdR:function(){return mt.hd},Omj:function(){return mt.Om},NEP:function(){return mt.NE},YFo:function(){return mt.YF},Y0y:function(){return mt.Y0},vwp:function(){return mt.vw},deh:function(){return mt.de},Uyb:function(){return mt.Uy},OR:function(){return mt.OR},jeX:function(){return mt.je},eBW:function(){return mt.eB},sHE:function(){return mt.sH},_V0:function(){return mt._V},luS:function(){return mt.lu},q1x:function(){return mt.q1},qi_:function(){return mt.qi},iZT:function(){return mt.iZ},Acj:function(){return mt.Ac},Qg5:function(){return mt.Qg},iJz:function(){return mt.iJ},J_u:function(){return mt.J_},avt:function(){return mt.av},iWB:function(){return mt.iW},r7n:function(){return mt.r7},Zuw:function(){return Tr.Zu},eZ0:function(){return mt.eZ},Hhh:function(){return mt.Hh},J$2:function(){return mt.J$},vtC:function(){return mt.vt},CAk:function(){return mt.CA},e7N:function(){return mt.e7},ZbH:function(){return mt.Zb},kU:function(){return mt.kU},qCd:function(){return mt.qC},PYm:function(){return mt.PY},VfG:function(){return mt.Vf},MZg:function(){return mt.MZ},qIC:function(){return mt.qI},YoZ:function(){return mt.Yo},mTV:function(){return mt.mT},OAf:function(){return mt.OA},OU7:function(){return mt.OU},OV7:function(){return mt.OV},vFR:function(){return mt.vF},BMI:function(){return mt.BM},q2K:function(){return mt.q2},c17:function(){return mt.c1},q8u:function(){return mt.q8},jQs:function(){return mt.jQ},Vbg:function(){return mt.Vb},rIn:function(){return vn},NZg:function(){return mt.NZ},wYn:function(){return mt.wY},kuV:function(){return mt.ku},uv1:function(){return mt.uv},cye:function(){return mt.cy},W0H:function(){return mt.W0},yQU:function(){return mt.yQ},zvA:function(){return bn.zvA},we_:function(){return mt.we},qWM:function(){return mt.qW},gaJ:function(){return rn},eEe:function(){return gn},QiL:function(){return mt.Qi},lyA:function(){return mt.ly},Kgp:function(){return mt.Kg},pe_:function(){return mt.pe},o0g:function(){return mt.o0},DlI:function(){return mt.Dl},gVI:function(){return mn},e6w:function(){return mt.e6},yw1:function(){return yn.yw},xJR:function(){return mt.xJ},oHH:function(){return mt.oH},$HU:function(){return mt.$H},IH3:function(){return xn.I},qkr:function(){return mt.qk},SbG:function(){return mt.Sb},HZH:function(){return mt.HZ},_Yw:function(){return mt._Y},zbQ:function(){return mt.zb},dpD:function(){return mt.dp},Hmb:function(){return mt.Hm},mKl:function(){return mt.mK},b9H:function(){return mt.b9},e07:function(){return mt.e0},bV0:function(){return mt.bV},DYp:function(){return hn},xQA:function(){return mt.xQ},nr8:function(){return mt.nr},PhF:function(){return mt.Ph},oFR:function(){return mt.oF},a5O:function(){return mt.a5},i5y:function(){return mt.i5},RQH:function(){return mt.RQ},wYB:function(){return mt.w3},p2w:function(){return mt.p2},Gcp:function(){return mt.Gc},MRv:function(){return mt.MR},TQc:function(){return mt.TQ},O3z:function(){return mt.O3},nhH:function(){return mt.nh},w3H:function(){return mt.YW},ZjV:function(){return mt.Zj},D2d:function(){return mt.D2},L8s:function(){return mt.L8},FKq:function(){return mt.FK},bK0:function(){return mt.bK},_tC:function(){return mt._t},h8e:function(){return mt.h8},jQk:function(){return mt.m2},_JP:function(){return mt._J},s1s:function(){return mt.s1},XkS:function(){return mt.Xk},Tr8:function(){return mt.Tr},GBy:function(){return mt.GB},sEM:function(){return mt.sE},MIZ:function(){return mt.MI},esB:function(){return Ze.es},YDk:function(){return Ze.YD},n9L:function(){return mt.n9},cWu:function(){return mt.cW},wx7:function(){return mt.wx},G3Y:function(){return mt.G3},kpP:function(){return mt.kp},ToN:function(){return mt.To},Qvg:function(){return mt.Qv},XDQ:function(){return mt.XD},_wD:function(){return Ze._w},RuY:function(){return mt.Ru},usg:function(){return mt.us},WnP:function(){return bn.WnP},Khb:function(){return bn.Khb},__u:function(){return bn.__u},IHx:function(){return bn.IHx},QBD:function(){return bn.QBD},$6P:function(){return bn.$6P},YjB:function(){return bn.YjB},NqF:function(){return bn.NqF},vHJ:function(){return bn.vHJ},ZRM:function(){return bn.ZRM},VfV:function(){return bn.VfV},z4N:function(){return bn.z4N},fvJ:function(){return bn.fvJ},C80:function(){return bn.C80},wS1:function(){return bn.wS1},uR5:function(){return bn.uR5},y3$:function(){return Xt.y3},Wap:function(){return f},zEQ:function(){return bn.zEQ},tgs:function(){return bn.tgs},Dxk:function(){return bn.Dxk},JY5:function(){return bn.JY5},p3b:function(){return bn.p3b},E4h:function(){return bn.E4h},yE8:function(){return bn.yE8},anm:function(){return bn.anm},XsQ:function(){return bn.XsQ},UFq:function(){return bn.UFq},Jyw:function(){return vt},Xhn:function(){return i},f3b:function(){return bn.f3b},pju:function(){return bn.pju},mDi:function(){return bn.mDi},iUl:function(){return bn.iUl},d9v:function(){return bn.d9v},PYB:function(){return bn.PYB},zoF:function(){return bn.zoF},gME:function(){return bn.gME},Izb:function(){return bn.Izb},MNy:function(){return bn.MNy},ZaL:function(){return bn.ZaL},PAt:function(){return bn.PAt},Tek:function(){return bn.Tek},bc:function(){return bn.bc},pdZ:function(){return bn.pdZ},$QV:function(){return bn.$QV},T3b:function(){return gt.T3},mCk:function(){return bn.mCk},f9Y:function(){return bn.f9Y},mew:function(){return bn.mew},$Gn:function(){return bn.$Gn},zbp:function(){return bn.zbp},cbc:function(){return tn.cb},ppE:function(){return bn.ppE},MXe:function(){return Xt.MX},nTT:function(){return bn.nTT},B10:function(){return bn.B10},C2$:function(){return r},Ka3:function(){return bn.Ka3},WmZ:function(){return bn.WmZ},cFr:function(){return Xt.cF},B90:function(){return Xt.B9},N8o:function(){return Xt.N8},hiC:function(){return bn.hiC},NTj:function(){return bn.NTj},AKD:function(){return bn.AKD},rvX:function(){return bn.rvX},WYO:function(){return bn.WYO},pyx:function(){return bn.pyx},Ra$:function(){return Xt.R},G48:function(){return Xt.G4},GRh:function(){return bn.GRh},SRH:function(){return Xt.SR},OBj:function(){return y.OB},DgJ:function(){return bn.DgJ},qNN:function(){return bn.qNN},d2q:function(){return bn.d2q},Qqt:function(){return bn.Qqt},dt4:function(){return bn.dt4},t$B:function(){return bn.t$B},iyy:function(){return bn.iyy},kp_:function(){return bn.kp_},hlL:function(){return bn.hlL},x3e:function(){return Xt.x3},zel:function(){return Xt.ze},GWj:function(){return bn.GWj},qPi:function(){return bn.qPi},imm:function(){return bn.imm},Iqj:function(){return bn.Iqj},dbB:function(){return bn.dbB},DaI:function(){return s},N_N:function(){return Xt.N_},ukX:function(){return gt.uk},pIF:function(){return gt.pI},trD:function(){return gt.tr},UQy:function(){return tn.UQ},tiA:function(){return tn.ti},pjt:function(){return bn.pjt},brS:function(){return bn.brS},Sxn:function(){return bn.Sxn},asL:function(){return bn.asL},BHj:function(){return bn.BHj},V3u:function(){return bn.V3u},io:function(){return a},wx0:function(){return bn.wx0},xVT:function(){return bn.xVT},UWc:function(){return bn.UWc},i2d:function(){return bn.i2d},CnY:function(){return Xt.Cn},GDt:function(){return p},hi7:function(){return bn.hi7},d9m:function(){return bn.d9m},zN1:function(){return bn.zN1},$r2:function(){return bn.$r2},SX3:function(){return bn.SX3},G9k:function(){return bn.G9k},cM7:function(){return bn.cM7},Krr:function(){return bn.Krr},e_t:function(){return bn.e_t},CmS:function(){return bn.CmS},l_t:function(){return bn.l_t},HvI:function(){return bn.HvI},hJK:function(){return bn.hJK},K5V:function(){return bn.K5V},egP:function(){return bn.egP},MB5:function(){return bn.MB5},eab:function(){return bn.eab},OI3:function(){return bn.OI3},mAU:function(){return o},Fp7:function(){return bn.Fp7},_sB:function(){return bn._sB},YQQ:function(){return bn.YQQ},Ip$:function(){return bn.Ip$},gWQ:function(){return bn.gWQ},J69:function(){return bn.J69},sq6:function(){return Xt.sq},ry_:function(){return bn.ry_},VV$:function(){return bn.VV$},LTh:function(){return bn.LTh},VdP:function(){return bn.VdP},wQq:function(){return bn.wQq},Gi7:function(){return bn.Gi7},p_:function(){return bn.p_},dC7:function(){return bn.dC7},rq4:function(){return bn.rq4},SJ_:function(){return bn.SJ_},W76:function(){return bn.W76},glt:function(){return Sn},KOy:function(){return bn.KOy},Quu:function(){return bn.Quu},lfX:function(){return bn.lfX},iUs:function(){return bn.iUs},JpU:function(){return bn.JpU},op:function(){return bn.op},N2O:function(){return bn.N2O},vku:function(){return bn.vku},pNR:function(){return bn.pNR},koy:function(){return bn.koy},t1L:function(){return bn.t1L},lGY:function(){return bn.lGY},d_R:function(){return bn.d_R},sQ3:function(){return bn.sQ3},AL3:function(){return bn.AL3},S0v:function(){return bn.S0v},WVs:function(){return bn.WVs},N5s:function(){return Xt.N5},TN_:function(){return bn.TN_},wzB:function(){return bn.wzB},nGf:function(){return bn.nGf},LGj:function(){return bn.LGj},w6H:function(){return bn.w6H},Cd_:function(){return Xt.Cd},kwC:function(){return bn.kwC},M25:function(){return bn.M25},jqO:function(){return Xt.jq},LiG:function(){return gt.Li},wCN:function(){return gt.wC},UYe:function(){return bn.UYe},btT:function(){return bn.btT},cjG:function(){return Xt.cj},XLQ:function(){return bn.XLQ},GYS:function(){return bn.GYS},SDf:function(){return bn.SDf},diP:function(){return bn.diP},sx7:function(){return bn.sx7},mG2:function(){return bn.mG2},QEs:function(){return bn.QEs},NMM:function(){return bn.NMM},bp0:function(){return bn.bp0},iD$:function(){return bn.iD$},snQ:function(){return bn.snQ},yV1:function(){return Tt},zcT:function(){return bn.zcT},U8D:function(){return bn.U8D},U_I:function(){return bn.U_I},m7h:function(){return u},CQI:function(){return Xt.CQ},VYu:function(){return Xt.VY},ODp:function(){return bn.ODp},XD2:function(){return bn.XD2},Xxe:function(){return bn.Xxe},tdS:function(){return bn.tdS},O$l:function(){return bn.O$l},R_K:function(){return bn.R_K},tPi:function(){return bn.tPi},jZU:function(){return bn.jZU},SmN:function(){return bn.SmN},CnO:function(){return bn.CnO},p0P:function(){return bn.p0P},kuN:function(){return It},XAC:function(){return bn.XAC},Wvh:function(){return bn.Wvh},fBT:function(){return bn.fBT},rVs:function(){return bn.rVs},ers:function(){return bn.ers},uN7:function(){return bn.uN7},Vl2:function(){return bn.Vl2},_b3:function(){return bn._b3},h62:function(){return bn.h62},$i:function(){return bn.$i},L9e:function(){return bn.L9e},knu:function(){return bn.knu},Nbs:function(){return bn.Nbs},NXj:function(){return bn.NXj},Z_8:function(){return bn.Z_8},luU:function(){return bn.luU},Smz:function(){return bn.Smz},z4k:function(){return yn.z4},ORZ:function(){return bn.ORZ},AEp:function(){return bn.AEp},XeE:function(){return bn.XeE},RRF:function(){return bn.RRF},odF:function(){return bn.odF},wOQ:function(){return bn.wOQ},yXz:function(){return bn.yXz},Bfx:function(){return bn.Bfx},xZs:function(){return bn.xZs},piX:function(){return At},p3L:function(){return c},lub:function(){return Xt.lu},Gg6:function(){return bn.Gg6},XVJ:function(){return Xt.XV},hg7:function(){return bn.hg7},p_j:function(){return wn},p4s:function(){return bn.p4s},Xu6:function(){return bn.Xu6},Two:function(){return bn.Two},bt3:function(){return gt.bt},nEe:function(){return gt.nE},pUJ:function(){return bn.pUJ},HHK:function(){return bn.HHK},x8V:function(){return yn.x8},GaM:function(){return bn.GaM},D5U:function(){return Rt},h76:function(){return tn.h7},fNQ:function(){return tn.fN},VD$:function(){return bn.VD$},pnJ:function(){return tn.pn},jTM:function(){return Ht},arb:function(){return bn.arb},itS:function(){return bn.itS},lls:function(){return bn.lls},P84:function(){return bn.P84}});var r={};n.r(r),n.d(r,{isBrowser:function(){return g},isMobile:function(){return m},mockIsMobile:function(){return v}});var a={};n.r(a),n.d(a,{browserFiles:function(){return He},browserHTTPRequest:function(){return rt},concatenateArrayBuffers:function(){return Z},copyModel:function(){return Te},decodeWeights:function(){return R},encodeWeights:function(){return D},fromMemory:function(){return it},getLoadHandlers:function(){return Y},getModelArtifactsForJSON:function(){return U},getModelArtifactsInfoForJSON:function(){return V},getSaveHandlers:function(){return K},http:function(){return nt},isHTTPScheme:function(){return et},listModels:function(){return Se},loadWeights:function(){return Ke},moveModel:function(){return Oe},registerLoadRouter:function(){return X},registerSaveRouter:function(){return q},removeModel:function(){return Ce},weightsLoaderFactory:function(){return Qe},withSaveHandler:function(){return st}});var o={};n.r(o),n.d(o,{confusionMatrix:function(){return ht}});var i={};n.r(i),n.d(i,{fromPixels:function(){return Ct},fromPixelsAsync:function(){return wt},toPixels:function(){return St}});var s={};n.r(s),n.d(s,{prepareAndValidate:function(){return Nt}});var u={};n.r(u),n.d(u,{Serializable:function(){return Ot},SerializationMap:function(){return _t},registerClass:function(){return Dt}});var c={};n.r(c),n.d(c,{TEST_EPSILON_FLOAT16:function(){return Pt},encodeStrings:function(){return Vt},expectArrayBuffersEqual:function(){return Wt},expectArraysClose:function(){return Mt},expectArraysEqual:function(){return Zt},expectNumbersClose:function(){return zt},expectPromiseToFail:function(){return jt},expectValuesInRange:function(){return Ut},testEpsilon:function(){return Ft}});var l={};n.r(l),n.d(l,{collectGatherOpShapeInfo:function(){return kr},computeOutShape:function(){return wr},segOpComputeOptimalWindowSize:function(){return xr}});var f={};n.r(f),n.d(f,{ERF_A1:function(){return Zn},ERF_A2:function(){return zn},ERF_A3:function(){return Bn},ERF_A4:function(){return Un},ERF_A5:function(){return Wn},ERF_P:function(){return jn},PARALLELIZE_THRESHOLD:function(){return On},SELU_SCALE:function(){return Ln.$},SELU_SCALEALPHA:function(){return Ln.y},applyActivation:function(){return In.QH},assertAndGetBroadcastShape:function(){return vt.assertAndGetBroadcastShape},assertAxesAreInnerMostDims:function(){return En.lB},assertParamsConsistent:function(){return Cn},assignToTypedArray:function(){return Yn},axesAreInnerMostDims:function(){return En.YB},calculateShapes:function(){return Tt.calculateShapes},checkEinsumDimSizes:function(){return rr},checkPadOnDimRoundingMode:function(){return Tn.m},combineLocations:function(){return En.Vh},complexWithEvenIndex:function(){return qn},complexWithOddIndex:function(){return Xn},computeConv2DInfo:function(){return Tn.Ix},computeConv3DInfo:function(){return Tn.jw},computeDefaultPad:function(){return Tn.aO},computeDilation2DInfo:function(){return Tn.Rf},computeOptimalWindowSize:function(){return _n},computeOutAndReduceShapes:function(){return En.kz},computeOutShape:function(){return Nn},computePool2DInfo:function(){return Tn.Xw},computePool3DInfo:function(){return Tn.pl},convertConv2DDataFormat:function(){return Tn.sl},decodeEinsumEquation:function(){return tr},eitherStridesOrDilationsAreOne:function(){return Tn.jT},expandShapeToKeepDim:function(){return En.rv},exponent:function(){return $n},exponents:function(){return Qn},fromStringArrayToUint8:function(){return Er},fromUint8ToStringArray:function(){return Sr},getAxesPermutation:function(){return En.Q3},getBroadcastDims:function(){return vt.getBroadcastDims},getComplexWithIndex:function(){return Kn},getEinsumComputePath:function(){return ar},getEinsumPermutation:function(){return nr},getFusedBiasGradient:function(){return In.pf},getFusedDyActivation:function(){return In.Fr},getImageCenter:function(){return Dn},getInnerMostAxes:function(){return En.sY},getPermuted:function(){return Rn},getReductionAxes:function(){return vt.getReductionAxes},getReshaped:function(){return An},getReshapedPermuted:function(){return Pn},getSliceBeginCoords:function(){return Mn},getSliceSize:function(){return Fn},getSparseFillEmptyRowsIndicesDenseShapeMismatch:function(){return ur},getSparseFillEmptyRowsNegativeIndexErrorMessage:function(){return cr},getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:function(){return lr},getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:function(){return dr},getSparseReshapeInputOutputMismatchErrorMessage:function(){return vr},getSparseReshapeInputOutputMultipleErrorMessage:function(){return hr},getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:function(){return fr},getSparseReshapeNegativeOutputDimErrorMessage:function(){return pr},getSparseSegmentReductionIndicesOutOfRangeErrorMessage:function(){return br},getSparseSegmentReductionNegativeSegmentIdsErrorMessage:function(){return mr},getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:function(){return gr},getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:function(){return yr},getUndoAxesPermutation:function(){return En.LJ},isIdentityPermutation:function(){return or},log:function(){return Vn.c},mergeRealAndImagArrays:function(){return Hn},prepareAndValidate:function(){return Nt},prepareSplitSize:function(){return sr},segment_util:function(){return l},shouldFuse:function(){return In.uy},slice_util:function(){return It},splitRealAndImagArrays:function(){return Gn},tupleValuesAreOne:function(){return Tn.I0},upcastType:function(){return yn.x8},validateInput:function(){return Tt.validateInput},validateUpdateShape:function(){return Tt.validateUpdateShape},warn:function(){return Vn.Z}});var p={};n.r(p),n.d(p,{nonMaxSuppressionV3Impl:function(){return Cr.GP},nonMaxSuppressionV4Impl:function(){return Cr.qP},nonMaxSuppressionV5Impl:function(){return Cr.pA},whereImpl:function(){return Nr.Z}});var d,h=n(318);function v(e){d=e}function m(e){if(void 0!==d)return d;if(e||"undefined"!==typeof navigator&&null!=navigator){if(e||(e=navigator),"ReactNative"===e.product)return!0;var t=e.userAgent||e.vendor||("undefined"!==typeof window?window.opera:"");if(!t){var n=e;return n.userAgentData&&n.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}return!1}function g(){return"undefined"!==typeof window&&null!=window.document||"undefined"!==typeof WorkerGlobalScope}var y=n(5050),b=(0,y.OB)();b.registerFlag("DEBUG",(function(){return!1}),(function(e){e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),b.registerFlag("IS_BROWSER",(function(){return g()})),b.registerFlag("IS_NODE",(function(){return"undefined"!==typeof process&&"undefined"!==typeof process.versions&&"undefined"!==typeof process.versions.node})),b.registerFlag("IS_CHROME",(function(){return"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)})),b.registerFlag("PROD",(function(){return!1})),b.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(function(){return b.getBool("DEBUG")})),b.registerFlag("DEPRECATION_WARNINGS_ENABLED",(function(){return!0})),b.registerFlag("IS_TEST",(function(){return!1})),b.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",(function(){return!0})),b.registerFlag("WRAP_TO_IMAGEBITMAP",(function(){return!1})),b.registerFlag("ENGINE_COMPILE_ONLY",(function(){return!1}));var x=n(5671),w=n(3144),k=n(7762),S=n(5861),E=n(7757),C=n.n(E),N=n(9439),T=n(9253),I=n(2442),O=n(6147),_={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};function D(e,t){return A.apply(this,arguments)}function A(){return A=(0,S.Z)(C().mark((function e(t,n){var r,a,o,i,s,u;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=[],a=[],o=Array.isArray(t)?t.map((function(e){return e.name})):Object.keys(t),i=function(e){var i=o[e],s=Array.isArray(t)?t[e].tensor:t[i];if("float32"!==s.dtype&&"int32"!==s.dtype&&"bool"!==s.dtype&&"string"!==s.dtype&&"complex64"!==s.dtype)throw new Error("Unsupported dtype in weight '".concat(i,"': ").concat(s.dtype));var u={name:i,shape:s.shape,dtype:s.dtype};if("string"===s.dtype){var c=new Promise(function(){var e=(0,S.Z)(C().mark((function e(t){var n,r,a,o,i,u,c;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.bytes();case 2:for(n=e.sent,r=n.reduce((function(e,t){return e+t.length}),0)+4*n.length,a=new Uint8Array(r),o=0,i=0;i<n.length;i++)u=n[i],c=new Uint8Array(new Uint32Array([u.length]).buffer),a.set(c,o),o+=4,a.set(u,o),o+=u.length;t(a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());a.push(c)}else a.push(s.data());null!=n&&(u.group=n),r.push(u)},s=0;s<o.length;++s)i(s);return e.next=7,Promise.all(a);case 7:return u=e.sent,e.abrupt("return",{data:P(u),specs:r});case 9:case"end":return e.stop()}}),e)}))),A.apply(this,arguments)}function R(e,t){var n,r,a={},o=0,i=(0,k.Z)(t);try{for(i.s();!(r=i.n()).done;){var s=r.value,u=s.name,c=s.dtype,l=s.shape,f=(0,O.NA)(l),p=void 0;if("quantization"in s){var d=s.quantization;if("uint8"===d.dtype||"uint16"===d.dtype){if(!("min"in d)||!("scale"in d))throw new Error("Weight ".concat(s.name," with quantization ").concat(d.dtype," ")+"doesn't have corresponding metadata min and scale.")}else{if("float16"!==d.dtype)throw new Error("Weight ".concat(s.name," has unknown ")+"quantization dtype ".concat(d.dtype,". ")+"Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.");if("float32"!==c)throw new Error("Weight ".concat(s.name," is quantized with ").concat(d.dtype," ")+"which only supports weights of type float32 not ".concat(c,"."))}var h=_[d.dtype],v=e.slice(o,o+f*h),m="uint8"===d.dtype?new Uint8Array(v):new Uint16Array(v);if("float32"===c)if("uint8"===d.dtype||"uint16"===d.dtype){p=new Float32Array(m.length);for(var g=0;g<m.length;g++){var y=m[g];p[g]=y*d.scale+d.min}}else{if("float16"!==d.dtype)throw new Error("Unsupported quantization type ".concat(d.dtype," ")+"for weight type float32.");void 0===n&&(n=H()),p=n(m)}else{if("int32"!==c)throw new Error("Unsupported dtype in weight '".concat(u,"': ").concat(c));if("uint8"!==d.dtype&&"uint16"!==d.dtype)throw new Error("Unsupported quantization type ".concat(d.dtype," ")+"for weight type int32.");p=new Int32Array(m.length);for(var b=0;b<m.length;b++){var x=m[b];p[b]=Math.round(x*d.scale+d.min)}}o+=f*h}else if("string"===c){var w=(0,O.NA)(s.shape);p=[];for(var S=0;S<w;S++){var E=new Uint32Array(e.slice(o,o+4))[0];o+=4;var C=new Uint8Array(e.slice(o,o+E));p.push(C),o+=E}}else{var N=_[c],D=e.slice(o,o+f*N);if("float32"===c)p=new Float32Array(D);else if("int32"===c)p=new Int32Array(D);else if("bool"===c)p=new Uint8Array(D);else{if("complex64"!==c)throw new Error("Unsupported dtype in weight '".concat(u,"': ").concat(c));p=new Float32Array(D);for(var A=new Float32Array(p.length/2),R=new Float32Array(p.length/2),P=0;P<A.length;P++)A[P]=p[2*P],R[P]=p[2*P+1];var M=(0,I.X)(A,l,"float32"),F=(0,I.X)(R,l,"float32");a[u]=(0,T.P)(M,F),M.dispose(),F.dispose()}o+=f*N}"complex64"!==c&&(a[u]=(0,I.X)(p,l,c))}}catch(L){i.e(L)}finally{i.f()}return a}function P(e){if(null===e)throw new Error("Invalid input value: ".concat(JSON.stringify(e)));var t=0,n=[];e.forEach((function(e){if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: ".concat(e.constructor.name))}));var r=new Uint8Array(t),a=0;return n.forEach((function(e){r.set(new Uint8Array(e.buffer),a),a+=e.byteLength})),r.buffer}var M="undefined"!==typeof Buffer&&("undefined"===typeof Blob||"undefined"===typeof atob||"undefined"===typeof btoa);function F(e){return M?Buffer.byteLength(e):new Blob([e]).size}function L(e){if(M)return Buffer.from(e).toString("base64");for(var t=new Uint8Array(e),n="",r=0,a=t.length;r<a;r++)n+=String.fromCharCode(t[r]);return btoa(n)}function j(e){if(M){var t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}for(var n=atob(e),r=new Uint8Array(n.length),a=0;a<n.length;++a)r.set([n.charCodeAt(a)],a);return r.buffer}function Z(e){if(1===e.length)return e[0];var t=0;e.forEach((function(e){t+=e.byteLength}));var n=new Uint8Array(t),r=0;return e.forEach((function(e){n.set(new Uint8Array(e),r),r+=e.byteLength})),n.buffer}function z(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);var t=e.split("/");return t[t.length-1]}function B(e,t){var n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),n}function U(e,t){return W.apply(this,arguments)}function W(){return W=(0,S.Z)(C().mark((function e(t,n){var r,a,o,i,s;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy},null!=t.trainingConfig&&(r.trainingConfig=t.trainingConfig),null==t.weightsManifest){e.next=11;break}return e.next=5,n(t.weightsManifest);case 5:a=e.sent,o=(0,N.Z)(a,2),i=o[0],s=o[1],r.weightSpecs=i,r.weightData=s;case 11:return null!=t.signature&&(r.signature=t.signature),null!=t.userDefinedMetadata&&(r.userDefinedMetadata=t.userDefinedMetadata),null!=t.modelInitializer&&(r.modelInitializer=t.modelInitializer),e.abrupt("return",r);case 15:case"end":return e.stop()}}),e)}))),W.apply(this,arguments)}function V(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:F(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:F(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:e.weightData.byteLength}}function H(){var e=function(){var e=function(e){for(var t=e<<13,n=0;0===(8388608&t);)n-=8388608,t<<=1;return(t&=-8388609)|n+947912704},t=new Uint32Array(2048);t[0]=0;for(var n=1;n<1024;n++)t[n]=e(n);for(var r=1024;r<2048;r++)t[r]=939524096+(r-1024<<13);return t}(),t=function(){var e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(var t=1;t<31;t++)e[t]=t<<23;for(var n=33;n<63;n++)e[n]=2147483648+(n-32<<23);return e}(),n=function(){for(var e=new Uint32Array(64),t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}();return function(r){for(var a=new ArrayBuffer(4*r.length),o=new Uint32Array(a),i=0;i<r.length;i++){var s=r[i],u=e[n[s>>10]+(1023&s)]+t[s>>10];o[i]=u}return new Float32Array(a)}}var G=function(){function e(){(0,x.Z)(this,e),this.saveRouters=[],this.loadRouters=[]}return(0,w.Z)(e,null,[{key:"getInstance",value:function(){return null==e.instance&&(e.instance=new e),e.instance}},{key:"registerSaveRouter",value:function(t){e.getInstance().saveRouters.push(t)}},{key:"registerLoadRouter",value:function(t){e.getInstance().loadRouters.push(t)}},{key:"getSaveHandlers",value:function(t){return e.getHandlers(t,"save")}},{key:"getLoadHandlers",value:function(t,n){return e.getHandlers(t,"load",n)}},{key:"getHandlers",value:function(t,n,r){var a=[];return("load"===n?e.getInstance().loadRouters:e.getInstance().saveRouters).forEach((function(e){var n=e(t,r);null!==n&&a.push(n)})),a}}]),e}(),q=function(e){return G.registerSaveRouter(e)},X=function(e){return G.registerLoadRouter(e)},K=function(e){return G.getSaveHandlers(e)},Y=function(e,t){return G.getLoadHandlers(e,t)},Q="tensorflowjs",$="models_store",J="model_info_store";function ee(){if(!(0,y.OB)().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var e="undefined"===typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function te(e){var t=e.result;t.createObjectStore($,{keyPath:"modelPath"}),t.createObjectStore(J,{keyPath:"modelPath"})}var ne=function(){function e(t){if((0,x.Z)(this,e),this.indexedDB=ee(),null==t||!t)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=t}return(0,w.Z)(e,[{key:"save",value:function(){var e=(0,S.Z)(C().mark((function e(t){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.modelTopology instanceof ArrayBuffer)){e.next=2;break}throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");case 2:return e.abrupt("return",this.databaseAction(this.modelPath,t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=(0,S.Z)(C().mark((function e(){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.databaseAction(this.modelPath));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"databaseAction",value:function(e,t){var n=this;return new Promise((function(e,r){var a=n.indexedDB.open(Q,1);a.onupgradeneeded=function(){return te(a)},a.onsuccess=function(){var o=a.result;if(null==t){var i=o.transaction($,"readonly"),s=i.objectStore($).get(n.modelPath);s.onsuccess=function(){if(null==s.result)return o.close(),r(new Error("Cannot find model with path '".concat(n.modelPath,"' ")+"in IndexedDB."));e(s.result.modelArtifacts)},s.onerror=function(e){return o.close(),r(s.error)},i.oncomplete=function(){return o.close()}}else{var u,c=V(t),l=o.transaction(J,"readwrite"),f=l.objectStore(J),p=f.put({modelPath:n.modelPath,modelArtifactsInfo:c});p.onsuccess=function(){var a=(u=o.transaction($,"readwrite")).objectStore($).put({modelPath:n.modelPath,modelArtifacts:t,modelArtifactsInfo:c});a.onsuccess=function(){return e({modelArtifactsInfo:c})},a.onerror=function(e){var t=(f=l.objectStore(J)).delete(n.modelPath);t.onsuccess=function(){return o.close(),r(a.error)},t.onerror=function(e){return o.close(),r(a.error)}}},p.onerror=function(e){return o.close(),r(p.error)},l.oncomplete=function(){null==u?o.close():u.oncomplete=function(){return o.close()}}}},a.onerror=function(e){return r(a.error)}}))}}]),e}();ne.URL_SCHEME="indexeddb://";var re=function(e){return(0,y.OB)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(ne.URL_SCHEME)?(t=e.slice(ne.URL_SCHEME.length),new ne(t)):null;var t};G.registerSaveRouter(re),G.registerLoadRouter(re);var ae=function(){function e(){(0,x.Z)(this,e),this.indexedDB=ee()}return(0,w.Z)(e,[{key:"listModels",value:function(){var e=(0,S.Z)(C().mark((function e(){var t=this;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=t.indexedDB.open(Q,1);r.onupgradeneeded=function(){return te(r)},r.onsuccess=function(){var t=r.result,a=t.transaction(J,"readonly"),o=a.objectStore(J).getAll();o.onsuccess=function(){var t,n={},r=(0,k.Z)(o.result);try{for(r.s();!(t=r.n()).done;){var a=t.value;n[a.modelPath]=a.modelArtifactsInfo}}catch(i){r.e(i)}finally{r.f()}e(n)},o.onerror=function(e){return t.close(),n(o.error)},a.oncomplete=function(){return t.close()}},r.onerror=function(e){return n(r.error)}})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"removeModel",value:function(){var e=(0,S.Z)(C().mark((function e(t){var n=this;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(r=t).startsWith(ne.URL_SCHEME)?r.slice(ne.URL_SCHEME.length):r,e.abrupt("return",new Promise((function(e,r){var a=n.indexedDB.open(Q,1);a.onupgradeneeded=function(){return te(a)},a.onsuccess=function(){var n,o=a.result,i=o.transaction(J,"readwrite"),s=i.objectStore(J),u=s.get(t);u.onsuccess=function(){if(null==u.result)return o.close(),r(new Error("Cannot find model with path '".concat(t,"' ")+"in IndexedDB."));var a=s.delete(t),i=function(){var a=(n=o.transaction($,"readwrite")).objectStore($).delete(t);a.onsuccess=function(){return e(u.result.modelArtifactsInfo)},a.onerror=function(e){return r(u.error)}};a.onsuccess=i,a.onerror=function(e){return i(),o.close(),r(u.error)}},u.onerror=function(e){return o.close(),r(u.error)},i.oncomplete=function(){null==n?o.close():n.oncomplete=function(){return o.close()}}},a.onerror=function(e){return r(a.error)}})));case 2:case"end":return e.stop()}var r}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),oe="/",ie="tensorflowjs_models",se="info",ue="model_topology",ce="weight_specs",le="weight_data",fe="model_metadata";function pe(e){return{info:[ie,e,se].join(oe),topology:[ie,e,ue].join(oe),weightSpecs:[ie,e,ce].join(oe),weightData:[ie,e,le].join(oe),modelMetadata:[ie,e,fe].join(oe)}}function de(e){for(var t=0,n=Object.values(e);t<n.length;t++){var r=n[t];window.localStorage.removeItem(r)}}function he(e){var t=e.split(oe);if(t.length<3)throw new Error("Invalid key format: ".concat(e));return t.slice(1,t.length-1).join(oe)}var ve=function(){function e(t){if((0,x.Z)(this,e),!(0,y.OB)().getBool("IS_BROWSER")||"undefined"===typeof window||"undefined"===typeof window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==t||!t)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=t,this.keys=pe(this.modelPath)}return(0,w.Z)(e,[{key:"save",value:function(){var e=(0,S.Z)(C().mark((function e(t){var n,r,a,o;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.modelTopology instanceof ArrayBuffer)){e.next=4;break}throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");case 4:return n=JSON.stringify(t.modelTopology),r=JSON.stringify(t.weightSpecs),a=V(t),e.prev=7,this.LS.setItem(this.keys.info,JSON.stringify(a)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,L(t.weightData)),o={format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,signature:null!=t.signature?t.signature:void 0,userDefinedMetadata:null!=t.userDefinedMetadata?t.userDefinedMetadata:void 0,modelInitializer:null!=t.modelInitializer?t.modelInitializer:void 0,trainingConfig:null!=t.trainingConfig?t.trainingConfig:void 0},this.LS.setItem(this.keys.modelMetadata,JSON.stringify(o)),e.abrupt("return",{modelArtifactsInfo:a});case 17:throw e.prev=17,e.t0=e.catch(7),de(this.keys),new Error("Failed to save model '".concat(this.modelPath,"' to local storage: ")+"size quota being exceeded is a possible cause of this failure: "+"modelTopologyBytes=".concat(a.modelTopologyBytes,", ")+"weightSpecsBytes=".concat(a.weightSpecsBytes,", ")+"weightDataBytes=".concat(a.weightDataBytes,"."));case 21:case"end":return e.stop()}}),e,this,[[7,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=(0,S.Z)(C().mark((function e(){var t,n,r,a,o,i,s;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=(t=JSON.parse(this.LS.getItem(this.keys.info)))){e.next=3;break}throw new Error("In local storage, there is no model with name '".concat(this.modelPath,"'"));case 3:if("JSON"===t.modelTopologyType){e.next=5;break}throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");case 5:if(n={},null!=(r=JSON.parse(this.LS.getItem(this.keys.topology)))){e.next=9;break}throw new Error("In local storage, the topology of model '".concat(this.modelPath,"' ")+"is missing.");case 9:if(n.modelTopology=r,null!=(a=JSON.parse(this.LS.getItem(this.keys.weightSpecs)))){e.next=13;break}throw new Error("In local storage, the weight specs of model '".concat(this.modelPath,"' ")+"are missing.");case 13:if(n.weightSpecs=a,null!=(o=this.LS.getItem(this.keys.modelMetadata))&&(i=JSON.parse(o),n.format=i.format,n.generatedBy=i.generatedBy,n.convertedBy=i.convertedBy,null!=i.signature&&(n.signature=i.signature),null!=i.userDefinedMetadata&&(n.userDefinedMetadata=i.userDefinedMetadata),null!=i.modelInitializer&&(n.modelInitializer=i.modelInitializer),null!=i.trainingConfig&&(n.trainingConfig=i.trainingConfig)),null!=(s=this.LS.getItem(this.keys.weightData))){e.next=19;break}throw new Error("In local storage, the binary weight values of model "+"'".concat(this.modelPath,"' are missing."));case 19:return n.weightData=j(s),e.abrupt("return",n);case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();ve.URL_SCHEME="localstorage://";var me=function(e){return(0,y.OB)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(ve.URL_SCHEME)?(t=e.slice(ve.URL_SCHEME.length),new ve(t)):null;var t};G.registerSaveRouter(me),G.registerLoadRouter(me);var ge=function(){function e(){(0,x.Z)(this,e),(0,O.hu)((0,y.OB)().getBool("IS_BROWSER"),(function(){return"Current environment is not a web browser"})),(0,O.hu)("undefined"===typeof window||"undefined"!==typeof window.localStorage,(function(){return"Current browser does not appear to support localStorage"})),this.LS=window.localStorage}return(0,w.Z)(e,[{key:"listModels",value:function(){var e=(0,S.Z)(C().mark((function e(){var t,n,r,a,o,i;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t={},n=ie+oe,r=oe+se,a=0;a<this.LS.length;++a)(o=this.LS.key(a)).startsWith(n)&&o.endsWith(r)&&(i=he(o),t[i]=JSON.parse(this.LS.getItem(o)));return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeModel",value:function(){var e=(0,S.Z)(C().mark((function e(t){var n,r;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(a=t).startsWith(ve.URL_SCHEME)?a.slice(ve.URL_SCHEME.length):a,n=pe(t),null!=this.LS.getItem(n.info)){e.next=4;break}throw new Error("Cannot find model at path '".concat(t,"'"));case 4:return r=JSON.parse(this.LS.getItem(n.info)),de(n),e.abrupt("return",r);case 7:case"end":return e.stop()}var a}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ye="://",be=function(){function e(){(0,x.Z)(this,e),this.managers={}}return(0,w.Z)(e,null,[{key:"getInstance",value:function(){return null==e.instance&&(e.instance=new e),e.instance}},{key:"registerManager",value:function(t,n){(0,O.hu)(null!=t,(function(){return"scheme must not be undefined or null."})),t.endsWith(ye)&&(t=t.slice(0,t.indexOf(ye))),(0,O.hu)(t.length>0,(function(){return"scheme must not be an empty string."}));var r=e.getInstance();(0,O.hu)(null==r.managers[t],(function(){return"A model store manager is already registered for scheme '".concat(t,"'.")})),r.managers[t]=n}},{key:"getManager",value:function(e){var t=this.getInstance().managers[e];if(null==t)throw new Error("Cannot find model manager for scheme '".concat(e,"'"));return t}},{key:"getSchemes",value:function(){return Object.keys(this.getInstance().managers)}}]),e}();function xe(e){if(-1===e.indexOf(ye))throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+"".concat(be.getSchemes().join(",")));return{scheme:e.split(ye)[0],path:e.split(ye)[1]}}function we(e,t){return ke.apply(this,arguments)}function ke(){return ke=(0,S.Z)(C().mark((function e(t,n){var r,a,o,i,s,u,c,l,f,p,d=arguments;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>2&&void 0!==d[2]&&d[2],(0,O.hu)(t!==n,(function(){return"Old path and new path are the same: '".concat(t,"'")})),a=G.getLoadHandlers(t),(0,O.hu)(a.length>0,(function(){return"Copying failed because no load handler is found for source URL ".concat(t,".")})),(0,O.hu)(a.length<2,(function(){return"Copying failed because more than one (".concat(a.length,") ")+"load handlers for source URL ".concat(t,".")})),o=a[0],i=G.getSaveHandlers(n),(0,O.hu)(i.length>0,(function(){return"Copying failed because no save handler is found for destination "+"URL ".concat(n,".")})),(0,O.hu)(i.length<2,(function(){return"Copying failed because more than one (".concat(a.length,") ")+"save handlers for destination URL ".concat(n,".")})),s=i[0],u=xe(t).scheme,c=xe(t).path,l=u===xe(t).scheme,e.next=15,o.load();case 15:if(f=e.sent,!r||!l){e.next=19;break}return e.next=19,be.getManager(u).removeModel(c);case 19:return e.next=21,s.save(f);case 21:if(p=e.sent,!r||l){e.next=25;break}return e.next=25,be.getManager(u).removeModel(c);case 25:return e.abrupt("return",p.modelArtifactsInfo);case 26:case"end":return e.stop()}}),e)}))),ke.apply(this,arguments)}function Se(){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,S.Z)(C().mark((function e(){var t,n,r,a,o,i,s;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=be.getSchemes(),n={},r=(0,k.Z)(t),e.prev=3,r.s();case 5:if((a=r.n()).done){e.next=13;break}return o=a.value,e.next=9,be.getManager(o).listModels();case 9:for(s in i=e.sent)n[o+ye+s]=i[s];case 11:e.next=5;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",n);case 22:case"end":return e.stop()}}),e,null,[[3,15,18,21]])})))).apply(this,arguments)}function Ce(e){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,S.Z)(C().mark((function e(t){var n,r;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=xe(t),r=be.getManager(n.scheme),e.abrupt("return",r.removeModel(n.path));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Te(e,t){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,S.Z)(C().mark((function e(t,n){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!1,e.abrupt("return",we(t,n,false));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oe(e,t){return _e.apply(this,arguments)}function _e(){return(_e=(0,S.Z)(C().mark((function e(t,n){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!0,e.abrupt("return",we(t,n,true));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var De=function(){function e(){(0,x.Z)(this,e)}return(0,w.Z)(e,[{key:"fetch",value:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return fetch(e,t)}))},{key:"now",value:function(){return performance.now()}},{key:"encode",value:function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Browser's encoder only supports utf-8, but got ".concat(t));return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}},{key:"decode",value:function(e,t){return new TextDecoder(t).decode(e)}}]),e}();if((0,y.OB)().get("IS_BROWSER")){(0,y.OB)().setPlatform("browser",new De);try{be.registerManager(ve.URL_SCHEME,new ge)}catch(Ir){}try{be.registerManager(ne.URL_SCHEME,new ae)}catch(Ir){}}var Ae,Re=function(){return n(5410)};var Pe=function(){function e(){(0,x.Z)(this,e),this.util=n(8628),this.textEncoder=new this.util.TextEncoder}return(0,w.Z)(e,[{key:"fetch",value:function(e,t){return null!=(0,y.OB)().global.fetch?(0,y.OB)().global.fetch(e,t):(null==Ae&&(Ae=Re()),Ae(e,t))}},{key:"now",value:function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}},{key:"encode",value:function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Node built-in encoder only supports utf-8, but got ".concat(t));return this.textEncoder.encode(e)}},{key:"decode",value:function(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)}}]),e}();(0,y.OB)().get("IS_NODE")&&!(0,y.OB)().get("IS_BROWSER")&&(0,y.OB)().setPlatform("node",new Pe);var Me=n(7039),Fe=n(9118),Le=n(672),je=n(4600),Ze=n(4376);(0,h.wv)();var ze={buffer:Me.f,cast:Fe.p,clone:Le.d,print:je.S};(0,Ze.Vp)(ze);var Be=n(3433);function Ue(e){return new Promise((function(e){return setTimeout(e)})).then(e)}var We=function(){function e(t){if((0,x.Z)(this,e),!(0,y.OB)().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");t.startsWith(e.URL_SCHEME)&&(t=t.slice(e.URL_SCHEME.length)),null!=t&&0!==t.length||(t="model"),this.modelJsonFileName=t+".json",this.weightDataFileName=t+".weights.bin"}return(0,w.Z)(e,[{key:"save",value:function(){var e=(0,S.Z)(C().mark((function e(t){var n,r,a,o,i,s;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!==typeof document){e.next=2;break}throw new Error("Browser downloads are not supported in this environment since `document` is not present");case 2:if(n=window.URL.createObjectURL(new Blob([t.weightData],{type:"application/octet-stream"})),!(t.modelTopology instanceof ArrayBuffer)){e.next=7;break}throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 7:return r=[{paths:["./"+this.weightDataFileName],weights:t.weightSpecs}],a=B(t,r),o=window.URL.createObjectURL(new Blob([JSON.stringify(a)],{type:"application/json"})),(i=null==this.modelJsonAnchor?document.createElement("a"):this.modelJsonAnchor).download=this.modelJsonFileName,i.href=o,e.next=15,Ue((function(){return i.dispatchEvent(new MouseEvent("click"))}));case 15:if(null==t.weightData){e.next=21;break}return(s=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,s.href=n,e.next=21,Ue((function(){return s.dispatchEvent(new MouseEvent("click"))}));case 21:return e.abrupt("return",{modelArtifactsInfo:V(t)});case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();We.URL_SCHEME="downloads://";var Ve=function(){function e(t){if((0,x.Z)(this,e),null==t||t.length<1)throw new Error("When calling browserFiles, at least 1 file is required, "+"but received ".concat(t));this.jsonFile=t[0],this.weightsFiles=t.slice(1)}return(0,w.Z)(e,[{key:"load",value:function(){var e=(0,S.Z)(C().mark((function e(){var t=this;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=new FileReader;r.onload=function(r){var a=JSON.parse(r.target.result),o=a.modelTopology;if(null!=o)if(null!=a.weightsManifest)if(0!==t.weightsFiles.length){var i=U(a,(function(e){return t.loadWeights(e)}));e(i)}else e({modelTopology:o});else n(new Error("weightManifest field is missing from file ".concat(t.jsonFile.name)));else n(new Error("modelTopology field is missing from file ".concat(t.jsonFile.name)))},r.onerror=function(e){return n("Failed to read model topology and weights manifest JSON "+"from file '".concat(t.jsonFile.name,"'. BrowserFiles supports loading ")+"Keras-style tf.Model artifacts only.")},r.readAsText(t.jsonFile)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"loadWeights",value:function(e){var t,n=this,r=[],a=[],o=(0,k.Z)(e);try{for(o.s();!(t=o.n()).done;){var i=t.value;r.push.apply(r,(0,Be.Z)(i.weights)),a.push.apply(a,(0,Be.Z)(i.paths))}}catch(Ir){o.e(Ir)}finally{o.f()}var s=this.checkManifestAndWeightFiles(e),u=a.map((function(e){return n.loadWeightsFile(e,s[e])}));return Promise.all(u).then((function(e){return[r,Z(e)]}))}},{key:"loadWeightsFile",value:function(e,t){return new Promise((function(n,r){var a=new FileReader;a.onload=function(e){var t=e.target.result;n(t)},a.onerror=function(t){return r("Failed to weights data from file of path '".concat(e,"'."))},a.readAsArrayBuffer(t)}))}},{key:"checkManifestAndWeightFiles",value:function(e){var t,n=this,r=[],a=this.weightsFiles.map((function(e){return z(e.name)})),o={},i=(0,k.Z)(e);try{for(i.s();!(t=i.n()).done;){t.value.paths.forEach((function(e){var t=z(e);if(-1!==r.indexOf(t))throw new Error("Duplicate file basename found in weights manifest: "+"'".concat(t,"'"));if(r.push(t),-1===a.indexOf(t))throw new Error("Weight file with basename '".concat(t,"' is not provided."));o[e]=n.weightsFiles[a.indexOf(t)]}))}}catch(Ir){i.e(Ir)}finally{i.f()}if(r.length!==this.weightsFiles.length)throw new Error("Mismatch in the number of files in weights manifest "+"(".concat(r.length,") and the number of weight files provided ")+"(".concat(this.weightsFiles.length,")."));return o}}]),e}();function He(e){return new Ve(e)}function Ge(e,t,n,r){!function(e){(0,O.hu)(null!=e&&Array.isArray(e)&&e.length>0,(function(){return"promises must be a none empty array"}))}(e),function(e,t){(0,O.hu)(e>=0&&e<=1,(function(){return"Progress fraction must be in range [0, 1], but "+"got startFraction ".concat(e)})),(0,O.hu)(t>=0&&t<=1,(function(){return"Progress fraction must be in range [0, 1], but "+"got endFraction ".concat(t)})),(0,O.hu)(t>=e,(function(){return"startFraction must be no more than endFraction, but "+"got startFraction ".concat(e," and endFraction ")+"".concat(t)}))}(n=null==n?0:n,r=null==r?1:r);var a=0;return Promise.all(e.map((function(o){return o.then((function(o){var i=n+ ++a/e.length*(r-n);return t(i),o})),o})))}function qe(e,t){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,S.Z)(C().mark((function e(t,n){var r,a,o,i,s,u,c,l,f;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n&&(n={}),r=null==n.fetchFunc?(0,y.OB)().platform.fetch:n.fetchFunc,a=t.map((function(e){return r(e,n.requestInit,{isBinary:!0})})),o=0,i=.5,null!=n.onProgress){e.next=11;break}return e.next=8,Promise.all(a);case 8:e.t0=e.sent,e.next=14;break;case 11:return e.next=13,Ge(a,n.onProgress,o,i);case 13:e.t0=e.sent;case 14:if(s=e.t0,u=s.map((function(e){return e.arrayBuffer()})),c=.5,l=1,null!=n.onProgress){e.next=24;break}return e.next=21,Promise.all(u);case 21:e.t1=e.sent,e.next=27;break;case 24:return e.next=26,Ge(u,n.onProgress,c,l);case 26:e.t1=e.sent;case 27:return f=e.t1,e.abrupt("return",f);case 29:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ke(e){return Ye.apply(this,arguments)}function Ye(){return Ye=(0,S.Z)(C().mark((function e(t){var n,r,a,o,i=arguments;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:"",r=i.length>2?i[2]:void 0,a=i.length>3?i[3]:void 0,o=Qe((function(e){return qe(e,{requestInit:a})})),e.abrupt("return",o(t,n,r));case 6:case"end":return e.stop()}}),e)}))),Ye.apply(this,arguments)}function Qe(e){return function(){var t=(0,S.Z)(C().mark((function t(n){var r,a,o,i,s,u,c,l,f,p,d,h,v=arguments;return C().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=v.length>1&&void 0!==v[1]?v[1]:"",a=v.length>2?v[2]:void 0,o=n.map((function(){return!1})),i={},s=null!=a?a.map((function(){return!1})):[],u=[],n.forEach((function(e,t){var n=0;e.weights.forEach((function(e){var r="quantization"in e?e.quantization.dtype:e.dtype,c=_[r]*O.NA(e.shape),l=function(){o[t]=!0,null==i[t]&&(i[t]=[]),i[t].push({manifestEntry:e,groupOffset:n,sizeBytes:c})};null!=a?a.forEach((function(t,n){t===e.name&&(l(),s[n]=!0)})):l(),u.push(e.name),n+=c}))})),s.every((function(e){return e}))){t.next=10;break}throw c=a.filter((function(e,t){return!s[t]})),new Error("Could not find weights in manifest with names: "+"".concat(c.join(", "),". \n")+"Manifest JSON has weights with names: "+"".concat(u.join(", "),"."));case 10:return l=o.reduce((function(e,t,n){return t&&e.push(n),e}),[]),f=[],l.forEach((function(e){n[e].paths.forEach((function(e){var t=r+(r.endsWith("/")?"":"/")+e;f.push(t)}))})),t.next=15,e(f);case 15:return p=t.sent,d={},h=0,l.forEach((function(e){for(var t=n[e].paths.length,r=0,a=0;a<t;a++)r+=p[h+a].byteLength;for(var o=new ArrayBuffer(r),s=new Uint8Array(o),u=0,c=0;c<t;c++){var l=new Uint8Array(p[h+c]);s.set(l,u),u+=l.byteLength}i[e].forEach((function(e){var t=R(o.slice(e.groupOffset,e.groupOffset+e.sizeBytes),[e.manifestEntry]);for(var n in t)d[n]=t[n]})),h+=t})),t.abrupt("return",d);case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}G.registerSaveRouter((function(e){return(0,y.OB)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(We.URL_SCHEME)?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"model";return new We(e)}(e.slice(We.URL_SCHEME.length)):null}));var $e=function(){function e(t,n){if((0,x.Z)(this,e),this.DEFAULT_METHOD="POST",null==n&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.onProgress=n.onProgress,this.weightUrlConverter=n.weightUrlConverter,null!=n.fetchFunc?((0,O.hu)("function"===typeof n.fetchFunc,(function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"})),this.fetch=n.fetchFunc):this.fetch=(0,y.OB)().platform.fetch,(0,O.hu)(null!=t&&t.length>0,(function(){return"URL path for http must not be null, undefined or empty."})),Array.isArray(t)&&(0,O.hu)(2===t.length,(function(){return"URL paths for http must have a length of 2, "+"(actual length is ".concat(t.length,").")})),this.path=t,null!=n.requestInit&&null!=n.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{}}return(0,w.Z)(e,[{key:"save",value:function(){var e=(0,S.Z)(C().mark((function e(t){var n,r,a,o;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.modelTopology instanceof ArrayBuffer)){e.next=2;break}throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");case 2:return(n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,r=[{paths:["./model.weights.bin"],weights:t.weightSpecs}],a=B(t,r),n.body.append("model.json",new Blob([JSON.stringify(a)],{type:"application/json"}),"model.json"),null!=t.weightData&&n.body.append("model.weights.bin",new Blob([t.weightData],{type:"application/octet-stream"}),"model.weights.bin"),e.next=10,this.fetch(this.path,n);case 10:if(!(o=e.sent).ok){e.next=15;break}return e.abrupt("return",{modelArtifactsInfo:V(t),responses:[o]});case 15:throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+"".concat(o.status,"."));case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"load",value:function(){var e=(0,S.Z)(C().mark((function e(){var t,n,r,a,o,i=this;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetch(this.path,this.requestInit);case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("Request to ".concat(this.path," failed with status code ")+"".concat(t.status,". Please verify this URL points to ")+"the model JSON of the model to load.");case 5:return e.prev=5,e.next=8,t.json();case 8:n=e.sent,e.next=16;break;case 11:throw e.prev=11,e.t0=e.catch(5),r="Failed to parse model JSON of response from ".concat(this.path,"."),this.path.endsWith(".pb")?r+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":r+=" Please make sure the server is serving valid JSON for this request.",new Error(r);case 16:if(a=n.modelTopology,o=n.weightsManifest,null!=a||null!=o){e.next=20;break}throw new Error("The JSON from HTTP path ".concat(this.path," contains neither model ")+"topology or manifest for weights.");case 20:return e.abrupt("return",U(n,(function(e){return i.loadWeights(e)})));case 21:case"end":return e.stop()}}),e,this,[[5,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"loadWeights",value:function(){var e=(0,S.Z)(C().mark((function e(t){var n,r,a,o,i,s,u,c,l,f,p,d,h,v,m,g,y,b,x;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Array.isArray(this.path)?this.path[1]:this.path,r=Je(n),a=(0,N.Z)(r,2),o=a[0],i=a[1],s=this.weightPathPrefix||o,u=[],c=(0,k.Z)(t);try{for(c.s();!(l=c.n()).done;)f=l.value,u.push.apply(u,(0,Be.Z)(f.weights))}catch(Ir){c.e(Ir)}finally{c.f()}p=[],d=[],h=(0,k.Z)(t);try{for(h.s();!(v=h.n()).done;){m=v.value,g=(0,k.Z)(m.paths);try{for(g.s();!(y=g.n()).done;)b=y.value,null!=this.weightUrlConverter?d.push(this.weightUrlConverter(b)):p.push(s+b+i)}catch(Ir){g.e(Ir)}finally{g.f()}}}catch(Ir){h.e(Ir)}finally{h.f()}if(!this.weightUrlConverter){e.next=19;break}return e.t0=p.push,e.t1=p,e.t2=Be.Z,e.next=16,Promise.all(d);case 16:e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.t0.apply.call(e.t0,e.t1,e.t4);case 19:return e.next=21,qe(p,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress});case 21:return x=e.sent,e.abrupt("return",[u,Z(x)]);case 23:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Je(e){var t=e.lastIndexOf("/"),n=e.lastIndexOf("?");return[e.substring(0,t)+"/",n>t?e.substring(n):""]}function et(e){return null!=e.match($e.URL_SCHEME_REGEX)}$e.URL_SCHEME_REGEX=/^https?:\/\//;var tt=function(e,t){if("undefined"===typeof fetch&&(null==t||null==t.fetchFunc))return null;return(Array.isArray(e)?e.every((function(e){return et(e)})):et(e))?nt(e,t):null};function nt(e,t){return new $e(e,t)}function rt(e,t){return nt(e,t)}G.registerSaveRouter(tt),G.registerLoadRouter(tt);var at=function(){function e(t){(0,x.Z)(this,e),this.modelArtifacts=t}return(0,w.Z)(e,[{key:"load",value:function(){var e=(0,S.Z)(C().mark((function e(){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.modelArtifacts);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),ot=function(){function e(t){(0,x.Z)(this,e),this.saveHandler=t}return(0,w.Z)(e,[{key:"save",value:function(){var e=(0,S.Z)(C().mark((function e(t){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.saveHandler(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function it(e,t,n,r){if(1===arguments.length){var a=null!=e.modelTopology||null!=e.weightSpecs;return a?new at(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new at({modelTopology:e}))}return console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new at({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r})}function st(e){return new ot(e)}var ut=n(8354),ct=n(7221),lt=n(4326),ft=n(8640),pt=n(1240);var dt,ht=(0,ft.op)({confusionMatrix_:function(e,t,n){var r=(0,ut._1)(e,"labels","confusionMatrix"),a=(0,ut._1)(t,"predictions","confusionMatrix");O.hu(null==n||n>0&&Number.isInteger(n),(function(){return"If provided, numClasses must be a positive integer, "+"but got ".concat(n)})),O.hu(1===r.rank,(function(){return"Expected the rank of labels to be 1, but got ".concat(r.rank)})),O.hu(1===a.rank,(function(){return"Expected the rank of predictions to be 1, "+"but got ".concat(a.rank)})),O.hu(r.shape[0]===a.shape[0],(function(){return"Mismatch in the number of examples: "+"".concat(r.shape[0]," vs. ").concat(a.shape[0],". ")+"Labels and predictions should have the same number of elements."})),O.hu(n>0&&Number.isInteger(n),(function(){return"numClasses is required to be a positive integer, but got "+"".concat(n)}));var o=(0,lt.l)((0,Fe.p)(r,"int32"),n),i=(0,lt.l)((0,Fe.p)(a,"int32"),n),s=(0,pt.p)(o),u=(0,ct.O)(s,i);return(0,Fe.p)(u,"int32")}}),vt=n(5774),mt=n(2145),gt=n(8864),yt=n(3123);function bt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var n=!1,r=!1,a=!1,o=!1,i=!1,s=!1;if(e.data instanceof Uint8Array)n=!0;else if("undefined"!==typeof ImageData&&e instanceof ImageData)r=!0;else if("undefined"!==typeof HTMLVideoElement&&e instanceof HTMLVideoElement)a=!0;else if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement)o=!0;else if(null!=e.getContext)i=!0;else{if(!("undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap))throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, "+"but was ".concat(e.constructor.name));s=!0}if(a){var u=2;if(a&&e.readyState<u)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.")}var c=(0,gt.pI)(mt.eB,h.BV.backendName);if(null!=c){var l={pixels:e},f={numChannels:t};return h.BV.runKernel(mt.eB,l,f)}var p,d,v=a?[e.videoWidth,e.videoHeight]:[e.width,e.height],m=(0,N.Z)(v,2),g=m[0],y=m[1];if(i)p=e.getContext("2d").getImageData(0,0,g,y).data;else if(r||n)p=e.data;else if(o||a||s){if(null==dt)if("undefined"===typeof document){if("undefined"===typeof OffscreenCanvas||"undefined"===typeof OffscreenCanvasRenderingContext2D)throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");dt=new OffscreenCanvas(1,1).getContext("2d")}else dt=document.createElement("canvas").getContext("2d");dt.canvas.width=g,dt.canvas.height=y,dt.drawImage(e,0,0,g,y),p=dt.getImageData(0,0,g,y).data}if(4===t)d=new Int32Array(p);else{var b=g*y;d=new Int32Array(b*t);for(var x=0;x<b;x++)for(var w=0;w<t;++w)d[x*t+w]=p[4*x+w]}var k=[y,g,t];return(0,yt.w)(d,k,"int32")}function xt(e){return"undefined"!==typeof window&&"undefined"!==typeof ImageBitmap&&window.hasOwnProperty("createImageBitmap")&&!(e instanceof ImageBitmap)&&function(e){return null!=e&&0!==e.width&&0!==e.height}(e)&&!function(e){return null!=e&&e.data instanceof Uint8Array}(e)}function wt(e){return kt.apply(this,arguments)}function kt(){return kt=(0,S.Z)(C().mark((function e(t){var n,r,a,o=arguments;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.length>1&&void 0!==o[1]?o[1]:3,r=null,!(0,y.OB)().getBool("WRAP_TO_IMAGEBITMAP")||!xt(t)){e.next=15;break}return e.prev=3,e.next=6,createImageBitmap(t,{premultiplyAlpha:"none"});case 6:a=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),a=null;case 12:r=null!=a&&a.width===t.width&&a.height===t.height?a:t,e.next=16;break;case 15:r=t;case 16:return e.abrupt("return",bt(r,n));case 17:case"end":return e.stop()}}),e,null,[[3,9]])}))),kt.apply(this,arguments)}function St(e,t){return Et.apply(this,arguments)}function Et(){return(Et=(0,S.Z)(C().mark((function e(t,n){var r,a,o,i,s,u,c,l,f,p,d,h,v,m,g,y,b;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(0,ut._1)(t,"img","toPixels"),t instanceof Ze.es||(a=r,r=(0,Fe.p)(a,"int32"),a.dispose()),2===r.rank||3===r.rank){e.next=4;break}throw new Error("toPixels only supports rank 2 or 3 tensors, got rank ".concat(r.rank,"."));case 4:if(o=r.shape.slice(0,2),i=(0,N.Z)(o,2),s=i[0],u=i[1],!((c=2===r.rank?1:r.shape[2])>4||2===c)){e.next=8;break}throw new Error("toPixels only supports depth of size "+"1, 3 or 4 but got ".concat(c));case 8:if("float32"===r.dtype||"int32"===r.dtype){e.next=10;break}throw new Error("Unsupported type for toPixels: ".concat(r.dtype,".")+" Please use float32 or int32 tensors.");case 10:return e.next=12,r.data();case 12:l=e.sent,f="float32"===r.dtype?255:1,p=new Uint8ClampedArray(u*s*4),d=0;case 16:if(!(d<s*u)){e.next=41;break}h=[0,0,0,255],v=0;case 19:if(!(v<c)){e.next=33;break}if(m=l[d*c+v],"float32"!==r.dtype){e.next=26;break}if(!(m<0||m>1)){e.next=24;break}throw new Error("Tensor values for a float32 Tensor must be in the "+"range [0 - 1] but encountered ".concat(m,"."));case 24:e.next=29;break;case 26:if("int32"!==r.dtype){e.next=29;break}if(!(m<0||m>255)){e.next=29;break}throw new Error("Tensor values for a int32 Tensor must be in the "+"range [0 - 255] but encountered ".concat(m,"."));case 29:1===c?(h[0]=m*f,h[1]=m*f,h[2]=m*f):h[v]=m*f;case 30:v++,e.next=19;break;case 33:p[(g=4*d)+0]=Math.round(h[0]),p[g+1]=Math.round(h[1]),p[g+2]=Math.round(h[2]),p[g+3]=Math.round(h[3]);case 38:++d,e.next=16;break;case 41:return null!=n&&(n.width=u,n.height=s,y=n.getContext("2d"),b=new ImageData(p,u,s),y.putImageData(b,0,0)),r!==t&&r.dispose(),e.abrupt("return",p);case 44:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ct=(0,ft.op)({fromPixels_:bt});function Nt(e,t){var n=e.shape.length,r=t.shape.length;if(n<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher,"+" but the rank was ".concat(n,"."));if(r<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(r,"."));if("int32"!==t.dtype)throw new Error("tf.gatherND() expects the indices to be int32 type,"+" but the dtype was ".concat(t.dtype,"."));if(t.shape[r-1]>n)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+"".concat(t.shape[r-1]," vs. ").concat(n));if(0===(0,O.NA)(e.shape))throw new Error("Requested more than 0 entries, but input is empty."+" Input shape: ".concat(e.shape,"."));for(var a=t.shape,o=a[a.length-1],i=1,s=0;s<a.length-1;++s)i*=a[s];var u=e.shape,c=a.slice();c.pop();for(var l=1,f=o;f<n;++f)l*=u[f],c.push(u[f]);var p=[].concat((0,Be.Z)((0,O.e3)(e.shape).map((function(e){return e/l}))),[1]).slice(0,o);return[c,i,l,p]}var Tt=n(8604),It=n(2875),Ot=function(){function e(){(0,x.Z)(this,e)}return(0,w.Z)(e,[{key:"getClassName",value:function(){return this.constructor.className}}],[{key:"fromConfig",value:function(e,t){return new e(t)}}]),e}(),_t=function(){function e(){(0,x.Z)(this,e),this.classNameMap={}}return(0,w.Z)(e,null,[{key:"getMap",value:function(){return null==e.instance&&(e.instance=new e),e.instance}},{key:"register",value:function(t){e.getMap().classNameMap[t.className]=[t,t.fromConfig]}}]),e}();function Dt(e){(0,O.hu)(null!=e.className,(function(){return"Class being registered does not have the static className property defined."})),(0,O.hu)("string"===typeof e.className,(function(){return"className is required to be a string, but got type "+typeof e.className})),(0,O.hu)(e.className.length>0,(function(){return"Class being registered has an empty-string as its className, which is disallowed."})),_t.register(e)}var At=n(9064),Rt=n(115),Pt=.1;function Mt(e,t,n){return null==n&&(n=Ft()),Lt(e,t,(function(e,t){return Bt(e,t,n)}))}function Ft(){return 32===h.BV.backend.floatPrecision()?.001:Pt}function Lt(e,t,n){var r=!0;if(((0,O.fU)(e)||(0,O.fU)(t))&&(r=!1),(0,O.fU)(e)&&(0,O.fU)(t)&&(r=!0),r){var a=e.constructor.name,o=t.constructor.name;if(a!==o)throw new Error("Arrays are of different type. Actual: ".concat(a,". ")+"Expected: ".concat(o))}if(Array.isArray(e)&&Array.isArray(t)){var i=(0,ut.C)(e),s=(0,ut.C)(t);if(!(0,O.cO)(i,s))throw new Error("Arrays have different shapes. "+"Actual: [".concat(i,"]. Expected: [").concat(s,"]"))}var u=(0,O.fU)(e)?e:(0,O.xH)(e),c=(0,O.fU)(t)?t:(0,O.xH)(t);if(u.length!==c.length)throw new Error("Arrays have different lengths actual: ".concat(u.length," vs ")+"expected: ".concat(c.length,".\n")+"Actual:   ".concat(u,".\n")+"Expected: ".concat(c,"."));for(var l=0;l<c.length;++l){var f=u[l],p=c[l];if(!n(f,p))throw new Error("Arrays differ: actual[".concat(l,"] = ").concat(f,", expected[").concat(l,"] = ").concat(p,".\n")+"Actual:   ".concat(u,".\n")+"Expected: ".concat(c,"."))}}function jt(e,t){e().then((function(){return t.fail()}),(function(){return t()}))}function Zt(e,t){var n="string"===typeof t||"number"===typeof t||"boolean"===typeof t?[t]:t;return(0,O.HD)(e)||(0,O.HD)(e[0])||(0,O.HD)(t)||(0,O.HD)(t[0])?Lt(e,n,(function(e,t){return e==t})):Lt(e,t,(function(e,t){return Bt(e,t,0)}))}function zt(e,t,n){if(null==n&&(n=Ft()),!Bt(e,t,n))throw new Error("Numbers differ: actual === ".concat(e,", expected === ").concat(t))}function Bt(e,t,n){return!isFinite(e)&&!isFinite(t)||!(isNaN(e)||isNaN(t)||Math.abs(e-t)>n)}function Ut(e,t,n){for(var r=0;r<e.length;r++)if(e[r]<t||e[r]>n)throw new Error("Value out of range:".concat(e[r]," low: ").concat(t,", high: ").concat(n))}function Wt(e,t){var n=new Float32Array(e),r=new Float32Array(t);if(n.length!==r.length)throw new Error("Expected ArrayBuffer to be of length "+"".concat(r.length,", but it was ").concat(n.length));for(var a=0;a<r.length;a++)if(n[a]!==r[a])throw new Error("Expected ArrayBuffer value at ".concat(a," to be ")+"".concat(r[a]," but got ").concat(n[a]," instead"))}function Vt(e){for(var t=0;t<e.length;t++){var n=e[t];Array.isArray(n)?Vt(n):e[t]=(0,Rt.encodeString)(n)}return e}var Ht="3.17.0",Gt=n(136),qt=n(7277),Xt=n(5875),Kt=n(3312),Yt=n(5750),Qt=n(651),$t=n(6902),Jt=n(7391),en=n(7293),tn=n(6450),nn=n(7067),rn=function(e){(0,Gt.Z)(n,e);var t=(0,qt.Z)(n);function n(){return(0,x.Z)(this,n),t.apply(this,arguments)}return(0,w.Z)(n,[{key:"minimize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=this.computeGradients(e,n),a=r.value,o=r.grads;if(null!=n){var i=n.map((function(e){return{name:e.name,tensor:o[e.name]}}));this.applyGradients(i)}else this.applyGradients(o);return(0,Xt.B9)(o),t?a:(a.dispose(),null)}},{key:"iterations",get:function(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}},{key:"incrementIterations",value:function(){this.iterations_=this.iterations+1}},{key:"computeGradients",value:function(e,t){return(0,tn.pn)(e,t)}},{key:"dispose",value:function(){null!=this.iterations_&&(0,Xt.B9)(this.iterations_)}},{key:"saveIterations",value:function(){var e=(0,S.Z)(C().mark((function e(){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null==this.iterations_&&(this.iterations_=0),e.abrupt("return",{name:"iter",tensor:(0,nn.i)(this.iterations_,"int32")});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getWeights",value:function(){var e=(0,S.Z)(C().mark((function e(){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("getWeights() is not implemented for this optimizer yet.");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,S.Z)(C().mark((function e(t){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("setWeights() is not implemented for this optimizer class "+"".concat(this.getClassName()));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"extractIterations",value:function(){var e=(0,S.Z)(C().mark((function e(t){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t[0].tensor.data();case 2:return this.iterations_=e.sent[0],e.abrupt("return",t.slice(1));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Ot);Object.defineProperty(rn,Symbol.hasInstance,{value:function(e){return null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients}});var an=function(e){(0,Gt.Z)(n,e);var t=(0,qt.Z)(n);function n(e,r){var a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return(0,x.Z)(this,n),(a=t.call(this)).learningRate=e,a.rho=r,a.epsilon=o,a.accumulatedGrads=[],a.accumulatedUpdates=[],null==o&&(a.epsilon=h.BV.backend.epsilon()),a}return(0,w.Z)(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=h.BV.registeredVariables[n];null==t.accumulatedGrads[r]&&(t.accumulatedGrads[r]={originalName:"".concat(n,"/accum_grad"),variable:(0,Xt.lu)((function(){return(0,en.P)(a).variable(false)}))}),null==t.accumulatedUpdates[r]&&(t.accumulatedUpdates[r]={originalName:"".concat(n,"/accum_var"),variable:(0,Xt.lu)((function(){return(0,en.P)(a).variable(false)}))});var o=Array.isArray(e)?e[r].tensor:e[n];if(null!=o){var i=t.accumulatedGrads[r].variable,s=t.accumulatedUpdates[r].variable;(0,Xt.lu)((function(){var e=(0,Kt.I)((0,Qt.d)(i,t.rho),(0,Qt.d)((0,Jt.h)(o),1-t.rho)),n=(0,Qt.d)((0,Yt.h)((0,$t._)((0,Kt.I)(s,t.epsilon)),(0,$t._)((0,Kt.I)(i,t.epsilon))),o),r=(0,Kt.I)((0,Qt.d)(s,t.rho),(0,Qt.d)((0,Jt.h)(n),1-t.rho));i.assign(e),s.assign(r);var u=(0,Kt.I)((0,Qt.d)(n,-t.learningRate),a);a.assign(u)}))}})),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedUpdates&&((0,Xt.B9)(this.accumulatedGrads.map((function(e){return e.variable}))),(0,Xt.B9)(this.accumulatedUpdates.map((function(e){return e.variable}))))}},{key:"getWeights",value:function(){var e=(0,S.Z)(C().mark((function e(){var t;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[].concat((0,Be.Z)(this.accumulatedGrads),(0,Be.Z)(this.accumulatedUpdates)),e.next=3,this.saveIterations();case 3:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(t.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,S.Z)(C().mark((function e(t){var n;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,n=t.length/2,!1,this.accumulatedGrads=t.slice(0,n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}})),this.accumulatedUpdates=t.slice(n,2*n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}}));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.rho,t.epsilon)}}]),n}(rn);an.className="Adadelta",Dt(an);var on=n(8582),sn=function(e){(0,Gt.Z)(n,e);var t=(0,qt.Z)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;return(0,x.Z)(this,n),(r=t.call(this)).learningRate=e,r.initialAccumulatorValue=a,r.accumulatedGrads=[],r}return(0,w.Z)(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=h.BV.registeredVariables[n];if(null==t.accumulatedGrads[r]){t.accumulatedGrads[r]={originalName:"".concat(n,"/accumulator"),variable:(0,Xt.lu)((function(){return(0,on.h)(a.shape,t.initialAccumulatorValue).variable(false)}))}}var o=Array.isArray(e)?e[r].tensor:e[n];if(null!=o){var i=t.accumulatedGrads[r].variable;(0,Xt.lu)((function(){var e=(0,Kt.I)(i,(0,Jt.h)(o));i.assign(e);var n=(0,Kt.I)((0,Qt.d)((0,Yt.h)(o,(0,$t._)((0,Kt.I)(e,h.BV.backend.epsilon()))),-t.learningRate),a);a.assign(n)}))}})),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedGrads&&(0,Xt.B9)(this.accumulatedGrads.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=(0,S.Z)(C().mark((function e(){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveIterations();case 2:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(this.accumulatedGrads.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,S.Z)(C().mark((function e(t){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,!1,this.accumulatedGrads=t.map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.initialAccumulatorValue)}}]),n}(rn);sn.className="Adagrad",Dt(sn);var un=n(4334),cn=n(4774),ln=function(e){(0,Gt.Z)(n,e);var t=(0,qt.Z)(n);function n(e,r,a){var o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return(0,x.Z)(this,n),(o=t.call(this)).learningRate=e,o.beta1=r,o.beta2=a,o.epsilon=i,o.accumulatedFirstMoment=[],o.accumulatedSecondMoment=[],(0,Xt.lu)((function(){o.accBeta1=(0,nn.i)(r).variable(),o.accBeta2=(0,nn.i)(a).variable()})),null==i&&(o.epsilon=h.BV.backend.epsilon()),o}return(0,w.Z)(n,[{key:"applyGradients",value:function(e){var t=this,n=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e);(0,Xt.lu)((function(){var r=(0,cn.l)(1,t.accBeta1),a=(0,cn.l)(1,t.accBeta2);n.forEach((function(n,o){var i=h.BV.registeredVariables[n];null==t.accumulatedFirstMoment[o]&&(t.accumulatedFirstMoment[o]={originalName:"".concat(n,"/m"),variable:(0,Xt.lu)((function(){return(0,en.P)(i).variable(false)}))}),null==t.accumulatedSecondMoment[o]&&(t.accumulatedSecondMoment[o]={originalName:"".concat(n,"/v"),variable:(0,Xt.lu)((function(){return(0,en.P)(i).variable(false)}))});var s=Array.isArray(e)?e[o].tensor:e[n];if(null!=s){var u=t.accumulatedFirstMoment[o].variable,c=t.accumulatedSecondMoment[o].variable,l=(0,Kt.I)((0,Qt.d)(u,t.beta1),(0,Qt.d)(s,1-t.beta1)),f=(0,Kt.I)((0,Qt.d)(c,t.beta2),(0,Qt.d)((0,Jt.h)(s),1-t.beta2)),p=(0,Yt.h)(l,r),d=(0,Yt.h)(f,a);u.assign(l),c.assign(f);var v=(0,Kt.I)((0,Qt.d)((0,Yt.h)(p,(0,Kt.I)((0,$t._)(d),t.epsilon)),-t.learningRate),i);i.assign(v)}})),t.accBeta1.assign((0,Qt.d)(t.accBeta1,t.beta1)),t.accBeta2.assign((0,Qt.d)(t.accBeta2,t.beta2))})),this.incrementIterations()}},{key:"dispose",value:function(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&(0,Xt.B9)(this.accumulatedFirstMoment.map((function(e){return e.variable}))),null!=this.accumulatedSecondMoment&&(0,Xt.B9)(this.accumulatedSecondMoment.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=(0,S.Z)(C().mark((function e(){var t;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[].concat((0,Be.Z)(this.accumulatedFirstMoment),(0,Be.Z)(this.accumulatedSecondMoment)),e.next=3,this.saveIterations();case 3:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(t.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,S.Z)(C().mark((function e(t){var n,r=this;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,(0,Xt.lu)((function(){r.accBeta1.assign((0,un.s)(r.beta1,r.iterations_+1)),r.accBeta2.assign((0,un.s)(r.beta2,r.iterations_+1))})),n=t.length/2,!1,this.accumulatedFirstMoment=t.slice(0,n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}})),this.accumulatedSecondMoment=t.slice(n,2*n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}}));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)}}]),n}(rn);ln.className="Adam",Dt(ln);var fn=n(7613),pn=n(705),dn=function(e){(0,Gt.Z)(n,e);var t=(0,qt.Z)(n);function n(e,r,a){var o,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return(0,x.Z)(this,n),(o=t.call(this)).learningRate=e,o.beta1=r,o.beta2=a,o.epsilon=i,o.decay=s,o.accumulatedFirstMoment=[],o.accumulatedWeightedInfNorm=[],(0,Xt.lu)((function(){o.iteration=(0,nn.i)(0).variable(),o.accBeta1=(0,nn.i)(r).variable()})),null==i&&(o.epsilon=h.BV.backend.epsilon()),o}return(0,w.Z)(n,[{key:"applyGradients",value:function(e){var t=this,n=Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e);(0,Xt.lu)((function(){var r=(0,cn.l)(1,t.accBeta1),a=(0,Yt.h)(-t.learningRate,(0,Kt.I)((0,Qt.d)(t.iteration,t.decay),1));n.forEach((function(n,o){var i=h.BV.registeredVariables[n];null==t.accumulatedFirstMoment[o]&&(t.accumulatedFirstMoment[o]={originalName:"".concat(n,"/m"),variable:(0,en.P)(i).variable(false)}),null==t.accumulatedWeightedInfNorm[o]&&(t.accumulatedWeightedInfNorm[o]={originalName:"".concat(n,"/v"),variable:(0,en.P)(i).variable(false)});var s=Array.isArray(e)?e[o].tensor:e[n];if(null!=s){var u=t.accumulatedFirstMoment[o].variable,c=t.accumulatedWeightedInfNorm[o].variable,l=(0,Kt.I)((0,Qt.d)(u,t.beta1),(0,Qt.d)(s,1-t.beta1)),f=(0,Qt.d)(c,t.beta2),p=(0,fn.W)(s),d=(0,pn.g)(f,p);u.assign(l),c.assign(d);var v=(0,Kt.I)((0,Qt.d)((0,Yt.h)(a,r),(0,Yt.h)(l,(0,Kt.I)(d,t.epsilon))),i);i.assign(v)}})),t.iteration.assign((0,Kt.I)(t.iteration,1)),t.accBeta1.assign((0,Qt.d)(t.accBeta1,t.beta1))})),this.incrementIterations()}},{key:"dispose",value:function(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&(0,Xt.B9)(this.accumulatedFirstMoment.map((function(e){return e.variable}))),null!=this.accumulatedWeightedInfNorm&&(0,Xt.B9)(this.accumulatedWeightedInfNorm.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=(0,S.Z)(C().mark((function e(){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("getWeights() is not implemented for Adamax yet.");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,S.Z)(C().mark((function e(t){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("setWeights() is not implemented for Adamax yet.");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)}}]),n}(rn);dn.className="Adamax",Dt(dn);var hn=function(e){(0,Gt.Z)(n,e);var t=(0,qt.Z)(n);function n(e){var r;return(0,x.Z)(this,n),(r=t.call(this)).learningRate=e,r.setLearningRate(e),r}return(0,w.Z)(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=Array.isArray(e)?e[r].tensor:e[n];if(null!=a){var o=h.BV.registeredVariables[n];(0,Xt.lu)((function(){var e=(0,Kt.I)((0,Qt.d)(t.c,a),o);o.assign(e)}))}})),this.incrementIterations()}},{key:"setLearningRate",value:function(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=(0,Xt.Cn)((0,nn.i)(-e))}},{key:"dispose",value:function(){this.c.dispose()}},{key:"getWeights",value:function(){var e=(0,S.Z)(C().mark((function e(){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveIterations();case 2:return e.t0=e.sent,e.abrupt("return",[e.t0]);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,S.Z)(C().mark((function e(t){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:if(0===(t=e.sent).length){e.next=5;break}throw new Error("SGD optimizer does not have settable weights.");case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate)}}]),n}(rn);hn.className="SGD",Dt(hn);var vn=function(e){(0,Gt.Z)(n,e);var t=(0,qt.Z)(n);function n(e,r){var a,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,x.Z)(this,n),(a=t.call(this,e)).learningRate=e,a.momentum=r,a.useNesterov=o,a.accumulations=[],a.m=(0,nn.i)(a.momentum),a}return(0,w.Z)(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=h.BV.registeredVariables[n];if(null==t.accumulations[r]){t.accumulations[r]={originalName:"".concat(n,"/momentum"),variable:(0,Xt.lu)((function(){return(0,en.P)(a).variable(false)}))}}var o=t.accumulations[r].variable,i=Array.isArray(e)?e[r].tensor:e[n];null!=i&&(0,Xt.lu)((function(){var e,n=(0,Kt.I)((0,Qt.d)(t.m,o),i);e=t.useNesterov?(0,Kt.I)((0,Qt.d)(t.c,(0,Kt.I)(i,(0,Qt.d)(n,t.m))),a):(0,Kt.I)((0,Qt.d)(t.c,n),a),o.assign(n),a.assign(e)}))})),this.incrementIterations()}},{key:"dispose",value:function(){this.m.dispose(),null!=this.accumulations&&(0,Xt.B9)(this.accumulations.map((function(e){return e.variable})))}},{key:"setMomentum",value:function(e){this.momentum=e}},{key:"getWeights",value:function(){var e=(0,S.Z)(C().mark((function e(){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.saveIterations();case 2:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(this.accumulations.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,S.Z)(C().mark((function e(t){return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,!1,this.accumulations=t.map((function(e){return{originalName:e.name,variable:e.tensor.variable(false)}}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)}}]),n}(hn);vn.className="Momentum",Dt(vn);var mn=function(e){(0,Gt.Z)(n,e);var t=(0,qt.Z)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if((0,x.Z)(this,n),(r=t.call(this)).learningRate=e,r.decay=a,r.momentum=o,r.epsilon=i,r.accumulatedMeanSquares=[],r.accumulatedMoments=[],r.accumulatedMeanGrads=[],r.centered=s,null==i&&(r.epsilon=h.BV.backend.epsilon()),null==e)throw new Error("learningRate for RMSPropOptimizer must be defined.");return r}return(0,w.Z)(n,[{key:"applyGradients",value:function(e){var t=this;(Array.isArray(e)?e.map((function(e){return e.name})):Object.keys(e)).forEach((function(n,r){var a=h.BV.registeredVariables[n],o=!1;null==t.accumulatedMeanSquares[r]&&(t.accumulatedMeanSquares[r]={originalName:"".concat(n,"/rms"),variable:(0,Xt.lu)((function(){return(0,en.P)(a).variable(o)}))}),null==t.accumulatedMoments[r]&&(t.accumulatedMoments[r]={originalName:"".concat(n,"/momentum"),variable:(0,Xt.lu)((function(){return(0,en.P)(a).variable(o)}))}),null==t.accumulatedMeanGrads[r]&&t.centered&&(t.accumulatedMeanGrads[r]={originalName:"".concat(n,"/mg"),variable:(0,Xt.lu)((function(){return(0,en.P)(a).variable(o)}))});var i=Array.isArray(e)?e[r].tensor:e[n];if(null!=i){var s=t.accumulatedMeanSquares[r].variable,u=t.accumulatedMoments[r].variable;(0,Xt.lu)((function(){var e=(0,Kt.I)((0,Qt.d)(s,t.decay),(0,Qt.d)((0,Jt.h)(i),1-t.decay));if(t.centered){var n=t.accumulatedMeanGrads[r].variable,o=(0,Kt.I)((0,Qt.d)(n,t.decay),(0,Qt.d)(i,1-t.decay)),c=(0,Yt.h)((0,Qt.d)(i,t.learningRate),(0,$t._)((0,cn.l)(e,(0,Kt.I)((0,Jt.h)(o),t.epsilon)))),l=(0,Kt.I)((0,Qt.d)(u,t.momentum),c);s.assign(e),n.assign(o),u.assign(l);var f=(0,cn.l)(a,l);a.assign(f)}else{var p=(0,Kt.I)((0,Qt.d)(s,t.decay),(0,Qt.d)((0,Jt.h)(i),1-t.decay)),d=(0,Kt.I)((0,Qt.d)(u,t.momentum),(0,Yt.h)((0,Qt.d)(i,t.learningRate),(0,$t._)((0,Kt.I)(p,t.epsilon))));s.assign(p),u.assign(d);var h=(0,cn.l)(a,d);a.assign(h)}}))}})),this.incrementIterations()}},{key:"dispose",value:function(){null!=this.accumulatedMeanSquares&&(0,Xt.B9)(this.accumulatedMeanSquares.map((function(e){return e.variable}))),null!=this.accumulatedMeanGrads&&this.centered&&(0,Xt.B9)(this.accumulatedMeanGrads.map((function(e){return e.variable}))),null!=this.accumulatedMoments&&(0,Xt.B9)(this.accumulatedMoments.map((function(e){return e.variable})))}},{key:"getWeights",value:function(){var e=(0,S.Z)(C().mark((function e(){var t;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[].concat((0,Be.Z)(this.accumulatedMeanSquares),(0,Be.Z)(this.accumulatedMoments)),this.centered&&t.push.apply(t,(0,Be.Z)(this.accumulatedMeanGrads)),e.next=4,this.saveIterations();case 4:return e.t0=e.sent,e.abrupt("return",[e.t0].concat(t.map((function(e){return{name:e.originalName,tensor:e.variable}}))));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setWeights",value:function(){var e=(0,S.Z)(C().mark((function e(t){var n,r;return C().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.extractIterations(t);case 2:t=e.sent,n=this.centered?t.length/3:t.length/2,r=!1,this.accumulatedMeanSquares=t.slice(0,n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(r)}})),this.accumulatedMoments=t.slice(n,2*n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(r)}})),this.centered&&(this.accumulatedMeanGrads=t.slice(2*n,3*n).map((function(e){return{originalName:e.name,variable:e.tensor.variable(r)}})));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}}],[{key:"fromConfig",value:function(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)}}]),n}(rn);mn.className="RMSProp",Dt(mn);var gn=function(){function e(){(0,x.Z)(this,e)}return(0,w.Z)(e,null,[{key:"sgd",value:function(e){return new hn(e)}},{key:"momentum",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new vn(e,t,n)}},{key:"rmsprop",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new mn(e,t,n,r,a)}},{key:"adam",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.999,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return new ln(e,t,n,r)}},{key:"adadelta",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.001,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.95,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new an(e,t,n)}},{key:"adamax",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.002,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.999,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return new dn(e,t,n,r,a)}},{key:"adagrad",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1;return new sn(e,t)}}]),e}(),yn=n(3525),bn=n(5317),xn=n(7627),wn={sgd:gn.sgd,momentum:gn.momentum,adadelta:gn.adadelta,adagrad:gn.adagrad,rmsprop:gn.rmsprop,adamax:gn.adamax,adam:gn.adam},kn="undefined"!==typeof requestAnimationFrame?requestAnimationFrame:"undefined"!==typeof setImmediate?setImmediate:function(e){return e()};function Sn(){return new Promise((function(e){return kn((function(){return e()}))}))}var En=n(8473);function Cn(e,t){var n=e[0].length;e.forEach((function(e,t){O.hu(e.length===n,(function(){return"Error in concat".concat(n,"D: rank of tensors[").concat(t,"] must be the same ")+"as the rank of the rest (".concat(n,")")}))})),O.hu(t>=0&&t<n,(function(){return"Error in concat".concat(n,"D: axis must be between 0 and ").concat(n-1,".")}));var r=e[0];e.forEach((function(e,a){for(var o=0;o<n;o++)O.hu(o===t||e[o]===r[o],(function(){return"Error in concat".concat(n,"D: Shape of tensors[").concat(a,"] (").concat(e,") ")+"does not match the shape of the rest (".concat(r,") ")+"along the non-concatenated axis ".concat(a,".")}))}))}function Nn(e,t){for(var n=e[0].slice(),r=1;r<e.length;r++)n[t]+=e[r][t];return n}var Tn=n(9151),In=n(5171),On=30;function _n(e){return e<=On?e:(0,O.jP)(e,Math.floor(Math.sqrt(e)))}function Dn(e,t,n){return[n*("number"===typeof e?e:e[0]),t*("number"===typeof e?e:e[1])]}function An(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=[];if(r)(a=a.concat(t.slice(0))).push(e[0]/n),a=a.concat(e.slice(1));else{a=a.concat(e[0]);for(var o=t.length,i=0;i<o;++i)a=a.concat([e[i+1]/t[i],t[i]]);a=a.concat(e.slice(o+1))}return a}function Rn(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=[];if(n){r.push(t);for(var a=t+1;a<e;++a)a<=2*t?(r.push(a),r.push(a-(t+1))):r.push(a)}else{for(var o=[],i=[],s=1;s<e;++s)s>=2*t+1||s%2===1?i.push(s):o.push(s);r.push.apply(r,o),r.push(0),r.push.apply(r,i)}return r}function Pn(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=[];r?a.push(e[0]/n):a.push(e[0]*n);for(var o=1;o<e.length;++o)o<=t.length?r?a.push(t[o-1]*e[o]):a.push(e[o]/t[o-1]):a.push(e[o]);return a}function Mn(e,t){for(var n=[0],r=0;r<t;++r)n.push(e[r][0]);return n}function Fn(e,t,n){for(var r=e.slice(0,1),a=0;a<n;++a)r.push(e[a+1]-t[a][0]-t[a][1]);return r}var Ln=n(349),jn=.3275911,Zn=.254829592,zn=-.284496736,Bn=1.421413741,Un=-1.453152027,Wn=1.061405429,Vn=n(7269);function Hn(e,t){if(e.length!==t.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+"".concat(e.length,", imag: ").concat(t.length,"."));for(var n=new Float32Array(2*e.length),r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function Gn(e){for(var t=new Float32Array(e.length/2),n=new Float32Array(e.length/2),r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}function qn(e){for(var t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t),a=0;a<e.length;a+=4)n[Math.floor(a/4)]=e[a],r[Math.floor(a/4)]=e[a+1];return{real:n,imag:r}}function Xn(e){for(var t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t),a=2;a<e.length;a+=4)n[Math.floor(a/4)]=e[a],r[Math.floor(a/4)]=e[a+1];return{real:n,imag:r}}function Kn(e,t){return{real:e[2*t],imag:e[2*t+1]}}function Yn(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function Qn(e,t){for(var n=new Float32Array(e/2),r=new Float32Array(e/2),a=0;a<Math.ceil(e/2);a++){var o=(t?2:-2)*Math.PI*(a/e);n[a]=Math.cos(o),r[a]=Math.sin(o)}return{real:n,imag:r}}function $n(e,t,n){var r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}var Jn="->",er=/->/g;function tr(e,t){var n=((e=e.replace(/\s/g,"")).length-e.replace(er,"").length)/Jn.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error('Equation must contain exactly one arrow ("'.concat(Jn,'").'));var r=e.split(Jn),a=(0,N.Z)(r,2),o=a[0],i=a[1];(0,O.hu)(-1===o.indexOf("..."),(function(){return'The ellipsis notation ("'.concat("...",'") is not supported yet.')}));var s=o.split(","),u=s.length;if(t!==u)throw new Error("Expected ".concat(u," input tensors, received ").concat(t));if(u>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");for(var c=[],l=function(e){var t=i[e];if(!s.some((function(e){return-1!==e.indexOf(t)})))throw new Error("Output subscripts contain the label ".concat(t," ")+"not present in the input subscripts.");-1===c.indexOf(t)&&c.push(t)},f=0;f<i.length;++f)l(f);for(var p=0;p<o.length;++p){var d=o[p];-1===c.indexOf(d)&&","!==d&&c.push(d)}for(var h=new Array(s.length),v=0;v<u;++v){if(new Set(s[v].split("")).size!==s[v].length)throw new Error("Found duplicate axes in input component ".concat(s[v],". ")+"Support for duplicate axes in input is not implemented yet.");h[v]=[];for(var m=0;m<s[v].length;++m)h[v].push(c.indexOf(s[v][m]))}for(var g=c.length,y=[],b=i.length;b<g;++b)y.push(b);return{allDims:c,summedDims:y,idDims:h}}function nr(e,t){var n=new Array(e);n.fill(-1);for(var r=0;r<t.length;++r)n[t[r]]=r;for(var a=[],o=0;o<e;++o)-1===n[o]&&a.push(o);return{permutationIndices:n=n.filter((function(e){return-1!==e})),expandDims:a}}function rr(e,t,n){for(var r=new Array(e),a=function(e){for(var a=n[e].shape,o=function(n){void 0===r[t[e][n]]?r[t[e][n]]=a[n]:(0,O.hu)(r[t[e][n]]===a[n],(function(){return"Expected dimension ".concat(r[t[e][n]]," at axis ").concat(n," ")+"of input shaped ".concat(JSON.stringify(a),", ")+"but got dimension ".concat(a[n])}))},i=0;i<t[e].length;++i)o(i)},o=0;o<n.length;++o)a(o)}function ar(e,t){var n,r=e,a=[];0===e.length&&r.push(-1),n=e.length+1;for(var o=0;o<n;++o)a.push([]);for(var i=[],s=0;s<r.length;++s){var u,c=ir(t,r[s]),l=(0,k.Z)(c);try{for(l.s();!(u=l.n()).done;){var f=u.value;-1===i.indexOf(f)&&(a[s].push(f),i.push(f))}}catch(Ir){l.e(Ir)}finally{l.f()}}return{path:r,steps:a}}function or(e){return e.every((function(e,t){return e===t}))}function ir(e,t){for(var n=[],r=0;r<e.length;++r)0!==e[r].length&&-1===e[r].indexOf(t)&&-1!==t||n.push(r);return n}function sr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[];if("number"===typeof t)(0,O.hu)(e.shape[n]%t===0,(function(){return"Number of splits must evenly divide the axis."})),r=new Array(t).fill(e.shape[n]/t);else{var a=t.reduce((function(e,t){return-1===t&&(e+=1),e}),0);(0,O.hu)(a<=1,(function(){return"There should be only one negative value in split array."}));var o=t.indexOf(-1);if(-1!==o){var i=t.reduce((function(e,t){return t>0?e+t:e}));t[o]=e.shape[n]-i}(0,O.hu)(e.shape[n]===t.reduce((function(e,t){return e+t})),(function(){return"The sum of sizes must match the size of the axis dimension."})),r=t}return r}function ur(e){return"Received SparseTensor with denseShape[0] = 0 but\n  indices.shape[0] = ".concat(e)}function cr(e,t){return"indices(".concat(e,", 0) is invalid: ").concat(t," < 0")}function lr(e,t,n){return"indices(".concat(e,", 0) is invalid: ").concat(t," >= ").concat(n)}function fr(e,t){return"only one output dimension may be -1, not both ".concat(e," and ").concat(t)}function pr(e,t){return"size ".concat(e," must be non-negative, not ").concat(t)}function dr(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function hr(e,t){var n=(0,O.NA)(e),r=(0,O.NA)(t);return"Input to reshape is a SparseTensor with ".concat(n,"\n  dense values, but the requested shape requires a multiple of ").concat(r,". inputShape=").concat(e," outputShape= ").concat(t)}function vr(e,t){var n=(0,O.NA)(e),r=(0,O.NA)(t);return"Input to reshape is a tensor with ".concat(n," dense values, but the requested shape has ").concat(r,". inputShape=").concat(e," outputShape=").concat(t)}function mr(){return"segment ids must be >= 0"}function gr(){return"segment ids are not increasing"}function yr(e,t){return"Segment id ".concat(e," out of range [0, ").concat(t,"), possibly because segmentIds input is not sorted.")}function br(e,t,n){return"Bad: indices[".concat(e,"] == ").concat(t," out of range [0, ").concat(n,")")}function xr(e,t){var n,r=!1;for(e<=On?(n=e,r=!0):n=(0,O.jP)(e,Math.floor(Math.sqrt(e)));!r;)n>t||n===e?r=!0:n=(0,O.jP)(e,n+1);return n}function wr(e,t,n){for(var r=[],a=e.length,o=0;o<a;o++)o!==t?r.push(e[o]):r.push(n);return r}function kr(e,t,n,r){var a=t.shape.length,o=e.shape.length;if(0!==r&&(r<-a||r>a))throw new Error("Expect batchDims in the range of [-".concat(a,", ").concat(a,"], but got ").concat(r));if(r<0&&(r+=a),r>o)throw new Error("batchDims (".concat(r,") must be less than rank(x) (\n    ").concat(o,")."));if(n<r)throw new Error("batchDims (".concat(r,") must be less than or equal to axis (").concat(n,")."));for(var i=0;i<r;++i)if(e.shape[i]!==t.shape[i])throw new Error("x.shape[".concat(i,"]: ").concat(e.shape[i]," should be equal to indices.shape[").concat(i,"]: ").concat(t.shape[i],"."));for(var s=e.shape[n],u=[],c=1,l=1,f=1,p=0;p<r;++p)u.push(e.shape[p]),c*=e.shape[p];for(var d=r;d<n;d++)u.push(e.shape[d]),l*=e.shape[d];for(var h=r;h<a;h++)u.push(t.shape[h]);for(var v=n+1;v<o;v++)u.push(e.shape[v]),f*=e.shape[v];return{batchSize:c,sliceSize:f,outerSize:l,dimSize:s,outputShape:u}}function Sr(e){try{return e.map((function(e){return(0,Rt.decodeString)(e)}))}catch(Ir){throw new Error("Failed to decode encoded string bytes into utf-8, error: ".concat(Ir))}}function Er(e){return e.map((function(e){return(0,Rt.encodeString)(e)}))}var Cr=n(745),Nr=n(4189),Tr=n(4679)},2145:function(e,t,n){"use strict";n.d(t,{$H:function(){return ft},$g:function(){return J},$w:function(){return X},Ac:function(){return me},BM:function(){return Le},By:function(){return z},CA:function(){return Ce},D2:function(){return Bt},Dl:function(){return ut},Eh:function(){return D},FK:function(){return At},G3:function(){return en},GB:function(){return Rt},Gc:function(){return Ft},HE:function(){return te},HZ:function(){return dt},Hh:function(){return Me},Hm:function(){return vt},IK:function(){return c},IM:function(){return x},J$:function(){return Se},J_:function(){return be},Jh:function(){return g},Kg:function(){return ot},L8:function(){return Mt},Ly:function(){return E},M2:function(){return p},MI:function(){return Yt},MR:function(){return Dt},MZ:function(){return De},NE:function(){return ae},NZ:function(){return Xe},O3:function(){return Lt},OA:function(){return ze},OR:function(){return le},OU:function(){return Be},OV:function(){return Ze},Om:function(){return ne},Oy:function(){return v},PY:function(){return Oe},Ph:function(){return Et},QC:function(){return m},QR:function(){return W},Qg:function(){return ye},Qi:function(){return rt},Qv:function(){return rn},RF:function(){return N},RO:function(){return y},RQ:function(){return Tt},Ru:function(){return on},SX:function(){return ee},SY:function(){return r},Sb:function(){return yt},Sp:function(){return o},T0:function(){return V},TQ:function(){return Pt},TR:function(){return Z},To:function(){return nn},Tr:function(){return Xt},Uy:function(){return ce},VG:function(){return a},Vb:function(){return qe},Vc:function(){return U},Vf:function(){return _e},Vn:function(){return Q},W0:function(){return et},XD:function(){return an},XL:function(){return w},Xk:function(){return qt},Xz:function(){return s},Y0:function(){return ie},YF:function(){return oe},YW:function(){return Zt},Yo:function(){return Fe},Zb:function(){return Te},Zj:function(){return zt},Zz:function(){return O},_J:function(){return Ht},_V:function(){return fn},_Y:function(){return mt},_k:function(){return b},_t:function(){return Ut},a5:function(){return _t},aJ:function(){return f},av:function(){return xe},b9:function(){return cn},bK:function(){return Wt},bV:function(){return wt},c1:function(){return Ve},cW:function(){return $t},ci:function(){return H},cy:function(){return Je},de:function(){return ue},dp:function(){return ht},e0:function(){return xt},e6:function(){return ct},e7:function(){return Ne},eB:function(){return un},eE:function(){return C},eZ:function(){return Pe},ek:function(){return Y},gJ:function(){return T},h8:function(){return sn},hd:function(){return re},i5:function(){return Ot},iH:function(){return B},iJ:function(){return ge},iW:function(){return we},iZ:function(){return ve},ik:function(){return L},jM:function(){return h},jQ:function(){return Ge},je:function(){return fe},kU:function(){return Ie},kp:function(){return tn},ku:function(){return Ye},lu:function(){return pn},ly:function(){return at},m2:function(){return Vt},mK:function(){return bt},mT:function(){return je},mc:function(){return j},mh:function(){return A},mm:function(){return i},n9:function(){return Qt},nh:function(){return jt},nr:function(){return St},o0:function(){return st},o2:function(){return F},oF:function(){return Ct},oH:function(){return $},oT:function(){return u},p2:function(){return Nt},p4:function(){return K},pe:function(){return it},q1:function(){return he},q2:function(){return We},q8:function(){return He},qC:function(){return Ae},qI:function(){return Re},qW:function(){return tt},qi:function(){return de},qk:function(){return pt},qw:function(){return d},r7:function(){return ke},s1:function(){return Gt},sE:function(){return Kt},sH:function(){return pe},sJ:function(){return l},sL:function(){return G},us:function(){return ln},uv:function(){return $e},vF:function(){return Ue},vt:function(){return Ee},vw:function(){return se},w3:function(){return It},wU:function(){return R},wY:function(){return Ke},we:function(){return nt},wm:function(){return P},wx:function(){return Jt},x1:function(){return M},xJ:function(){return lt},xQ:function(){return kt},xn:function(){return I},y7:function(){return q},yQ:function(){return Qe},yj:function(){return _},zb:function(){return gt},zv:function(){return S},zw:function(){return k}});var r="Abs",a="Acos",o="Acosh",i="Add",s="AddN",u="All",c="Any",l="ArgMax",f="ArgMin",p="Asin",d="Asinh",h="Atan",v="Atanh",m="Atan2",g="AvgPool",y="AvgPoolGrad",b="AvgPool3D",x="AvgPool3DGrad",w="BatchMatMul",k="BatchToSpaceND",S="Bincount",E="BroadcastTo",C="BroadcastArgs",N="Cast",T="Ceil",I="ClipByValue",O="Complex",_="ComplexAbs",D="Concat",A="Conv2D",R="Conv2DBackpropFilter",P="Conv2DBackpropInput",M="Conv3D",F="Conv3DBackpropFilterV2",L="Conv3DBackpropInputV2",j="Cos",Z="Cosh",z="Cumprod",B="Cumsum",U="CropAndResize",W="DenseBincount",V="DepthToSpace",H="DepthwiseConv2dNative",G="DepthwiseConv2dNativeBackpropFilter",q="DepthwiseConv2dNativeBackpropInput",X="Diag",K="Dilation2D",Y="Dilation2DBackpropInput",Q="Dilation2DBackpropFilter",$="RealDiv",J="Einsum",ee="Elu",te="EluGrad",ne="Erf",re="Equal",ae="Exp",oe="ExpandDims",ie="Expm1",se="FFT",ue="Fill",ce="FlipLeftRight",le="Floor",fe="FloorDiv",pe="FusedBatchNorm",de="GatherV2",he="GatherNd",ve="Greater",me="GreaterEqual",ge="Identity",ye="IFFT",be="Imag",xe="IsFinite",we="IsInf",ke="IsNan",Se="LeakyRelu",Ee="Less",Ce="LessEqual",Ne="LinSpace",Te="Log",Ie="Log1p",Oe="LogicalAnd",_e="LogicalNot",De="LogicalOr",Ae="LogSoftmax",Re="LowerBound",Pe="LRN",Me="LRNGrad",Fe="Max",Le="Maximum",je="MaxPool",Ze="MaxPoolGrad",ze="MaxPool3D",Be="MaxPool3DGrad",Ue="MaxPoolWithArgmax",We="Mean",Ve="Min",He="Minimum",Ge="MirrorPad",qe="Mod",Xe="Multinomial",Ke="Multiply",Ye="Neg",Qe="NotEqual",$e="NonMaxSuppressionV3",Je="NonMaxSuppressionV4",et="NonMaxSuppressionV5",tt="OnesLike",nt="OneHot",rt="Pack",at="PadV2",ot="Pool",it="Pow",st="Prelu",ut="Prod",ct="Range",lt="Real",ft="Reciprocal",pt="Relu",dt="Reshape",ht="ResizeNearestNeighbor",vt="ResizeNearestNeighborGrad",mt="ResizeBilinear",gt="ResizeBilinearGrad",yt="Relu6",bt="Reverse",xt="Round",wt="Rsqrt",kt="ScatterNd",St="SearchSorted",Et="Select",Ct="Selu",Nt="Slice",Tt="Sin",It="Sinh",Ot="Sign",_t="Sigmoid",Dt="Softplus",At="Sqrt",Rt="Sum",Pt="SpaceToBatchND",Mt="SplitV",Ft="Softmax",Lt="SparseFillEmptyRows",jt="SparseReshape",Zt="SparseSegmentMean",zt="SparseSegmentSum",Bt="SparseToDense",Ut="SquaredDifference",Wt="Square",Vt="StridedSlice",Ht="StringNGrams",Gt="StringSplit",qt="StringToHashBucketFast",Xt="Sub",Kt="Tan",Yt="Tanh",Qt="Tile",$t="TopK",Jt="Transform",en="Transpose",tn="Unique",nn="Unpack",rn="UnsortedSegmentSum",an="UpperBound",on="ZerosLike",sn="Step",un="FromPixels",cn="RotateWithOffset",ln="_FusedMatMul",fn="FusedConv2D",pn="FusedDepthwiseConv2D"},8864:function(e,t,n){"use strict";n.d(t,{Li:function(){return d},T3:function(){return m},bt:function(){return v},nE:function(){return h},pI:function(){return c},tr:function(){return f},uk:function(){return l},wC:function(){return p}});var r=n(9439),a=n(5050),o=n(6581),i=n(7269),s=(0,o.R)("kernelRegistry",(function(){return new Map})),u=(0,o.R)("gradRegistry",(function(){return new Map}));function c(e,t){var n=g(e,t);return s.get(n)}function l(e){return u.get(e)}function f(e){for(var t=s.entries(),n=[];;){var a=t.next(),o=a.done,i=a.value;if(o)break;var u=(0,r.Z)(i,2),c=u[0],l=u[1],f=c.split("_");(0,r.Z)(f,1)[0]===e&&n.push(l)}return n}function p(e){var t=e.kernelName,n=e.backendName,r=g(t,n);s.has(r)&&i.Z("The kernel '".concat(t,"' for backend ")+"'".concat(n,"' is already registered")),s.set(r,e)}function d(e){var t=e.kernelName;u.has(t)&&(0,a.OB)().getBool("DEBUG")&&i.Z("Overriding the gradient for '".concat(t,"'")),u.set(t,e)}function h(e,t){var n=g(e,t);if(!s.has(n))throw new Error("The kernel '".concat(e,"' for backend ")+"'".concat(t,"' is not registered"));s.delete(n)}function v(e){if(!u.has(e))throw new Error("The gradient '".concat(e,"' for backend is not registered"));u.delete(e)}function m(e,t){f(e).forEach((function(e){p(Object.assign({},e,{backendName:t}))}))}function g(e,t){return"".concat(t,"_").concat(e)}},7269:function(e,t,n){"use strict";n.d(t,{Z:function(){return a},c:function(){return o}});var r=n(5050);function a(){var e;(0,r.OB)().getBool("IS_TEST")||(0,r.OB)().getBool("PROD")||(e=console).warn.apply(e,arguments)}function o(){var e;(0,r.OB)().getBool("IS_TEST")||(0,r.OB)().getBool("PROD")||(e=console).log.apply(e,arguments)}},7613:function(e,t,n){"use strict";n.d(t,{W:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({abs_:function(e){var t=(0,o._1)(e,"x","abs");if("complex64"===t.dtype){var n={x:t};return r.BV.runKernel(a.yj,n)}var i={x:t};return r.BV.runKernel(a.SY,i)}})},1719:function(e,t,n){"use strict";n.d(t,{K:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({acos_:function(e){var t={x:(0,o._1)(e,"x","acos")};return r.BV.runKernel(a.VG,t)}})},4502:function(e,t,n){"use strict";n.d(t,{_:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({acosh_:function(e){var t={x:(0,o._1)(e,"x","acosh")};return r.BV.runKernel(a.Sp,t)}})},3312:function(e,t,n){"use strict";n.d(t,{I:function(){return u}});var r=n(9439),a=n(318),o=n(2145),i=n(9064),s=n(8354);var u=(0,n(8640).op)({add_:function(e,t){var n=(0,s._1)(e,"a","add"),u=(0,s._1)(t,"b","add"),c=(0,i.makeTypesMatch)(n,u),l=(0,r.Z)(c,2),f={a:n=l[0],b:u=l[1]};return a.BV.runKernel(o.mm,f)}})},5506:function(e,t,n){"use strict";n.d(t,{Q:function(){return s}});var r=n(318),a=n(2145),o=n(8354),i=n(6147);var s=(0,n(8640).op)({addN_:function(e){i.hu(Array.isArray(e),(function(){return"The argument passed to tf.addN() must be a list of tensors"})),i.hu(e.length>=1,(function(){return"Must pass at least one tensor to tf.addN(), but got "+"".concat(e.length)}));var t=e.map((function(e,t){return(0,o._1)(e,"tensors".concat(t),"addN")})),n=t[0];t.forEach((function(e){if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),t.forEach((function(e){if(!i.cO(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));var s=t;return r.BV.runKernel(a.Xz,s)}})},4108:function(e,t,n){"use strict";n.d(t,{$:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({all_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=(0,o._1)(e,"x","all","bool"),s={x:i},u={axis:t,keepDims:n};return r.BV.runKernel(a.oT,s,u)}})},8543:function(e,t,n){"use strict";n.d(t,{Y:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({any_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=(0,o._1)(e,"x","any","bool"),s={x:i},u={axis:t,keepDims:n};return r.BV.runKernel(a.IK,s,u)}})},9995:function(e,t,n){"use strict";n.d(t,{N:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({argMax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(0,o._1)(e,"x","argMax"),i={x:n},s={axis:t};return r.BV.runKernel(a.sJ,i,s)}})},5157:function(e,t,n){"use strict";n.d(t,{v:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({argMin_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(0,o._1)(e,"x","argMin"),i={x:n},s={axis:t};return r.BV.runKernel(a.aJ,i,s)}})},3053:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({asin_:function(e){var t={x:(0,o._1)(e,"x","asin")};return r.BV.runKernel(a.M2,t)}})},54:function(e,t,n){"use strict";n.d(t,{V:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({asinh_:function(e){var t={x:(0,o._1)(e,"x","asinh")};return r.BV.runKernel(a.qw,t)}})},4778:function(e,t,n){"use strict";n.d(t,{z:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({atan_:function(e){var t={x:(0,o._1)(e,"x","atan")};return r.BV.runKernel(a.jM,t)}})},2227:function(e,t,n){"use strict";n.d(t,{f:function(){return u}});var r=n(9439),a=n(318),o=n(2145),i=n(9064),s=n(8354);var u=(0,n(8640).op)({atan2_:function(e,t){var n=(0,s._1)(e,"a","atan2"),u=(0,s._1)(t,"b","atan2"),c=(0,i.makeTypesMatch)(n,u),l=(0,r.Z)(c,2),f={a:n=l[0],b:u=l[1]};return a.BV.runKernel(o.QC,f)}})},7897:function(e,t,n){"use strict";n.d(t,{C:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({atanh_:function(e){var t={x:(0,o._1)(e,"x","atanh")};return r.BV.runKernel(a.Oy,t)}})},9204:function(e,t,n){"use strict";n.d(t,{w:function(){return f}});var r=n(318),a=n(2145),o=n(8354),i=n(6147),s=n(9118),u=n(9151),c=n(8640),l=n(5561);var f=(0,c.op)({avgPool_:function(e,t,n,c,f){var p=(0,o._1)(e,"x","avgPool","float32");i.hu(u.jT(n,1),(function(){return"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(1,"'")}));var d=p,h=!1;3===p.rank&&(h=!0,d=(0,l.X)(p,[1,p.shape[0],p.shape[1],p.shape[2]])),i.hu(4===d.rank,(function(){return"Error in avgPool: x must be rank 4 but got rank ".concat(d.rank,".")})),u.m("avgPool",c,f);var v={x:d},m={filterSize:t,strides:n,pad:c,dimRoundingMode:f},g=r.BV.runKernel(a.Jh,v,m);return g=(0,s.p)(g,p.dtype),h?(0,l.X)(g,[g.shape[1],g.shape[2],g.shape[3]]):g}})},5840:function(e,t,n){"use strict";n.d(t,{u:function(){return f}});var r=n(318),a=n(2145),o=n(8354),i=n(6147),s=n(9151),u=n(9118),c=n(8640),l=n(5561);var f=(0,c.op)({avgPool3d_:function(e,t,n,c,f){var p=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC",d=(0,o._1)(e,"x","avgPool3d","float32"),h=d,v=!1;4===d.rank&&(v=!0,h=(0,l.X)(d,[1,d.shape[0],d.shape[1],d.shape[2],d.shape[3]])),i.hu(5===h.rank,(function(){return"Error in avgPool3d: x must be rank 5 but got rank ".concat(h.rank,".")})),i.hu("NDHWC"===p,(function(){return"Error in avgPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(p)})),(0,s.m)("avgPool3d",c,f);var m={x:h},g={filterSize:t,strides:n,pad:c,dimRoundingMode:f,dataFormat:p},y=r.BV.runKernel(a._k,m,g);return y=(0,u.p)(y,h.dtype),v?(0,l.X)(y,[y.shape[1],y.shape[2],y.shape[3],y.shape[4]]):y}})},8473:function(e,t,n){"use strict";n.d(t,{LJ:function(){return l},Q3:function(){return c},Vh:function(){return o},YB:function(){return a},kz:function(){return i},lB:function(){return u},rv:function(){return s},sY:function(){return f}});var r=n(6147);function a(e,t){for(var n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function o(e,t,n){for(var r=e.length+t.length,a=[],o=0,i=0,s=0;s<r;s++)-1===n.indexOf(s)?a.push(e[o++]):a.push(t[i++]);return a}function i(e,t){for(var n=[],r=e.length,a=0;a<r;a++)-1===t.indexOf(a)&&n.push(e[a]);var o=t.map((function(t){return e[t]}));return[n,o]}function s(e,t){return o(e,t.map((function(e){return 1})),t)}function u(e,t,n){r.hu(a(t,n),(function(){return"".concat(e," supports only inner-most axes for now. ")+"Got axes ".concat(t," and rank-").concat(n," input.")}))}function c(e,t){if(a(e,t))return null;for(var n=[],r=0;r<t;++r)-1===e.indexOf(r)&&n.push(r);return e.forEach((function(e){return n.push(e)})),n}function l(e){return e.map((function(e,t){return[t,e]})).sort((function(e,t){return e[1]-t[1]})).map((function(e){return e[0]}))}function f(e,t){for(var n=[],r=t-e;r<t;++r)n.push(r);return n}},6994:function(e,t,n){"use strict";n.d(t,{E:function(){return s}});var r=n(318),a=n(2145),o=n(8354),i=n(6147);var s=(0,n(8640).op)({batchToSpaceND_:function(e,t,n){var s=(0,o._1)(e,"x","batchToSpaceND"),u=t.reduce((function(e,t){return e*t}));i.hu(s.rank>=1+t.length,(function(){return"input rank is ".concat(s.rank," but should be > than blockShape.length ").concat(t.length)})),i.hu(n.length===t.length,(function(){return"crops.length is ".concat(n.length," but should be equal to blockShape.length  ").concat(t.length)})),i.hu(s.shape[0]%u===0,(function(){return"input tensor batch is ".concat(s.shape[0]," but is not divisible by the product of ")+"the elements of blockShape ".concat(t.join(" * ")," === ").concat(u)}));var c={x:s},l={blockShape:t,crops:n};return r.BV.runKernel(a.zw,c,l)}})},3700:function(e,t,n){"use strict";n.d(t,{t:function(){return u}});var r=n(318),a=n(2145),o=n(8354),i=n(6147),s=n(5561);var u=(0,n(8640).op)({batchNorm_:function(e,t,n,u,c,l){null==l&&(l=.001);var f,p,d=(0,o._1)(e,"x","batchNorm"),h=(0,o._1)(t,"mean","batchNorm"),v=(0,o._1)(n,"variance","batchNorm");null!=c&&(f=(0,o._1)(c,"scale","batchNorm")),null!=u&&(p=(0,o._1)(u,"offset","batchNorm")),i.hu(h.rank===v.rank,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),i.hu(null==p||h.rank===p.rank,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),i.hu(null==f||h.rank===f.rank,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}));var m=function(e){return 0===e.rank||1===e.rank?(0,s.X)(e,[1,1,1,e.size]):2===e.rank?(0,s.X)(e,[1,1,e.shape[0],e.shape[1]]):3===e.rank?(0,s.X)(e,[1,e.shape[0],e.shape[1],e.shape[2]]):e}(d),g={x:m,scale:f,offset:p,mean:h,variance:v},y={varianceEpsilon:l},b=r.BV.runKernel(a.sH,g,y);return(0,s.X)(b,d.shape)}})},7531:function(e,t,n){"use strict";n.d(t,{y:function(){return s}});var r=n(318),a=n(2145),o=n(8354),i=n(6147);var s=(0,n(8640).op)({bincount_:function(e,t,n){var s=(0,o._1)(e,"x","bincount"),u=(0,o._1)(t,"weights","bincount");i.hu("int32"===s.dtype,(function(){return"Error in bincount: input "+"dtype must be int32, but got ".concat(s.dtype)})),i.hu(n>=0,(function(){return"size must be non-negative, but got ".concat(n,".")})),i.hu(u.size===s.size||0===u.size,(function(){return"Error in bincount: weights must have the same size as input or"+"0-length, but got input shape: ".concat(s.shape,", weights shape: ")+"".concat(u.shape,".")}));var c={x:s,weights:u},l={size:n};return r.BV.runKernel(a.zv,c,l)}})},238:function(e,t,n){"use strict";n.d(t,{X:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({broadcastArgs_:function(e,t){var n=(0,o._1)(e,"s0","broadcastArgs","int32"),i=(0,o._1)(t,"s1","broadcastArgs","int32");if(1!==n.rank)throw new Error("broadcastArgs(): first input must be a vector (rank=1). "+"Has rank ".concat(n.rank));if(1!==i.rank)throw new Error("broadcastArgs(): second input must be a vector (rank=1). "+"Has rank ".concat(i.rank));var s={s0:n,s1:i};return r.BV.runKernel(a.eE,s)}})},9742:function(e,t,n){"use strict";n.d(t,{U:function(){return c}});var r=n(318),a=n(2145),o=n(8354),i=n(672),s=n(8640),u=n(5561);var c=(0,s.op)({broadcastTo_:function(e,t){var n=(0,o._1)(e,"broadcastTo","x"),s=n.shape;if(t.some((function(e){return!(e>0)||e%1!==0})))throw new Error("broadcastTo(): Invalid broadcast shape [".concat(t,"]."));if(t.length<n.rank)throw new Error("broadcastTo(): shape.length=".concat(t.length," < input.rank=").concat(n.rank,"."));if(t.length>n.rank){for(var c=n.shape.slice();c.length<t.length;)c.unshift(1);n=(0,u.X)(n,c)}for(var l=n.shape,f=Array.from(t),p=t.length-1;p>=0;p--)if(l[p]===t[p])f[p]=1;else if(1!==n.shape[p])throw new Error("broadcastTo(): [".concat(s,"] cannot be broadcast to [").concat(t,"]."));var d=f.map((function(e,t){return e>1?t:-1})).filter((function(e){return e>=0}));if(0===d.length)return(0,i.d)(n);var h={x:n},v={reps:f};return r.BV.runKernel(a.n9,h,v)}})},5774:function(e,t,n){"use strict";function r(e,t){for(var n=e.length,r=[],a=0;a<n;a++){var o=n-1-a,i=e[o]||1;(t[t.length-1-a]||1)>1&&1===i&&r.unshift(o)}return r}function a(e,t){for(var n=[],r=0;r<t.length;r++){var a=e[e.length-r-1],o=t.length-r-1,i=t[o];(null==a||1===a&&i>1)&&n.unshift(o)}return n}function o(e,t){for(var n=[],r=Math.max(e.length,t.length),a=0;a<r;a++){var o=e[e.length-a-1];null==o&&(o=1);var i=t[t.length-a-1];if(null==i&&(i=1),1===o)n.unshift(i);else if(1===i)n.unshift(o);else{if(o!==i){var s="Operands could not be broadcast together with shapes "+"".concat(e," and ").concat(t,".");throw Error(s)}n.unshift(o)}}return n}n.r(t),n.d(t,{assertAndGetBroadcastShape:function(){return o},getBroadcastDims:function(){return r},getReductionAxes:function(){return a}})},7039:function(e,t,n){"use strict";n.d(t,{f:function(){return o}});var r=n(4376),a=n(6147);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",n=arguments.length>2?arguments[2]:void 0;return t=t||"float32",a.Mu(e),new r.YD(e,t,n)}},9118:function(e,t,n){"use strict";n.d(t,{p:function(){return s}});var r=n(318),a=n(2145),o=n(8354),i=n(6147);var s=(0,n(8640).op)({cast_:function(e,t){var n=(0,o._1)(e,"x","cast");if(!i.LP(t))throw new Error("Failed to cast to unknown dtype ".concat(t));if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");var s={x:n},u={dtype:t};return r.BV.runKernel(a.RF,s,u)}})},1396:function(e,t,n){"use strict";n.d(t,{m:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({ceil_:function(e){var t={x:(0,o._1)(e,"x","ceil","float32")};return r.BV.runKernel(a.gJ,t)}})},9836:function(e,t,n){"use strict";n.d(t,{i:function(){return s}});var r=n(318),a=n(2145),o=n(8354),i=n(6147);var s=(0,n(8640).op)({clipByValue_:function(e,t,n){var s=(0,o._1)(e,"x","clipByValue");i.hu(t<=n,(function(){return"Error in clip: min (".concat(t,") must be ")+"less than or equal to max (".concat(n,").")}));var u={x:s},c={clipValueMin:t,clipValueMax:n};return r.BV.runKernel(a.xn,u,c)}})},672:function(e,t,n){"use strict";n.d(t,{d:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({clone_:function(e){var t={x:(0,o._1)(e,"x","clone","string_or_numeric")};return r.BV.runKernel(a.iJ,t)}})},9253:function(e,t,n){"use strict";n.d(t,{P:function(){return s}});var r=n(318),a=n(2145),o=n(8354),i=n(6147);var s=(0,n(8640).op)({complex_:function(e,t){var n=(0,o._1)(e,"real","complex"),s=(0,o._1)(t,"imag","complex");i.k5(n.shape,s.shape,"real and imag shapes, ".concat(n.shape," and ").concat(s.shape,", ")+"must match in call to tf.complex().");var u={real:n,imag:s};return r.BV.runKernel(a.Zz,u)}})},4836:function(e,t,n){"use strict";n.d(t,{z:function(){return u}});var r=n(318),a=n(2145),o=n(8354),i=n(6147),s=n(672);var u=(0,n(8640).op)({concat_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,i.hu)(e.length>=1,(function(){return"Pass at least one tensor to concat"}));var n=(0,o.sI)(e,"tensors","concat","string_or_numeric");if("complex64"===n[0].dtype&&n.forEach((function(e){if("complex64"!==e.dtype)throw new Error("Cannot concatenate complex64 tensors with a tensor\n          with dtype ".concat(e.dtype,". "))})),1===n.length)return(0,s.d)(n[0]);var u=n,c={axis:t};return r.BV.runKernel(a.Eh,u,c)}})},4918:function(e,t,n){"use strict";n.d(t,{P:function(){return c}});var r=n(8354),a=n(6147),o=n(3457),i=n(9151),s=n(8640),u=n(5561);var c=(0,s.op)({conv1d_:function(e,t,n,s){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NWC",l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,f=arguments.length>6?arguments[6]:void 0,p=(0,r._1)(e,"x","conv1d"),d=(0,r._1)(t,"filter","conv1d"),h=p,v=!1;2===p.rank&&(v=!0,h=(0,u.X)(p,[1,p.shape[0],p.shape[1]])),a.hu(3===h.rank,(function(){return"Error in conv1d: input must be rank 3, but got rank ".concat(h.rank,".")})),a.hu(3===d.rank,(function(){return"Error in conv1d: filter must be rank 3, but got rank "+"".concat(d.rank,".")})),i.m("conv1d",s,f),a.hu(h.shape[2]===d.shape[1],(function(){return"Error in conv1d: depth of input (".concat(h.shape[2],") must match ")+"input depth for filter ".concat(d.shape[1],".")})),a.hu(i.jT(n,l),(function(){return"Error in conv1D: Either stride or dilation must be 1. "+"Got stride ".concat(n," and dilation '").concat(l,"'")})),a.hu("NWC"===c,(function(){return"Error in conv1d: got dataFormat of ".concat(c," but only NWC is currently supported.")}));var m=(0,u.X)(d,[1,d.shape[0],d.shape[1],d.shape[2]]),g=(0,u.X)(h,[h.shape[0],1,h.shape[1],h.shape[2]]),y=[1,n],b=[1,l],x="NHWC",w=(0,o.T)(g,m,y,s,x,b,f);return v?(0,u.X)(w,[w.shape[2],w.shape[3]]):(0,u.X)(w,[w.shape[0],w.shape[2],w.shape[3]])}})},3457:function(e,t,n){"use strict";n.d(t,{T:function(){return l}});var r=n(318),a=n(2145),o=n(8354),i=n(6147),s=n(9151),u=n(8640),c=n(5561);var l=(0,u.op)({conv2d_:function(e,t,n,u){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],p=arguments.length>6?arguments[6]:void 0,d=(0,o._1)(e,"x","conv2d","float32"),h=(0,o._1)(t,"filter","conv2d","float32"),v=d,m=!1;3===d.rank&&(m=!0,v=(0,c.X)(d,[1,d.shape[0],d.shape[1],d.shape[2]])),i.hu(4===v.rank,(function(){return"Error in conv2d: input must be rank 4, but got rank ".concat(v.rank,".")})),i.hu(4===h.rank,(function(){return"Error in conv2d: filter must be rank 4, but got rank "+"".concat(h.rank,".")})),s.m("conv2d",u,p);var g="NHWC"===l?v.shape[3]:v.shape[1];i.hu(g===h.shape[2],(function(){return"Error in conv2d: depth of input (".concat(g,") must match ")+"input depth for filter ".concat(h.shape[2],".")})),i.hu(s.jT(n,f),(function(){return"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(f,"'")}));var y={x:v,filter:h},b={strides:n,pad:u,dataFormat:l,dilations:f,dimRoundingMode:p},x=r.BV.runKernel(a.mh,y,b);return m?(0,c.X)(x,[x.shape[1],x.shape[2],x.shape[3]]):x}})},8744:function(e,t,n){"use strict";n.d(t,{p:function(){return c}});var r=n(318),a=n(2145),o=n(6147),i=n(9151),s=n(8640),u=n(5561);var c=(0,s.op)({conv2DBackpropFilter_:function(e,t,n,s,c){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",f=arguments.length>6?arguments[6]:void 0,p=e;3===e.rank&&(p=(0,u.X)(e,[1,e.shape[0],e.shape[1],e.shape[2]]));var d=t;3===d.rank&&(d=(0,u.X)(t,[1,t.shape[0],t.shape[1],t.shape[2]])),o.hu(4===p.rank,(function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+"".concat(p.shape,".")})),o.hu(4===d.rank,(function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+"".concat(d.shape,".")})),o.hu(4===n.length,(function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+"".concat(n,".")}));var h="NHWC"===l?p.shape[3]:p.shape[1],v="NHWC"===l?d.shape[3]:d.shape[1];o.hu(h===n[2],(function(){return"Error in conv2dDerFilter: depth of input ".concat(h,") must ")+"match input depth in filter (".concat(n[2],".")})),o.hu(v===n[3],(function(){return"Error in conv2dDerFilter: depth of dy (".concat(v,") must ")+"match output depth for filter (".concat(n[3],").")})),i.m("conv2dDerFilter",c,f);var m={x:p,dy:d},g={strides:s,pad:c,dataFormat:l,dimRoundingMode:f,filterShape:n};return r.BV.runKernel(a.wU,m,g)}})},1045:function(e,t,n){"use strict";n.d(t,{_:function(){return c}});var r=n(318),a=n(2145),o=n(6147),i=n(9151),s=n(8640),u=n(5561);var c=(0,s.op)({conv2DBackpropInput_:function(e,t,n,s,c){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",f=arguments.length>6?arguments[6]:void 0;o.hu(e.length===t.rank,(function(){return"Length of inShape "+"(".concat(e.length,") and rank of dy (").concat(t.rank,") must match")}));var p=e,d=t,h=!1;3===t.rank&&(h=!0,d=(0,u.X)(t,[1,t.shape[0],t.shape[1],t.shape[2]]),p=[1,e[0],e[1],e[2]]),o.hu(4===p.length,(function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+"".concat(p.length,".")})),o.hu(4===d.rank,(function(){return"Error in conv2dDerInput: dy must be rank 4, but got "+"rank ".concat(d.rank)})),o.hu(4===n.rank,(function(){return"Error in conv2dDerInput: filter must be rank 4, but got "+"rank ".concat(n.rank)}));var v="NHWC"===l?p[3]:p[1],m="NHWC"===l?d.shape[3]:d.shape[1];o.hu(v===n.shape[2],(function(){return"Error in conv2dDerInput: depth of input (".concat(v,") must ")+"match input depth for filter ".concat(n.shape[2],".")})),o.hu(m===n.shape[3],(function(){return"Error in conv2dDerInput: depth of output (".concat(m,") must ")+"match output depth for filter ".concat(n.shape[3],".")})),i.m("conv2dDerInput",c,f);var g={dy:d,filter:n},y={strides:s,pad:c,dataFormat:l,dimRoundingMode:f,inputShape:p},b=r.BV.runKernel(a.wm,g,y);return h?(0,u.X)(b,[b.shape[1],b.shape[2],b.shape[3]]):b}})},1732:function(e,t,n){"use strict";n.d(t,{b:function(){return o}});var r=n(8354),a=n(1045);var o=(0,n(8640).op)({conv2dTranspose_:function(e,t,n,o,i,s){var u=(0,r._1)(e,"x","conv2dTranspose"),c=(0,r._1)(t,"filter","conv2dTranspose");return(0,a._)(n,u,c,o,i,"NHWC",s)}})},8113:function(e,t,n){"use strict";n.d(t,{p:function(){return l}});var r=n(318),a=n(2145),o=n(8354),i=n(6147),s=n(9151),u=n(8640),c=n(5561);var l=(0,u.op)({conv3d_:function(e,t,n,u){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NDHWC",f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1,1],p=(0,o._1)(e,"x","conv3d"),d=(0,o._1)(t,"filter","conv3d"),h=p,v=!1;4===p.rank&&(v=!0,h=(0,c.X)(p,[1,p.shape[0],p.shape[1],p.shape[2],p.shape[3]])),i.hu(5===h.rank,(function(){return"Error in conv3d: input must be rank 5, but got rank ".concat(h.rank,".")})),i.hu(5===d.rank,(function(){return"Error in conv3d: filter must be rank 5, but got rank "+"".concat(d.rank,".")})),i.hu(h.shape[4]===d.shape[3],(function(){return"Error in conv3d: depth of input (".concat(h.shape[4],") must match ")+"input depth for filter ".concat(d.shape[3],".")})),i.hu((0,s.jT)(n,f),(function(){return"Error in conv3D: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(f,"'")})),i.hu("NDHWC"===l,(function(){return"Error in conv3d: got dataFormat of ".concat(l," but only NDHWC is currently supported.")}));var m={x:h,filter:d},g={strides:n,pad:u,dataFormat:l,dilations:f},y=r.BV.runKernel(a.x1,m,g);return v?(0,c.X)(y,[y.shape[1],y.shape[2],y.shape[3],y.shape[4]]):y}})},1873:function(e,t,n){"use strict";n.d(t,{_:function(){return u}});var r=n(318),a=n(2145),o=n(6147),i=n(8640),s=n(5561);var u=(0,i.op)({conv3DBackpropInput_:function(e,t,n,i,u){o.hu(e.length===t.rank,(function(){return"Length of inShape "+"(".concat(e.length,") and rank of dy (").concat(t.rank,") must match")}));var c=e,l=t,f=!1;4===t.rank&&(f=!0,l=(0,s.X)(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),c=[1,e[0],e[1],e[2],e[3]]);var p=c[4],d=l.shape[4];o.hu(5===c.length,(function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+"".concat(c.length,".")})),o.hu(5===l.rank,(function(){return"Error in conv3dDerInput: dy must be rank 5, but got "+"rank ".concat(l.rank)})),o.hu(5===n.rank,(function(){return"Error in conv3dDerInput: filter must be rank 5, but got "+"rank ".concat(n.rank)})),o.hu(p===n.shape[3],(function(){return"Error in conv3dDerInput: depth of input (".concat(p,") must ")+"match input depth for filter ".concat(n.shape[3],".")})),o.hu(d===n.shape[4],(function(){return"Error in conv3dDerInput: depth of output (".concat(d,") must ")+"match output depth for filter ".concat(n.shape[4],".")}));var h={dy:l,filter:n},v={pad:u,strides:i,inputShape:c},m=r.BV.runKernel(a.ik,h,v);return f?(0,s.X)(m,[m.shape[1],m.shape[2],m.shape[3],m.shape[4]]):m}})},9151:function(e,t,n){"use strict";n.d(t,{I0:function(){return y},Ix:function(){return c},Rf:function(){return i},Xw:function(){return s},aO:function(){return f},jT:function(){return b},jw:function(){return l},m:function(){return w},pl:function(){return u},sl:function(){return x}});var r=n(9439),a=n(3433),o=n(6147);function i(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",i=arguments.length>5?arguments[5]:void 0,s=e[3],u=[].concat((0,a.Z)(t),[s]),l=x(o);return c(e,u,n,i,r,null,null,l)}function s(e,t,n,a,o,i){var s,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast",l=p(t),f=(0,r.Z)(l,2),d=f[0],h=f[1];if("channelsLast"===u)s=[d,h,e[3],e[3]];else{if("channelsFirst"!==u)throw new Error("Unknown dataFormat ".concat(u));s=[d,h,e[1],e[1]]}return c(e,s,n,a,o,i,!1,u)}function u(e,t,n,a,o,i){var s,u,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NDHWC",f=d(t),p=(0,r.Z)(f,3),h=p[0],v=p[1],m=p[2];if("NDHWC"===c)u="channelsLast",s=[h,v,m,e[4],e[4]];else{if("NCDHW"!==c)throw new Error("Unknown dataFormat ".concat(c));u="channelsFirst",s=[h,v,m,e[1],e[1]]}return l(e,s,n,a,o,!1,u,i)}function c(e,t,n,a,o,i){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"channelsLast",c=-1,l=-1,f=-1,d=-1;if("channelsLast"===u){var m=(0,r.Z)(e,4);c=m[0],l=m[1],f=m[2],d=m[3]}else{if("channelsFirst"!==u)throw new Error("Unknown dataFormat ".concat(u));var g=(0,r.Z)(e,4);c=g[0],d=g[1],l=g[2],f=g[3]}var y,b=(0,r.Z)(t,4),x=b[0],w=b[1],k=b[3],S=p(n),E=(0,r.Z)(S,2),C=E[0],N=E[1],T=p(a),I=(0,r.Z)(T,2),O=I[0],_=I[1],D=h(x,O),A=h(w,_),R=v(o,l,f,C,N,D,A,i,u),P=R.padInfo,M=R.outHeight,F=R.outWidth,L=s?k*d:k;return"channelsFirst"===u?y=[c,L,M,F]:"channelsLast"===u&&(y=[c,M,F,L]),{batchSize:c,dataFormat:u,inHeight:l,inWidth:f,inChannels:d,outHeight:M,outWidth:F,outChannels:L,padInfo:P,strideHeight:C,strideWidth:N,filterHeight:x,filterWidth:w,effectiveFilterHeight:D,effectiveFilterWidth:A,dilationHeight:O,dilationWidth:_,inShape:e,outShape:y,filterShape:t}}function l(e,t,n,a,o){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"channelsLast",u=arguments.length>7?arguments[7]:void 0,c=-1,l=-1,f=-1,p=-1,v=-1;if("channelsLast"===s){var g=(0,r.Z)(e,5);c=g[0],l=g[1],f=g[2],p=g[3],v=g[4]}else{if("channelsFirst"!==s)throw new Error("Unknown dataFormat ".concat(s));var y=(0,r.Z)(e,5);c=y[0],v=y[1],l=y[2],f=y[3],p=y[4]}var b,x=(0,r.Z)(t,5),w=x[0],k=x[1],S=x[2],E=x[4],C=d(n),N=(0,r.Z)(C,3),T=N[0],I=N[1],O=N[2],_=d(a),D=(0,r.Z)(_,3),A=D[0],R=D[1],P=D[2],M=h(w,A),F=h(k,R),L=h(S,P),j=m(o,l,f,p,T,I,O,M,F,L,u),Z=j.padInfo,z=j.outDepth,B=j.outHeight,U=j.outWidth,W=i?E*v:E;return"channelsFirst"===s?b=[c,W,z,B,U]:"channelsLast"===s&&(b=[c,z,B,U,W]),{batchSize:c,dataFormat:s,inDepth:l,inHeight:f,inWidth:p,inChannels:v,outDepth:z,outHeight:B,outWidth:U,outChannels:W,padInfo:Z,strideDepth:T,strideHeight:I,strideWidth:O,filterDepth:w,filterHeight:k,filterWidth:S,effectiveFilterDepth:M,effectiveFilterHeight:F,effectiveFilterWidth:L,dilationDepth:A,dilationHeight:R,dilationWidth:P,inShape:e,outShape:b,filterShape:t}}function f(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=h(t,r);return Math.floor((e[0]*(n-1)-n+a)/2)}function p(e){return"number"===typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function d(e){return"number"===typeof e?[e,e,e]:e}function h(e,t){return t<=1?e:e+(e-1)*(t-1)}function v(e,t,n,r,a,o,i,s,u){var c,l,p;if("number"===typeof e){c={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};var d=function(e,t,n,r,a){null==r&&(r=f(e,t,n));var o=e[0],i=e[1];return[g((o-t+2*r)/n+1,a),g((i-t+2*r)/n+1,a)]}([t,n],o,r,e,s);l=d[0],p=d[1]}else if("same"===e){l=Math.ceil(t/r),p=Math.ceil(n/a);var h=Math.max(0,(l-1)*r+o-t),v=Math.max(0,(p-1)*a+i-n),m=Math.floor(h/2),y=h-m,b=Math.floor(v/2);c={top:m,bottom:y,left:b,right:v-b,type:"SAME"}}else if("valid"===e)c={top:0,bottom:0,left:0,right:0,type:"VALID"},l=Math.ceil((t-o+1)/r),p=Math.ceil((n-i+1)/a);else{if("object"!==typeof e)throw Error("Unknown padding parameter: ".concat(e));var x="channelsLast"===u?e[1][0]:e[2][0],w="channelsLast"===u?e[1][1]:e[2][1],k="channelsLast"===u?e[2][0]:e[3][0],S="channelsLast"===u?e[2][1]:e[3][1];c={top:x,bottom:w,left:k,right:S,type:0===x&&0===w&&0===k&&0===S?"VALID":"EXPLICIT"},l=g((t-o+x+w)/r+1,s),p=g((n-i+k+S)/a+1,s)}return{padInfo:c,outHeight:l,outWidth:p}}function m(e,t,n,r,a,o,i,s,u,c,l){var p,d,h,v;if("number"===typeof e){p={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};var m=function(e,t,n,r,a,o){null==a&&(a=f(e,t,r));var i=e[0],s=e[1],u=e[2];return[g((i-t+2*a)/r+1,o),g((s-t+2*a)/r+1,o),g((u-t+2*a)/r+1,o),n]}([t,n,r,1],s,1,a,e,l);d=m[0],h=m[1],v=m[2]}else if("same"===e){var y=((d=Math.ceil(t/a))-1)*a+s-t,b=((h=Math.ceil(n/o))-1)*o+u-n,x=((v=Math.ceil(r/i))-1)*i+c-r,w=Math.floor(y/2),k=y-w,S=Math.floor(b/2),E=b-S,C=Math.floor(x/2);p={top:S,bottom:E,left:C,right:x-C,front:w,back:k,type:"SAME"}}else{if("valid"!==e)throw Error("Unknown padding parameter: ".concat(e));p={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},d=Math.ceil((t-s+1)/a),h=Math.ceil((n-u+1)/o),v=Math.ceil((r-c+1)/i)}return{padInfo:p,outDepth:d,outHeight:h,outWidth:v}}function g(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error("Unknown roundingMode ".concat(t))}}function y(e){var t=p(e),n=(0,r.Z)(t,3),a=n[0],o=n[1],i=n[2];return 1===a&&1===o&&1===i}function b(e,t){return y(e)||y(t)}function x(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error("Unknown dataFormat ".concat(e))}function w(e,t,n){if(null!=n){if("string"===typeof t)throw Error("Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,"."));if("number"===typeof t)o.hu(o.GN(t),(function(){return"Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,".")}));else{if("object"!==typeof t)throw Error("Error in ".concat(e,": Unknown padding parameter: ").concat(t));t.forEach((function(t){t.forEach((function(t){o.hu(o.GN(t),(function(){return"Error in ".concat(e,": pad must be an integer when using ")+"dimRoundingMode ".concat(n," but got pad ").concat(t,".")}))}))}))}}}},1227:function(e,t,n){"use strict";n.d(t,{m:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({cos_:function(e){var t={x:(0,o._1)(e,"x","cos","float32")};return r.BV.runKernel(a.mc,t)}})},6679:function(e,t,n){"use strict";n.d(t,{f:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({cosh_:function(e){var t={x:(0,o._1)(e,"x","cosh","float32")};return r.BV.runKernel(a.TR,t)}})},9457:function(e,t,n){"use strict";n.d(t,{$:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({cumprod_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=(0,o._1)(e,"x","cumprod"),u={x:s},c={axis:t,exclusive:n,reverse:i};return r.BV.runKernel(a.By,u,c)}})},8862:function(e,t,n){"use strict";n.d(t,{z:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({cumsum_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=(0,o._1)(e,"x","cumsum"),u={x:s},c={axis:t,exclusive:n,reverse:i};return r.BV.runKernel(a.iH,u,c)}})},7419:function(e,t,n){"use strict";n.d(t,{p:function(){return s}});var r=n(318),a=n(2145),o=n(8354),i=n(6147);var s=(0,n(8640).op)({denseBincount_:function(e,t,n){var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=(0,o._1)(e,"x","denseBincount"),c=(0,o._1)(t,"weights","denseBincount");i.hu("int32"===u.dtype,(function(){return"Error in denseBincount: input "+"dtype must be int32, but got ".concat(u.dtype)})),i.hu(u.rank<=2,(function(){return"Error in denseBincount: input must be at most rank 2, but got "+"rank ".concat(u.rank,".")})),i.hu(n>=0,(function(){return"size must be non-negative, but got ".concat(n,".")})),i.hu(c.size===u.size||0===c.size,(function(){return"Error in denseBincount: weights must have the same shape as x or "+"0-length, but got x shape: ".concat(u.shape,", weights shape: ")+"".concat(c.shape,".")}));var l={x:u,weights:c},f={size:n,binaryOutput:s};return r.BV.runKernel(a.QR,l,f)}})},1878:function(e,t,n){"use strict";n.d(t,{n:function(){return s}});var r=n(318),a=n(2145),o=n(8354),i=n(6147);var s=(0,n(8640).op)({depthToSpace_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"NHWC",s=(0,o._1)(e,"x","depthToSpace","float32"),u="NHWC"===n?s.shape[1]:s.shape[2],c="NHWC"===n?s.shape[2]:s.shape[3],l="NHWC"===n?s.shape[3]:s.shape[1];i.hu(t>1,(function(){return"blockSize should be > 1 for depthToSpace, but was: ".concat(t)})),i.hu(u*t>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n    ".concat(u," and ").concat(t,"  for depthToSpace with input shape\n    ").concat(s.shape)})),i.hu(c*t>=0,(function(){return"Negative dimension size caused by overflow when multiplying\n    ".concat(c," and ").concat(t," for depthToSpace with input shape\n        ").concat(s.shape)})),i.hu(l%(t*t)===0,(function(){return"Dimension size must be evenly divisible by ".concat(t*t," but is ").concat(l," for depthToSpace with input shape ").concat(s.shape)}));var f={x:s},p={blockSize:t,dataFormat:n};return r.BV.runKernel(a.T0,f,p)}})},1147:function(e,t,n){"use strict";n.d(t,{B:function(){return l}});var r=n(318),a=n(2145),o=n(8354),i=n(6147),s=n(9151),u=n(8640),c=n(5561);var l=(0,u.op)({depthwiseConv2d_:function(e,t,n,u){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"NHWC",f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],p=arguments.length>6?arguments[6]:void 0,d=(0,o._1)(e,"x","depthwiseConv2d","float32"),h=(0,o._1)(t,"filter","depthwiseConv2d","float32"),v=d,m=!1;3===d.rank&&(m=!0,v=(0,c.X)(d,[1,d.shape[0],d.shape[1],d.shape[2]])),i.hu(4===v.rank,(function(){return"Error in depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(v.rank,".")})),i.hu(4===h.rank,(function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+"".concat(h.rank,".")})),i.hu(v.shape[3]===h.shape[2],(function(){return"Error in depthwiseConv2d: number of input channels "+"(".concat(v.shape[3],") must match the inChannels dimension in ")+"filter ".concat(h.shape[2],".")})),s.m("depthwiseConv2d",u,p);var g={x:v,filter:h},y={strides:n,pad:u,dataFormat:l,dilations:f,dimRoundingMode:p},b=r.BV.runKernel(a.ci,g,y);return m?(0,c.X)(b,[b.shape[1],b.shape[2],b.shape[3]]):b}})},288:function(e,t,n){"use strict";n.d(t,{z:function(){return s}});var r=n(318),a=n(2145),o=n(8640),i=n(5561);var s=(0,o.op)({depthwiseConv2dNativeBackpropFilter_:function(e,t,n,o,s){var u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],c=arguments.length>6?arguments[6]:void 0,l=e;3===e.rank&&(l=(0,i.X)(e,[1,e.shape[0],e.shape[1],e.shape[2]]));var f=t;3===f.rank&&(f=(0,i.X)(t,[1,t.shape[0],t.shape[1],t.shape[2]]));var p={x:l,dy:f},d={strides:o,pad:s,dimRoundingMode:c,dilations:u,filterShape:n};return r.BV.runKernel(a.sL,p,d)}})},6939:function(e,t,n){"use strict";n.d(t,{v:function(){return s}});var r=n(318),a=n(2145),o=n(8640),i=n(5561);var s=(0,o.op)({depthwiseConv2dNativeBackpropInput_:function(e,t,n,o,s){var u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],c=arguments.length>6?arguments[6]:void 0,l=t,f=!1;3===t.rank&&(f=!0,l=(0,i.X)(t,[1,t.shape[0],t.shape[1],t.shape[2]]));var p={dy:l,filter:n},d={strides:o,pad:s,dimRoundingMode:c,dilations:u,inputShape:e},h=r.BV.runKernel(a.y7,p,d);return f?(0,i.X)(h,[h.shape[1],h.shape[2],h.shape[3]]):h}})},7580:function(e,t,n){"use strict";n.d(t,{W:function(){return c}});var r=n(318),a=n(2145),o=n(8354),i=n(6147),s=n(8640),u=n(5561);var c=(0,s.op)({dilation2d_:function(e,t,n,s){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[1,1],l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NHWC",f=(0,o._1)(e,"x","dilation2d"),p=(0,o._1)(t,"filter","dilation2d");i.hu(3===f.rank||4===f.rank,(function(){return"Error in dilation2d: input must be rank 3 or 4, but got rank "+"".concat(f.rank,".")})),i.hu(3===p.rank,(function(){return"Error in dilation2d: filter must be rank 3, but got rank "+"".concat(p.rank,".")})),i.hu("NHWC"===l,(function(){return"Error in dilation2d: Only NHWC is currently supported, "+"but got dataFormat of ".concat(l)}));var d=f,h=!1;3===f.rank&&(d=(0,u.X)(f,[1,f.shape[0],f.shape[1],f.shape[2]]),h=!0);var v={x:d,filter:p},m={strides:n,pad:s,dilations:c},g=r.BV.runKernel(a.p4,v,m);return h?(0,u.X)(g,[g.shape[1],g.shape[2],g.shape[3]]):g}})},5750:function(e,t,n){"use strict";n.d(t,{h:function(){return c}});var r=n(9439),a=n(318),o=n(2145),i=n(9064),s=n(8354),u=n(7145);var c=(0,n(8640).op)({div_:function(e,t){var n=(0,s._1)(e,"a","div"),c=(0,s._1)(t,"b","div"),l=(0,i.makeTypesMatch)(n,c),f=(0,r.Z)(l,2);if(n=f[0],c=f[1],"int32"===n.dtype&&"int32"===c.dtype)return(0,u.q)(n,c);var p={a:n,b:c};return a.BV.runKernel(o.oH,p,{})}})},5923:function(e,t,n){"use strict";n.d(t,{N:function(){return f}});var r=n(9439),a=n(9064),o=n(8354),i=n(5750),s=n(3254),u=n(8640),c=n(329),l=n(7293);var f=(0,u.op)({divNoNan_:function(e,t){var n=(0,o._1)(e,"a","div"),u=(0,o._1)(t,"b","div"),f=(0,a.makeTypesMatch)(n,u),p=(0,r.Z)(f,2);n=p[0],u=p[1];var d=(0,i.h)(n,u),h=(0,l.P)(d),v=(0,s.D)(u,h);return(0,c.a)(v,h,d)}})},5043:function(e,t,n){"use strict";n.d(t,{A:function(){return u}});var r=n(8354),a=n(6147),o=n(7221),i=n(8640),s=n(5561);var u=(0,i.op)({dot_:function(e,t){var n=(0,r._1)(e,"t1","dot"),i=(0,r._1)(t,"t2","dot");a.hu((1===n.rank||2===n.rank)&&(1===i.rank||2===i.rank),(function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+"".concat(n.rank," and ").concat(i.rank,".")}));var u=1===n.rank?n.size:n.shape[1],c=1===i.rank?i.size:i.shape[0];if(a.hu(u===c,(function(){return"Error in dot: inner dimensions of inputs must match, but got "+"".concat(u," and ").concat(c,".")})),1===n.rank&&1===i.rank){var l=(0,s.X)(n,[1,-1]),f=(0,s.X)(i,[-1,1]),p=(0,o.O)(l,f);return(0,s.X)(p,[])}if(1===n.rank&&2===i.rank){var d=(0,s.X)(n,[1,-1]),h=(0,s.X)(i,[i.shape[0],i.shape[1]]),v=(0,o.O)(d,h);return(0,s.X)(v,[v.size])}if(2===n.rank&&1===i.rank){var m=(0,s.X)(i,[-1,1]),g=(0,o.O)(n,m);return(0,s.X)(g,[g.size])}var y=(0,s.X)(i,[i.shape[0],i.shape[1]]);return(0,o.O)(n,y)}})},8060:function(e,t,n){"use strict";n.d(t,{W:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({einsum_:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var s=n.map((function(e,t){return(0,o._1)(e,"tensors".concat(t),"einsum")})),u={equation:e};return r.BV.runKernel(a.$g,s,u)}})},2353:function(e,t,n){"use strict";n.d(t,{p:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({elu_:function(e){var t={x:(0,o._1)(e,"x","elu","float32")};return r.BV.runKernel(a.SX,t)}})},3254:function(e,t,n){"use strict";n.d(t,{D:function(){return c}});var r=n(9439),a=n(318),o=n(2145),i=n(9064),s=n(8354),u=n(5774);var c=(0,n(8640).op)({equal_:function(e,t){var n=(0,s._1)(e,"a","equal","string_or_numeric"),c=(0,s._1)(t,"b","equal","string_or_numeric"),l=(0,i.makeTypesMatch)(n,c),f=(0,r.Z)(l,2);n=f[0],c=f[1],(0,u.assertAndGetBroadcastShape)(n.shape,c.shape);var p={a:n,b:c};return a.BV.runKernel(o.hd,p)}})},3891:function(e,t,n){"use strict";n.d(t,{q:function(){return u}});var r=n(318),a=n(2145),o=n(8354),i=n(6147),s=n(9118);var u=(0,n(8640).op)({erf_:function(e){var t=(0,o._1)(e,"x","erf");i.hu("int32"===t.dtype||"float32"===t.dtype,(function(){return"Input dtype must be `int32` or `float32`."})),"int32"===t.dtype&&(t=(0,s.p)(t,"float32"));var n={x:t};return r.BV.runKernel(a.Om,n)}})},3313:function(e,t,n){"use strict";n.d(t,{d:function(){return a}});var r=n(6662);var a=(0,n(8640).op)({euclideanNorm_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,r.K)(e,"euclidean",t,n)}})},411:function(e,t,n){"use strict";n.d(t,{Q:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({exp_:function(e){var t={x:(0,o._1)(e,"x","exp")};return r.BV.runKernel(a.NE,t)}})},2975:function(e,t,n){"use strict";n.d(t,{d:function(){return s}});var r=n(318),a=n(2145),o=n(8354),i=n(6147);var s=(0,n(8640).op)({expandDims_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(0,o._1)(e,"x","expandDims","string_or_numeric");i.hu(t<=n.rank,(function(){return"Axis must be <= rank of the tensor"}));var s={input:n},u={dim:t};return r.BV.runKernel(a.YF,s,u)}})},5682:function(e,t,n){"use strict";n.d(t,{t:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({expm1_:function(e){var t={x:(0,o._1)(e,"x","expm1")};return r.BV.runKernel(a.Y0,t)}})},8582:function(e,t,n){"use strict";n.d(t,{h:function(){return o}});var r=n(318),a=n(2145);function o(e,t,n){var o={shape:e,value:t,dtype:n};return r.BV.runKernel(a.de,{},o)}},2628:function(e,t,n){"use strict";n.d(t,{G:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({floor_:function(e){var t={x:(0,o._1)(e,"x","floor","float32")};return r.BV.runKernel(a.OR,t)}})},7145:function(e,t,n){"use strict";n.d(t,{q:function(){return u}});var r=n(9439),a=n(318),o=n(2145),i=n(9064),s=n(8354);var u=(0,n(8640).op)({floorDiv_:function(e,t){var n=(0,s._1)(e,"a","floorDiv"),u=(0,s._1)(t,"b","floorDiv"),c=(0,i.makeTypesMatch)(n,u),l=(0,r.Z)(c,2),f={a:n=l[0],b:u=l[1]};return a.BV.runKernel(o.je,f)}})},6947:function(e,t,n){"use strict";n.r(t),n.d(t,{conv2d:function(){return b},depthwiseConv2d:function(){return S},matMul:function(){return C}});var r=n(9439),a=n(318),o=n(6450),i=n(2145),s=n(9064),u=n(8354),c=n(6147),l=n(3312),f=n(5774),p=n(3457),d=n(8744),h=n(1045),v=n(9151),m=n(5171),g=n(8640),y=n(5561);var b=(0,g.op)({fusedConv2d_:function(e){var t=e.x,n=e.filter,g=e.strides,b=e.pad,x=e.dataFormat,w=void 0===x?"NHWC":x,k=e.dilations,S=void 0===k?[1,1]:k,E=e.dimRoundingMode,C=e.bias,N=e.activation,T=void 0===N?"linear":N,I=e.preluActivationWeights,O=e.leakyreluAlpha;if(T=T||"linear",!1===(0,m.uy)(a.BV.state.gradientDepth,T)){var _=(0,p.T)(t,n,g,b,w,S,E);return null!=C&&(_=(0,l.I)(_,C)),(0,m.QH)(_,T,I,O)}var D=(0,u._1)(t,"x","conv2d","float32"),A=(0,u._1)(n,"filter","conv2d","float32"),R=D,P=!1;3===D.rank&&(P=!0,R=(0,y.X)(D,[1,D.shape[0],D.shape[1],D.shape[2]])),c.hu(4===R.rank,(function(){return"Error in fused conv2d: input must be rank 4, but got rank "+"".concat(R.rank,".")})),c.hu(4===A.rank,(function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+"".concat(A.rank,".")})),v.m("fused conv2d",b,E),c.hu(R.shape[3]===A.shape[2],(function(){return"Error in conv2d: depth of input (".concat(R.shape[3],") must match ")+"input depth for filter ".concat(A.shape[2],".")})),c.hu(v.jT(g,S),(function(){return"Error in conv2D: Either strides or dilations must be 1. "+"Got strides ".concat(g," and dilations '").concat(S,"'")})),c.hu("NHWC"===w,(function(){return"Error in conv2d: got dataFormat of ".concat(w," but only NHWC is currently supported.")}));var M,F,L=v.Ix(R.shape,A.shape,g,S,b,E);if(null!=C){M=(0,u._1)(C,"bias","fused conv2d");var j=(0,s.makeTypesMatch)(M,D),Z=(0,r.Z)(j,1);M=Z[0],"NHWC"===w?f.assertAndGetBroadcastShape(L.outShape,M.shape):(c.hu(M.shape.length<=1,(function(){return"Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of "+"rank-".concat(M.shape.length,".")})),c.hu(0===M.shape.length||M.shape[0]===L.outChannels||1===M.shape[0],(function(){return"Error in fused conv2d: bias shape (".concat(M.shape,") is not ")+"compatible with the number of output channels "+"(".concat(L.outChannels,")")})))}null!=I&&(F=(0,u._1)(I,"prelu weights","fused conv2d"));var z=function(e,t){var n=(0,r.Z)(t,4),a=n[0],o=n[1],i=n[2],s=n[3],u=(0,m.Fr)(e,i,T);c.hu(v.I0(S),(function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 "+"are not yet supported in gradients. Got dilations '".concat(S,"'")}));var l=[(0,h._)(o.shape,u,a,g,b),(0,d.p)(o,u,a.shape,g,b)];if(null!=s){var f=(0,m.pf)(s,u);l.push(f)}return l},B={x:R,filter:A,bias:M,preluActivationWeights:F},U={strides:g,pad:b,dataFormat:w,dilations:S,dimRoundingMode:E,activation:T,leakyreluAlpha:O};if(null==C){var W=(0,o.cb)((function(e,t,n){var r=a.BV.runKernel(i._V,B,U);return n([t,e,r]),P&&(r=(0,y.X)(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:z}}));return W(R,A)}var V=(0,o.cb)((function(e,t,n,r){var o=a.BV.runKernel(i._V,B,U);return r([t,e,o,n]),P&&(o=(0,y.X)(o,[o.shape[1],o.shape[2],o.shape[3]])),{value:o,gradFunc:z}}));return V(R,A,M)}}),x=n(1147),w=n(288),k=n(6939);var S=(0,g.op)({fusedDepthwiseConv2d_:function(e){var t=e.x,n=e.filter,p=e.strides,d=e.pad,h=e.dataFormat,g=void 0===h?"NHWC":h,b=e.dilations,S=void 0===b?[1,1]:b,E=e.dimRoundingMode,C=e.bias,N=e.activation,T=void 0===N?"linear":N,I=e.preluActivationWeights,O=e.leakyreluAlpha;if(!1===(0,m.uy)(a.BV.state.gradientDepth,T)){var _=(0,x.B)(t,n,p,d,g,S,E);return null!=C&&(_=(0,l.I)(_,C)),(0,m.QH)(_,T,I,O)}var D=(0,u._1)(t,"x","depthwiseConv2d","float32"),A=(0,u._1)(n,"filter","depthwiseConv2d","float32"),R=D,P=!1;3===D.rank&&(P=!0,R=(0,y.X)(D,[1,D.shape[0],D.shape[1],D.shape[2]])),c.hu(4===R.rank,(function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got "+"rank ".concat(R.rank,".")})),c.hu(4===A.rank,(function(){return"Error in fused depthwiseConv2d: filter must be rank 4, "+"but got rank ".concat(A.rank,".")})),c.hu(R.shape[3]===A.shape[2],(function(){return"Error in fused depthwiseConv2d: number of input channels "+"(".concat(R.shape[3],") must match the inChannels dimension in ")+"filter ".concat(A.shape[2],".")})),null==S&&(S=[1,1]),c.hu(v.jT(p,S),(function(){return"Error in fused depthwiseConv2d: Either strides or dilations must "+"be 1. Got strides ".concat(p," and dilations '").concat(S,"'")})),v.m("fused depthwiseConv2d",d,E);var M,F,L=v.Ix(R.shape,A.shape,p,S,d,E,!0);if(null!=C){M=(0,u._1)(C,"bias","fused conv2d");var j=(0,s.makeTypesMatch)(M,D),Z=(0,r.Z)(j,1);M=Z[0],f.assertAndGetBroadcastShape(L.outShape,M.shape)}null!=I&&(F=(0,u._1)(I,"prelu weights","fused depthwiseConv2d"));var z=function(e,t){c.hu(v.I0(S),(function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations "+"'".concat(S,"'")}));var n=(0,r.Z)(t,4),a=n[0],o=n[1],i=n[2],s=n[3],u=(0,m.Fr)(e,i,T),l=(0,k.v)(o.shape,u,a,p,d,S,E),f=(0,w.z)(o,u,a.shape,p,d,S,E);return null!=s?[l,f,(0,m.pf)(M,u)]:[l,f]},B={x:R,filter:A,bias:M,preluActivationWeights:F},U={strides:p,pad:d,dataFormat:g,dilations:S,dimRoundingMode:E,activation:T,leakyreluAlpha:O};if(null==C){var W=(0,o.cb)((function(e,t,n){var r=a.BV.runKernel(i.lu,B,U);return n([t,e,r]),P&&(r=(0,y.X)(r,[r.shape[1],r.shape[2],r.shape[3]])),{value:r,gradFunc:z}}));return W(R,A)}var V=(0,o.cb)((function(e,t,n,r){var o=a.BV.runKernel(i.lu,B,U);return r([t,e,o,n]),P&&(o=(0,y.X)(o,[o.shape[1],o.shape[2],o.shape[3]])),{value:o,gradFunc:z}}));return V(R,A,M)}}),E=n(7221);var C=(0,g.op)({fusedMatMul_:function(e){var t=e.a,n=e.b,p=e.transposeA,d=void 0!==p&&p,h=e.transposeB,v=void 0!==h&&h,g=e.bias,b=e.activation,x=void 0===b?"linear":b,w=e.preluActivationWeights,k=e.leakyreluAlpha;if(!1===(0,m.uy)(a.BV.state.gradientDepth,x)){var S=(0,E.O)(t,n,d,v);return null!=g&&(S=(0,l.I)(S,g)),(0,m.QH)(S,x,w,k)}var C=(0,u._1)(t,"a","fused matMul"),N=(0,u._1)(n,"b","fused matMul"),T=(0,s.makeTypesMatch)(C,N),I=(0,r.Z)(T,2);C=I[0],N=I[1];var O=d?C.shape[C.rank-2]:C.shape[C.rank-1],_=v?N.shape[N.rank-1]:N.shape[N.rank-2],D=d?C.shape[C.rank-1]:C.shape[C.rank-2],A=v?N.shape[N.rank-2]:N.shape[N.rank-1],R=C.shape.slice(0,-2),P=N.shape.slice(0,-2),M=c.NA(R),F=c.NA(P);c.hu(O===_,(function(){return"Error in fused matMul: inner shapes (".concat(O,") and (")+"".concat(_,") of Tensors with shapes ").concat(C.shape," and ")+"".concat(N.shape," and transposeA=").concat(d)+" and transposeB=".concat(v," must match.")}));var L,j,Z=f.assertAndGetBroadcastShape(C.shape.slice(0,-2),N.shape.slice(0,-2)).concat([D,A]),z=d?(0,y.X)(C,[M,O,D]):(0,y.X)(C,[M,D,O]),B=v?(0,y.X)(N,[F,A,_]):(0,y.X)(N,[F,_,A]);if(null!=g){L=(0,u._1)(g,"bias","fused matMul");var U=(0,s.makeTypesMatch)(L,C);L=(0,r.Z)(U,1)[0],f.assertAndGetBroadcastShape(Z,L.shape)}null!=w&&(j=(0,u._1)(w,"prelu weights","fused matMul"));var W=function(e,t){var n,a,o=(0,r.Z)(t,4),i=o[0],s=o[1],u=o[2],c=o[3],l=(0,m.Fr)((0,y.X)(e,u.shape),u,x);return d||v?!d&&v?(n=(0,E.O)(l,s,!1,!1),a=(0,E.O)(l,i,!0,!1)):d&&!v?(n=(0,E.O)(s,l,!1,!0),a=(0,E.O)(i,l,!1,!1)):(n=(0,E.O)(s,l,!0,!0),a=(0,E.O)(l,i,!0,!0)):(n=(0,E.O)(l,s,!1,!0),a=(0,E.O)(i,l,!0,!1)),null!=g?[n,a,(0,m.pf)(c,l)]:[n,a]},V={a:z,b:B,bias:L,preluActivationWeights:j},H={transposeA:d,transposeB:v,activation:x,leakyreluAlpha:k};if(null==g){var G=(0,o.cb)((function(e,t,n){var r=a.BV.runKernel(i.us,V,H);return n([e,t,r]),{value:(0,y.X)(r,Z),gradFunc:W}}));return G(z,B)}var q=(0,o.cb)((function(e,t,n,r){var o=a.BV.runKernel(i.us,V,H);return r([e,t,o,n]),{value:(0,y.X)(o,Z),gradFunc:W}}));return q(z,B,L)}})},5171:function(e,t,n){"use strict";n.d(t,{Fr:function(){return h},QH:function(){return m},pf:function(){return v},uy:function(){return g}});var r=n(5774),a=n(2353),o=n(4419),i=n(651),s=n(6859),u=n(7539),c=n(5900),l=n(5561),f=n(7643),p=n(4031),d=n(227);function h(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return(0,i.d)(e,(0,p.N)(t));throw new Error("Cannot compute gradient for fused activation ".concat(n,"."))}function v(e,t){var n=t,a=r.getReductionAxes(e.shape,t.shape);return a.length>0&&(n=(0,d.S)(n,a)),(0,l.X)(n,e.shape)}function m(e,t,n,r){if("linear"===t)return e;if("relu"===t)return(0,u.U)(e);if("elu"===t)return(0,a.p)(e);if("relu6"===t)return(0,c.b)(e);if("prelu"===t)return(0,s.A)(e,n);if("leakyrelu"===t)return(0,o.h)(e,r);if("sigmoid"===t)return(0,f.X)(e);throw new Error("Unknown fused activation ".concat(t,"."))}var g=function(e,t){return!(e>0)||"linear"===t}},9498:function(e,t,n){"use strict";n.d(t,{I:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({gather_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=(0,o._1)(e,"x","gather"),u=(0,o._1)(t,"indices","gather","int32"),c={x:s,indices:u},l={axis:n,batchDims:i};return r.BV.runKernel(a.qi,c,l)}})},3357:function(e,t,n){"use strict";n.d(t,{d:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({gatherND_:function(e,t){var n=(0,o._1)(t,"indices","gatherND","int32"),i={params:(0,o._1)(e,"x","gatherND","string_or_numeric"),indices:n};return r.BV.runKernel(a.q1,i)}})},5014:function(e,t,n){"use strict";n.d(t,{p:function(){return c}});var r=n(9439),a=n(318),o=n(2145),i=n(9064),s=n(8354),u=n(5774);var c=(0,n(8640).op)({greater_:function(e,t){var n=(0,s._1)(e,"a","greater","string_or_numeric"),c=(0,s._1)(t,"b","greater","string_or_numeric"),l=(0,i.makeTypesMatch)(n,c),f=(0,r.Z)(l,2);n=f[0],c=f[1],(0,u.assertAndGetBroadcastShape)(n.shape,c.shape);var p={a:n,b:c};return a.BV.runKernel(o.iZ,p)}})},8327:function(e,t,n){"use strict";n.d(t,{b:function(){return c}});var r=n(9439),a=n(318),o=n(2145),i=n(9064),s=n(8354),u=n(5774);var c=(0,n(8640).op)({greaterEqual_:function(e,t){var n=(0,s._1)(e,"a","greaterEqual","string_or_numeric"),c=(0,s._1)(t,"b","greaterEqual","string_or_numeric"),l=(0,i.makeTypesMatch)(n,c),f=(0,r.Z)(l,2);n=f[0],c=f[1],(0,u.assertAndGetBroadcastShape)(n.shape,c.shape);var p={a:n,b:c};return a.BV.runKernel(o.Ac,p)}})},6996:function(e,t,n){"use strict";n.d(t,{a:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({imag_:function(e){var t={input:(0,o._1)(e,"input","imag")};return r.BV.runKernel(a.J_,t)}})},464:function(e,t,n){"use strict";n.d(t,{I:function(){return l}});var r=n(4506),a=n(318),o=n(2145),i=n(8354),s=n(6147),u=n(8640),c=n(5561);var l=(0,u.op)({resizeBilinear_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=(0,i._1)(e,"images","resizeBilinear");s.hu(3===l.rank||4===l.rank,(function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got "+"rank ".concat(l.rank,".")})),s.hu(2===t.length,(function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+"".concat(t,".")})),s.hu(!1===u||!1===n,(function(){return"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."}));var f=l,p=!1;3===l.rank&&(p=!0,f=(0,c.X)(l,[1,l.shape[0],l.shape[1],l.shape[2]])),(0,r.Z)(t);var d={images:f},h={alignCorners:n,halfPixelCenters:u,size:t},v=a.BV.runKernel(o._Y,d,h);return p?(0,c.X)(v,[v.shape[1],v.shape[2],v.shape[3]]):v}})},8600:function(e,t,n){"use strict";n.d(t,{j:function(){return l}});var r=n(4506),a=n(318),o=n(2145),i=n(8354),s=n(6147),u=n(8640),c=n(5561);var l=(0,u.op)({resizeNearestNeighbor_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=(0,i._1)(e,"images","resizeNearestNeighbor");s.hu(3===l.rank||4===l.rank,(function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got "+"rank ".concat(l.rank,".")})),s.hu(2===t.length,(function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+"".concat(t,".")})),s.hu("float32"===l.dtype||"int32"===l.dtype,(function(){return"`images` must have `int32` or `float32` as dtype"})),s.hu(!1===u||!1===n,(function(){return"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."}));var f=l,p=!1;3===l.rank&&(p=!0,f=(0,c.X)(l,[1,l.shape[0],l.shape[1],l.shape[2]])),(0,r.Z)(t);var d={images:f},h={alignCorners:n,halfPixelCenters:u,size:t},v=a.BV.runKernel(o.dp,d,h);return p?(0,c.X)(v,[v.shape[1],v.shape[2],v.shape[3]]):v}})},300:function(e,t,n){"use strict";n.d(t,{x:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({isFinite_:function(e){var t={x:(0,o._1)(e,"x","isFinite")};return r.BV.runKernel(a.av,t)}})},4652:function(e,t,n){"use strict";n.d(t,{U:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({isInf_:function(e){var t={x:(0,o._1)(e,"x","isInf")};return r.BV.runKernel(a.iW,t)}})},7005:function(e,t,n){"use strict";n.d(t,{i:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({isNaN_:function(e){var t={x:(0,o._1)(e,"x","isNaN")};return r.BV.runKernel(a.r7,t)}})},4419:function(e,t,n){"use strict";n.d(t,{h:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({leakyRelu_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2,n=(0,o._1)(e,"x","leakyRelu"),i={x:n},s={alpha:t};return r.BV.runKernel(a.J$,i,s)}})},4920:function(e,t,n){"use strict";n.d(t,{d:function(){return c}});var r=n(9439),a=n(318),o=n(2145),i=n(9064),s=n(8354),u=n(5774);var c=(0,n(8640).op)({less_:function(e,t){var n=(0,s._1)(e,"a","less","string_or_numeric"),c=(0,s._1)(t,"b","less","string_or_numeric"),l=(0,i.makeTypesMatch)(n,c),f=(0,r.Z)(l,2);n=f[0],c=f[1],(0,u.assertAndGetBroadcastShape)(n.shape,c.shape);var p={a:n,b:c};return a.BV.runKernel(o.vt,p)}})},2642:function(e,t,n){"use strict";n.d(t,{z:function(){return c}});var r=n(9439),a=n(318),o=n(2145),i=n(9064),s=n(8354),u=n(5774);var c=(0,n(8640).op)({lessEqual_:function(e,t){var n=(0,s._1)(e,"a","lessEqual","string_or_numeric"),c=(0,s._1)(t,"b","lessEqual","string_or_numeric"),l=(0,i.makeTypesMatch)(n,c),f=(0,r.Z)(l,2);n=f[0],c=f[1],(0,u.assertAndGetBroadcastShape)(n.shape,c.shape);var p={a:n,b:c};return a.BV.runKernel(o.CA,p)}})},2453:function(e,t,n){"use strict";n.d(t,{S:function(){return o}});var r=n(318),a=n(2145);function o(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");var o={start:e,stop:t,num:n};return r.BV.runKernel(a.e7,{},o)}},936:function(e,t,n){"use strict";n.d(t,{G:function(){return c}});var r=n(318),a=n(2145),o=n(8354),i=n(6147),s=n(8640),u=n(5561);var c=(0,s.op)({localResponseNormalization_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5,l=(0,o._1)(e,"x","localResponseNormalization");i.hu(4===l.rank||3===l.rank,(function(){return"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ".concat(l.rank,".")})),i.hu(i.GN(t),(function(){return"Error in localResponseNormalization: depthRadius must be an "+"integer but got depthRadius ".concat(t,".")}));var f=l,p=!1;3===l.rank&&(p=!0,f=(0,u.X)(l,[1,l.shape[0],l.shape[1],l.shape[2]]));var d={x:f},h={depthRadius:t,bias:n,alpha:s,beta:c},v=r.BV.runKernel(a.eZ,d,h);return p?(0,u.X)(v,[v.shape[1],v.shape[2],v.shape[3]]):v}})},378:function(e,t,n){"use strict";n.d(t,{c:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({log_:function(e){var t={x:(0,o._1)(e,"x","log","float32")};return r.BV.runKernel(a.Zb,t)}})},5341:function(e,t,n){"use strict";n.d(t,{K:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({log1p_:function(e){var t={x:(0,o._1)(e,"x","log1p")};return r.BV.runKernel(a.kU,t)}})},5113:function(e,t,n){"use strict";n.d(t,{e:function(){return l}});var r=n(6450),a=n(8354),o=n(651),i=n(4362),s=n(8640),u=n(7643),c=n(4626);var l=(0,s.op)({logSigmoid_:function(e){var t=(0,a._1)(e,"x","logSigmoid"),n=(0,r.cb)((function(e){return{value:(0,i.W)((0,c.W)((0,i.W)(e))),gradFunc:function(t){return(0,o.d)(t,(0,u.X)((0,i.W)(e)))}}}));return n(t)}})},4561:function(e,t,n){"use strict";n.d(t,{C:function(){return h}});var r=n(9439),a=n(6450),o=n(8354),i=n(9118),s=n(411),u=n(378),c=n(6176),l=n(651),f=n(8640),p=n(4774),d=n(227);var h=(0,f.op)({logSoftmax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=(0,o._1)(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(n.rank," and axis was ").concat(t));var f=(0,a.cb)((function(e,n){var a=(0,c.F)(e,t,!0),o=(0,p.l)(e,a),f=(0,p.l)((0,i.p)(o,"float32"),(0,u.c)((0,d.S)((0,s.Q)(o),t,!0)));n([f]);return{value:f,gradFunc:function(e,n){var a=(0,r.Z)(n,1)[0],o=(0,s.Q)(a);return(0,p.l)(e,(0,l.d)((0,d.S)(e,t,!0),o))}}}));return f(n)}})},5530:function(e,t,n){"use strict";n.d(t,{l:function(){return h}});var r=n(8354),a=n(6147),o=n(3312),i=n(8473),s=n(411),u=n(378),c=n(6176),l=n(8640),f=n(5561),p=n(4774),d=n(227);var h=(0,l.op)({logSumExp_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=(0,r._1)(e,"x","logSumExp"),h=(0,a.EC)(t,l.shape),v=(0,c.F)(l,h,!0),m=(0,p.l)(l,v),g=(0,s.Q)(m),y=(0,d.S)(g,h),b=(0,u.c)(y),x=(0,o.I)((0,f.X)(v,b.shape),b);if(n){var w=(0,i.rv)(x.shape,h);return(0,f.X)(x,w)}return x}})},2177:function(e,t,n){"use strict";n.d(t,{H:function(){return s}});var r=n(318),a=n(2145),o=n(8354),i=n(5774);var s=(0,n(8640).op)({logicalAnd_:function(e,t){var n=(0,o._1)(e,"a","logicalAnd","bool"),s=(0,o._1)(t,"b","logicalAnd","bool");(0,i.assertAndGetBroadcastShape)(n.shape,s.shape);var u={a:n,b:s};return r.BV.runKernel(a.PY,u)}})},875:function(e,t,n){"use strict";n.d(t,{h:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({logicalNot_:function(e){var t={x:(0,o._1)(e,"x","logicalNot","bool")};return r.BV.runKernel(a.Vf,t)}})},5117:function(e,t,n){"use strict";n.d(t,{K:function(){return s}});var r=n(318),a=n(2145),o=n(8354),i=n(5774);var s=(0,n(8640).op)({logicalOr_:function(e,t){var n=(0,o._1)(e,"a","logicalOr","bool"),s=(0,o._1)(t,"b","logicalOr","bool");(0,i.assertAndGetBroadcastShape)(n.shape,s.shape);var u={a:n,b:s};return r.BV.runKernel(a.MZ,u)}})},1712:function(e,t,n){"use strict";n.d(t,{e:function(){return u}});var r=n(8354),a=n(5774),o=n(2177),i=n(875),s=n(5117);var u=(0,n(8640).op)({logicalXor_:function(e,t){var n=(0,r._1)(e,"a","logicalXor","bool"),u=(0,r._1)(t,"b","logicalXor","bool");return(0,a.assertAndGetBroadcastShape)(n.shape,u.shape),(0,o.H)((0,s.K)(e,t),(0,i.h)((0,o.H)(e,t)))}})},7627:function(e,t,n){"use strict";var r;n.d(t,{I:function(){return r}}),function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(r||(r={}))},4255:function(e,t,n){"use strict";n.d(t,{e:function(){return a}});var r=n(9028);function a(e,t){return(0,r.z)(e,t,"left")}},7221:function(e,t,n){"use strict";n.d(t,{O:function(){return u}});var r=n(9439),a=n(318),o=n(2145),i=n(9064),s=n(8354);var u=(0,n(8640).op)({matMul_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=(0,s._1)(e,"a","matMul"),l=(0,s._1)(t,"b","matMul"),f=(0,i.makeTypesMatch)(c,l),p=(0,r.Z)(f,2),d={a:c=p[0],b:l=p[1]},h={transposeA:n,transposeB:u};return a.BV.runKernel(o.XL,d,h)}})},6176:function(e,t,n){"use strict";n.d(t,{F:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({max_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=(0,o._1)(e,"x","max"),s={x:i},u={reductionIndices:t,keepDims:n};return r.BV.runKernel(a.Yo,s,u)}})},5777:function(e,t,n){"use strict";n.d(t,{_:function(){return l}});var r=n(318),a=n(2145),o=n(8354),i=n(6147),s=n(9151),u=n(8640),c=n(5561);var l=(0,u.op)({maxPool_:function(e,t,n,u,l){var f=(0,o._1)(e,"x","maxPool"),p=f,d=!1;3===f.rank&&(d=!0,p=(0,c.X)(f,[1,f.shape[0],f.shape[1],f.shape[2]])),i.hu(4===p.rank,(function(){return"Error in maxPool: input must be rank 4 but got rank ".concat(p.rank,".")})),i.hu(s.jT(n,1),(function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(n," and dilations '").concat(1,"'")})),s.m("maxPool",u,l);var h={x:p},v={filterSize:t,strides:n,pad:u,dimRoundingMode:l},m=r.BV.runKernel(a.mT,h,v);return d?(0,c.X)(m,[m.shape[1],m.shape[2],m.shape[3]]):m}})},9185:function(e,t,n){"use strict";n.d(t,{Y:function(){return l}});var r=n(318),a=n(2145),o=n(8354),i=n(6147),s=n(9151),u=n(8640),c=n(5561);var l=(0,u.op)({maxPool3d_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[1,1,1],n=arguments.length>2?arguments[2]:void 0,u=arguments.length>3?arguments[3]:void 0,l=arguments.length>4?arguments[4]:void 0,f=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"NDHWC",p=(0,o._1)(e,"x","maxPool3d"),d=p,h=!1;4===p.rank&&(h=!0,d=(0,c.X)(p,[1,p.shape[0],p.shape[1],p.shape[2],p.shape[3]])),i.hu(5===d.rank,(function(){return"Error in maxPool3d: x must be rank 5 but got rank ".concat(d.rank,".")})),i.hu("NDHWC"===f,(function(){return"Error in maxPool3d: Only NDHWC is currently supported, "+"but got dataFormat of ".concat(f)})),(0,s.m)("maxPool3d",u,l);var v={x:d},m={filterSize:t,strides:n,pad:u,dimRoundingMode:l,dataFormat:f},g=r.BV.runKernel(a.OA,v,m);return h?(0,c.X)(g,[g.shape[1],g.shape[2],g.shape[3],g.shape[4]]):g}})},8811:function(e,t,n){"use strict";n.d(t,{I:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({maxPoolWithArgmax_:function(e,t,n,i){var s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=(0,o._1)(e,"x","maxPoolWithArgmax"),c={x:u},l={filterSize:t,strides:n,pad:i,includeBatchInIndex:s},f=r.BV.runKernel(a.vF,c,l);return{result:f[0],indexes:f[1]}}})},705:function(e,t,n){"use strict";n.d(t,{g:function(){return l}});var r=n(9439),a=n(318),o=n(2145),i=n(9064),s=n(8354),u=n(5774),c=n(9118);var l=(0,n(8640).op)({maximum_:function(e,t){var n=(0,s._1)(e,"a","maximum"),l=(0,s._1)(t,"b","maximum"),f=(0,i.makeTypesMatch)(n,l),p=(0,r.Z)(f,2);n=p[0],l=p[1],"bool"===n.dtype&&(n=(0,c.p)(n,"int32"),l=(0,c.p)(l,"int32")),(0,u.assertAndGetBroadcastShape)(n.shape,l.shape);var d={a:n,b:l};return a.BV.runKernel(o.BM,d)}})},6568:function(e,t,n){"use strict";n.d(t,{J:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({mean_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=(0,o._1)(e,"x","mean"),s={x:i},u={axis:t,keepDims:n};return r.BV.runKernel(a.q2,s,u)}})},7891:function(e,t,n){"use strict";n.d(t,{V:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({min_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=(0,o._1)(e,"x","min"),s={x:i},u={axis:t,keepDims:n};return r.BV.runKernel(a.c1,s,u)}})},2273:function(e,t,n){"use strict";n.d(t,{L:function(){return l}});var r=n(9439),a=n(318),o=n(2145),i=n(9064),s=n(8354),u=n(5774),c=n(9118);var l=(0,n(8640).op)({minimum_:function(e,t){var n=(0,s._1)(e,"a","minimum"),l=(0,s._1)(t,"b","minimum"),f=(0,i.makeTypesMatch)(n,l),p=(0,r.Z)(f,2);n=p[0],l=p[1],"bool"===n.dtype&&(n=(0,c.p)(n,"int32"),l=(0,c.p)(l,"int32")),(0,u.assertAndGetBroadcastShape)(n.shape,l.shape);var d={a:n,b:l};return a.BV.runKernel(o.q8,d)}})},9719:function(e,t,n){"use strict";n.d(t,{V:function(){return s}});var r=n(318),a=n(2145),o=n(8354),i=n(6147);var s=(0,n(8640).op)({mirrorPad_:function(e,t,n){i.hu("reflect"===n||"symmetric"===n,(function(){return"Invalid mode. Mode must be either reflect or symmetric. "+"Got ".concat(n,".")}));var s=(0,o._1)(e,"x","mirrorPad");if(0===s.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");i.hu(t.length===s.rank,(function(){return"Padding doesn't match input. Must be ".concat(s.rank,". ")+"Got ".concat(t.length,".")}));for(var u="reflect"===n?1:0,c=function(e){i.hu(2===t[e].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),i.hu(t[e][0]>=0&&t[e][0]<=s.shape[e]-u&&t[e][1]>=0&&t[e][1]<=s.shape[e]-u,(function(){return"Padding in dimension ".concat(e," cannot be greater than or equal ")+"to ".concat(s.shape[e]-u," or less than 0 for input of ")+"shape ".concat(s.shape)}))},l=0;l<s.rank;l++)c(l);var f={paddings:t,mode:n},p={x:s};return r.BV.runKernel(a.jQ,p,f)}})},4645:function(e,t,n){"use strict";n.d(t,{w:function(){return u}});var r=n(9439),a=n(318),o=n(2145),i=n(9064),s=n(8354);var u=(0,n(8640).op)({mod_:function(e,t){var n=(0,s._1)(e,"a","mod"),u=(0,s._1)(t,"b","mod"),c=(0,i.makeTypesMatch)(n,u),l=(0,r.Z)(c,2),f={a:n=l[0],b:u=l[1]};return a.BV.runKernel(o.Vb,f)}})},651:function(e,t,n){"use strict";n.d(t,{d:function(){return u}});var r=n(9439),a=n(318),o=n(2145),i=n(9064),s=n(8354);var u=(0,n(8640).op)({mul_:function(e,t){var n=(0,s._1)(e,"a","mul"),u=(0,s._1)(t,"b","mul"),c=(0,i.makeTypesMatch)(n,u),l=(0,r.Z)(c,2),f={a:n=l[0],b:u=l[1]};return a.BV.runKernel(o.wY,f)}})},4660:function(e,t,n){"use strict";n.d(t,{S:function(){return u}});var r=n(318),a=n(2145),o=n(8354),i=n(8640),s=n(5561);var u=(0,i.op)({multinomial_:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=(0,o._1)(e,"logits","multinomial"),c=u.size,l=u.rank;if(c<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+"".concat(c,"."));if(l>2)throw new Error("Rank of probabilities must be 1 or 2, but is ".concat(l));n=n||Math.random();var f=1===l?(0,s.X)(u,[1,-1]):u,p={logits:f},d={numSamples:t,seed:n,normalized:i},h=r.BV.runKernel(a.NZ,p,d);return 1===l?(0,s.X)(h,[h.size]):h}})},4362:function(e,t,n){"use strict";n.d(t,{W:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({neg_:function(e){var t={x:(0,o._1)(e,"x","neg")};return r.BV.runKernel(a.ku,t)}})},6662:function(e,t,n){"use strict";n.d(t,{K:function(){return g}});var r=n(8354),a=n(6147),o=n(7613),i=n(8473),s=n(6176),u=n(7891),c=n(8640),l=n(4334),f=n(5561),p=n(7067),d=n(6902),h=n(7391),v=n(227);function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(0===e.rank)return(0,o.W)(e);if(1!==e.rank&&null===n)return m((0,f.X)(e,[-1]),t,n);if(1===e.rank||"number"===typeof n||Array.isArray(n)&&1===n.length){if(1===t)return(0,v.S)((0,o.W)(e),n);if(t===1/0)return(0,s.F)((0,o.W)(e),n);if(t===-1/0)return(0,u.V)((0,o.W)(e),n);if("euclidean"===t||2===t)return(0,d._)((0,v.S)((0,l.s)((0,o.W)(e),(0,p.i)(2,"int32")),n));throw new Error("Error in norm: invalid ord value: ".concat(t))}if(Array.isArray(n)&&2===n.length){if(1===t)return(0,s.F)((0,v.S)((0,o.W)(e),n[0]),n[1]-1);if(t===1/0)return(0,s.F)((0,v.S)((0,o.W)(e),n[1]),n[0]);if(t===-1/0)return(0,u.V)((0,v.S)((0,o.W)(e),n[1]),n[0]);if("fro"===t||"euclidean"===t)return(0,d._)((0,v.S)((0,h.h)(e),n));throw new Error("Error in norm: invalid ord value: ".concat(t))}throw new Error("Error in norm: invalid axis: ".concat(n))}var g=(0,c.op)({norm_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"euclidean",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=m(e=(0,r._1)(e,"x","norm"),t,n),u=s.shape;if(o){var c=(0,a.EC)(n,e.shape);u=i.rv(s.shape,c)}return(0,f.X)(s,u)}})},5549:function(e,t,n){"use strict";n.d(t,{Q:function(){return c}});var r=n(9439),a=n(318),o=n(2145),i=n(9064),s=n(8354),u=n(5774);var c=(0,n(8640).op)({notEqual_:function(e,t){var n=(0,s._1)(e,"a","notEqual","string_or_numeric"),c=(0,s._1)(t,"b","notEqual","string_or_numeric"),l=(0,i.makeTypesMatch)(n,c),f=(0,r.Z)(l,2);n=f[0],c=f[1],(0,u.assertAndGetBroadcastShape)(n.shape,c.shape);var p={a:n,b:c};return a.BV.runKernel(o.yQ,p)}})},4326:function(e,t,n){"use strict";n.d(t,{l:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({oneHot_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(t<2)throw new Error("Error in oneHot: depth must be >=2, but it is ".concat(t));var s=(0,o._1)(e,"indices","oneHot","int32"),u={indices:s},c={depth:t,onValue:n,offValue:i};return r.BV.runKernel(a.we,u,c)}})},6100:function(e,t,n){"use strict";n.d(t,{i:function(){return s}});var r=n(318),a=n(6147),o=n(9253),i=n(7742);function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if("complex64"===t){var n=s(e,"float32"),u=(0,i.l)(e,"float32");return(0,o.P)(n,u)}var c=(0,a.p8)((0,a.NA)(e),t);return r.BV.makeTensor(c,e,t)}},773:function(e,t,n){"use strict";n.d(t,{J:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({onesLike_:function(e){var t={x:(0,o._1)(e,"x","onesLike")};return r.BV.runKernel(a.qW,t)}})},8640:function(e,t,n){"use strict";n.d(t,{op:function(){return i},z:function(){return o}});var r=n(318),a=n(6147),o="__op";function i(e){var t=Object.keys(e);if(1!==t.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+"".concat(t.length," keys."));var n=t[0],i=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n+=o;var s=function(){r.BV.startScope(n);try{var e=i.apply(void 0,arguments);return(0,a.tI)(e)&&console.error("Cannot return a Promise inside of tidy."),r.BV.endScope(e),e}catch(t){throw r.BV.endScope(null),t}};return Object.defineProperty(s,"name",{value:n,configurable:!0}),s}},5317:function(e,t,n){"use strict";n.d(t,{zvA:function(){return S.z},WnP:function(){return r.W},Khb:function(){return a.K},__u:function(){return o._},IHx:function(){return i.I},QBD:function(){return s.Q},$6P:function(){return u.$},YjB:function(){return c.Y},NqF:function(){return l.N},vHJ:function(){return f.v},ZRM:function(){return p.Z},VfV:function(){return d.V},z4N:function(){return h.z},fvJ:function(){return v.f},C80:function(){return m.C},wS1:function(){return g.w},uR5:function(){return y.u},zEQ:function(){return T},tgs:function(){return O.t},Dxk:function(){return D},JY5:function(){return A},p3b:function(){return R},E4h:function(){return I.E},yE8:function(){return P.y},anm:function(){return Wn},XsQ:function(){return M.X},UFq:function(){return F.U},f3b:function(){return L.f},pju:function(){return j.p},mDi:function(){return Z.m},iUl:function(){return z.i},d9v:function(){return B.d},PYB:function(){return U.P},zoF:function(){return x.z},gME:function(){return W},Izb:function(){return V},MNy:function(){return H},ZaL:function(){return G},PAt:function(){return q.P},Tek:function(){return X.T},bc:function(){return K.b},pdZ:function(){return Y.p},$QV:function(){return $},mCk:function(){return J.m},f9Y:function(){return ee.f},mew:function(){return er},$Gn:function(){return te.$},zbp:function(){return ne.z},ppE:function(){return re.p},nTT:function(){return ae.n},B10:function(){return oe.B},Ka3:function(){return ue},WmZ:function(){return ce.W},hiC:function(){return le.h},NTj:function(){return fe.N},AKD:function(){return pe.A},rvX:function(){return $n},WYO:function(){return de.W},pyx:function(){return he.p},GRh:function(){return Jn},DgJ:function(){return ve.D},qNN:function(){return me.q},d2q:function(){return ge.d},Qqt:function(){return ye.Q},dt4:function(){return be.d},t$B:function(){return xe.t},iyy:function(){return Se},kp_:function(){return sn.k},hlL:function(){return Ee.h},GWj:function(){return Ce.G},qPi:function(){return Ne.q},imm:function(){return rr},Iqj:function(){return Te.I},dbB:function(){return Qn.d},pjt:function(){return Ie.p},brS:function(){return Oe.b},Sxn:function(){return un.S},asL:function(){return _e.a},BHj:function(){return na},V3u:function(){return nr},wx0:function(){return cn.w},xVT:function(){return De.x},UWc:function(){return Ae.U},i2d:function(){return Re.i},hi7:function(){return Pe.h},d9m:function(){return Me.d},zN1:function(){return Fe.z},$r2:function(){return ra},SX3:function(){return Le.S},G9k:function(){return je.G},cM7:function(){return Ze.c},Krr:function(){return ze.K},e_t:function(){return Be.e},CmS:function(){return Ue.C},l_t:function(){return We.l},HvI:function(){return Ve.H},hJK:function(){return He.h},K5V:function(){return Ge.K},egP:function(){return qe.e},MB5:function(){return aa},eab:function(){return Xe.e},OI3:function(){return w.O},Fp7:function(){return Ke.F},_sB:function(){return Ye._},YQQ:function(){return Qe.Y},Ip$:function(){return $e.I},gWQ:function(){return Je.g},J69:function(){return et.J},ry_:function(){return rt},VV$:function(){return at.V},LTh:function(){return ot.L},VdP:function(){return it.V},wQq:function(){return st.w},Gi7:function(){return ft},p_:function(){return qn},dC7:function(){return k.d},rq4:function(){return pt},SJ_:function(){return dt.S},W76:function(){return ht.W},KOy:function(){return Hn.K},Quu:function(){return vt.Q},lfX:function(){return mt.l},iUs:function(){return tt.i},JpU:function(){return gt.J},op:function(){return S.op},N2O:function(){return yt},vku:function(){return bt.v},pNR:function(){return xt},koy:function(){return wt},t1L:function(){return kt},lGY:function(){return St},d_R:function(){return Et.d},sQ3:function(){return Ct.s},AL3:function(){return Nt.A},S0v:function(){return Tt.S},WVs:function(){return It.W},TN_:function(){return Ot},wzB:function(){return Dt},nGf:function(){return At},LGj:function(){return Rt.L},w6H:function(){return Pt.w},kwC:function(){return Mt.k},M25:function(){return Ft.M},UYe:function(){return Lt.U},btT:function(){return jt.b},XLQ:function(){return we.X},GYS:function(){return Zt.G},SDf:function(){return zt},diP:function(){return Bt},sx7:function(){return Ut},mG2:function(){return Wt},QEs:function(){return ln.Q},NMM:function(){return Vt.N},bp0:function(){return Ht.b},iD$:function(){return Gt.i},snQ:function(){return Xn.s},zcT:function(){return Kn.z},U8D:function(){return qt.U},U_I:function(){return Xt.U},ODp:function(){return Kt.O},XD2:function(){return E.X},Xxe:function(){return Yt.X},tdS:function(){return ta},O$l:function(){return Qt.O},R_K:function(){return $t.R},tPi:function(){return C.t},jZU:function(){return Jt},SmN:function(){return en},CnO:function(){return tn},p0P:function(){return nn},XAC:function(){return rn.X},Wvh:function(){return an.W},fBT:function(){return on.f},rVs:function(){return oa},ers:function(){return Yn.e},uN7:function(){return ea},Vl2:function(){return fn.V},_b3:function(){return pn._},h62:function(){return ct.h},$i:function(){return dn.$},L9e:function(){return hn.L},knu:function(){return vn.k},Nbs:function(){return mn.N},NXj:function(){return gn.N},Z_8:function(){return ia},luU:function(){return lt.l},Smz:function(){return yn.S},ORZ:function(){return bn.O},AEp:function(){return N.A},XeE:function(){return xn.X},RRF:function(){return wn.R},odF:function(){return Sn},wOQ:function(){return En.w},yXz:function(){return Cn},Bfx:function(){return Nn},xZs:function(){return Tn},Gg6:function(){return ke.G},hg7:function(){return In.h},p4s:function(){return Vn.p},Xu6:function(){return On.X},Two:function(){return _n.T},pUJ:function(){return Dn.p},HHK:function(){return An.H},GaM:function(){return Rn.G},VD$:function(){return Pn},arb:function(){return Mn.a},itS:function(){return Fn.i},lls:function(){return Ln.l},P84:function(){return jn.P}});var r=n(7613),a=n(1719),o=n(4502),i=n(3312),s=n(5506),u=n(4108),c=n(8543),l=n(9995),f=n(5157),p=n(3053),d=n(54),h=n(4778),v=n(2227),m=n(7897),g=n(9204),y=n(5840),b=n(8354),x=n(4836),w=n(7221),k=n(651),S=n(8640),E=n(7643),C=n(9238),N=n(1744);var T=(0,S.op)({basicLSTMCell_:function(e,t,n,r,a,o){var s=(0,b._1)(e,"forgetBias","basicLSTMCell"),u=(0,b._1)(t,"lstmKernel","basicLSTMCell"),c=(0,b._1)(n,"lstmBias","basicLSTMCell"),l=(0,b._1)(r,"data","basicLSTMCell"),f=(0,b._1)(a,"c","basicLSTMCell"),p=(0,b._1)(o,"h","basicLSTMCell"),d=(0,x.z)([l,p],1),h=(0,w.O)(d,u),v=(0,i.I)(h,c),m=v.shape[0],g=v.shape[1]/4,y=[m,g],S=(0,C.t)(v,[0,0],y),T=(0,C.t)(v,[0,g],y),I=(0,C.t)(v,[0,2*g],y),O=(0,C.t)(v,[0,3*g],y),_=(0,i.I)((0,k.d)((0,E.X)(S),(0,N.A)(T)),(0,k.d)(f,(0,E.X)((0,i.I)(s,I))));return[_,(0,k.d)((0,N.A)(_),(0,E.X)(O))]}}),I=n(6994),O=n(3700),_=n(6147);var D=(0,S.op)({batchNorm2d_:function(e,t,n,r,a,o){var i,s,u=(0,b._1)(e,"x","batchNorm"),c=(0,b._1)(t,"mean","batchNorm"),l=(0,b._1)(n,"variance","batchNorm");return null!=a&&(i=(0,b._1)(a,"scale","batchNorm")),null!=r&&(s=(0,b._1)(r,"offset","batchNorm")),_.hu(2===u.rank,(function(){return"Error in batchNorm2D: x must be rank 2 but got rank "+"".concat(u.rank,".")})),_.hu(2===c.rank||1===c.rank,(function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but "+"got rank ".concat(c.rank,".")})),_.hu(2===l.rank||1===l.rank,(function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 "+"but got rank ".concat(l.rank,".")})),null!=i&&_.hu(2===i.rank||1===i.rank,(function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 "+"but got rank ".concat(i.rank,".")})),null!=s&&_.hu(2===s.rank||1===s.rank,(function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 "+"but got rank ".concat(s.rank,".")})),(0,O.t)(u,c,l,s,i,o)}});var A=(0,S.op)({batchNorm3d_:function(e,t,n,r,a,o){var i,s,u=(0,b._1)(e,"x","batchNorm"),c=(0,b._1)(t,"mean","batchNorm"),l=(0,b._1)(n,"variance","batchNorm");return null!=a&&(i=(0,b._1)(a,"scale","batchNorm")),null!=r&&(s=(0,b._1)(r,"offset","batchNorm")),_.hu(3===u.rank,(function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+"".concat(u.rank,".")})),_.hu(3===c.rank||1===c.rank,(function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but "+"got rank ".concat(c.rank,".")})),_.hu(3===l.rank||1===l.rank,(function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 "+"but got rank ".concat(l.rank,".")})),null!=i&&_.hu(3===i.rank||1===i.rank,(function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 "+"but got rank ".concat(i.rank,".")})),null!=s&&_.hu(3===s.rank||1===s.rank,(function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 "+"but got rank ".concat(s.rank,".")})),(0,O.t)(u,c,l,s,i,o)}});var R=(0,S.op)({batchNorm4d_:function(e,t,n,r,a,o){var i,s,u=(0,b._1)(e,"x","batchNorm"),c=(0,b._1)(t,"mean","batchNorm"),l=(0,b._1)(n,"variance","batchNorm");return null!=a&&(i=(0,b._1)(a,"scale","batchNorm")),null!=r&&(s=(0,b._1)(r,"offset","batchNorm")),_.hu(4===u.rank,(function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+"".concat(u.rank,".")})),_.hu(4===c.rank||1===c.rank,(function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but "+"got rank ".concat(c.rank,".")})),_.hu(4===l.rank||1===l.rank,(function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 "+"but got rank ".concat(l.rank,".")})),null!=i&&_.hu(4===i.rank||1===i.rank,(function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 "+"but got rank ".concat(i.rank,".")})),null!=s&&_.hu(4===s.rank||1===s.rank,(function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 "+"but got rank ".concat(s.rank,".")})),(0,O.t)(u,c,l,s,i,o)}}),P=n(7531),M=n(238),F=n(9742),L=n(7039),j=n(9118),Z=n(1396),z=n(9836),B=n(672),U=n(9253);var W=(0,S.op)({concat1d_:function(e){return(0,x.z)(e,0)}});var V=(0,S.op)({concat2d_:function(e,t){return(0,x.z)(e,t)}});var H=(0,S.op)({concat3d_:function(e,t){return(0,x.z)(e,t)}});var G=(0,S.op)({concat4d_:function(e,t){return(0,x.z)(e,t)}}),q=n(4918),X=n(3457),K=n(1732),Y=n(8113),Q=n(1873);var $=(0,S.op)({conv3dTranspose_:function(e,t,n,r,a){var o=(0,b._1)(e,"x","conv3dTranspose"),i=(0,b._1)(t,"filter","conv3dTranspose");return(0,Q._)(n,o,i,r,a)}}),J=n(1227),ee=n(6679),te=n(9457),ne=n(8862),re=n(7419),ae=n(1878),oe=n(1147),ie=n(318),se=n(2145);var ue=(0,S.op)({diag_:function(e){var t={x:(0,b._1)(e,"x","diag")};return ie.BV.runKernel(se.$w,t)}}),ce=n(7580),le=n(5750),fe=n(5923),pe=n(5043),de=n(8060),he=n(2353),ve=n(3254),me=n(3891),ge=n(3313),ye=n(411),be=n(2975),xe=n(5682),we=n(5561),ke=n(2343);var Se=(0,S.op)({eye_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32";null==t&&(t=e);for(var a=(0,L.f)([e,t],r),o=e<=t?e:t,i=0;i<o;++i)a.set(1,i,i);var s=(0,we.X)(a.toTensor(),[e,t]);if(null==n)return s;if(1===n.length)return(0,ke.G)((0,be.d)(s,0),[n[0],1,1]);if(2===n.length)return(0,ke.G)((0,be.d)((0,be.d)(s,0),0),[n[0],n[1],1,1]);if(3===n.length)return(0,ke.G)((0,be.d)((0,be.d)((0,be.d)(s,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D "+"batchShapes, but received ".concat(n.length,"D."))}}),Ee=n(8582),Ce=n(2628),Ne=n(7145),Te=n(9498),Ie=n(5014),Oe=n(8327),_e=n(6996),De=n(300),Ae=n(4652),Re=n(7005),Pe=n(4419),Me=n(4920),Fe=n(2642),Le=n(2453),je=n(936),Ze=n(378),ze=n(5341),Be=n(5113),Ue=n(4561),We=n(5530),Ve=n(2177),He=n(875),Ge=n(5117),qe=n(1712),Xe=n(4255),Ke=n(6176),Ye=n(5777),Qe=n(9185),$e=n(8811),Je=n(705),et=n(6568),tt=n(6100),nt=n(4376);function rt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.indexing,a=void 0===r?"xy":r;if("xy"!==a&&"ij"!==a)throw new TypeError("".concat(a," is not a valid third argument to meshgrid"));if(void 0===e)return[];var o=(0,b._1)(e,"x","meshgrid",e instanceof nt.es?e.dtype:"float32");if(void 0===t)return[o];var i=(0,b._1)(t,"y","meshgrid",t instanceof nt.es?t.dtype:"float32"),s=(0,_.NA)(o.shape),u=(0,_.NA)(i.shape);return"xy"===a?(o=(0,we.X)(o,[1,-1]),i=(0,we.X)(i,[-1,1]),[(0,w.O)((0,tt.i)([u,1],o.dtype),o),(0,w.O)(i,(0,tt.i)([1,s],i.dtype))]):(o=(0,we.X)(o,[-1,1]),i=(0,we.X)(i,[1,-1]),[(0,w.O)(o,(0,tt.i)([1,u],o.dtype)),(0,w.O)((0,tt.i)([s,1],i.dtype),i)])}var at=n(7891),ot=n(2273),it=n(9719),st=n(4645),ut=n(8473),ct=n(7391),lt=n(4774);var ft=(0,S.op)({moments_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e=(0,b._1)(e,"x","moments");var r=(0,_.EC)(t,e.shape),a=(0,et.J)(e,r,n),o=a.shape;n||(o=(0,ut.rv)(a.shape,r));var i=(0,ct.h)((0,lt.l)((0,j.p)(e,"float32"),(0,we.X)(a,o))),s=(0,et.J)(i,r,n);return{mean:a,variance:s}}});var pt=(0,S.op)({multiRNNCell_:function(e,t,n,r){for(var a=(0,b._1)(t,"data","multiRNNCell"),o=(0,b.sI)(n,"c","multiRNNCell"),i=(0,b.sI)(r,"h","multiRNNCell"),s=a,u=[],c=0;c<e.length;c++){var l=e[c](s,o[c],i[c]);u.push(l[0]),u.push(l[1]),s=l[1]}for(var f=[],p=[],d=0;d<u.length;d+=2)f.push(u[d]),p.push(u[d+1]);return[f,p]}}),dt=n(4660),ht=n(4362),vt=n(5549),mt=n(4326),gt=n(773);var yt=(0,S.op)({outerProduct_:function(e,t){var n=(0,b._1)(e,"v1","outerProduct"),r=(0,b._1)(t,"v2","outerProduct");_.hu(1===n.rank&&1===r.rank,(function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+"".concat(n.rank," and ").concat(r.rank,".")}));var a=(0,we.X)(n,[-1,1]),o=(0,we.X)(r,[1,-1]);return(0,w.O)(a,o)}}),bt=n(1970);var xt=(0,S.op)({pad1d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,_.hu)(2===t.length,(function(){return"Invalid number of paddings. Must be length of 2."})),(0,bt.v)(e,[t],n)}});var wt=(0,S.op)({pad2d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,_.hu)(2===t.length&&2===t[0].length&&2===t[1].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),(0,bt.v)(e,t,n)}});var kt=(0,S.op)({pad3d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,_.hu)(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),(0,bt.v)(e,t,n)}});var St=(0,S.op)({pad4d_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(0,_.hu)(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,(function(){return"Invalid number of paddings. Must be length of 2 each."})),(0,bt.v)(e,t,n)}}),Et=n(7226),Ct=n(4334),Nt=n(6859),Tt=n(4600),It=n(7722);var Ot=(0,S.op)({rand_:function(e,t,n){var r=(0,_.NA)(e),a=null;if(null==n||"float32"===n)a=new Float32Array(r);else if("int32"===n)a=new Int32Array(r);else{if("bool"!==n)throw new Error("Unknown data type ".concat(n));a=new Uint8Array(r)}for(var o=0;o<r;o++)a[o]=t();return ie.BV.makeTensor(a,e,n)}}),_t=n(4466);var Dt=(0,S.op)({randomGamma_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",a=arguments.length>4?arguments[4]:void 0;if(null==n&&(n=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error("Unsupported data type ".concat(r));for(var o=new _t.T9(t,n,r,a),i=(0,L.f)(e,r),s=0;s<i.values.length;s++)i.values[s]=o.nextValue();return i.toTensor()}});var At=(0,S.op)({randomNormal_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;if(null!=r&&"bool"===r)throw new Error("Unsupported data type ".concat(r));for(var o=new _t.Yi(t,n,r,!1,a),i=(0,L.f)(e,r),s=0;s<i.values.length;s++)i.values[s]=o.nextValue();return i.toTensor()}}),Rt=n(6407),Pt=n(422),Mt=n(6972),Ft=n(2209),Lt=n(7539),jt=n(5900),Zt=n(4933);var zt=(0,S.op)({reverse1d_:function(e){var t=(0,b._1)(e,"x","reverse");return _.hu(1===t.rank,(function(){return"Error in reverse1D: x must be rank 1 but got rank ".concat(t.rank,".")})),(0,Zt.G)(t,0)}});var Bt=(0,S.op)({reverse2d_:function(e,t){var n=(0,b._1)(e,"x","reverse");return _.hu(2===n.rank,(function(){return"Error in reverse2D: x must be rank 2 but got rank ".concat(n.rank,".")})),(0,Zt.G)(n,t)}});var Ut=(0,S.op)({reverse3d_:function(e,t){var n=(0,b._1)(e,"x","reverse");return _.hu(3===n.rank,(function(){return"Error in reverse3D: x must be rank 3 but got rank ".concat(n.rank,".")})),(0,Zt.G)(n,t)}});var Wt=(0,S.op)({reverse4d_:function(e,t){var n=(0,b._1)(e,"x","reverse");return _.hu(4===n.rank,(function(){return"Error in reverse4D: x must be rank 4 but got rank ".concat(n.rank,".")})),(0,Zt.G)(n,t)}}),Vt=n(766),Ht=n(5115),Gt=n(7067),qt=n(413),Xt=n(119),Kt=n(4438),Yt=n(2070),Qt=n(7254),$t=n(7657);var Jt=(0,S.op)({slice1d_:function(e,t,n){var r=(0,b._1)(e,"x","slice1d");return _.hu(1===r.rank,(function(){return"slice1d expects a rank-1 tensor, but got a rank-".concat(r.rank," tensor")})),(0,C.t)(r,[t],[n])}});var en=(0,S.op)({slice2d_:function(e,t,n){var r=(0,b._1)(e,"x","slice2d");return _.hu(2===r.rank,(function(){return"slice2d expects a rank-2 tensor, but got a rank-".concat(r.rank," tensor")})),(0,C.t)(r,t,n)}});var tn=(0,S.op)({slice3d_:function(e,t,n){var r=(0,b._1)(e,"x","slice3d");return _.hu(3===r.rank,(function(){return"slice3d expects a rank-3 tensor, but got a rank-".concat(r.rank," tensor")})),(0,C.t)(r,t,n)}});var nn=(0,S.op)({slice4d_:function(e,t,n){var r=(0,b._1)(e,"x","slice4d");return _.hu(4===r.rank,(function(){return"slice4d expects a rank-4 tensor, but got a rank-".concat(r.rank," tensor")})),(0,C.t)(r,t,n)}}),rn=n(4910),an=n(4626),on=n(5696),sn=n(7635),un=n(530),cn=n(774),ln=n(4617),fn=n(2588),pn=n(6902),dn=n(7993),hn=n(3931),vn=n(8306),mn=n(4031),gn=n(9017),yn=n(227),bn=n(6999),xn=n(2442),wn=n(2894),kn=n(7960);function Sn(e,t,n){if((0,_.Cq)(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");var r=(0,b.C)(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return(0,kn.H)(e,t,r,n)}var En=n(3123);function Cn(e,t,n){if((0,_.Cq)(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");var r=(0,b.C)(e,n);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return(0,kn.H)(e,t,r,n)}function Nn(e,t,n){if((0,_.Cq)(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");var r=(0,b.C)(e,n);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return(0,kn.H)(e,t,r,n)}function Tn(e,t,n){if((0,_.Cq)(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");var r=(0,b.C)(e,n);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return t=t||r,(0,kn.H)(e,t,r,n)}var In=n(9085),On=n(4849),_n=n(4860),Dn=n(6918),An=n(4566),Rn=n(6035);function Pn(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;return ie.BV.makeVariable(e,t,n,r)}var Mn=n(329),Fn=n(1867),Ln=n(7742),jn=n(7293),Zn=n(5861),zn=n(7757),Bn=n.n(zn);function Un(){return Un=(0,Zn.Z)(Bn().mark((function e(t,n,r){var a,o,i,s,u,c,l,f,p,d,h,v,m;return Bn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=(0,b._1)(t,"tensor","boolMask"),o=(0,b._1)(n,"mask","boolMask","bool"),i=null==r?0:r,s=o.rank,u=a.shape,_.hu(s>0,(function(){return"mask cannot be scalar"})),_.k5(u.slice(i,i+s),o.shape,"mask's shape must match the first K dimensions of tensor's shape,"),c=1,l=i;l<i+s;l++)c*=u[l];return f=u.slice(0,i).concat([c],u.slice(i+s)),p=(0,we.X)(a,f),d=(0,we.X)(o,[-1]),e.next=14,(0,Fn.i)(d);case 14:return h=e.sent,v=(0,hn.L)(h,[1]),m=(0,Te.I)(p,v,i),t!==a&&a.dispose(),n!==o&&o.dispose(),v.dispose(),p.dispose(),d.dispose(),h.dispose(),e.abrupt("return",m);case 24:case"end":return e.stop()}}),e)}))),Un.apply(this,arguments)}var Wn=function(e,t,n){return Un.apply(this,arguments)},Vn=n(1240),Hn=n(6662),Gn=n(9064);var qn=(0,S.op)({movingAverage_:function(e,t,n,r){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=(0,b._1)(e,"v","movingAverage"),s=(0,b._1)(t,"x","movingAverage"),u=(0,b._1)(n,"decay","movingAverage");(0,Gn.assertTypesMatch)(o,s),_.hu(_.cO(o.shape,s.shape),(function(){return"Shape mismatch in v and x"}));var c=(0,Gt.i)(1),l=(0,lt.l)(c,u),f=(0,k.d)((0,lt.l)(s,o),l);if(a){_.hu(null!=r,(function(){return"When using zeroDebias: true, step is required."}));var p=(0,b._1)(r,"step","movingAverage");f=(0,le.h)(f,(0,lt.l)(c,(0,Ct.s)(u,p)))}return(0,i.I)(o,f)}}),Xn=n(3522),Kn=n(9028),Yn=n(9991),Qn=n(3357);var $n=(0,S.op)({dropout_:function(e,t,n,r){var a=(0,b._1)(e,"x","dropout");if(_.hu("float32"===a.dtype,(function(){return"x has to be a floating point tensor since it's going to be "+"scaled, but got a ".concat(a.dtype," tensor instead.")})),_.hu(t>=0&&t<1,(function(){return"rate must be a float in the range [0, 1), but got ".concat(t,".")})),0===t)return e instanceof nt.es?a.clone():a;var o=function(e,t){if(null==t)return e.shape.slice();if(_.cO(e.shape,t))return t;if(e.shape.length===t.length){for(var n=[],r=0;r<e.shape.length;r++)null==t[r]&&null!=e.shape[r]?n.push(e.shape[r]):n.push(t[r]);return n}return t}(a,n),s=1-t,u=(0,le.h)((0,Ce.G)((0,i.I)((0,Rt.L)(o,0,1,"float32",r),s)),s);return(0,k.d)(a,u)}});function Jn(e){return Math.floor(Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))))}function er(e,t,n){for(var r=1-e%2,a=new Float32Array(e),o=0;o<e;++o){var i=2*Math.PI*o/(e+r-1);a[o]=t-n*Math.cos(i)}return(0,wn.R)(a,"float32")}function tr(){return tr=(0,Zn.Z)(Bn().mark((function e(t,n){var r,a,o,i,s,u,c,l,f,p,d,h,v,m,g,y=arguments;return Bn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=y.length>2&&void 0!==y[2]?y[2]:1,a=(0,b._1)(t,"predictions","inTopK"),o=(0,b._1)(n,"targets","inTopK"),(0,_.hu)(a.rank>1,(function(){return"inTopK() expects the predictions to be of rank 2 or higher, "+"but got ".concat(a.rank)})),(0,_.hu)(a.rank-1===o.rank,(function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+"".concat(a.rank," and targets rank ").concat(o.rank)})),(0,_.k5)(a.shape.slice(0,a.shape.length-1),o.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),i=a.shape[a.shape.length-1],(0,_.hu)(r>0&&r<=i,(function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last "+"dimension (".concat(i,"), but got ").concat(r)})),e.next=10,a.data();case 10:return s=e.sent,e.next=13,o.data();case 13:u=e.sent,c=s.length/i,l=i,f=(0,_.WP)("bool",c),p=0;case 17:if(!(p<c)){e.next=35;break}for(d=p*l,h=s.subarray(d,d+l),v=[],m=0;m<h.length;m++)v.push({value:h[m],index:m});v.sort((function(e,t){return t.value-e.value})),f[p]=0,g=0;case 25:if(!(g<r)){e.next=32;break}if(v[g].index!==u[p]){e.next=29;break}return f[p]=1,e.abrupt("break",32);case 29:g++,e.next=25;break;case 32:p++,e.next=17;break;case 35:return t!==a&&a.dispose(),n!==o&&o.dispose(),e.abrupt("return",(0,xn.X)(f,o.shape,"bool"));case 38:case"end":return e.stop()}}),e)}))),tr.apply(this,arguments)}var nr=function(e,t){return tr.apply(this,arguments)},rr=n(6947);var ar=(0,S.op)({hammingWindow_:function(e){return er(e,.54,.46)}});var or=(0,S.op)({hannWindow_:function(e){return er(e,.5,.5)}});var ir=(0,S.op)({frame_:function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=0,i=[];o+t<=e.size;)i.push((0,C.t)(e,o,t)),o+=n;if(r)for(;o<e.size;){var s=o+t-e.size,u=(0,x.z)([(0,C.t)(e,o,t-s),(0,Ee.h)([s],a)]);i.push(u),o+=n}return 0===i.length?Sn([],[0,t]):(0,we.X)((0,x.z)(i),[i.length,t])}});var sr=(0,S.op)({stft_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:or;null==r&&(r=Jn(t));var o=ir(e,t,n),i=(0,k.d)(o,a(t));return(0,ln.Q)(i,r)}});var ur=(0,S.op)({cropAndResize_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"bilinear",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,i=(0,b._1)(e,"image","cropAndResize"),s=(0,b._1)(t,"boxes","cropAndResize","float32"),u=(0,b._1)(n,"boxInd","cropAndResize","int32"),c=s.shape[0];_.hu(4===i.rank,(function(){return"Error in cropAndResize: image must be rank 4,"+"but got rank ".concat(i.rank,".")})),_.hu(2===s.rank&&4===s.shape[1],(function(){return"Error in cropAndResize: boxes must be have size [".concat(c,",4] ")+"but had shape ".concat(s.shape,".")})),_.hu(1===u.rank&&u.shape[0]===c,(function(){return"Error in cropAndResize: boxInd must be have size [".concat(c,"] ")+"but had shape ".concat(s.shape,".")})),_.hu(2===r.length,(function(){return"Error in cropAndResize: cropSize must be of length 2, but got "+"length ".concat(r.length,".")})),_.hu(r[0]>=1&&r[1]>=1,(function(){return"cropSize must be atleast [1,1], but was ".concat(r)})),_.hu("bilinear"===a||"nearest"===a,(function(){return"method must be bilinear or nearest, but was ".concat(a)}));var l={image:i,boxes:s,boxInd:u},f={method:a,extrapolationValue:o,cropSize:r},p=ie.BV.runKernel(se.Vc,l,f);return p}});var cr=(0,S.op)({flipLeftRight_:function(e){var t=(0,b._1)(e,"image","flipLeftRight","float32");_.hu(4===t.rank,(function(){return"Error in flipLeftRight: image must be rank 4,"+"but got rank ".concat(t.rank,".")}));var n={image:t};return ie.BV.runKernel(se.Uy,n,{})}});var lr=(0,S.op)({grayscaleToRGB_:function(e){var t=(0,b._1)(e,"image","grayscaleToRGB"),n=t.rank-1,r=t.shape[n];_.hu(t.rank>=2,(function(){return"Error in grayscaleToRGB: images must be at least rank 2, "+"but got rank ".concat(t.rank,".")})),_.hu(1===r,(function(){return"Error in grayscaleToRGB: last dimension of a grayscale image "+"should be size 1, but got size ".concat(r,".")}));var a=new Array(t.rank);return a.fill(1,0,n),a[n]=3,(0,ke.G)(t,a)}});var fr=(0,S.op)({rotateWithOffset_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=(0,b._1)(e,"image","rotateWithOffset","float32");_.hu(4===a.rank,(function(){return"Error in rotateWithOffset: image must be rank 4,"+"but got rank ".concat(a.rank,".")}));var o={image:a},i={radians:t,fillValue:n,center:r},s=ie.BV.runKernel(se.b9,o,i);return s}});function pr(e,t,n,r,a,o){null==r&&(r=.5),null==a&&(a=Number.NEGATIVE_INFINITY),null==o&&(o=0);var i=e.shape[0];return n=Math.min(n,i),_.hu(0<=r&&r<=1,(function(){return"iouThreshold must be in [0, 1], but was '".concat(r,"'")})),_.hu(2===e.rank,(function(){return"boxes must be a 2D tensor, but was of rank '".concat(e.rank,"'")})),_.hu(4===e.shape[1],(function(){return"boxes must have 4 columns, but 2nd dimension was ".concat(e.shape[1])})),_.hu(1===t.rank,(function(){return"scores must be a 1D tensor"})),_.hu(t.shape[0]===i,(function(){return"scores has incompatible shape with boxes. Expected ".concat(i,", ")+"but was ".concat(t.shape[0])})),_.hu(0<=o&&o<=1,(function(){return"softNmsSigma must be in [0, 1], but was '".concat(o,"'")})),{maxOutputSize:n,iouThreshold:r,scoreThreshold:a,softNmsSigma:o}}var dr=(0,S.op)({nonMaxSuppression_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,o=(0,b._1)(e,"boxes","nonMaxSuppression","float32"),i=(0,b._1)(t,"scores","nonMaxSuppression","float32"),s=pr(o,i,n,r,a),u={maxOutputSize:n=s.maxOutputSize,iouThreshold:r=s.iouThreshold,scoreThreshold:a=s.scoreThreshold};return ie.BV.runKernel(se.uv,{boxes:o,scores:i},u)}}),hr=n(745);function vr(){return vr=(0,Zn.Z)(Bn().mark((function e(t,n,r){var a,o,i,s,u,c,l,f,p,d,h=arguments;return Bn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=h.length>3&&void 0!==h[3]?h[3]:.5,o=h.length>4&&void 0!==h[4]?h[4]:Number.NEGATIVE_INFINITY,i=(0,b._1)(t,"boxes","nonMaxSuppressionAsync"),s=(0,b._1)(n,"scores","nonMaxSuppressionAsync"),u=pr(i,s,r,a,o),r=u.maxOutputSize,a=u.iouThreshold,o=u.scoreThreshold,e.next=10,Promise.all([i.data(),s.data()]);case 10:return c=e.sent,l=c[0],f=c[1],p=(0,hr.GP)(l,f,r,a,o),d=p.selectedIndices,i!==t&&i.dispose(),s!==n&&s.dispose(),e.abrupt("return",(0,wn.R)(d,"int32"));case 17:case"end":return e.stop()}}),e)}))),vr.apply(this,arguments)}var mr=function(e,t,n){return vr.apply(this,arguments)};var gr=(0,S.op)({nonMaxSuppressionWithScore_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,i=(0,b._1)(e,"boxes","nonMaxSuppression"),s=(0,b._1)(t,"scores","nonMaxSuppression"),u=pr(i,s,n,r,a,o),c={boxes:i,scores:s},l={maxOutputSize:n=u.maxOutputSize,iouThreshold:r=u.iouThreshold,scoreThreshold:a=u.scoreThreshold,softNmsSigma:o=u.softNmsSigma},f=ie.BV.runKernel(se.W0,c,l);return{selectedIndices:f[0],selectedScores:f[1]}}});function yr(){return yr=(0,Zn.Z)(Bn().mark((function e(t,n,r){var a,o,i,s,u,c,l,f,p,d,h,v,m=arguments;return Bn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=m.length>3&&void 0!==m[3]?m[3]:.5,o=m.length>4&&void 0!==m[4]?m[4]:Number.NEGATIVE_INFINITY,i=m.length>5&&void 0!==m[5]?m[5]:0,s=(0,b._1)(t,"boxes","nonMaxSuppressionAsync"),u=(0,b._1)(n,"scores","nonMaxSuppressionAsync"),c=pr(s,u,r,a,o,i),r=c.maxOutputSize,a=c.iouThreshold,o=c.scoreThreshold,i=c.softNmsSigma,e.next=12,Promise.all([s.data(),u.data()]);case 12:return l=e.sent,f=l[0],p=l[1],d=(0,hr.pA)(f,p,r,a,o,i),h=d.selectedIndices,v=d.selectedScores,s!==t&&s.dispose(),u!==n&&u.dispose(),e.abrupt("return",{selectedIndices:(0,wn.R)(h,"int32"),selectedScores:(0,wn.R)(v)});case 19:case"end":return e.stop()}}),e)}))),yr.apply(this,arguments)}var br=function(e,t,n){return yr.apply(this,arguments)};var xr=(0,S.op)({nonMaxSuppressionPadded_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Number.NEGATIVE_INFINITY,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],i=(0,b._1)(e,"boxes","nonMaxSuppression"),s=(0,b._1)(t,"scores","nonMaxSuppression"),u=pr(i,s,n,r,a,null),c=u.maxOutputSize,l=u.iouThreshold,f=u.scoreThreshold,p={boxes:i,scores:s},d={maxOutputSize:c,iouThreshold:l,scoreThreshold:f,padToMaxOutputSize:o},h=ie.BV.runKernel(se.cy,p,d);return{selectedIndices:h[0],validOutputs:h[1]}}}),wr=n(9439);function kr(){return kr=(0,Zn.Z)(Bn().mark((function e(t,n,r){var a,o,i,s,u,c,l,f,p,d,h,v,m,g,y,x,w=arguments;return Bn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=w.length>3&&void 0!==w[3]?w[3]:.5,o=w.length>4&&void 0!==w[4]?w[4]:Number.NEGATIVE_INFINITY,i=w.length>5&&void 0!==w[5]&&w[5],s=(0,b._1)(t,"boxes","nonMaxSuppressionAsync"),u=(0,b._1)(n,"scores","nonMaxSuppressionAsync"),c=pr(s,u,r,a,o,null),l=c.maxOutputSize,f=c.iouThreshold,p=c.scoreThreshold,e.next=11,Promise.all([s.data(),u.data()]);case 11:return d=e.sent,h=(0,wr.Z)(d,2),v=h[0],m=h[1],g=(0,hr.qP)(v,m,l,f,p,i),y=g.selectedIndices,x=g.validOutputs,s!==t&&s.dispose(),u!==n&&u.dispose(),e.abrupt("return",{selectedIndices:(0,wn.R)(y,"int32"),validOutputs:(0,Gt.i)(x,"int32")});case 19:case"end":return e.stop()}}),e)}))),kr.apply(this,arguments)}var Sr=function(e,t,n){return kr.apply(this,arguments)},Er=n(464),Cr=n(8600);function Nr(e,t){for(var n,r,a,o,s,u,c=(0,wn.R)([-1]),l=(0,wn.R)([0]),f=(0,wn.R)([0]),p=0;p<e.size-1;p++){n=(0,C.t)(e,0,p+1),r=(0,C.t)(e,p+1),s=(0,le.h)((0,yn.S)(n),t),u=(0,le.h)((0,yn.S)(r),t);var d=(0,yn.S)((0,k.d)(n,(0,Pt.w)(0,n.size)));a=(0,le.h)(d,(0,yn.S)(n));var h=(0,Ee.h)(r.shape,n.size),v=(0,i.I)((0,Pt.w)(0,r.size),h),m=(0,k.d)(r,v);o=(0,le.h)((0,yn.S)(m),(0,yn.S)(r));var g=(0,lt.l)(a,o),y=(0,lt.l)(a,o),b=(0,k.d)(s,u);f=(0,k.d)((0,k.d)(b,g),y);var x=(0,Ie.p)(f,l);l=(0,Mn.a)(x,f,l),c=(0,Mn.a)(x,(0,wn.R)([p]),c)}return c}var Tr=(0,S.op)({threshold_:function(e){var t,n,r,a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"binary",s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,c=(0,b._1)(e,"image","threshold"),l=.2989,f=.587,p=.114,d=c.shape[0]*c.shape[1],h=(0,k.d)((0,wn.R)([u]),255);if(_.hu(3===c.rank,(function(){return"Error in threshold: image must be rank 3,"+"but got rank ".concat(c.rank,".")})),_.hu(3===c.shape[2]||1===c.shape[2],(function(){return"Error in threshold: image color channel must be equal to 3 or 1"+"but got ".concat(c.shape[2],".")})),_.hu("int32"===c.dtype||"float32"===c.dtype,(function(){return"Error in dtype: image dtype must be int32 or float32,"+"but got dtype ".concat(c.dtype,".")})),_.hu("otsu"===o||"binary"===o,(function(){return"Method must be binary or otsu, but was ".concat(o)})),3===c.shape[2]){var v=(0,fn.V)(c,[1,1,1],-1),m=(0,wr.Z)(v,3);t=m[0],n=m[1],r=m[2];var g=(0,k.d)(t,l),y=(0,k.d)(n,f),x=(0,k.d)(r,p);a=(0,i.I)((0,i.I)(g,y),x)}else a=e;if("otsu"===o){var w=(0,P.y)((0,j.p)((0,Vt.N)(a),"int32"),(0,xn.X)([]),256);h=Nr(w,d)}var S=s?(0,Fe.z)(a,h):(0,Ie.p)(a,h),E=(0,j.p)((0,k.d)(S,255),"int32");return E}});var Ir=(0,S.op)({transform_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"nearest",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"constant",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5?arguments[5]:void 0,i=(0,b._1)(e,"image","transform","float32"),s=(0,b._1)(t,"transforms","transform","float32");_.hu(4===i.rank,(function(){return"Error in transform: image must be rank 4,"+"but got rank ".concat(i.rank,".")})),_.hu(2===s.rank&&(s.shape[0]===i.shape[0]||1===s.shape[0])&&8===s.shape[1],(function(){return"Error in transform: Input transform should be batch x 8 or 1 x 8"})),_.hu(null==o||2===o.length,(function(){return"Error in transform: outputShape must be [height, width] or null, "+"but got ".concat(o,".")}));var u={image:i,transforms:s},c={interpolation:n,fillMode:r,fillValue:a,outputShape:o};return ie.BV.runKernel(se.wx,u,c)}});var Or=(0,S.op)({bandPart_:function(e,t,n){(0,_.hu)(t%1===0,(function(){return"bandPart(): numLower must be an integer, got ".concat(t,".")})),(0,_.hu)(n%1===0,(function(){return"bandPart(): numUpper must be an integer, got ".concat(n,".")}));var r=(0,b._1)(e,"a","bandPart");(0,_.hu)(r.rank>=2,(function(){return"bandPart(): Rank must be at least 2, got ".concat(r.rank,".")}));var a=r.shape,o=r.shape.slice(-2),i=(0,wr.Z)(o,2),s=i[0],u=i[1];if(!(t<=s))throw new Error("bandPart(): numLower (".concat(t,")")+" must not be greater than the number of rows (".concat(s,")."));if(!(n<=u))throw new Error("bandPart(): numUpper (".concat(n,")")+" must not be greater than the number of columns (".concat(u,")."));t<0&&(t=s),n<0&&(n=u);var c=(0,we.X)((0,Pt.w)(0,s,1,"int32"),[-1,1]),l=(0,Pt.w)(0,u,1,"int32"),f=(0,lt.l)(c,l),p=(0,Ve.H)((0,Fe.z)(f,(0,Gt.i)(+t,"int32")),(0,Oe.b)(f,(0,Gt.i)(-n,"int32"))),d=(0,Ln.l)([s,u],r.dtype);return(0,we.X)((0,vn.k)((0,An.H)((0,we.X)(r,[-1,s,u])).map((function(e){return(0,Mn.a)(p,e,d)}))),a)}});var _r=(0,S.op)({gramSchmidt_:function(e){var t;Array.isArray(e)?function(){t=!1,(0,_.hu)(null!=e&&e.length>0,(function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"}));for(var n=e[0].shape[0],r=function(t){(0,_.hu)(e[t].shape[0]===n,(function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: "+"(".concat(e[t].shape[0]," vs. ").concat(n,")")}))},a=1;a<e.length;++a)r(a)}():(t=!0,e=(0,fn.V)(e,e.shape[0],0).map((function(e){return(0,hn.L)(e,[0])}))),(0,_.hu)(e.length<=e[0].shape[0],(function(){return"Gram-Schmidt: Number of vectors (".concat(e.length,") exceeds ")+"number of dimensions (".concat(e[0].shape[0],").")}));for(var n=[],r=e,a=function(e){n.push(ie.BV.tidy((function(){var t=r[e];if(e>0)for(var a=0;a<e;++a){var o=(0,k.d)((0,yn.S)((0,k.d)(n[a],t)),n[a]);t=(0,lt.l)(t,o)}return(0,le.h)(t,(0,Hn.K)(t,"euclidean"))})))},o=0;o<e.length;++o)a(o);return t?(0,vn.k)(n,0):n}}),Dr=n(5875);function Ar(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ie.BV.tidy((function(){(0,_.hu)(2===e.shape.length,(function(){return"qr2d() requires a 2D Tensor, but got a ".concat(e.shape.length,"D Tensor.")}));for(var n=e.shape[0],r=e.shape[1],a=Se(n),o=(0,B.d)(e),i=Sn([[1]],[1,1]),s=(0,B.d)(i),u=n>=r?r:n,c=function(e){var t=o,u=s,c=a,l=ie.BV.tidy((function(){var t=(0,C.t)(o,[e,e],[n-e,1]),u=(0,Hn.K)(t),c=(0,C.t)(o,[e,e],[1,1]),l=(0,Mn.a)((0,Ie.p)(c,0),Sn([[-1]]),Sn([[1]])),f=(0,lt.l)(c,(0,k.d)(l,u)),p=(0,le.h)(t,f);s=1===p.shape[0]?(0,B.d)(i):(0,x.z)([i,(0,C.t)(p,[1,0],[p.shape[0]-1,p.shape[1]])],0);var d=(0,ht.W)((0,le.h)((0,w.O)(l,f),u)),h=(0,C.t)(o,[e,0],[n-e,r]),v=(0,k.d)(d,s),m=(0,Vn.p)(s);if(0===e)o=(0,lt.l)(h,(0,w.O)(v,(0,w.O)(m,h)));else{var g=(0,lt.l)(h,(0,w.O)(v,(0,w.O)(m,h)));o=(0,x.z)([(0,C.t)(o,[0,0],[e,r]),g],0)}var y=(0,Vn.p)(v),b=(0,C.t)(a,[0,e],[n,a.shape[1]-e]);if(0===e)a=(0,lt.l)(b,(0,w.O)((0,w.O)(b,s),y));else{var S=(0,lt.l)(b,(0,w.O)((0,w.O)(b,s),y));a=(0,x.z)([(0,C.t)(a,[0,0],[n,e]),S],1)}return[s,o,a]})),f=(0,wr.Z)(l,3);s=f[0],o=f[1],a=f[2],(0,Dr.B9)([t,u,c])},l=0;l<u;++l)c(l);return!t&&n>r&&(a=(0,C.t)(a,[0,0],[n,r]),o=(0,C.t)(o,[0,0],[r,r])),[a,o]}))}var Rr=(0,S.op)({qr_:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if((0,_.hu)(e.rank>=2,(function(){return"qr() requires input tensor to have a rank >= 2, but got rank ".concat(e.rank)})),2===e.rank)return Ar(e,t);var n=e.shape.slice(0,e.shape.length-2).reduce((function(e,t){return e*t})),r=(0,An.H)((0,we.X)(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),a=[],o=[];r.forEach((function(e){var n=Ar(e,t),r=(0,wr.Z)(n,2),i=r[0],s=r[1];a.push(i),o.push(s)}));var i=(0,we.X)((0,vn.k)(a,0),e.shape),s=(0,we.X)((0,vn.k)(o,0),e.shape);return[i,s]}}),Pr=n(7627);var Mr=(0,S.op)({computeWeightedLoss_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Pr.I.SUM_BY_NONZERO_WEIGHTS,r=(0,b._1)(e,"losses","computeWeightedLoss"),a=null;null!=t&&(a=(0,b._1)(t,"weights","computeWeightedLoss"));var o=null==a?r:(0,k.d)(r,a);if(n===Pr.I.NONE)return o;if(n===Pr.I.SUM)return(0,yn.S)(o);if(n===Pr.I.MEAN){if(null==a)return(0,et.J)(o);var i=r.size/a.size,s=(0,le.h)((0,yn.S)(o),(0,yn.S)(a));return i>1?(0,le.h)(s,(0,Gt.i)(i)):s}if(n===Pr.I.SUM_BY_NONZERO_WEIGHTS){if(null==a)return(0,le.h)((0,yn.S)(o),(0,Gt.i)(r.size));var u=(0,k.d)(a,(0,tt.i)(r.shape)),c=(0,j.p)((0,yn.S)((0,vt.Q)(u,(0,Gt.i)(0))),"float32");return(0,le.h)((0,yn.S)(o),c)}throw Error("Unknown reduction: ".concat(n))}});var Fr=(0,S.op)({absoluteDifference_:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Pr.I.SUM_BY_NONZERO_WEIGHTS,o=(0,b._1)(e,"labels","absoluteDifference"),i=(0,b._1)(t,"predictions","absoluteDifference"),s=null;null!=n&&(s=(0,b._1)(n,"weights","absoluteDifference")),(0,_.k5)(o.shape,i.shape,"Error in absoluteDifference: ");var u=(0,r.W)((0,lt.l)(o,i));return Mr(u,s,a)}});var Lr=(0,S.op)({cosineDistance_:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Pr.I.SUM_BY_NONZERO_WEIGHTS,o=(0,b._1)(e,"labels","cosineDistance"),i=(0,b._1)(t,"predictions","cosineDistance"),s=null;null!=r&&(s=(0,b._1)(r,"weights","cosineDistance")),(0,_.k5)(o.shape,i.shape,"Error in cosineDistance: ");var u=(0,Gt.i)(1),c=(0,lt.l)(u,(0,yn.S)((0,k.d)(o,i),n,!0));return Mr(c,s,a)}});var jr=(0,S.op)({hingeLoss_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Pr.I.SUM_BY_NONZERO_WEIGHTS,a=(0,b._1)(e,"labels","hingeLoss"),o=(0,b._1)(t,"predictions","hingeLoss"),i=null;null!=n&&(i=(0,b._1)(n,"weights","hingeLoss")),(0,_.k5)(a.shape,o.shape,"Error in hingeLoss: ");var s=(0,Gt.i)(1);a=(0,lt.l)((0,k.d)((0,Gt.i)(2),a),s);var u=(0,Lt.U)((0,lt.l)(s,(0,k.d)(a,o)));return Mr(u,i,r)}});var Zr=(0,S.op)({huberLoss_:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Pr.I.SUM_BY_NONZERO_WEIGHTS,s=(0,b._1)(e,"labels","huberLoss"),u=(0,b._1)(t,"predictions","huberLoss"),c=null;null!=n&&(c=(0,b._1)(n,"weights","huberLoss")),(0,_.k5)(s.shape,u.shape,"Error in huberLoss: ");var l=(0,Gt.i)(a),f=(0,r.W)((0,lt.l)(u,s)),p=(0,ot.L)(f,l),d=(0,lt.l)(f,p),h=(0,i.I)((0,k.d)((0,Gt.i)(.5),(0,ct.h)(p)),(0,k.d)(l,d));return Mr(h,c,o)}});var zr=(0,S.op)({logLoss_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-7,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Pr.I.SUM_BY_NONZERO_WEIGHTS,o=(0,b._1)(e,"labels","logLoss"),s=(0,b._1)(t,"predictions","logLoss"),u=null;null!=n&&(u=(0,b._1)(n,"weights","logLoss")),(0,_.k5)(o.shape,s.shape,"Error in logLoss: ");var c=(0,Gt.i)(1),l=(0,Gt.i)(r),f=(0,ht.W)((0,k.d)(o,(0,Ze.c)((0,i.I)(s,l)))),p=(0,k.d)((0,lt.l)(c,o),(0,Ze.c)((0,i.I)((0,lt.l)(c,s),l))),d=(0,lt.l)(f,p);return Mr(d,u,a)}});var Br=(0,S.op)({meanSquaredError_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Pr.I.SUM_BY_NONZERO_WEIGHTS,a=(0,b._1)(e,"labels","meanSquaredError"),o=(0,b._1)(t,"predictions","meanSquaredError"),i=null;null!=n&&(i=(0,b._1)(n,"weights","meanSquaredError")),(0,_.k5)(a.shape,o.shape,"Error in meanSquaredError: ");var s=(0,dn.$)(a,o);return Mr(s,i,r)}});function Ur(e,t){var n=(0,b._1)(e,"labels","sigmoidCrossEntropyWithLogits"),a=(0,b._1)(t,"logits","sigmoidCrossEntropyWithLogits");(0,_.k5)(n.shape,a.shape,"Error in sigmoidCrossEntropyWithLogits: ");var o=(0,Lt.U)(a),s=(0,k.d)(a,n),u=(0,ze.K)((0,ye.Q)((0,ht.W)((0,r.W)(a))));return(0,i.I)((0,lt.l)(o,s),u)}var Wr=(0,S.op)({sigmoidCrossEntropy_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Pr.I.SUM_BY_NONZERO_WEIGHTS,o=(0,b._1)(e,"multiClassLabels","sigmoidCrossEntropy"),s=(0,b._1)(t,"logits","sigmoidCrossEntropy"),u=null;if(null!=n&&(u=(0,b._1)(n,"weights","sigmoidCrossEntropy")),(0,_.k5)(o.shape,s.shape,"Error in sigmoidCrossEntropy: "),r>0){var c=(0,Gt.i)(r),l=(0,Gt.i)(1),f=(0,Gt.i)(.5);o=(0,i.I)((0,k.d)(o,(0,lt.l)(l,c)),(0,k.d)(f,c))}var p=Ur(o,s);return Mr(p,u,a)}}),Vr=n(6450);function Hr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet "+"supported. Labels / logits was rank ".concat(t.rank," ")+"and dim was ".concat(n));var r=(0,Vr.cb)((function(e,t,r){var a=(0,We.l)(t,[n],!0),o=(0,lt.l)((0,j.p)(t,"float32"),a);r([e,o]);var i=(0,ht.W)((0,k.d)(o,e));return{value:(0,yn.S)(i,[n]),gradFunc:function(e,t){var r=(0,wr.Z)(t,2),a=r[0],o=r[1],i=(0,ut.rv)(e.shape,[n]);return[(0,k.d)((0,we.X)(e,i),(0,lt.l)((0,j.p)(a,"float32"),(0,ye.Q)(o))),(0,k.d)((0,we.X)(e,i),(0,lt.l)((0,ye.Q)(o),(0,j.p)(a,"float32")))]}}}));return r(e,t)}var Gr=(0,S.op)({softmaxCrossEntropy_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Pr.I.SUM_BY_NONZERO_WEIGHTS,o=(0,b._1)(e,"onehotLabels","softmaxCrossEntropy"),s=(0,b._1)(t,"logits","softmaxCrossEntropy"),u=null;if(null!=n&&(u=(0,b._1)(n,"weights","softmaxCrossEntropy")),(0,_.k5)(o.shape,s.shape,"Error in softmaxCrossEntropy: "),r>0){var c=(0,Gt.i)(r),l=(0,Gt.i)(1),f=(0,Gt.i)(o.shape[1]);o=(0,i.I)((0,k.d)(o,(0,lt.l)(l,c)),(0,le.h)(c,f))}var p=Hr(o,s);return Mr(p,u,a)}});var qr=(0,S.op)({sparseFillEmptyRows_:function(e,t,n,r){var a=(0,b._1)(e,"indices","sparseFillEmptyRows","int32"),o=(0,b._1)(t,"values","sparseFillEmptyRows"),i=(0,b._1)(n,"denseShape","sparseFillEmptyRows","int32"),s=(0,b._1)(r,"defaultValue","sparseFillEmptyRows",o.dtype);if(2!==a.rank)throw new Error("Indices should be Tensor2D but received shape\n        ".concat(a.shape));if(1!==o.rank)throw new Error("Values should be Tensor1D but received shape ".concat(o.shape));if(1!==i.rank)throw new Error("Dense shape should be Tensor1D but received shape ".concat(i.shape));if(0!==s.rank)throw new Error("Default value should be a scalar but received shape ".concat(s.shape));var u={indices:a,values:o,denseShape:i,defaultValue:s},c=ie.BV.runKernel(se.O3,u);return{outputIndices:c[0],outputValues:c[1],emptyRowIndicator:c[2],reverseIndexMap:c[3]}}});var Xr=(0,S.op)({sparseReshape_:function(e,t,n){var r=(0,b._1)(e,"inputIndices","sparseReshape","int32"),a=(0,b._1)(t,"inputShape","sparseReshape","int32"),o=(0,b._1)(n,"newShape","sparseReshape","int32");if(2!==r.rank)throw new Error("Input indices should be Tensor2D but received shape\n        ".concat(r.shape));if(1!==a.rank)throw new Error("Input shape should be Tensor1D but received shape ".concat(a.shape));if(1!==o.rank)throw new Error("New shape should be Tensor1D but received shape ".concat(o.shape));var i={inputIndices:r,inputShape:a,newShape:o},s=ie.BV.runKernel(se.nh,i);return{outputIndices:s[0],outputShape:s[1]}}});var Kr=(0,S.op)({sparseSegmentMean_:function(e,t,n){var r=(0,b._1)(e,"data","sparseSegmentMean"),a=(0,b._1)(t,"indices","sparseSegmentMean","int32"),o=(0,b._1)(n,"segmentIds","sparseSegmentMean","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.rank)throw new Error("Indices should be Tensor1D but received shape\n          ".concat(a.shape));if(1!==o.rank)throw new Error("Segment ids should be Tensor1D but received shape\n          ".concat(o.shape));var i={data:r,indices:a,segmentIds:o};return ie.BV.runKernel(se.YW,i)}});var Yr=(0,S.op)({sparseSegmentSum_:function(e,t,n){var r=(0,b._1)(e,"data","sparseSegmentSum"),a=(0,b._1)(t,"indices","sparseSegmentSum","int32"),o=(0,b._1)(n,"segmentIds","sparseSegmentSum","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.rank)throw new Error("Indices should be Tensor1D but received shape\n         ".concat(a.shape));if(1!==o.rank)throw new Error("Segment ids should be Tensor1D but received shape\n         ".concat(o.shape));var i={data:r,indices:a,segmentIds:o};return ie.BV.runKernel(se.Zj,i)}});var Qr=(0,S.op)({stringNGrams_:function(e,t,n,r,a,o,i,s){var u=(0,b._1)(e,"data","stringNGrams","string");if("string"!==u.dtype)throw new Error("Data must be of datatype string");if(1!==u.shape.length)throw new Error("Data must be a vector, saw: ".concat(u.shape));var c=(0,b._1)(t,"dataSplits","stringNGrams");if("int32"!==c.dtype)throw new Error("Data splits must be of datatype int32");var l={separator:n,nGramWidths:r,leftPad:a,rightPad:o,padWidth:i,preserveShortSequences:s},f={data:u,dataSplits:c},p=ie.BV.runKernel(se._J,f,l);return{nGrams:p[0],nGramsSplits:p[1]}}});var $r=(0,S.op)({stringSplit_:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=(0,b._1)(e,"input","stringSplit","string"),a=(0,b._1)(t,"delimiter","stringSplit","string");if(1!==r.rank)throw new Error("Input should be Tensor1D but received shape ".concat(r.shape));if(0!==a.rank)throw new Error("Delimiter should be a scalar but received shape ".concat(a.shape));var o={skipEmpty:n},i={input:r,delimiter:a},s=ie.BV.runKernel(se.s1,i,o);return{indices:s[0],values:s[1],shape:s[2]}}});var Jr=(0,S.op)({stringToHashBucketFast_:function(e,t){var n=(0,b._1)(e,"input","stringToHashBucketFast","string"),r={numBuckets:t};if(t<=0)throw new Error("Number of buckets must be at least 1");var a={input:n};return ie.BV.runKernel(se.Xk,a,r)}}),ea={fft:sn.k,ifft:un.S,rfft:ln.Q,irfft:cn.w},ta={hammingWindow:ar,hannWindow:or,frame:ir,stft:sr},na={flipLeftRight:cr,grayscaleToRGB:lr,resizeNearestNeighbor:Cr.j,resizeBilinear:Er.I,rotateWithOffset:fr,cropAndResize:ur,nonMaxSuppression:dr,nonMaxSuppressionAsync:mr,nonMaxSuppressionWithScore:gr,nonMaxSuppressionWithScoreAsync:br,nonMaxSuppressionPadded:xr,nonMaxSuppressionPaddedAsync:Sr,threshold:Tr,transform:Ir},ra={bandPart:Or,gramSchmidt:_r,qr:Rr},aa={absoluteDifference:Fr,computeWeightedLoss:Mr,cosineDistance:Lr,hingeLoss:jr,huberLoss:Zr,logLoss:zr,meanSquaredError:Br,sigmoidCrossEntropy:Wr,softmaxCrossEntropy:Gr},oa={sparseFillEmptyRows:qr,sparseReshape:Xr,sparseSegmentMean:Kr,sparseSegmentSum:Yr},ia={stringNGrams:Qr,stringSplit:$r,stringToHashBucketFast:Jr}},1970:function(e,t,n){"use strict";n.d(t,{v:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({pad_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=(0,o._1)(e,"x","pad");if(0===i.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var s={paddings:t,constantValue:n},u={x:i};return r.BV.runKernel(a.ly,u,s)}})},7226:function(e,t,n){"use strict";n.d(t,{d:function(){return d}});var r=n(9439),a=n(8354),o=n(6147),i=n(9204),s=n(6994),u=n(9151),c=n(5777),l=n(8640),f=n(5561),p=n(5696);var d=(0,l.op)({pool_:function(e,t,n,l,d,h,v){null==d&&(d=[1,1]),null==h&&(h=1),0===l&&(l="valid");var m=(0,a._1)(e,"x","maxPool"),g=m,y=!1;3===m.rank&&(y=!0,g=(0,f.X)(m,[1,m.shape[0],m.shape[1],m.shape[2]])),o.hu(u.jT(h,d),(function(){return"Error in pool: Either strides or dilations must be 1. "+"Got strides ".concat(h," and dilations '").concat(d,"'")}));var b,x=u.Xw(g.shape,t,h,d,l),w=[x.dilationHeight,x.dilationWidth];b="same"===l?function(e,t){var n=e.map((function(e,n){return e+(e-1)*(t[n]-1)})).map((function(e){return e-1})),r=n.map((function(e){return Math.floor(e/2)})),a=n.map((function(e,t){return e-r[t]}));return n.map((function(e,t){return[r[t],a[t]]}))}([x.filterHeight,x.filterWidth],w):[[0,0],[0,0]];var k=1===w[0]&&1===w[1],S=function(e,t,n){var r=n.map((function(e){return e[0]})),a=n.map((function(e){return e[1]})),o=e.concat(r,a),i=t.map((function(e,t){return(e-o[t]%e)%e})),s=a.map((function(e,t){return e+i[t]})),u=t.map((function(e,t){return[r[t],s[t]]})),c=t.map((function(e,t){return[0,i[t]]}));return[u,c]}([x.inHeight,x.inWidth],w,b),E=(0,r.Z)(S,2),C=E[0],N=E[1],T=k?l:"valid",I=k?g:(0,p.f)(g,w,C),O=("avg"===n?function(){return(0,i.w)(I,t,h,T,v)}:function(){return(0,c._)(I,t,h,T,v)})(),_=k?O:(0,s.E)(O,w,N);return y?(0,f.X)(_,[_.shape[1],_.shape[2],_.shape[3]]):_}})},4334:function(e,t,n){"use strict";n.d(t,{s:function(){return u}});var r=n(9439),a=n(318),o=n(2145),i=n(9064),s=n(8354);var u=(0,n(8640).op)({pow_:function(e,t){var n=(0,s._1)(e,"base","pow"),u=(0,s._1)(t,"exp","pow"),c=(0,i.makeTypesMatch)(n,u),l=(0,r.Z)(c,2),f={a:n=l[0],b:u=l[1]};return a.BV.runKernel(o.pe,f)}})},6859:function(e,t,n){"use strict";n.d(t,{A:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({prelu_:function(e,t){var n={x:(0,o._1)(e,"x","prelu"),alpha:(0,o._1)(t,"alpha","prelu")};return r.BV.runKernel(a.o0,n)}})},4600:function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log(e.toString(t))}n.d(t,{S:function(){return r}})},7722:function(e,t,n){"use strict";n.d(t,{W:function(){return s}});var r=n(318),a=n(2145),o=n(8354),i=n(9118);var s=(0,n(8640).op)({prod_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=(0,o._1)(e,"x","prod");"bool"===s.dtype&&(s=(0,i.p)(s,"int32"));var u={x:s},c={axis:t,keepDims:n};return r.BV.runKernel(a.Dl,u,c)}})},4466:function(e,t,n){"use strict";n.d(t,{T9:function(){return s},Yi:function(){return i},wv:function(){return u}});var r=n(5671),a=n(3144),o=n(282),i=function(){function e(t,n,a,i,s){(0,r.Z)(this,e),this.mean=t,this.stdDev=n,this.dtype=a,this.nextVal=NaN,this.truncated=i,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var u=s||Math.random();this.random=o.alea(u.toString())}return(0,a.Z)(e,[{key:"nextValue",value:function(){if(!isNaN(this.nextVal)){var e=this.nextVal;return this.nextVal=NaN,e}for(var t,n,r=!1;!r;){var a=void 0,o=void 0,i=void 0;do{i=(a=2*this.random()-1)*a+(o=2*this.random()-1)*o}while(i>=1||0===i);var s=Math.sqrt(-2*Math.log(i)/i);t=this.mean+this.stdDev*a*s,n=this.mean+this.stdDev*o*s,this.truncated&&!this.isValidTruncated(t)||(r=!0)}return this.truncated&&!this.isValidTruncated(n)||(this.nextVal=this.convertValue(n)),this.convertValue(t)}},{key:"convertValue",value:function(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)}},{key:"isValidTruncated",value:function(e){return e<=this.upper&&e>=this.lower}}]),e}(),s=function(){function e(t,n,a,s){(0,r.Z)(this,e),this.alpha=t,this.beta=1/n,this.dtype=a;var u=s||Math.random();this.randu=o.alea(u.toString()),this.randn=new i(0,1,a,!1,this.randu()),this.d=t<1?t+2/3:t-1/3,this.c=1/Math.sqrt(9*this.d)}return(0,a.Z)(e,[{key:"nextValue",value:function(){for(var e,t,n,r,a,o;;){do{r=this.randn.nextValue(),o=1+this.c*r}while(o<=0);if(o*=o*o,t=1-.331*(e=r*r)*e,n=.5*e+this.d*(1-o+Math.log(o)),(a=this.randu())<t||Math.log(a)<n)break}return o=1/this.beta*this.d*o,this.alpha<1&&(o*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(o)}},{key:"convertValue",value:function(e){return"float32"===this.dtype?e:Math.round(e)}}]),e}(),u=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;if((0,r.Z)(this,e),this.canReturnFloat=function(){return null==t.dtype||"float32"===t.dtype},this.min=n,this.range=a-n,this.dtype=i,null==s&&(s=Math.random()),"number"===typeof s&&(s=s.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between ".concat(n," - ").concat(a," <= 1 and dtype is not float"));this.random=o.alea(s)}return(0,a.Z)(e,[{key:"convertValue",value:function(e){return this.canReturnFloat()?e:Math.round(e)}},{key:"nextValue",value:function(){return this.convertValue(this.min+this.range*this.random())}}]),e}()},6407:function(e,t,n){"use strict";n.d(t,{L:function(){return i}});var r=n(7039),a=n(8640),o=n(4466);var i=(0,a.op)({randomUniform_:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32",i=arguments.length>4?arguments[4]:void 0,s=(0,r.f)(e,a),u=new o.wv(t,n,null,i),c=0;c<s.values.length;c++)s.values[c]=u.nextValue();return s.toTensor()}})},422:function(e,t,n){"use strict";n.d(t,{w:function(){return o}});var r=n(318),a=n(2145);function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"float32";if(0===n)throw new Error("Cannot have a step of zero");var i={start:e,stop:t,step:n,dtype:o};return r.BV.runKernel(a.e6,{},i)}},6972:function(e,t,n){"use strict";n.d(t,{k:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({real_:function(e){var t={input:(0,o._1)(e,"input","real")};return r.BV.runKernel(a.xJ,t)}})},2209:function(e,t,n){"use strict";n.d(t,{M:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({reciprocal_:function(e){var t={x:(0,o._1)(e,"x","reciprocal")};return r.BV.runKernel(a.$H,t)}})},7539:function(e,t,n){"use strict";n.d(t,{U:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({relu_:function(e){var t={x:(0,o._1)(e,"x","relu")};return r.BV.runKernel(a.qk,t)}})},5900:function(e,t,n){"use strict";n.d(t,{b:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({relu6_:function(e){var t={x:(0,o._1)(e,"x","relu6")};return r.BV.runKernel(a.Sb,t)}})},5561:function(e,t,n){"use strict";n.d(t,{X:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({reshape_:function(e,t){var n={x:(0,o._1)(e,"x","reshape","string_or_numeric")},i={shape:t};return r.BV.runKernel(a.HZ,n,i)}})},4933:function(e,t,n){"use strict";n.d(t,{G:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({reverse_:function(e,t){var n={x:(0,o._1)(e,"x","reverse")},i={dims:t};return r.BV.runKernel(a.mK,n,i)}})},766:function(e,t,n){"use strict";n.d(t,{N:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({round_:function(e){var t={x:(0,o._1)(e,"x","round")};return r.BV.runKernel(a.e0,t)}})},5115:function(e,t,n){"use strict";n.d(t,{b:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({rsqrt_:function(e){var t={x:(0,o._1)(e,"x","rsqrt","float32")};return r.BV.runKernel(a.bV,t)}})},7067:function(e,t,n){"use strict";n.d(t,{i:function(){return o}});var r=n(6147),a=n(7960);function o(e,t){if(((0,r.fU)(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&(0,r.fU)(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return(0,a.H)(e,[],[],t)}},3522:function(e,t,n){"use strict";n.d(t,{s:function(){return u}});var r=n(318),a=n(2145),o=n(8354),i=n(8640),s=n(8604);var u=(0,i.op)({scatterND_:function(e,t,n){var i=(0,o._1)(e,"indices","scatterND","int32"),u=(0,o._1)(t,"updates","scatterND");s.validateInput(u,i,n);var c={indices:i,updates:u},l={shape:n};return r.BV.runKernel(a.xQ,c,l)}})},8604:function(e,t,n){"use strict";n.r(t),n.d(t,{calculateShapes:function(){return s},validateInput:function(){return i},validateUpdateShape:function(){return o}});var r=n(3433),a=n(6147);function o(e,t,n){var r=t.rank>1?t.shape[t.rank-1]:1,a=t.rank>1?t.rank-1:1,o="Must have updates.shape = indices.shape[:batchDim] + "+"shape[sliceDim:], got updates.shape: ".concat(n.shape)+", indices.shape: ".concat(t.shape,", shape: ").concat(e)+", sliceDim: ".concat(r,", and batchDim: ").concat(a,".");if(n.rank<a)throw new Error(o+" update.rank < ".concat(a,". "));if(e.length<r+(n.rank-a))throw new Error(o+" Output shape length < ".concat(r+(n.rank-a)));if(n.rank!==a+e.length-r)throw new Error(o+" update.rank != ".concat(a+e.length-r));for(var i=0;i<a;++i)if(n.shape[i]!==t.shape[i])throw new Error(o+" updates.shape[".concat(i,"] (").concat(n.shape[i],") != indices.shape[").concat(i,"] (").concat(t.shape[i],")."));for(var s=0;s<n.rank-a;++s)if(n.shape[s+a]!==e[s+r])throw new Error(o+" updates.shape[".concat(s+a,"] (").concat(n.shape[s+a],") != shape[").concat(s+a,"] (").concat(e[s+a],")"))}function i(e,t,n){if(t.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher,"+" but the rank was ".concat(t.rank,"."));if(e.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher,"+" but the rank was ".concat(e.rank,"."));if("int32"!==t.dtype)throw new Error("The dtype of 'indices' should be int32, but got dtype: ".concat(t.dtype));if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: ".concat(n));if(0===n.length){if(0===t.size)throw new Error("Indices specified for empty output. indices shape: ".concat(t.shape));if(0===e.size)throw new Error("Updates specified for empty output. updates shape: ".concat(e.shape))}o(n,t,e)}function s(e,t,n){for(var o=t.shape.length,i=o>1?t.shape[o-1]:1,s=n.length,u=1,c=i;c<s;++c)u*=n[c];var l=i<1?1:i;return{sliceRank:i,numUpdates:(0,a.NA)(t.shape)/l,sliceSize:u,strides:[].concat((0,r.Z)((0,a.e3)(n.slice(0,i))),[1]),outputSize:(0,a.NA)(n)}}},9028:function(e,t,n){"use strict";n.d(t,{z:function(){return l}});var r=n(318),a=n(2145),o=n(8354),i=n(6147),s=n(8640),u=n(5561),c=2147483648;var l=(0,s.op)({searchSorted_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left",s=(0,o._1)(e,"sortedSequence","searchSorted"),l=(0,o._1)(t,"values","searchSorted"),f=s.shape[s.shape.length-1],p=l.shape[l.shape.length-1],d=(0,u.X)(s,[-1,f]),h=(0,u.X)(l,[-1,p]);if(d.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(d.shape[0]!==h.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if((0,i.NA)(h.shape)>=c)throw new Error("values tensor size must less than ".concat(c));if(d.shape[1]>=c)throw new Error("trailing dim_size must less than ".concat(c," for int32 output type, was ").concat(d.shape[1]));var v={sortedSequence:d,values:h},m={side:n};return r.BV.runKernel(a.nr,v,m)}})},413:function(e,t,n){"use strict";n.d(t,{U:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({selu_:function(e){var t={x:(0,o._1)(e,"x","selu")};return r.BV.runKernel(a.oF,t)}})},349:function(e,t,n){"use strict";n.d(t,{$:function(){return a},y:function(){return r}});var r=1.7580993408473768,a=1.0507009873554805},119:function(e,t,n){"use strict";n.d(t,{U:function(){return c}});var r=n(8354),a=n(6147),o=n(3457),i=n(1147),s=n(8640),u=n(5561);var c=(0,s.op)({separableConv2d_:function(e,t,n,s,c){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[1,1],f=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"NHWC",p=(0,r._1)(e,"x","separableConv2d"),d=(0,r._1)(t,"depthwiseFilter","separableConv2d"),h=(0,r._1)(n,"pointwiseFilter","separableConv2d"),v=p,m=!1;if(3===p.rank&&(m=!0,v=(0,u.X)(p,[1,p.shape[0],p.shape[1],p.shape[2]])),"NCHW"===f)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");a.hu(4===v.rank,(function(){return"Error in separableConv2d: input must be rank 4, but got "+"rank ".concat(v.rank,".")})),a.hu(4===d.rank,(function(){return"Error in separableConv2d: depthwise filter must be rank 4, but "+"got rank ".concat(d.rank,".")})),a.hu(4===h.rank,(function(){return"Error in separableConv2d: pointwise filter must be rank 4, but "+"got rank ".concat(d.rank,".")})),a.hu(1===h.shape[0],(function(){return"Error in separableConv2d: the first dimension of pointwise filter "+" must be 1, but got ".concat(h.shape[0],".")})),a.hu(1===h.shape[1],(function(){return"Error in separableConv2d: the second dimension of pointwise "+"filter must be 1, but got ".concat(h.shape[1],".")}));var g=d.shape[2],y=d.shape[3];a.hu(h.shape[2]===g*y,(function(){return"Error in separableConv2d: the third dimension of pointwise filter "+"must be ".concat(g*y,", ")+"but got ".concat(h.shape[2],".")}));var b=(0,i.B)(v,d,s,c,f,l),x=1,w=(0,o.T)(b,h,x,"valid",f);return m?(0,u.X)(w,[w.shape[1],w.shape[2],w.shape[3]]):w}})},4438:function(e,t,n){"use strict";n.d(t,{O:function(){return l}});var r=n(5861),a=n(7757),o=n.n(a),i=n(4376),s=n(8354),u=n(6147);function c(){return(c=(0,r.Z)(o().mark((function e(t,n){var r,a,c,l,f,p,d,h,v,m,g;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,s._1)(t,"x","setdiff1d"),a=(0,s._1)(n,"y","setdiff1d"),u.hu(r.dtype===a.dtype,(function(){return"x and y should have the same dtype, but got x (".concat(r.dtype,") and y (").concat(a.dtype,").")})),u.hu(1===r.rank,(function(){return"x should be 1D tensor, but got x (".concat(r.shape,").")})),u.hu(1===a.rank,(function(){return"y should be 1D tensor, but got y (".concat(a.shape,").")})),e.next=7,r.data();case 7:return c=e.sent,e.next=10,a.data();case 10:for(l=e.sent,f=new Set(l),p=0,d=0;d<c.length;d++)f.has(c[d])||p++;for(h=new i.YD([p],r.dtype),v=new i.YD([p],"int32"),m=0,g=0;m<c.length;m++)f.has(c[m])||(h.values[g]=c[m],v.values[g]=m,g++);return e.abrupt("return",[h.toTensor(),v.toTensor()]);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var l=function(e,t){return c.apply(this,arguments)}},7643:function(e,t,n){"use strict";n.d(t,{X:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({sigmoid_:function(e){var t={x:(0,o._1)(e,"x","sigmoid","float32")};return r.BV.runKernel(a.a5,t)}})},2070:function(e,t,n){"use strict";n.d(t,{X:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({sign_:function(e){var t={x:(0,o._1)(e,"x","sign")};return r.BV.runKernel(a.i5,t)}})},7254:function(e,t,n){"use strict";n.d(t,{O:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({sin_:function(e){var t={x:(0,o._1)(e,"x","sin","float32")};return r.BV.runKernel(a.RQ,t)}})},7657:function(e,t,n){"use strict";n.d(t,{R:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({sinh_:function(e){var t={x:(0,o._1)(e,"x","sinh")};return r.BV.runKernel(a.w3,t)}})},9238:function(e,t,n){"use strict";n.d(t,{t:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({slice_:function(e,t,n){var i=(0,o._1)(e,"x","slice","string_or_numeric");if(0===i.rank)throw new Error("Slicing scalar is not possible");var s={x:i},u={begin:t,size:n};return r.BV.runKernel(a.p2,s,u)}})},2875:function(e,t,n){"use strict";n.r(t),n.d(t,{assertParamsValid:function(){return o},computeFlatOffset:function(){return y},computeOutShape:function(){return s},getNormalizedAxes:function(){return f},isSliceContinous:function(){return g},maskToAxes:function(){return i},parseSliceParams:function(){return b},sliceInfo:function(){return x},startForAxis:function(){return v},startIndicesWithElidedDims:function(){return p},stopForAxis:function(){return m},stopIndicesWithElidedDims:function(){return d},stridesForAxis:function(){return h},stridesWithElidedDims:function(){return u}});var r=n(3433),a=n(6147);function o(e,t,n){var r=e.shape.length;a.hu(r===t.length,(function(){return"Error in slice".concat(r,"D: Length of begin ").concat(t," must ")+"match the rank of the array (".concat(r,").")})),a.hu(r===n.length,(function(){return"Error in slice".concat(r,"D: Length of size ").concat(n," must ")+"match the rank of the array (".concat(r,").")}));for(var o=function(o){a.hu(t[o]+n[o]<=e.shape[o],(function(){return"Error in slice".concat(r,"D: begin[").concat(o,"] + size[").concat(o,"] ")+"(".concat(t[o]+n[o],") would overflow input.shape[").concat(o,"] (").concat(e.shape[o],")")}))},i=0;i<r;++i)o(i)}function i(e){for(var t=[],n=0;e>0;)1&e&&t.push(n),e/=2,n++;return t}function s(e,t,n){for(var r=[],a=0;a<e.length;a++)r[a]=Math.ceil((t[a]-e[a])/n[a]);return r}function u(e,t,n,a){for(var o=(0,r.Z)(e),i=o.length;i<a.length;i++)o.push(1);for(var s=0;s<n;s++)0===s?o[t]=1:(o.splice(t,0,1),o.pop());return o}function c(e,t,n){return n<=e?n:n-(t-1)}function l(e,t){for(var n=[],r=0;r<e;r++)n.push(t+r);return n}function f(e,t,n,r,a,o,i,s,c){var l=e.length,f=new Array(l),g=new Array(l),y=new Array(l);if(t.length&&n>0){var b=t[0],x=n+1;f=p(i,b,x,r,e),g=d(s,b,x,a,e),y=u(o,b,x,e)}else for(var w=0;w<l;w++)f[w]=v(i,r,o,e,w,c),g[w]=m(s,a,o,e,w,c),y[w]=h(o,w,c);return{begin:f,end:g,strides:y}}function p(e,t,n,a,o){for(var i=(0,r.Z)(o),s=l(n,t),u=0;u<i.length;u++)if(s.indexOf(u)>-1)i[u]=0;else{var f=c(t,n,u),p=a[f];e&1<<f&&(p=0),i[u]=p}return i}function d(e,t,n,o,i){for(var s=(0,r.Z)(i),u=l(n,t),f=0;f<s.length;f++)if(u.indexOf(f)>-1)s[f]=Number.MAX_SAFE_INTEGER;else{var p=c(t,n,f),d=o[p];e&1<<p&&(d=Number.MAX_SAFE_INTEGER),s[f]=d}for(var h=0;h<s.length;h++){var v=i[h];s[h]<0&&(s[h]+=v),s[h]=a.uZ(0,s[h],i[h])}return s}function h(e,t,n){var r=e[t];return(n&1<<t||null==r)&&(r=1),r}function v(e,t,n,r,o,i){var s=t[o],u=n[o]||1;(e&1<<o||i&1<<o||null==s)&&(s=u>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var c=r[o];return s<0&&(s+=c),s=a.uZ(0,s,c-1)}function m(e,t,n,r,o,i){var s=t[o],u=n[o]||1;(e&1<<o||i&1<<o||null==s)&&(s=u>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var c=r[o];return s<0&&(s+=c),s=u>0?a.uZ(0,s,c):a.uZ(-1,s,c-1)}function g(e,t,n){for(var r=n.length,a=0;a<n.length;a++)if(n[a]>1){r=a;break}for(var o=r+1;o<n.length;o++)if(t[o]>0||n[o]!==e[o])return!1;return!0}function y(e,t){for(var n=e.length>0?e[e.length-1]:1,r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}function b(e,t,n){var o,i,s=e.shape.length;return(o="number"===typeof t?[t].concat((0,r.Z)(new Array(s-1).fill(0))):t.length<s?t.concat(new Array(s-t.length).fill(0)):t.slice()).forEach((function(e){a.hu(-1!==e,(function(){return"slice() does not support negative begin indexing."}))})),i=(i=null==n?new Array(s).fill(-1):"number"===typeof n?[n].concat((0,r.Z)(new Array(s-1).fill(-1))):n.length<s?n.concat(new Array(s-n.length).fill(-1)):n).map((function(t,n){return t>=0?t:(a.hu(-1===t,(function(){return"Negative size values should be exactly -1 but got "+"".concat(t," for the slice() size at index ").concat(n,".")})),e.shape[n]-o[n])})),[o,i]}function x(e,t,n,r,a,o,i,s,u){var c;if(null==r?(c=new Array(t.length)).fill(1):c=r,null!=i&&0!==(i&i-1))throw new Error("Multiple ellipses in slice is not allowed.");for(var l=!1,f={dims:c.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:n.slice(),strides:c.slice(),beginMask:a,endMask:o,ellipsisMask:i,newAxisMask:s,shrinkAxisMask:u},p=0;p<f.dims;p++)l&&0!==(1<<p&s)&&f.numAddAxisAfterEllipsis++,1<<p&i&&(l=!0);l||(f.ellipsisMask|=1<<f.dims,f.dims++);var d={dims:e.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};!function(e,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;var n=0;t.beginValid=null!=e.begin,t.endValid=null!=e.end,t.begin=new Array(t.dims),t.end=new Array(t.dims),t.strides=new Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=new Array(t.dims);for(var r=0;r<e.dims;r++)if(1<<r&e.ellipsisMask)for(var a=Math.min(t.dims-(e.dims-r)+1+e.numAddAxisAfterEllipsis,t.dims);n<a;n++)t.begin[n]=0,t.end[n]=0,t.strides[n]=1,t.beginMask|=1<<n,t.endMask|=1<<n,t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[n]=r;else if(1<<r&e.newAxisMask)t.finalShapeGatherIndices.push(-2),t.finalShapeGatherIndicesSparse.push(-1);else{if(n===t.begin.length)throw Error("Index out of range using input dim ".concat(n,"; input ")+"has only ".concat(t.dims," dims, ").concat(t.begin.length,"."));null!=e.begin&&(t.begin[n]=e.begin[r]),null!=e.end&&(t.end[n]=e.end[r]),t.strides[n]=e.strides[r],e.beginMask&1<<r&&(t.beginMask|=1<<n),e.endMask&1<<r&&(t.endMask|=1<<n),e.shrinkAxisMask&1<<r?(t.finalShapeGatherIndices.push(-1),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<n):(t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(r)),t.inputShapeGatherIndicesSparse[n]=r,n++}}(f,d);for(var h=!0,v=!0,m=!0,g=[],y=[],b=0;b<e.length;++b){if(0===d.strides[b])throw Error("strides[".concat(b,"] must be non-zero"));var x=!!(d.shrinkAxisMask&1<<b),k=e[b];if(-1!==k){var S=[d.beginMask&1<<b,d.endMask&1<<b],E=[d.strides[b]>0?0:-1,d.strides[b]>0?k:k-1];if(x&&d.strides[b]<=0)throw Error("only stride 1 allowed on non-range indexing.");m=m&&1===d.strides[b];var C=!!(d.beginMask&1<<b&&d.endMask&1<<b);if(d.beginValid&&d.endValid){if(x){var N=d.begin[b]<0?k+d.begin[b]:d.begin[b];if(d.begin[b]=N,d.end[b]=d.begin[b]+1,N<0||N>=k)throw Error("slice index ".concat(d.begin[b]," of dimension ").concat(b," out of bounds."))}else d.begin[b]=w(d.begin[b],0,d.strides[b],k,S,E),d.end[b]=w(d.end[b],1,d.strides[b],k,S,E);var T=1===d.strides[b]&&0===d.begin[b]&&d.end[b]===k;h=h&&T,v=v&&(0===b&&1===d.strides[b]||T)}else h=h&&1===d.strides[b]&&C,v=v&&(0===b&&1===d.strides[b]||C);var I=void 0,O=!1;if(d.beginValid&&d.endValid?(I=d.end[b]-d.begin[b],O=!0):x?(I=1,O=!0):C&&k>=0&&(I=d.strides[b]<0?-k:k,O=!0),O){var _=void 0;_=0===I||I<0!==d.strides[b]<0?0:Math.trunc(I/d.strides[b])+(I%d.strides[b]!==0?1:0),g.push(_)}else g.push(-1)}else g.push(x?1:-1)}for(var D=0;D<d.finalShapeGatherIndices.length;++D){var A=d.finalShapeGatherIndices[D];A>=0?y.push(g[A]):-2===A&&y.push(1)}var R=y.filter((function(e,t){return-2!==d.finalShapeGatherIndices[t]}));return{finalShapeSparse:R,finalShape:y,isIdentity:h,sliceDim0:v,isSimpleSlice:m,begin:d.begin,end:d.end,strides:d.strides}}function w(e,t,n,r,a,o){if(a[t])return n>0?o[t]:o[t+1&1];var i=e<0?r+e:e;return i<o[0]?o[0]:i>o[1]?o[1]:i}},4910:function(e,t,n){"use strict";n.d(t,{X:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({softmax_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=(0,o._1)(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(n.rank," and dim was ").concat(t));var i={logits:n},s={dim:t};return r.BV.runKernel(a.Gc,i,s)}})},4626:function(e,t,n){"use strict";n.d(t,{W:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({softplus_:function(e){var t={x:(0,o._1)(e,"x","softplus")};return r.BV.runKernel(a.MR,t)}})},5696:function(e,t,n){"use strict";n.d(t,{f:function(){return s}});var r=n(318),a=n(2145),o=n(8354),i=n(6147);var s=(0,n(8640).op)({spaceToBatchND_:function(e,t,n){var s=(0,o._1)(e,"x","spaceToBatchND");i.hu(s.rank>=1+t.length,(function(){return"input rank ".concat(s.rank," should be > than [blockShape] ").concat(t.length)})),i.hu(n.length===t.length,(function(){return"paddings.shape[0] ".concat(n.length," must be equal to [blockShape] ").concat(t.length)})),i.hu(s.shape.reduce((function(e,r,a){return a>0&&a<=t.length?e&&(r+n[a-1][0]+n[a-1][1])%t[a-1]===0:e}),!0),(function(){return"input spatial dimensions ".concat(s.shape.slice(1)," with paddings ").concat(n.toString()," must be divisible by blockShapes ").concat(t.toString())}));var u={x:s},c={blockShape:t,paddings:n};return r.BV.runKernel(a.TQ,u,c)}})},9991:function(e,t,n){"use strict";n.d(t,{e:function(){return s}});var r=n(318),a=n(2145);function o(e,t,n,r){if("int32"!==e.dtype)throw new Error("tf.sparseToDense() expects the indices to be int32 type,"+" but the dtype was ".concat(e.dtype,"."));if(e.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix,"+" but got shape ".concat(e.shape,"."));var a=e.rank>0?e.shape[0]:1,o=e.rank>1?e.shape[1]:1;if(n.length!==o)throw new Error("outputShape has incorrect number of elements:,"+" ".concat(n.length,", should be: ").concat(o,"."));var i=t.size;if(0!==t.rank&&(1!==t.rank||i!==a))throw new Error("sparseValues has incorrect shape "+"".concat(t.shape,", should be [] or [").concat(a,"]"));if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}var i=n(8354);var s=(0,n(8640).op)({sparseToDense_:function(e,t,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,u=(0,i._1)(e,"sparseIndices","sparseToDense","int32"),c=(0,i._1)(t,"sparseValues","sparseToDense","string_or_numeric"),l=(0,i._1)(s,"defaultValue","sparseToDense",c.dtype);o(u,c,n,l);var f={sparseIndices:u,sparseValues:c,defaultValue:l},p={outputShape:n};return r.BV.runKernel(a.D2,f,p)}})},7635:function(e,t,n){"use strict";n.d(t,{k:function(){return i}});var r=n(318),a=n(2145),o=n(6147);var i=(0,n(8640).op)({fft_:function(e){(0,o.hu)("complex64"===e.dtype,(function(){return"The dtype for tf.spectral.fft() must be complex64 "+"but got ".concat(e.dtype,".")}));var t={input:e};return r.BV.runKernel(a.vw,t)}})},530:function(e,t,n){"use strict";n.d(t,{S:function(){return i}});var r=n(318),a=n(2145),o=n(6147);var i=(0,n(8640).op)({ifft_:function(e){(0,o.hu)("complex64"===e.dtype,(function(){return"The dtype for tf.spectral.ifft() must be complex64 "+"but got ".concat(e.dtype,".")}));var t={input:e};return r.BV.runKernel(a.Qg,t)}})},774:function(e,t,n){"use strict";n.d(t,{w:function(){return h}});var r=n(9253),a=n(4836),o=n(6996),i=n(651),s=n(8640),u=n(6972),c=n(5561),l=n(4933),f=n(7067),p=n(9238),d=n(530);var h=(0,s.op)({irfft_:function(e){var t,n=e.shape[e.shape.length-1],s=e.size/n;if(n<=2){var h=(0,c.X)(e,[s,n]);t=(0,d.S)(h)}else{var v=[s,2*(n-1)],m=(0,c.X)((0,u.k)(e),[s,n]),g=(0,c.X)((0,o.a)(e),[s,n]),y=(0,l.G)((0,p.t)(m,[0,1],[s,n-2]),1),b=(0,i.d)((0,l.G)((0,p.t)(g,[0,1],[s,n-2]),1),(0,f.i)(-1)),x=(0,a.z)([m,y],1),w=(0,a.z)([g,b],1),k=(0,c.X)((0,r.P)(x,w),[v[0],v[1]]);t=(0,d.S)(k)}if(t=(0,u.k)(t),3===e.rank&&0!==e.shape[0]){var S=t,E=e.shape[0];t=(0,c.X)(t,[E,t.shape[0]/E,t.shape[1]]),S.dispose()}return t}})},4617:function(e,t,n){"use strict";n.d(t,{Q:function(){return v}});var r=n(6147),a=n(9253),o=n(4836),i=n(6996),s=n(8640),u=n(6972),c=n(5561),l=n(9238),f=n(2588),p=n(7742),d=n(7293),h=n(7635);var v=(0,s.op)({rfft_:function(e,t){(0,r.hu)("float32"===e.dtype,(function(){return"The dtype for rfft() must be real value but got ".concat(e.dtype)}));var n,s=e.shape[e.shape.length-1],v=e.size/s;if(null!=t&&t<s){var m=e.shape.map((function(e){return 0})),g=e.shape.map((function(e){return e}));g[e.shape.length-1]=t,n=(0,l.t)(e,m,g),s=t}else if(null!=t&&t>s){var y=e.shape.map((function(e){return e}));y[e.shape.length-1]=t-s,n=(0,o.z)([e,(0,p.l)(y)],e.shape.length-1),s=t}else n=e;var b=(0,d.P)(n),x=(0,c.X)((0,a.P)(n,b),[v,s]),w=(0,h.k)(x),k=Math.floor(s/2)+1,S=(0,u.k)(w),E=(0,i.a)(w),C=(0,f.V)(S,[k,s-k],S.shape.length-1),N=(0,f.V)(E,[k,s-k],E.shape.length-1),T=n.shape.slice();return T[n.shape.length-1]=k,(0,c.X)((0,a.P)(C[0],N[0]),T)}})},2588:function(e,t,n){"use strict";n.d(t,{V:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({split_:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=(0,o._1)(e,"x","split"),s={x:i},u={numOrSizeSplits:t,axis:n};return r.BV.runKernel(a.L8,s,u)}})},6902:function(e,t,n){"use strict";n.d(t,{_:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({sqrt_:function(e){var t={x:(0,o._1)(e,"x","sqrt","float32")};return r.BV.runKernel(a.FK,t)}})},7391:function(e,t,n){"use strict";n.d(t,{h:function(){return o}});var r=n(318),a=n(8354);var o=(0,n(8640).op)({square_:function(e){var t=(0,a._1)(e,"x","square");return r.BV.runKernel("Square",{x:t},{})}})},7993:function(e,t,n){"use strict";n.d(t,{$:function(){return c}});var r=n(9439),a=n(318),o=n(2145),i=n(9064),s=n(8354),u=n(5774);var c=(0,n(8640).op)({squaredDifference_:function(e,t){var n=(0,s._1)(e,"a","squaredDifference"),c=(0,s._1)(t,"b","squaredDifference"),l=(0,i.makeTypesMatch)(n,c),f=(0,r.Z)(l,2);n=f[0],c=f[1],(0,u.assertAndGetBroadcastShape)(n.shape,c.shape);var p={a:n,b:c};return a.BV.runKernel(o._t,p,{})}})},3931:function(e,t,n){"use strict";n.d(t,{L:function(){return s}});var r=n(8354),a=n(6147),o=n(8640),i=n(5561);var s=(0,o.op)({squeeze_:function(e,t){var n=(0,r._1)(e,"x","squeeze");return(0,i.X)(n,(0,a.bp)(n.shape,t).newShape)}})},8306:function(e,t,n){"use strict";n.d(t,{k:function(){return s}});var r=n(318),a=n(2145),o=n(8354),i=n(6147);var s=(0,n(8640).op)({stack_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(0,o.sI)(e,"tensors","stack","string_or_numeric");i.hu(n.length>=1,(function(){return"Pass at least one tensor to tf.stack"})),n.length>0&&i.hu(t<=n[0].rank,(function(){return"Axis must be <= rank of the tensor"}));var s=n,u={axis:t};return r.BV.runKernel(a.Qi,s,u)}})},4031:function(e,t,n){"use strict";n.d(t,{N:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({step_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(0,o._1)(e,"x","step"),i={x:n},s={alpha:t};return r.BV.runKernel(a.h8,i,s)}})},9017:function(e,t,n){"use strict";n.d(t,{N:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({stridedSlice_:function(e,t,n,i){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,f=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,p=(0,o._1)(e,"x","stridedSlice","string_or_numeric"),d={x:p},h={begin:t,end:n,strides:i,beginMask:s,endMask:u,ellipsisMask:c,newAxisMask:l,shrinkAxisMask:f};return r.BV.runKernel(a.m2,d,h)}})},4774:function(e,t,n){"use strict";n.d(t,{l:function(){return u}});var r=n(9439),a=n(318),o=n(2145),i=n(9064),s=n(8354);var u=(0,n(8640).op)({sub_:function(e,t){var n=(0,s._1)(e,"a","sub"),u=(0,s._1)(t,"b","sub"),c=(0,i.makeTypesMatch)(n,u),l=(0,r.Z)(c,2),f={a:n=l[0],b:u=l[1]};return a.BV.runKernel(o.Tr,f)}})},227:function(e,t,n){"use strict";n.d(t,{S:function(){return s}});var r=n(318),a=n(2145),o=n(8354),i=n(9118);var s=(0,n(8640).op)({sum_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=(0,o._1)(e,"x","sum");"bool"===s.dtype&&(s=(0,i.p)(s,"int32"));var u={x:s},c={axis:t,keepDims:n};return r.BV.runKernel(a.GB,u,c)}})},6999:function(e,t,n){"use strict";n.d(t,{O:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({tan_:function(e){var t={x:(0,o._1)(e,"x","tan","float32")};return r.BV.runKernel(a.sE,t)}})},1744:function(e,t,n){"use strict";n.d(t,{A:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({tanh_:function(e){var t={x:(0,o._1)(e,"x","tanh","float32")};return r.BV.runKernel(a.MI,t)}})},2442:function(e,t,n){"use strict";n.d(t,{X:function(){return o}});var r=n(8354),a=n(7960);function o(e,t,n){var o=(0,r.C)(e,n);return(0,a.H)(e,t,o,n)}},2894:function(e,t,n){"use strict";n.d(t,{R:function(){return i}});var r=n(8354),a=n(6147),o=n(7960);function i(e,t){(0,a.Cq)(e);var n=(0,r.C)(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return(0,o.H)(e,null,n,t)}},3123:function(e,t,n){"use strict";n.d(t,{w:function(){return i}});var r=n(8354),a=n(6147),o=n(7960);function i(e,t,n){if((0,a.Cq)(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");var i=(0,r.C)(e,n);if(3!==i.length&&1!==i.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===i.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return(0,o.H)(e,t,i,n)}},7960:function(e,t,n){"use strict";n.d(t,{H:function(){return i}});var r=n(318),a=n(6147),o=n(115);function i(e,t,n,i){if(null==i&&(i=(0,a.D2)(e)),"complex64"===i)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!(0,a.fU)(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){(0,a.Mu)(t);var s=(0,a.NA)(t),u=(0,a.NA)(n);(0,a.hu)(s===u,(function(){return"Based on the provided shape, [".concat(t,"], the tensor should have ")+"".concat(s," values but has ").concat(u)}));for(var c=0;c<n.length;++c){var l=n[c],f=c!==n.length-1||l!==(0,a.NA)(t.slice(c));(0,a.hu)(n[c]===t[c]||!f,(function(){return"Error creating a new Tensor. Inferred shape "+"(".concat(n,") does not match the provided ")+"shape (".concat(t,"). ")}))}}return(0,a.fU)(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==i?(0,o.toTypedArray)(e,i):(0,a.xH)(e,[],!0),r.BV.makeTensor(e,t,i)}},2343:function(e,t,n){"use strict";n.d(t,{G:function(){return s}});var r=n(318),a=n(2145),o=n(8354),i=n(6147);var s=(0,n(8640).op)({tile_:function(e,t){var n=(0,o._1)(e,"x","tile","string_or_numeric");i.hu(n.rank===t.length,(function(){return"Error in transpose: rank of input ".concat(n.rank," ")+"must match length of reps ".concat(t,".")}));var s={x:n},u={reps:t};return r.BV.runKernel(a.n9,s,u)}})},9085:function(e,t,n){"use strict";n.d(t,{h:function(){return s}});var r=n(9439),a=n(318),o=n(2145),i=n(8354);var s=(0,n(8640).op)({topk_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=(0,i._1)(e,"x","topk");if(0===s.rank)throw new Error("topk() expects the input to be of rank 1 or higher");var u=s.shape[s.shape.length-1];if(t<0)throw new Error("'k' passed to topk() must be >= 0 but got ".concat(t));if(t>u)throw new Error("'k' passed to topk() must be <= the last dimension (".concat(u,") ")+"but got ".concat(t));var c={x:s},l={k:t,sorted:n},f=a.BV.runKernel(o.cW,c,l),p=(0,r.Z)(f,2),d=p[0],h=p[1];return{values:d,indices:h}}})},1240:function(e,t,n){"use strict";n.d(t,{p:function(){return s}});var r=n(318),a=n(2145),o=n(8354),i=n(6147);var s=(0,n(8640).op)({transpose_:function(e,t){var n=(0,o._1)(e,"x","transpose");if(null==t&&(t=n.shape.map((function(e,t){return t})).reverse()),i.hu(n.rank===t.length,(function(){return"Error in transpose: rank of input ".concat(n.rank," ")+"must match length of perm ".concat(t,".")})),t.forEach((function(e){i.hu(e>=0&&e<n.rank,(function(){return"All entries in 'perm' must be between 0 and ".concat(n.rank-1)+" but got ".concat(t)}))})),n.rank<=1)return n.clone();var s={x:n},u={perm:t};return r.BV.runKernel(a.G3,s,u)}})},4849:function(e,t,n){"use strict";n.d(t,{X:function(){return i}});var r=n(7039),a=n(8640),o=n(4466);var i=(0,a.op)({truncatedNormal_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;if(null!=a&&"bool"===a)throw new Error("Unsupported data type $ { dtype }");for(var s=new o.Yi(t,n,a,!0,i),u=(0,r.f)(e,a),c=0;c<u.values.length;c++)u.values[c]=s.nextValue();return u.toTensor()}})},4860:function(e,t,n){"use strict";n.d(t,{T:function(){return u}});var r=n(9439),a=n(318),o=n(2145),i=n(8354),s=n(6147);var u=(0,n(8640).op)({unique_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(0,i._1)(e,"x","unique","string_or_numeric");(0,s.hu)(n.rank>0,(function(){return"The input tensor must be at least 1D"}));var u={x:n},c={axis:t},l=a.BV.runKernel(o.kp,u,c),f=(0,r.Z)(l,2),p=f[0],d=f[1];return{values:p,indices:d}}})},6918:function(e,t,n){"use strict";n.d(t,{p:function(){return s}});var r=n(318),a=n(2145),o=n(8354),i=n(6147);var s=(0,n(8640).op)({unsortedSegmentSum_:function(e,t,n){var s=(0,o._1)(e,"x","unsortedSegmentSum"),u=(0,o._1)(t,"segmentIds","unsortedSegmentSum","int32");(0,i.hu)((0,i.GN)(n),(function(){return"numSegments must be of dtype int"}));var c={x:s,segmentIds:u},l={numSegments:n};return r.BV.runKernel(a.Qv,c,l)}})},4566:function(e,t,n){"use strict";n.d(t,{H:function(){return s}});var r=n(318),a=n(2145),o=n(8354),i=n(6147);var s=(0,n(8640).op)({unstack_:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(0,o._1)(e,"x","unstack","string_or_numeric");i.hu(t>=-n.shape.length&&t<n.shape.length,(function(){return"Axis = ".concat(t," is not in [-").concat(n.shape.length,", ").concat(n.shape.length,")")}));var s={value:n},u={axis:t};return r.BV.runKernel(a.To,s,u)}})},6035:function(e,t,n){"use strict";n.d(t,{G:function(){return a}});var r=n(9028);function a(e,t){return(0,r.z)(e,t,"right")}},329:function(e,t,n){"use strict";n.d(t,{a:function(){return u}});var r=n(318),a=n(2145),o=n(8354),i=n(9742),s=n(5774);var u=(0,n(8640).op)({where_:function(e,t,n){var u=(0,o._1)(t,"a","where"),c=(0,o._1)(n,"b","where"),l=(0,o._1)(e,"condition","where","bool"),f=(0,s.assertAndGetBroadcastShape)((0,s.assertAndGetBroadcastShape)(l.shape,u.shape),c.shape),p={condition:(0,i.U)(l,f),t:(0,i.U)(u,f),e:(0,i.U)(c,f)};return r.BV.runKernel(a.Ph,p)}})},1867:function(e,t,n){"use strict";n.d(t,{i:function(){return c}});var r=n(5861),a=n(7757),o=n.n(a),i=n(4189),s=n(8354);function u(){return(u=(0,r.Z)(o().mark((function e(t){var n,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,s._1)(t,"condition","whereAsync","bool"),e.next=3,n.data();case 3:return r=e.sent,a=(0,i.Z)(n.shape,r),t!==n&&n.dispose(),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var c=function(e){return u.apply(this,arguments)}},7742:function(e,t,n){"use strict";n.d(t,{l:function(){return i}});var r=n(318),a=n(6147),o=n(9253);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32";if("complex64"===t){var n=i(e,"float32"),s=i(e,"float32");return(0,o.P)(n,s)}var u=(0,a.wT)((0,a.NA)(e),t);return r.BV.makeTensor(u,e,t)}},7293:function(e,t,n){"use strict";n.d(t,{P:function(){return i}});var r=n(318),a=n(2145),o=n(8354);var i=(0,n(8640).op)({zerosLike_:function(e){var t={x:(0,o._1)(e,"x","zerosLike")};return r.BV.runKernel(a.Ru,t)}})},4376:function(e,t,n){"use strict";n.d(t,{es:function(){return C},YD:function(){return b},_w:function(){return T},t3:function(){return N},FZ:function(){return E},Vp:function(){return S},Vi:function(){return k}});var r=n(136),a=n(7277),o=n(5861),i=n(5671),s=n(3144),u=n(7757),c=n.n(u),l=n(6581),f=n(3433),p=n(6147);function d(e,t,n,r){var a=(0,p.e3)(t),o=function(e,t,n,r){var a=(0,p.NA)(t),o=r[r.length-1],i=new Array(o).fill(0),s=t.length,u="complex64"===n?g(e):e;if(s>1)for(var c=0;c<a/o;c++)for(var l=c*o,f=0;f<o;f++)i[f]=Math.max(i[f],h(u[l+f],0,n).length);return i}(e,t,n,a),i=t.length,s=m(e,t,n,a,o),u=["Tensor"];return r&&(u.push("  dtype: ".concat(n)),u.push("  rank: ".concat(i)),u.push("  shape: [".concat(t,"]")),u.push("  values:")),u.push(s.map((function(e){return"    "+e})).join("\n")),u.join("\n")}function h(e,t,n){var r;return r=Array.isArray(e)?"".concat(parseFloat(e[0].toFixed(7))," + ")+"".concat(parseFloat(e[1].toFixed(7)),"j"):(0,p.HD)(e)?"'".concat(e,"'"):"bool"===n?v(e):parseFloat(e.toFixed(7)).toString(),(0,p.oj)(r,t)}function v(e){return 0===e?"false":"true"}function m(e,t,n,r,a){var o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],i="complex64"===n?2:1,s=t[0],u=t.length;if(0===u){if("complex64"===n){var c=g(e);return[h(c[0],0,n)]}return"bool"===n?[v(e[0])]:[e[0].toString()]}if(1===u){if(s>20){var l=3*i,p=Array.from(e.slice(0,l)),d=Array.from(e.slice((s-3)*i,s*i));return"complex64"===n&&(p=g(p),d=g(d)),["["+p.map((function(e,t){return h(e,a[t],n)})).join(", ")+", ..., "+d.map((function(e,t){return h(e,a[s-3+t],n)})).join(", ")+"]"]}var y="complex64"===n?g(e):Array.from(e);return["["+y.map((function(e,t){return h(e,a[t],n)})).join(", ")+"]"]}var b=t.slice(1),x=r.slice(1),w=r[0]*i,k=[];if(s>20){for(var S=0;S<3;S++){var E=S*w,C=E+w;k.push.apply(k,(0,f.Z)(m(e.slice(E,C),b,n,x,a,!1)))}k.push("...");for(var N=s-3;N<s;N++){var T=N*w,I=T+w;k.push.apply(k,(0,f.Z)(m(e.slice(T,I),b,n,x,a,N===s-1)))}}else for(var O=0;O<s;O++){var _=O*w,D=_+w;k.push.apply(k,(0,f.Z)(m(e.slice(_,D),b,n,x,a,O===s-1)))}var A=2===u?",":"";k[0]="["+k[0]+A;for(var R=1;R<k.length-1;R++)k[R]=" "+k[R]+A;for(var P=",\n",M=2;M<u;M++)P+="\n";return k[k.length-1]=" "+k[k.length-1]+"]"+(o?"":P),k}function g(e){for(var t=[],n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}var y=n(115),b=function(){function e(t,n,r){var a=this;if((0,i.Z)(this,e),this.dtype=n,this.shape=t.slice(),this.size=p.NA(t),null!=r){var o=r.length;p.hu(o===this.size,(function(){return"Length of values '".concat(o,"' does not match the size ")+"inferred by the shape '".concat(a.size,"'.")}))}if("complex64"===n)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||p.rQ(n,this.size),this.strides=(0,p.e3)(t)}return(0,s.Z)(e,[{key:"set",value:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];0===r.length&&(r=[0]),p.hu(r.length===this.rank,(function(){return"The number of provided coordinates (".concat(r.length,") must ")+"match the rank (".concat(t.rank,")")}));var o=this.locToIndex(r);this.values[o]=e}},{key:"get",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];0===t.length&&(t=[0]);for(var r=0,a=0,o=t;a<o.length;a++){var i=o[a];if(i<0||i>=this.shape[r]){var s="Requested out of range element at ".concat(t,". ")+"  Buffer shape=".concat(this.shape);throw new Error(s)}r++}for(var u=t[t.length-1],c=0;c<t.length-1;++c)u+=this.strides[c]*t[c];return this.values[u]}},{key:"locToIndex",value:function(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];for(var t=e[e.length-1],n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t}},{key:"indexToLoc",value:function(e){if(0===this.rank)return[];if(1===this.rank)return[e];for(var t=new Array(this.shape.length),n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t}},{key:"rank",get:function(){return this.shape.length}},{key:"toTensor",value:function(){return x().makeTensor(this.values,this.shape,this.dtype)}}]),e}(),x=null,w=null;function k(e){x=e}function S(e){w=e}function E(e){e}var C=function(){function e(t,n,r,a){(0,i.Z)(this,e),this.kept=!1,this.isDisposedInternal=!1,this.shape=t.slice(),this.dtype=n||"float32",this.size=p.NA(t),this.strides=(0,p.e3)(t),this.dataId=r,this.id=a,this.rankType=this.rank<5?this.rank.toString():"higher"}return(0,s.Z)(e,[{key:"rank",get:function(){return this.shape.length}},{key:"buffer",value:function(){var e=(0,o.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.data();case 2:return t=e.sent,e.abrupt("return",w.buffer(this.shape,this.dtype,t));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"bufferSync",value:function(){return w.buffer(this.shape,this.dtype,this.dataSync())}},{key:"array",value:function(){var e=(0,o.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.data();case 2:return t=e.sent,e.abrupt("return",(0,p.GX)(this.shape,t,"complex64"===this.dtype));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"arraySync",value:function(){return(0,p.GX)(this.shape,this.dataSync(),"complex64"===this.dtype)}},{key:"data",value:function(){var e=(0,o.Z)(c().mark((function e(){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.throwIfDisposed(),t=x().read(this.dataId),"string"!==this.dtype){e.next=13;break}return e.next=5,t;case 5:return n=e.sent,e.prev=6,e.abrupt("return",n.map((function(e){return y.decodeString(e)})));case 10:throw e.prev=10,e.t0=e.catch(6),new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().");case 13:return e.abrupt("return",t);case 14:case"end":return e.stop()}}),e,this,[[6,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"dataToGPU",value:function(e){return this.throwIfDisposed(),x().readToGPU(this.dataId,e)}},{key:"dataSync",value:function(){this.throwIfDisposed();var e=x().readSync(this.dataId);if("string"===this.dtype)try{return e.map((function(e){return y.decodeString(e)}))}catch(t){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}},{key:"bytes",value:function(){var e=(0,o.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.throwIfDisposed(),e.next=3,x().read(this.dataId);case 3:if(t=e.sent,"string"!==this.dtype){e.next=8;break}return e.abrupt("return",t);case 8:return e.abrupt("return",new Uint8Array(t.buffer));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dispose",value:function(){this.isDisposed||(x().disposeTensor(this),this.isDisposedInternal=!0)}},{key:"isDisposed",get:function(){return this.isDisposedInternal}},{key:"throwIfDisposed",value:function(){if(this.isDisposed)throw new Error("Tensor is disposed.")}},{key:"print",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return w.print(this,e)}},{key:"clone",value:function(){return this.throwIfDisposed(),w.clone(this)}},{key:"toString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.dataSync();return d(t,this.shape,this.dtype,e)}},{key:"cast",value:function(e){return this.throwIfDisposed(),w.cast(this,e)}},{key:"variable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return this.throwIfDisposed(),x().makeVariable(this,e,t,n)}}]),e}();function N(){return(0,l.R)("Tensor",(function(){return C}))}Object.defineProperty(C,Symbol.hasInstance,{value:function(e){return!!e&&null!=e.data&&null!=e.dataSync&&null!=e.throwIfDisposed}}),N();var T=function(e){(0,r.Z)(n,e);var t=(0,a.Z)(n);function n(e,r,a,o){var s;return(0,i.Z)(this,n),(s=t.call(this,e.shape,e.dtype,e.dataId,o)).trainable=r,s.name=a,s}return(0,s.Z)(n,[{key:"assign",value:function(e){if(e.dtype!==this.dtype)throw new Error("dtype of the new value (".concat(e.dtype,") and ")+"previous value (".concat(this.dtype,") must match"));if(!p.cO(e.shape,this.shape))throw new Error("shape of the new value (".concat(e.shape,") and ")+"previous value (".concat(this.shape,") must match"));x().disposeTensor(this),this.dataId=e.dataId,x().incRef(this,null)}},{key:"dispose",value:function(){x().disposeVariable(this),this.isDisposedInternal=!0}}]),n}(C);Object.defineProperty(T,Symbol.hasInstance,{value:function(e){return e instanceof C&&null!=e.assign&&e.assign instanceof Function}})},9064:function(e,t,n){"use strict";n.r(t),n.d(t,{assertTypesMatch:function(){return s},getTensorsInContainer:function(){return c},isTensorInList:function(){return u},makeTypesMatch:function(){return i}});var r=n(4376),a=n(3525),o=n(6147);function i(e,t){if(e.dtype===t.dtype)return[e,t];var n=(0,a.x8)(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function s(e,t){(0,o.hu)(e.dtype===t.dtype,(function(){return"The dtypes of the first(".concat(e.dtype,") and")+" second(".concat(t.dtype,") input must match")}))}function u(e,t){return t.some((function(t){return t.id===e.id}))}function c(e){var t=[];return l(e,t,new Set),t}function l(e,t,n){if(null!=e)if(e instanceof r.es)t.push(e);else if(a=e,Array.isArray(a)||"object"===typeof a){var a,o=e;for(var i in o){var s=o[i];n.has(s)||(n.add(s),l(s,t,n))}}}},8354:function(e,t,n){"use strict";n.d(t,{C:function(){return u},_1:function(){return f},sI:function(){return p}});var r=n(318),a=n(5050),o=n(4376),i=n(6147),s=n(115);function u(e,t){var n=e;if((0,i.fU)(e))return"string"===t?[]:[e.length];if(!Array.isArray(e))return[];for(var r=[];Array.isArray(n)||(0,i.fU)(n)&&"string"!==t;)r.push(n.length),n=n[0];return Array.isArray(e)&&(0,a.OB)().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&c(e,r,[]),r}function c(e,t,n){if(n=n||[],Array.isArray(e)||(0,i.fU)(e)){(0,i.hu)(t.length>0,(function(){return"Element arr[".concat(n.join("]["),"] should be a primitive, ")+"but is an array of ".concat(e.length," elements")})),(0,i.hu)(e.length===t[0],(function(){return"Element arr[".concat(n.join("]["),"] should have ").concat(t[0]," ")+"elements, but has ".concat(e.length," elements")}));for(var r=t.slice(1),a=0;a<e.length;++a)c(e[a],r,n.concat(a))}else(0,i.hu)(0===t.length,(function(){return"Element arr[".concat(n.join("]["),"] is a primitive, ")+"but should be an array/TypedArray of ".concat(t[0]," elements")}))}function l(e,t,n,r){if("string_or_numeric"!==e){if(null==e)throw new Error("Expected dtype cannot be null.");if("numeric"!==e&&e!==t||"numeric"===e&&"string"===t)throw new Error("Argument '".concat(n,"' passed to '").concat(r,"' must ")+"be ".concat(e," tensor, but got ").concat(t," tensor"))}}function f(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(e instanceof o.es)return l(a,e.dtype,t,n),e;var c=(0,i.D2)(e);if("string"!==c&&["bool","int32","float32"].indexOf(a)>=0&&(c=a),l(a,c,t,n),null==e||!(0,i.fU)(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e){var f=null==e?"null":e.constructor.name;throw new Error("Argument '".concat(t,"' passed to '").concat(n,"' must be a ")+"Tensor or TensorLike, but got '".concat(f,"'"))}var p=u(e,c);(0,i.fU)(e)||Array.isArray(e)||(e=[e]);var d=!0,h="string"!==c?(0,s.toTypedArray)(e,c):(0,i.xH)(e,[],d);return r.BV.makeTensor(h,p,c)}function p(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"numeric";if(!Array.isArray(e))throw new Error("Argument ".concat(t," passed to ").concat(n," must be a ")+"`Tensor[]` or `TensorLike[]`");var a=e;return a.map((function(e,a){return f(e,"".concat(t,"[").concat(a,"]"),n,r)}))}},3525:function(e,t,n){"use strict";var r,a,o,i,s;n.d(t,{x8:function(){return c},yw:function(){return r},z4:function(){return l}}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(r||(r={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(a||(a={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(o||(o={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(i||(i={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(s||(s={}));var u={float32:i,int32:a,bool:o,complex64:s};function c(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error("Can not upcast ".concat(e," with ").concat(t))}return u[e][t]}function l(e){return c(e,"int32")}},115:function(e,t,n){"use strict";n.r(t),n.d(t,{arraysEqual:function(){return a.cO},assert:function(){return a.hu},assertNonNegativeIntegerDimensions:function(){return a.Mu},assertNonNull:function(){return a.Cq},assertShapesMatch:function(){return a.k5},bytesFromStringArray:function(){return a.Ub},bytesPerElement:function(){return a.bT},checkConversionForErrors:function(){return a.D5},clamp:function(){return a.uZ},computeStrides:function(){return a.e3},createScalarValue:function(){return k},createShuffledIndices:function(){return a.U$},decodeString:function(){return T},distSquared:function(){return a.E7},encodeString:function(){return N},fetch:function(){return C},fingerPrint64:function(){return w},flatten:function(){return a.xH},getArrayFromDType:function(){return a.rQ},getTypedArrayFromDType:function(){return a.WP},hasEncodingLoss:function(){return a.QB},hexToLong:function(){return s},indexToLoc:function(){return a.NE},inferDtype:function(){return a.D2},inferFromImplicitShape:function(){return a.JZ},isBoolean:function(){return a.jn},isFunction:function(){return a.mf},isInt:function(){return a.GN},isNumber:function(){return a.hj},isPromise:function(){return a.tI},isScalarShape:function(){return a.N9},isString:function(){return a.HD},isTypedArray:function(){return a.fU},isValidDtype:function(){return a.LP},locToIndex:function(){return a.qy},makeOnesTypedArray:function(){return a.p8},makeZerosNestedTypedArray:function(){return a.l6},makeZerosTypedArray:function(){return a.wT},nearestDivisor:function(){return a.jP},nearestLargerEven:function(){return a.nY},now:function(){return E},parseAxisParam:function(){return a.EC},randUniform:function(){return a.bj},repeatedTry:function(){return a.WD},rightPad:function(){return a.oj},shuffle:function(){return a.TV},shuffleCombo:function(){return a.d7},sizeFromShape:function(){return a.NA},sizeToSquarishShape:function(){return a.YP},squeezeShape:function(){return a.bp},sum:function(){return a.Sm},swap:function(){return a.LF},tanh:function(){return a.AE},toNestedArray:function(){return a.GX},toTypedArray:function(){return S}});var r=n(5050),a=n(6147),o=n(8987),i=n.n(o)()||o;function s(e){return i.fromString(e,!0,16)}var u=s("c3a5c85c97cb3127"),c=s("b492b66fbe98f273"),l=s("9ae16a3b2f90404f");function f(e){return e.xor(e.shru(47))}function p(e,t,n){var r=e.slice(t,t+n);return i.fromBytes(Array.from(r),!0,!0)}function d(e,t){return p(e,t,8)}function h(e,t){return p(e,t,4)}function v(e,t){return 0===t?e:e.shru(t).or(e.shl(64-t))}function m(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s("9ddfea08eb382d69"),r=e.xor(t).mul(n);r=r.xor(r.shru(47));var a=t.xor(r).mul(n);return a=(a=a.xor(a.shru(47))).mul(n)}function g(e,t,n,r){return function(e,t,n,r,a,o){a=a.add(e),o=v(o.add(a).add(r),21);var i=a;return a=(a=a.add(t)).add(n),o=o.add(v(a,44)),[a.add(r),o.add(i)]}(d(e,t),d(e,t+8),d(e,t+16),d(e,t+24),n,r)}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length;if(t>=8){var n=l.add(2*t),r=d(e,0).add(l),a=d(e,t-8),o=v(a,37).mul(n).add(r),i=v(r,25).add(a).mul(n);return m(o,i,n)}if(t>=4){var s=l.add(2*t),c=h(e,0);return m(c.shl(3).add(t),h(e,t-4),s)}if(t>0){var p=e[0],g=e[t>>1],y=e[t-1],b=p+(g<<8),x=t+(y<<2);return f(l.mul(b).xor(u.mul(x))).mul(l)}return l}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=l.add(2*t),r=d(e,0).mul(c),a=d(e,8),o=d(e,t-8).mul(n),i=d(e,t-16).mul(l);return m(v(r.add(a),43).add(v(o,30)).add(i),r.add(v(a.add(l),18)).add(o),n)}function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=l.add(2*t),r=d(e,0).mul(l),a=d(e,8),o=d(e,t-8).mul(n),i=d(e,t-16).mul(l),s=v(r.add(a),43).add(v(o,30)).add(i),u=m(s,r.add(v(a.add(l),18)).add(o),n),c=d(e,16).mul(n),f=d(e,24),p=s.add(d(e,t-32)).mul(n),h=u.add(d(e,t-24)).mul(n);return m(v(c.add(f),43).add(v(p,30)).add(h),c.add(v(f.add(r),18)).add(p),n)}function w(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.length,n=i.fromNumber(81,!0);if(t<=32)return t<=16?y(e,t):b(e,t);if(t<=64)return x(e,t);var r=n,a=n.mul(c).add(113),o=f(a.mul(l).add(113)).mul(l),s=[i.UZERO,i.UZERO],p=[i.UZERO,i.UZERO];r=r.mul(l).add(d(e,0));var h=0,w=64*(t-1>>6),k=w+(t-1&63)-63;do{r=v(r.add(a).add(s[0]).add(d(e,h+8)),37).mul(c),a=v(a.add(s[1]).add(d(e,h+48)),42).mul(c),r=r.xor(p[1]),a=a.add(s[0]).add(d(e,h+40)),o=v(o.add(p[0]),33).mul(c),s=g(e,h,s[1].mul(c),r.add(p[0])),p=g(e,h+32,o.add(p[1]),a.add(d(e,h+16)));var S=[r,o];o=S[0],r=S[1],h+=64}while(h!==w);var E=c.add(o.and(255).shl(1));h=k,p[0]=p[0].add(t-1&63),s[0]=s[0].add(p[0]),p[0]=p[0].add(s[0]),r=v(r.add(a).add(s[0]).add(d(e,h+8)),37).mul(E),a=v(a.add(s[1]).add(d(e,h+48)),42).mul(E),r=r.xor(p[1].mul(9)),a=a.add(s[0].mul(9).add(d(e,h+40))),o=v(o.add(p[0]),33).mul(E),s=g(e,h,s[1].mul(E),r.add(p[0])),p=g(e,h+32,o.add(p[1]),a.add(d(e,h+16)));var C=[r,o];return o=C[0],r=C[1],m(m(s[0],p[0],E).add(f(a).mul(u)).add(o),m(s[1],p[1],E).add(r),E)}function k(e,t){return"string"===t?N(e):S([e],t)}function S(e,t){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=a.xH(e)),(0,r.OB)().getBool("DEBUG")&&a.D5(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){for(var n=new Uint8Array(e.length),o=0;o<n.length;++o)0!==Math.round(e[o])&&(n[o]=1);return n}throw new Error("Unknown data type ".concat(t))}function E(){return(0,r.OB)().platform.now()}function C(e,t){return(0,r.OB)().platform.fetch(e,t)}function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",(0,r.OB)().platform.encode(e,t)}function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return t=t||"utf-8",(0,r.OB)().platform.decode(e,t)}},6147:function(e,t,n){"use strict";function r(e){for(var t=e.length,n=0;t>0;)n=Math.random()*t|0,s(e,--t,n)}function a(e,t){if(e.length!==t.length)throw new Error("Array sizes must match to be shuffled together "+"First array length was ".concat(e.length)+"Second array length was ".concat(t.length));for(var n=e.length,r=0;n>0;)r=Math.random()*n|0,s(e,--n,r),s(t,n,r)}function o(e,t,n){return Math.max(e,Math.min(t,n))}function i(e){return e%2===0?e:e+1}function s(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function u(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t}function c(e,t){var n=Math.random();return t*n+(1-n)*e}function l(e,t){for(var n=0,r=0;r<e.length;r++){var a=Number(e[r])-Number(t[r]);n+=a*a}return n}function f(e,t){if(!e)throw new Error("string"===typeof t?t:t())}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";f(g(e,t),(function(){return n+" Shapes ".concat(e," and ").concat(t," must match")}))}function d(e){f(null!=e,(function(){return"The input to the tensor constructor must be a non-null value."}))}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==t&&(t=[]),Array.isArray(e)||A(e)&&!n)for(var r=0;r<e.length;++r)h(e[r],t,n);else t.push(e);return t}function v(e){if(0===e.length)return 1;for(var t=e[0],n=1;n<e.length;n++)t*=e[n];return t}function m(e){return 0===e.length}function g(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function y(e){return e%1===0}function b(e){if(null!=Math.tanh)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;var t=Math.exp(2*e);return(t-1)/(t+1)}function x(e){var t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function w(e){for(var t=new Uint32Array(e),n=0;n<e;++n)t[n]=n;return r(t),t}function k(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return 0},n=arguments.length>2?arguments[2]:void 0;return new Promise((function(r,a){var o=0;!function i(){if(e())r();else{o++;var s=t(o);null!=n&&o>=n?a():setTimeout(i,s)}}()}))}function E(e,t){for(var n=1,r=-1,a=0;a<e.length;++a)if(e[a]>=0)n*=e[a];else if(-1===e[a]){if(-1!==r)throw Error("Shapes can only have 1 implicit size. "+"Found -1 at dim ".concat(r," and dim ").concat(a));r=a}else if(e[a]<0)throw Error("Shapes can not be < 0. Found ".concat(e[a]," at dim ").concat(a));if(-1===r){if(t>0&&t!==n)throw Error("Size(".concat(t,") must match the product of shape ").concat(e));return e}if(0===n)throw Error("Cannot infer the missing size in [".concat(e,"] when ")+"there are 0 elements");if(t%n!==0)throw Error("The implicit shape can't be a fractional number. "+"Got ".concat(t," / ").concat(n));var o=e.slice();return o[r]=t/n,o}function C(e,t){var n=t.length;return f((e=null==e?t.map((function(e,t){return t})):[].concat(e)).every((function(e){return e>=-n&&e<n})),(function(){return"All values in axis param must be in range [-".concat(n,", ").concat(n,") but ")+"got axis ".concat(e)})),f(e.every((function(e){return y(e)})),(function(){return"All values in axis param must be integers but "+"got axis ".concat(e)})),e.map((function(e){return e<0?n+e:e}))}function N(e,t){for(var n=[],r=[],a=null!=t&&Array.isArray(t)&&0===t.length,o=null==t||a?null:C(t,e).sort(),i=0,s=0;s<e.length;++s){if(null!=o){if(o[i]===s&&1!==e[s])throw new Error("Can't squeeze axis ".concat(s," since its dim '").concat(e[s],"' is not 1"));(null==o[i]||o[i]>s)&&1===e[s]&&(n.push(e[s]),r.push(s)),o[i]<=s&&i++}1!==e[s]&&(n.push(e[s]),r.push(s))}return{newShape:n,keptDims:r}}function T(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else{if("bool"!==e)throw new Error("Unknown data type ".concat(e));n=new Uint8Array(t)}return n}function I(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error("Unknown data type ".concat(e));n=new Array(t)}return n}function O(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type ".concat(t," being uploaded contains ").concat(r,"."))}}function _(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}function D(e,t){return"complex64"!==t&&(("float32"!==t||"complex64"===e)&&(("int32"!==t||"float32"===e||"complex64"===e)&&("bool"!==t||"bool"!==e)))}function A(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}function R(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error("Unknown dtype ".concat(e))}function P(e){if(null==e)return 0;var t=0;return e.forEach((function(e){return t+=e.length})),t}function M(e){return"string"===typeof e||e instanceof String}function F(e){return"boolean"===typeof e}function L(e){return"number"===typeof e}function j(e){return Array.isArray(e)?j(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray?"int32":L(e)?"float32":M(e)?"string":F(e)?"bool":"float32"}function Z(e){return!!(e&&e.constructor&&e.call&&e.apply)}function z(e,t){for(var n=t;n<e;++n)if(e%n===0)return n;return e}function B(e){var t=e.length;if(t<2)return[];var n=new Array(t-1);n[t-2]=e[t-1];for(var r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function U(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=new Array;if(1===t.length)for(var o=t[0]*(r?2:1),i=0;i<o;i++)a[i]=n[e+i];else for(var s=t[0],u=t.slice(1),c=u.reduce((function(e,t){return e*t}))*(r?2:1),l=0;l<s;l++)a[l]=U(e+l*c,u,n,r);return a}function W(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(0===e.length)return t[0];var r=e.reduce((function(e,t){return e*t}))*(n?2:1);if(0===r)return[];if(r!==t.length)throw new Error("[".concat(e,"] does not match the input size ").concat(t.length).concat(n?" for a complex tensor":"","."));return U(0,e,t,n)}function V(e,t){for(var n=H(e,t),r=0;r<n.length;r++)n[r]=1;return n}function H(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error("Unknown data type ".concat(t))}function G(e,t){var n=e.reduce((function(e,t){return e*t}),1);if(null==t||"float32"===t)return W(e,new Float32Array(n));if("int32"===t)return W(e,new Int32Array(n));if("bool"===t)return W(e,new Uint8Array(n));throw new Error("Unknown data type ".concat(t))}function q(e){e.forEach((function(t){f(Number.isInteger(t)&&t>=0,(function(){return"Tensor must have a shape comprised of positive integers but got "+"shape [".concat(e,"].")}))}))}function X(e,t,n){if(0===t)return 0;if(1===t)return e[0];for(var r=e[e.length-1],a=0;a<e.length-1;++a)r+=n[a]*e[a];return r}function K(e,t,n){if(0===t)return[];if(1===t)return[e];for(var r=new Array(t),a=0;a<r.length-1;++a)r[a]=Math.floor(e/n[a]),e-=r[a]*n[a];return r[r.length-1]=e,r}function Y(e){return e&&e.then&&"function"===typeof e.then}n.d(t,{AE:function(){return b},Cq:function(){return d},D2:function(){return j},D5:function(){return O},E7:function(){return l},EC:function(){return C},GN:function(){return y},GX:function(){return W},HD:function(){return M},JZ:function(){return E},LF:function(){return s},LP:function(){return _},Mu:function(){return q},N9:function(){return m},NA:function(){return v},NE:function(){return K},QB:function(){return D},Sm:function(){return u},TV:function(){return r},U$:function(){return w},Ub:function(){return P},WD:function(){return S},WP:function(){return T},YP:function(){return x},bT:function(){return R},bj:function(){return c},bp:function(){return N},cO:function(){return g},d7:function(){return a},e3:function(){return B},fU:function(){return A},hj:function(){return L},hu:function(){return f},jP:function(){return z},jn:function(){return F},k5:function(){return p},l6:function(){return G},mf:function(){return Z},nY:function(){return i},oj:function(){return k},p8:function(){return V},qy:function(){return X},rQ:function(){return I},tI:function(){return Y},uZ:function(){return o},wT:function(){return H},xH:function(){return h}})},282:function(e,t,n){var r=n(5141),a=n(9619),o=n(6422),i=n(6304),s=n(3410),u=n(5463),c=n(5274);c.alea=r,c.xor128=a,c.xorwow=o,c.xorshift7=i,c.xor4096=s,c.tychei=u,e.exports=c},5141:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this,n=function(){var e=4022871197;return function(t){t=t.toString();for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)}}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function s(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function u(e,t){var n=new i(e),r=t&&t.state,a=n.next;return a.int32=function(){return 4294967296*n.next()|0},a.double=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.alea=u}(0,e=n.nmd(e),n.amdD)},5463:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,a=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^a,a=a-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^a,t.a=a-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function u(e,t){var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.tychei=u}(0,e=n.nmd(e),n.amdD)},9619:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function u(e,t){var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.xor128=u}(0,e=n.nmd(e),n.amdD)},3410:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this;t.next=function(){var e,n,r=t.w,a=t.X,o=t.i;return t.w=r=r+1640531527|0,n=a[o+34&127],e=a[o=o+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=a[o]=n^e,t.i=o,n+(r^r>>>16)|0},function(e,t){var n,r,a,o,i,s=[],u=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,u=Math.max(u,t.length)),a=0,o=-32;o<u;++o)t&&(r^=t.charCodeAt((o+32)%t.length)),0===o&&(i=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,o>=0&&(i=i+1640531527|0,a=0==(n=s[127&o]^=r+i)?a+1:0);for(a>=128&&(s[127&(t&&t.length||0)]=-1),a=127,o=512;o>0;--o)r=s[a+34&127],n=s[a=a+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[a]=r^n;e.w=i,e.X=s,e.i=a}(t,e)}function s(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function u(e,t){null==e&&(e=+new Date);var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.X&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.xor4096=u}(0,e=n.nmd(e),n.amdD)},6304:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this;t.next=function(){var e,n,r=t.x,a=t.i;return e=r[a],n=(e^=e>>>7)^e<<24,n^=(e=r[a+1&7])^e>>>10,n^=(e=r[a+3&7])^e>>>3,n^=(e=r[a+4&7])^e<<7,e=r[a+7&7],n^=(e^=e<<13)^e<<9,r[a]=n,t.i=a+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function s(e,t){return t.x=e.x.slice(),t.i=e.i,t}function u(e,t){null==e&&(e=+new Date);var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.x&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.xorshift7=u}(0,e=n.nmd(e),n.amdD)},6422:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function u(e,t){var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.xorwow=u}(0,e=n.nmd(e),n.amdD)},5274:function(e,t,n){var r;!function(a,o){var i,s=this,u=256,c=o.pow(u,6),l=o.pow(2,52),f=2*l,p=255;function d(e,t,n){var r=[],p=g(m((t=1==t?{entropy:!0}:t||{}).entropy?[e,y(a)]:null==e?function(){try{var e;return i&&(e=i.randomBytes)?e=e(u):(e=new Uint8Array(u),(s.crypto||s.msCrypto).getRandomValues(e)),y(e)}catch(r){var t=s.navigator,n=t&&t.plugins;return[+new Date,s,n,s.screen,y(a)]}}():e,3),r),d=new h(r),b=function(){for(var e=d.g(6),t=c,n=0;e<l;)e=(e+n)*u,t*=u,n=d.g(1);for(;e>=f;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return 0|d.g(4)},b.quick=function(){return d.g(4)/4294967296},b.double=b,g(y(d.S),a),(t.pass||n||function(e,t,n,r){return r&&(r.S&&v(r,d),e.state=function(){return v(d,{})}),n?(o.random=e,t):e})(b,p,"global"in t?t.global:this==o,t.state)}function h(e){var t,n=e.length,r=this,a=0,o=r.i=r.j=0,i=r.S=[];for(n||(e=[n++]);a<u;)i[a]=a++;for(a=0;a<u;a++)i[a]=i[o=p&o+e[a%n]+(t=i[a])],i[o]=t;(r.g=function(e){for(var t,n=0,a=r.i,o=r.j,i=r.S;e--;)t=i[a=p&a+1],n=n*u+i[p&(i[a]=i[o=p&o+t])+(i[o]=t)];return r.i=a,r.j=o,n})(u)}function v(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function m(e,t){var n,r=[],a=typeof e;if(t&&"object"==a)for(n in e)try{r.push(m(e[n],t-1))}catch(o){}return r.length?r:"string"==a?e:e+"\0"}function g(e,t){for(var n,r=e+"",a=0;a<r.length;)t[p&a]=p&(n^=19*t[p&a])+r.charCodeAt(a++);return y(t)}function y(e){return String.fromCharCode.apply(0,e)}if(o.seedrandom=d,g(o.random(),a),e.exports){e.exports=d;try{i=n(5778)}catch(b){}}else void 0===(r=function(){return d}.call(t,n,t,e))||(e.exports=r)}([],Math)},6322:function(e,t,n){"use strict";n.r(t),n.d(t,{Abs:function(){return l.SYM},Acos:function(){return l.VGw},Acosh:function(){return l.SpW},AdadeltaOptimizer:function(){return l.zJI},AdagradOptimizer:function(){return l.HeW},AdamOptimizer:function(){return l.a4z},AdamaxOptimizer:function(){return l.DBS},Add:function(){return l.mm_},AddN:function(){return l.Xze},All:function(){return l.oT6},Any:function(){return l.IKK},ArgMax:function(){return l.sJF},ArgMin:function(){return l.aJk},Asin:function(){return l.M2y},Asinh:function(){return l.qw7},Atan:function(){return l.jMg},Atan2:function(){return l.QCc},Atanh:function(){return l.Oyi},AvgPool:function(){return l.JhU},AvgPool3D:function(){return l._k9},AvgPool3DGrad:function(){return l.IMb},AvgPoolGrad:function(){return l.ROF},BatchMatMul:function(){return l.XLW},BatchToSpaceND:function(){return l.zws},Bincount:function(){return l.zvY},BroadcastArgs:function(){return l.eEB},BroadcastTo:function(){return l.Ly9},Callback:function(){return Rp},CallbackList:function(){return os},Cast:function(){return l.RFZ},Ceil:function(){return l.gJX},ClipByValue:function(){return l.xnO},Complex:function(){return l.Zz9},ComplexAbs:function(){return l.yj2},Concat:function(){return l.Eh3},Conv2D:function(){return l.mhS},Conv2DBackpropFilter:function(){return l.wUP},Conv2DBackpropInput:function(){return l.wm},Conv3D:function(){return l.x12},Conv3DBackpropFilterV2:function(){return l.o2y},Conv3DBackpropInputV2:function(){return l.ik2},Cos:function(){return l.mc4},Cosh:function(){return l.TR1},CropAndResize:function(){return l.VcC},Cumprod:function(){return l.Byc},Cumsum:function(){return l.iHb},CustomCallback:function(){return us},DataStorage:function(){return l.JLz},DenseBincount:function(){return l.QRR},DepthToSpace:function(){return l.T0n},DepthwiseConv2dNative:function(){return l.cie},DepthwiseConv2dNativeBackpropFilter:function(){return l.sL$},DepthwiseConv2dNativeBackpropInput:function(){return l.y7R},Diag:function(){return l.$w},Dilation2D:function(){return l.p4S},Dilation2DBackpropFilter:function(){return l.Vn9},Dilation2DBackpropInput:function(){return l.ekb},ENV:function(){return l.ViN},EarlyStopping:function(){return Fp},Einsum:function(){return l.$g6},Elu:function(){return l.SX0},EluGrad:function(){return l.HEU},Environment:function(){return l.qAh},Equal:function(){return l.hdR},Erf:function(){return l.Omj},Exp:function(){return l.NEP},ExpandDims:function(){return l.YFo},Expm1:function(){return l.Y0y},FFT:function(){return l.vwp},Fill:function(){return l.deh},FlipLeftRight:function(){return l.Uyb},Floor:function(){return l.OR},FloorDiv:function(){return l.jeX},FromPixels:function(){return l.eBW},FusedBatchNorm:function(){return l.sHE},FusedConv2D:function(){return l._V0},FusedDepthwiseConv2D:function(){return l.luS},GatherNd:function(){return l.q1x},GatherV2:function(){return l.qi_},GraphModel:function(){return jp.g_},Greater:function(){return l.iZT},GreaterEqual:function(){return l.Acj},History:function(){return ss},IFFT:function(){return l.Qg5},Identity:function(){return l.iJz},Imag:function(){return l.J_u},InputSpec:function(){return ii},IsFinite:function(){return l.avt},IsInf:function(){return l.iWB},IsNan:function(){return l.r7n},KernelBackend:function(){return l.Zuw},LRN:function(){return l.eZ0},LRNGrad:function(){return l.Hhh},LayerVariable:function(){return ri},LayersModel:function(){return Ou},LeakyRelu:function(){return l.J$2},Less:function(){return l.vtC},LessEqual:function(){return l.CAk},LinSpace:function(){return l.e7N},Log:function(){return l.ZbH},Log1p:function(){return l.kU},LogSoftmax:function(){return l.qCd},LogicalAnd:function(){return l.PYm},LogicalNot:function(){return l.VfG},LogicalOr:function(){return l.MZg},LowerBound:function(){return l.qIC},Max:function(){return l.YoZ},MaxPool:function(){return l.mTV},MaxPool3D:function(){return l.OAf},MaxPool3DGrad:function(){return l.OU7},MaxPoolGrad:function(){return l.OV7},MaxPoolWithArgmax:function(){return l.vFR},Maximum:function(){return l.BMI},Mean:function(){return l.q2K},Min:function(){return l.c17},Minimum:function(){return l.q8u},MirrorPad:function(){return l.jQs},Mod:function(){return l.Vbg},MomentumOptimizer:function(){return l.rIn},Multinomial:function(){return l.NZg},Multiply:function(){return l.wYn},Neg:function(){return l.kuV},NonMaxSuppressionV3:function(){return l.uv1},NonMaxSuppressionV4:function(){return l.cye},NonMaxSuppressionV5:function(){return l.W0H},NotEqual:function(){return l.yQU},OP_SCOPE_SUFFIX:function(){return l.zvA},OneHot:function(){return l.we_},OnesLike:function(){return l.qWM},Optimizer:function(){return l.gaJ},OptimizerConstructors:function(){return l.eEe},Pack:function(){return l.QiL},PadV2:function(){return l.lyA},Pool:function(){return l.Kgp},Pow:function(){return l.pe_},Prelu:function(){return l.o0g},Prod:function(){return l.DlI},RMSPropOptimizer:function(){return l.gVI},RNN:function(){return Wc},Range:function(){return l.e6w},Rank:function(){return l.yw1},Real:function(){return l.xJR},RealDiv:function(){return l.oHH},Reciprocal:function(){return l.$HU},Reduction:function(){return l.IH3},Relu:function(){return l.qkr},Relu6:function(){return l.SbG},Reshape:function(){return l.HZH},ResizeBilinear:function(){return l._Yw},ResizeBilinearGrad:function(){return l.zbQ},ResizeNearestNeighbor:function(){return l.dpD},ResizeNearestNeighborGrad:function(){return l.Hmb},Reverse:function(){return l.mKl},RotateWithOffset:function(){return l.b9H},Round:function(){return l.e07},Rsqrt:function(){return l.bV0},SGDOptimizer:function(){return l.DYp},ScatterNd:function(){return l.xQA},SearchSorted:function(){return l.nr8},Select:function(){return l.PhF},Selu:function(){return l.oFR},Sequential:function(){return Lu},Sigmoid:function(){return l.a5O},Sign:function(){return l.i5y},Sin:function(){return l.RQH},Sinh:function(){return l.wYB},Slice:function(){return l.p2w},Softmax:function(){return l.Gcp},Softplus:function(){return l.MRv},SpaceToBatchND:function(){return l.TQc},SparseFillEmptyRows:function(){return l.O3z},SparseReshape:function(){return l.nhH},SparseSegmentMean:function(){return l.w3H},SparseSegmentSum:function(){return l.ZjV},SparseToDense:function(){return l.D2d},SplitV:function(){return l.L8s},Sqrt:function(){return l.FKq},Square:function(){return l.bK0},SquaredDifference:function(){return l._tC},Step:function(){return l.h8e},StridedSlice:function(){return l.jQk},StringNGrams:function(){return l._JP},StringSplit:function(){return l.s1s},StringToHashBucketFast:function(){return l.XkS},Sub:function(){return l.Tr8},Sum:function(){return l.GBy},SymbolicTensor:function(){return si},Tan:function(){return l.sEM},Tanh:function(){return l.MIZ},Tensor:function(){return l.esB},TensorBuffer:function(){return l.YDk},Tile:function(){return l.n9L},TopK:function(){return l.cWu},Transform:function(){return l.wx7},Transpose:function(){return l.G3Y},Unique:function(){return l.kpP},Unpack:function(){return l.ToN},UnsortedSegmentSum:function(){return l.Qvg},UpperBound:function(){return l.XDQ},Variable:function(){return l._wD},ZerosLike:function(){return l.RuY},_FusedMatMul:function(){return l.usg},abs:function(){return l.WnP},acos:function(){return l.Khb},acosh:function(){return l.__u},add:function(){return l.IHx},addN:function(){return l.QBD},all:function(){return l.$6P},any:function(){return l.YjB},argMax:function(){return l.NqF},argMin:function(){return l.vHJ},asin:function(){return l.ZRM},asinh:function(){return l.VfV},atan:function(){return l.z4N},atan2:function(){return l.fvJ},atanh:function(){return l.C80},avgPool:function(){return l.wS1},avgPool3d:function(){return l.uR5},backend:function(){return l.y3$},backend_util:function(){return l.Wap},basicLSTMCell:function(){return l.zEQ},batchNorm:function(){return l.tgs},batchNorm2d:function(){return l.Dxk},batchNorm3d:function(){return l.JY5},batchNorm4d:function(){return l.p3b},batchToSpaceND:function(){return l.E4h},bincount:function(){return l.yE8},booleanMaskAsync:function(){return l.anm},broadcastArgs:function(){return l.XsQ},broadcastTo:function(){return l.UFq},broadcast_util:function(){return l.Jyw},browser:function(){return l.Xhn},buffer:function(){return l.f3b},callbacks:function(){return Lp},cast:function(){return l.pju},ceil:function(){return l.mDi},clipByValue:function(){return l.iUl},clone:function(){return l.d9v},complex:function(){return l.PYB},concat:function(){return l.zoF},concat1d:function(){return l.gME},concat2d:function(){return l.Izb},concat3d:function(){return l.MNy},concat4d:function(){return l.ZaL},constraints:function(){return r},conv1d:function(){return l.PAt},conv2d:function(){return l.Tek},conv2dTranspose:function(){return l.bc},conv3d:function(){return l.pdZ},conv3dTranspose:function(){return l.$QV},copyRegisteredKernels:function(){return l.T3b},cos:function(){return l.mCk},cosh:function(){return l.f9Y},cosineWindow:function(){return l.mew},cumprod:function(){return l.$Gn},cumsum:function(){return l.zbp},customGrad:function(){return l.cbc},data:function(){return c},denseBincount:function(){return l.ppE},deprecationWarn:function(){return l.MXe},depthToSpace:function(){return l.nTT},depthwiseConv2d:function(){return l.B10},deregisterOp:function(){return jp.Ue},device_util:function(){return l.C2$},diag:function(){return l.Ka3},dilation2d:function(){return l.WmZ},disableDeprecationWarnings:function(){return l.cFr},dispose:function(){return l.B90},disposeVariables:function(){return l.N8o},div:function(){return l.hiC},divNoNan:function(){return l.NTj},dot:function(){return l.AKD},dropout:function(){return l.rvX},einsum:function(){return l.WYO},elu:function(){return l.pyx},enableDebugMode:function(){return l.Ra$},enableProdMode:function(){return l.G48},enclosingPowerOfTwo:function(){return l.GRh},engine:function(){return l.SRH},env:function(){return l.OBj},equal:function(){return l.DgJ},erf:function(){return l.qNN},euclideanNorm:function(){return l.d2q},exp:function(){return l.Qqt},expandDims:function(){return l.dt4},expm1:function(){return l.t$B},eye:function(){return l.iyy},fft:function(){return l.kp_},fill:function(){return l.hlL},findBackend:function(){return l.x3e},findBackendFactory:function(){return l.zel},floor:function(){return l.GWj},floorDiv:function(){return l.qPi},fused:function(){return l.imm},gather:function(){return l.Iqj},gatherND:function(){return l.dbB},gather_util:function(){return l.DaI},getBackend:function(){return l.N_N},getGradient:function(){return l.ukX},getKernel:function(){return l.pIF},getKernelsForBackend:function(){return l.trD},grad:function(){return l.UQy},grads:function(){return l.tiA},greater:function(){return l.pjt},greaterEqual:function(){return l.brS},ifft:function(){return l.Sxn},imag:function(){return l.asL},image:function(){return l.BHj},inTopKAsync:function(){return l.V3u},initializers:function(){return a},input:function(){return Bu},io:function(){return l.io},irfft:function(){return l.wx0},isFinite:function(){return l.xVT},isInf:function(){return l.UWc},isNaN:function(){return l.i2d},keep:function(){return l.CnY},kernel_impls:function(){return l.GDt},layers:function(){return o},leakyRelu:function(){return l.hi7},less:function(){return l.d9m},lessEqual:function(){return l.zN1},linalg:function(){return l.$r2},linspace:function(){return l.SX3},loadGraphModel:function(){return jp.YL},loadLayersModel:function(){return zu},localResponseNormalization:function(){return l.G9k},log:function(){return l.cM7},log1p:function(){return l.Krr},logSigmoid:function(){return l.e_t},logSoftmax:function(){return l.CmS},logSumExp:function(){return l.l_t},logicalAnd:function(){return l.HvI},logicalNot:function(){return l.hJK},logicalOr:function(){return l.K5V},logicalXor:function(){return l.egP},losses:function(){return l.MB5},lowerBound:function(){return l.eab},matMul:function(){return l.OI3},math:function(){return l.mAU},max:function(){return l.Fp7},maxPool:function(){return l._sB},maxPool3d:function(){return l.YQQ},maxPoolWithArgmax:function(){return l.Ip$},maximum:function(){return l.gWQ},mean:function(){return l.J69},memory:function(){return l.sq6},meshgrid:function(){return l.ry_},metrics:function(){return i},min:function(){return l.VV$},minimum:function(){return l.LTh},mirrorPad:function(){return l.VdP},mod:function(){return l.wQq},model:function(){return ju},models:function(){return s},moments:function(){return l.Gi7},movingAverage:function(){return l.p_},mul:function(){return l.dC7},multiRNNCell:function(){return l.rq4},multinomial:function(){return l.SJ_},neg:function(){return l.W76},nextFrame:function(){return l.glt},norm:function(){return l.KOy},notEqual:function(){return l.Quu},oneHot:function(){return l.lfX},ones:function(){return l.iUs},onesLike:function(){return l.JpU},op:function(){return l.op},outerProduct:function(){return l.N2O},pad:function(){return l.vku},pad1d:function(){return l.pNR},pad2d:function(){return l.koy},pad3d:function(){return l.t1L},pad4d:function(){return l.lGY},pool:function(){return l.d_R},pow:function(){return l.sQ3},prelu:function(){return l.AL3},print:function(){return l.S0v},prod:function(){return l.WVs},profile:function(){return l.N5s},rand:function(){return l.TN_},randomGamma:function(){return l.wzB},randomNormal:function(){return l.nGf},randomUniform:function(){return l.LGj},range:function(){return l.w6H},ready:function(){return l.Cd_},real:function(){return l.kwC},reciprocal:function(){return l.M25},registerBackend:function(){return l.jqO},registerCallbackConstructor:function(){return Uu},registerGradient:function(){return l.LiG},registerKernel:function(){return l.wCN},registerOp:function(){return jp.iw},regularizers:function(){return u},relu:function(){return l.UYe},relu6:function(){return l.btT},removeBackend:function(){return l.cjG},reshape:function(){return l.XLQ},reverse:function(){return l.GYS},reverse1d:function(){return l.SDf},reverse2d:function(){return l.diP},reverse3d:function(){return l.sx7},reverse4d:function(){return l.mG2},rfft:function(){return l.QEs},round:function(){return l.NMM},rsqrt:function(){return l.bp0},scalar:function(){return l.iD$},scatterND:function(){return l.snQ},scatter_util:function(){return l.yV1},searchSorted:function(){return l.zcT},selu:function(){return l.U8D},separableConv2d:function(){return l.U_I},sequential:function(){return Zu},serialization:function(){return l.m7h},setBackend:function(){return l.CQI},setPlatform:function(){return l.VYu},setdiff1dAsync:function(){return l.ODp},sigmoid:function(){return l.XD2},sign:function(){return l.Xxe},signal:function(){return l.tdS},sin:function(){return l.O$l},sinh:function(){return l.R_K},slice:function(){return l.tPi},slice1d:function(){return l.jZU},slice2d:function(){return l.SmN},slice3d:function(){return l.CnO},slice4d:function(){return l.p0P},slice_util:function(){return l.kuN},softmax:function(){return l.XAC},softplus:function(){return l.Wvh},spaceToBatchND:function(){return l.fBT},sparse:function(){return l.rVs},sparseToDense:function(){return l.ers},spectral:function(){return l.uN7},split:function(){return l.Vl2},sqrt:function(){return l._b3},square:function(){return l.h62},squaredDifference:function(){return l.$i},squeeze:function(){return l.L9e},stack:function(){return l.knu},step:function(){return l.Nbs},stridedSlice:function(){return l.NXj},string:function(){return l.Z_8},sub:function(){return l.luU},sum:function(){return l.Smz},sumOutType:function(){return l.z4k},tan:function(){return l.ORZ},tanh:function(){return l.AEp},tensor:function(){return l.XeE},tensor1d:function(){return l.RRF},tensor2d:function(){return l.odF},tensor3d:function(){return l.wOQ},tensor4d:function(){return l.yXz},tensor5d:function(){return l.Bfx},tensor6d:function(){return l.xZs},tensor_util:function(){return l.piX},test_util:function(){return l.p3L},tidy:function(){return l.lub},tile:function(){return l.Gg6},time:function(){return l.XVJ},topk:function(){return l.hg7},train:function(){return l.p_j},transpose:function(){return l.p4s},truncatedNormal:function(){return l.Xu6},unique:function(){return l.Two},unregisterGradient:function(){return l.bt3},unregisterKernel:function(){return l.nEe},unsortedSegmentSum:function(){return l.pUJ},unstack:function(){return l.HHK},upcastType:function(){return l.x8V},upperBound:function(){return l.GaM},util:function(){return l.D5U},valueAndGrad:function(){return l.h76},valueAndGrads:function(){return l.fNQ},variable:function(){return l.VD$},variableGrads:function(){return l.pnJ},version:function(){return YO},version_converter:function(){return jp.gJ},version_core:function(){return l.jTM},version_layers:function(){return Ys},where:function(){return l.arb},whereAsync:function(){return l.itS},zeros:function(){return l.lls},zerosLike:function(){return l.P84}});var r={};n.r(r),n.d(r,{maxNorm:function(){return Ai},minMaxNorm:function(){return Mi},nonNeg:function(){return Pi},unitNorm:function(){return Ri}});var a={};n.r(a),n.d(a,{constant:function(){return ji},glorotNormal:function(){return Hi},glorotUniform:function(){return Vi},heNormal:function(){return Gi},heUniform:function(){return qi},identity:function(){return Ui},leCunNormal:function(){return Xi},leCunUniform:function(){return Ki},ones:function(){return Li},orthogonal:function(){return Yi},randomNormal:function(){return zi},randomUniform:function(){return Zi},truncatedNormal:function(){return Bi},varianceScaling:function(){return Wi},zeros:function(){return Fi}});var o={};n.r(o),n.d(o,{Layer:function(){return fi},RNN:function(){return Wc},RNNCell:function(){return Vc},activation:function(){return hf},add:function(){return Sf},alphaDropout:function(){return dp},average:function(){return Ef},averagePooling1d:function(){return Rf},averagePooling2d:function(){return Ff},averagePooling3d:function(){return Zf},avgPool1d:function(){return Pf},avgPool2d:function(){return Lf},avgPool3d:function(){return zf},avgPooling1d:function(){return Mf},avgPooling2d:function(){return jf},avgPooling3d:function(){return Bf},batchNormalization:function(){return _f},bidirectional:function(){return op},concatenate:function(){return Cf},conv1d:function(){return af},conv2d:function(){return of},conv2dTranspose:function(){return sf},conv3d:function(){return uf},conv3dTranspose:function(){return cf},convLstm2d:function(){return tp},convLstm2dCell:function(){return np},cropping2D:function(){return ff},dense:function(){return vf},depthwiseConv2d:function(){return df},dot:function(){return Of},dropout:function(){return mf},elu:function(){return $l},embedding:function(){return kf},flatten:function(){return yf},gaussianDropout:function(){return pp},gaussianNoise:function(){return fp},globalAveragePooling1d:function(){return Uf},globalAveragePooling2d:function(){return Wf},globalMaxPool1d:function(){return sp},globalMaxPool2d:function(){return up},globalMaxPooling1d:function(){return Vf},globalMaxPooling2d:function(){return Hf},gru:function(){return Kf},gruCell:function(){return Yf},input:function(){return Bu},inputLayer:function(){return Ql},layerNormalization:function(){return Df},leakyReLU:function(){return ef},lstm:function(){return Qf},lstmCell:function(){return $f},masking:function(){return hp},maxPool1d:function(){return cp},maxPool2d:function(){return lp},maxPooling1d:function(){return Gf},maxPooling2d:function(){return qf},maxPooling3d:function(){return Xf},maximum:function(){return Nf},minimum:function(){return Tf},multiply:function(){return If},permute:function(){return wf},prelu:function(){return tf},reLU:function(){return Jl},repeatVector:function(){return bf},reshape:function(){return xf},rnn:function(){return rp},separableConv2d:function(){return lf},simpleRNN:function(){return Jf},simpleRNNCell:function(){return ep},softmax:function(){return nf},spatialDropout1d:function(){return gf},stackedRNNCells:function(){return ap},thresholdedReLU:function(){return rf},timeDistributed:function(){return ip},upSampling2d:function(){return pf},zeroPadding2d:function(){return Af}});var i={};n.r(i),n.d(i,{MAPE:function(){return Cp},MSE:function(){return Ip},binaryAccuracy:function(){return vp},binaryCrossentropy:function(){return mp},categoricalAccuracy:function(){return yp},categoricalCrossentropy:function(){return bp},cosineProximity:function(){return kp},mape:function(){return Np},meanAbsoluteError:function(){return Sp},meanAbsolutePercentageError:function(){return Ep},meanSquaredError:function(){return Tp},mse:function(){return Op},precision:function(){return xp},recall:function(){return wp},sparseCategoricalAccuracy:function(){return gp}});var s={};n.r(s),n.d(s,{modelFromJSON:function(){return Du}});var u={};n.r(u),n.d(u,{l1:function(){return Dp},l1l2:function(){return _p},l2:function(){return Ap}});var c={};n.r(c),n.d(c,{CSVDataset:function(){return Dd},Dataset:function(){return bd},FileDataSource:function(){return Gd},TextLineDataset:function(){return Ed},URLDataSource:function(){return qd},array:function(){return wd},csv:function(){return Xd},func:function(){return Kd},generator:function(){return Yd},microphone:function(){return Jd},version_data:function(){return th},webcam:function(){return Qd},zip:function(){return kd}});var l=n(3772),f=n(9439),p=n(2145),d=n(9118),h=n(651),v=n(4031),m={kernelName:p.SY,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,f.Z)(t,1)[0];return{x:function(){return(0,h.d)(e,(0,v.N)((0,d.p)(n,"float32"),-1))}}}},g=n(5750),y=n(4362),b=n(7067),x=n(6902),w=n(7391),k=n(4774),S={kernelName:p.VG,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,f.Z)(t,1)[0];return{x:function(){var t=(0,w.h)((0,d.p)(n,"float32")),r=(0,x._)((0,k.l)((0,b.i)(1),t));return(0,y.W)((0,g.h)(e,r))}}}},E={kernelName:p.Sp,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,f.Z)(t,1)[0];return{x:function(){var t=(0,x._)((0,k.l)((0,w.h)((0,d.p)(n,"float32")),1));return(0,g.h)(e,t)}}}},C=n(5774),N=n(5561),T=n(227),I={kernelName:p.mm,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,f.Z)(t,2),r=n[0],a=n[1],o=C.assertAndGetBroadcastShape(r.shape,a.shape);return{a:function(){var t=e,n=C.getReductionAxes(r.shape,o);return n.length>0&&(t=(0,T.S)(t,n)),(0,N.X)(t,r.shape)},b:function(){var t=e,n=C.getReductionAxes(a.shape,o);return n.length>0&&(t=(0,T.S)(t,n)),(0,N.X)(t,a.shape)}}}},O={kernelName:p.Xz,saveAllInputs:!0,gradFunc:function(e,t){var n={};return t.forEach((function(t,r){n[r]=function(){return e.clone()}})),n}},_=n(7293),D={kernelName:p.sJ,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,f.Z)(t,1)[0];return{x:function(){return(0,_.P)(n)}}}},A={kernelName:p.aJ,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,f.Z)(t,1)[0];return{x:function(){return(0,_.P)(n)}}}},R={kernelName:p.M2,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,f.Z)(t,1)[0];return{x:function(){return(0,g.h)(e,(0,x._)((0,k.l)((0,b.i)(1),(0,w.h)((0,d.p)(n,"float32")))))}}}},P=n(3312),M={kernelName:p.qw,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,f.Z)(t,1)[0];return{x:function(){var t=(0,x._)((0,P.I)((0,b.i)(1),(0,w.h)((0,d.p)(n,"float32"))));return(0,g.h)(e,t)}}}},F={kernelName:p.QC,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,f.Z)(t,2),r=n[0],a=n[1],o=(0,C.assertAndGetBroadcastShape)(r.shape,a.shape);return{a:function(){var t=(0,P.I)((0,w.h)(r),(0,w.h)(a)),n=(0,h.d)(e,(0,g.h)(a,t)),i=(0,C.getReductionAxes)(r.shape,o);return i.length>0&&(n=(0,T.S)(n,i)),(0,N.X)(n,r.shape)},b:function(){var t=(0,P.I)((0,w.h)(r),(0,w.h)(a)),n=(0,y.W)((0,h.d)(e,(0,g.h)(r,t))),i=(0,C.getReductionAxes)(a.shape,o);return i.length>0&&(n=(0,T.S)(n,i)),(0,N.X)(n,a.shape)}}}},L={kernelName:p.jM,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,f.Z)(t,1)[0];return{x:function(){return(0,g.h)(e,(0,P.I)((0,w.h)((0,d.p)(n,"float32")),1))}}}},j={kernelName:p.Oy,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,f.Z)(t,1)[0];return{x:function(){return(0,g.h)(e,(0,k.l)((0,b.i)(1),(0,w.h)((0,d.p)(n,"float32"))))}}}},Z=n(318),z=n(8354),B=n(6147),U=n(9151),W=n(8640);var V=(0,W.op)({avgPool3dGrad_:function(e,t,n,r,a,o){var i=(0,z._1)(e,"dy","avgPool3dGrad"),s=(0,z._1)(t,"input","avgPool3dGrad"),u=i,c=s,l=!1;4===s.rank&&(l=!0,u=(0,N.X)(i,[1,i.shape[0],i.shape[1],i.shape[2],i.shape[3]]),c=(0,N.X)(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]])),B.hu(5===u.rank,(function(){return"Error in avgPool3dGrad: dy must be rank 5 but got rank "+"".concat(u.rank,".")})),B.hu(5===c.rank,(function(){return"Error in avgPool3dGrad: input must be rank 5 but got rank "+"".concat(c.rank,".")})),(0,U.m)("avgPool3dGrad",a,o);var f={dy:u,input:c},d={filterSize:n,strides:r,pad:a,dimRoundingMode:o},h=Z.BV.runKernel(p.IM,f,d);return l?(0,N.X)(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}}),H={kernelName:p._k,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,f.Z)(t,1)[0],a=n.filterSize,o=n.strides,i=n.pad,s=n.dimRoundingMode;return{x:function(){return V(e,r,a,o,i,s)}}}};var G=(0,W.op)({avgPoolGrad_:function(e,t,n,r,a){var o=(0,z._1)(e,"dy","avgPoolGrad"),i=(0,z._1)(t,"input","avgPoolGrad");B.hu(i.rank===o.rank,(function(){return"Rank of input (".concat(i.rank,") does not match rank of dy (").concat(o.rank,")")}));var s=i,u=o,c=!1;3===i.rank&&(c=!0,s=(0,N.X)(i,[1,i.shape[0],i.shape[1],i.shape[2]]),u=(0,N.X)(o,[1,o.shape[0],o.shape[1],o.shape[2]])),B.hu(4===u.rank,(function(){return"Error in avgPoolGrad: dy must be rank 4 but got rank "+"".concat(u.rank,".")})),B.hu(4===s.rank,(function(){return"Error in avgPoolGrad: input must be rank 4 but got rank "+"".concat(s.rank,".")}));var l={dy:u,input:s},f={filterSize:n,strides:r,pad:a},d=Z.BV.runKernel(p.RO,l,f);return c?(0,N.X)(d,[d.shape[1],d.shape[2],d.shape[3]]):d}}),q={kernelName:p.Jh,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,f.Z)(t,1)[0],a=n.filterSize,o=n.strides,i=n.pad;return{x:function(){return G(e,r,a,o,i)}}}},X=n(7221),K={kernelName:p.XL,inputsToSave:["a","b"],gradFunc:function(e,t,n){var r=(0,f.Z)(t,2),a=r[0],o=r[1],i=n.transposeA,s=n.transposeB;return i||s?!i&&s?{a:function(){return(0,X.O)(e,o,!1,!1)},b:function(){return(0,X.O)(e,a,!0,!1)}}:i&&!s?{a:function(){return(0,X.O)(o,e,!1,!0)},b:function(){return(0,X.O)(a,e,!1,!1)}}:{a:function(){return(0,X.O)(o,e,!0,!0)},b:function(){return(0,X.O)(e,a,!0,!0)}}:{a:function(){return(0,X.O)(e,o,!1,!0)},b:function(){return(0,X.O)(a,e,!0,!1)}}}},Y=n(5696),Q={kernelName:p.zw,gradFunc:function(e,t,n){var r=n.blockShape,a=n.crops;return{x:function(){return(0,Y.f)(e,r,a)}}}},$={kernelName:p.Ly,gradFunc:function(e,t,n){for(var r=n,a=r.inputShape,o=r.shape,i=Array.from(o),s=a.length-1;s>=0;s--)if(a[s]===o[s])i[s]=1;else if(1!==a[s])throw new Error("broadcastTo(): [".concat(a,"] cannot be broadcast to [").concat(o,"]."));for(var u=[],c=0;c<i.length;c++)i[c]>1&&u.push(c);return{x:function(){return(0,T.S)(e,u,!0)}}}},J={kernelName:p.RF,gradFunc:function(e){return{x:function(){return e.clone()}}}},ee={kernelName:p.gJ,gradFunc:function(e){return{x:function(){return(0,_.P)(e)}}}},te=n(8327),ne=n(2642),re=n(2177),ae=n(329),oe={kernelName:p.xn,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,f.Z)(t,1)[0],a=n.clipValueMin,o=n.clipValueMax;return{x:function(){return(0,ae.a)((0,re.H)((0,te.b)(r,a),(0,ne.z)(r,o)),e,(0,_.P)(e))}}}},ie={kernelName:p.yj,inputsToSave:["x"],gradFunc:m.gradFunc},se=n(2588),ue={kernelName:p.Eh,saveAllInputs:!0,gradFunc:function(e,t,n){var r=t.map((function(e){return e.shape})),a=n.axis,o=(0,B.EC)(a,t[0].shape)[0],i=r.map((function(e){return e[o]}));return(0,se.V)(e,i,o).map((function(e){return function(){return e}}))}},ce=n(8744),le=n(1045),fe={kernelName:p.mh,inputsToSave:["x","filter"],gradFunc:function(e,t,n){var r=(0,f.Z)(t,2),a=r[0],o=r[1],i=n.dilations,s=n.strides,u=n.pad,c=n.dataFormat;return B.hu(U.I0(i),(function(){return"Error in gradient of conv2D: dilation rates greater than 1 "+"are not yet supported in gradients. Got dilations '".concat(i,"'")})),{x:function(){return(0,le._)(a.shape,e,o,s,u,c)},filter:function(){return(0,ce.p)(a,e,o.shape,s,u,c)}}}},pe=n(3457),de={kernelName:p.wm,inputsToSave:["dy","filter"],gradFunc:function(e,t,n){var r=(0,f.Z)(t,2),a=r[0],o=r[1],i=n.strides,s=n.pad,u=n.dataFormat,c=n.dimRoundingMode;return{dy:function(){return(0,pe.T)(e,o,i,s,u,1,c)},filter:function(){return(0,ce.p)(e,a,o.shape,i,s,u,c)}}}};var he=(0,W.op)({conv3DBackpropFilter_:function(e,t,n,r,a){var o=e;4===e.rank&&(o=(0,N.X)(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]));var i=t;4===i.rank&&(i=(0,N.X)(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]])),B.hu(5===o.rank,(function(){return"Error in conv3dDerFilter: input must be rank 5, but got shape "+"".concat(o.shape,".")})),B.hu(5===i.rank,(function(){return"Error in conv3dDerFilter: dy must be rank 5, but got shape "+"".concat(i.shape,".")})),B.hu(5===n.length,(function(){return"Error in conv3dDerFilter: filterShape must be length 5, but got "+"".concat(n,".")})),B.hu(o.shape[4]===n[3],(function(){return"Error in conv3dDerFilter: depth of input ".concat(o.shape[4],") must ")+"match input depth in filter (".concat(n[3],".")})),B.hu(i.shape[4]===n[4],(function(){return"Error in conv3dDerFilter: depth of dy (".concat(i.shape[4],") must ")+"match output depth for filter (".concat(n[4],").")}));var s={x:o,dy:i},u={strides:r,pad:a,filterShape:n};return Z.BV.runKernel(p.o2,s,u)}}),ve=n(1873),me={kernelName:p.x1,inputsToSave:["x","filter"],gradFunc:function(e,t,n){var r=n.dilations,a=n.strides,o=n.pad;B.hu((0,U.I0)(r),(function(){return"Error in gradient of conv3D: dilation rates greater than 1 are "+"not yet supported in gradients. Got dilations '".concat(r,"'")}));var i=(0,f.Z)(t,2),s=i[0],u=i[1];return{x:function(){return(0,ve._)(s.shape,e,u,a,o)},filter:function(){return he(s,e,u.shape,a,o)}}}},ge=n(7254),ye={kernelName:p.mc,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,f.Z)(t,1)[0];return{x:function(){return(0,h.d)((0,y.W)((0,ge.O)((0,d.p)(n,"float32"))),e)}}}},be=n(7657),xe={kernelName:p.TR,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,f.Z)(t,1)[0];return{x:function(){return(0,h.d)((0,be.R)((0,d.p)(n,"float32")),e)}}}},we=n(8473),ke=n(8862),Se=n(1240),Ee={kernelName:p.iH,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,f.Z)(t,1)[0],a=n.axis,o=n.exclusive,i=n.reverse;return{x:function(){var t=(0,we.Q3)([a],r.rank),n=(0,ke.z)(e,a,o,!i);return null!=t&&(n=(0,Se.p)(n,t)),n}}}},Ce=n(288),Ne=n(6939),Te={kernelName:p.ci,inputsToSave:["x","filter"],gradFunc:function(e,t,n){var r=n.dilations,a=n.strides,o=n.pad,i=n.dimRoundingMode,s=null==r?[1,1]:r;B.hu(U.I0(s),(function(){return"Error in gradient of depthwiseConv2dNative: dilation rates greater than 1 are not yet supported. Got dilations "+"'".concat(s,"'")}));var u=(0,f.Z)(t,2),c=u[0],l=u[1];return B.hu(4===c.rank,(function(){return"Error in gradient of depthwiseConv2dNative: input must be "+"rank 4, but got rank ".concat(c.rank,".")})),B.hu(4===l.rank,(function(){return"Error in gradient of depthwiseConv2dNative: filter must be "+"rank 4, but got rank ".concat(l.rank,".")})),B.hu(c.shape[3]===l.shape[2],(function(){return"Error in gradient of depthwiseConv2d: number of input "+"channels (".concat(c.shape[3],") must match the inChannels dimension ")+"in filter ".concat(l.shape[2],".")})),B.hu(U.jT(a,s),(function(){return"Error in gradient of depthwiseConv2d: Either strides or "+"dilations must be  1. Got strides ".concat(a," and dilations ")+"'".concat(s,"'.")})),U.m("depthwiseConv2d",o,i),{x:function(){return(0,Ne.v)(c.shape,e,l,a,o,s,i)},filter:function(){return(0,Ce.z)(c,e,l.shape,a,o,s,i)}}}},Ie={kernelName:p.p4,inputsToSave:["x","filter"],gradFunc:function(e,t,n){var r=(0,f.Z)(t,2),a=r[0],o=r[1],i={x:a,filter:o,dy:e},s={x:a,filter:o,dy:e};return{x:function(){return Z.BV.runKernel(p.ek,i,n)},filter:function(){return Z.BV.runKernel(p.Vn,s,n)}}}},Oe={kernelName:p.SX,outputsToSave:[!0],gradFunc:function(e,t){var n={dy:e,y:(0,f.Z)(t,1)[0]};return{x:function(){return Z.BV.runKernel(p.HE,n)}}}},_e=n(411),De={kernelName:p.Om,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,f.Z)(t,1)[0],r=(0,h.d)((0,_e.Q)((0,y.W)((0,w.h)(n))),2/Math.sqrt(Math.PI));return{x:function(){return(0,h.d)(e,r)}}}},Ae={kernelName:p.NE,outputsToSave:[!0],gradFunc:function(e,t){var n=(0,f.Z)(t,1)[0];return{x:function(){return(0,h.d)(e,n)}}}},Re={kernelName:p.YF,inputsToSave:["input"],gradFunc:function(e,t){var n=(0,f.Z)(t,1)[0];return{input:function(){return(0,N.X)(e,n.shape)}}}},Pe={kernelName:p.Y0,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,f.Z)(t,1)[0];return{x:function(){return(0,h.d)(e,(0,_e.Q)(n))}}}},Me={kernelName:p.OR,gradFunc:function(e){return{x:function(){return(0,_.P)(e)}}}},Fe={kernelName:p.je,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,f.Z)(t,2),r=n[0],a=n[1],o=(0,C.assertAndGetBroadcastShape)(r.shape,a.shape);return{a:function(){var t=(0,g.h)(e,(0,d.p)(a,"float32")),n=(0,C.getReductionAxes)(r.shape,o);return n.length>0?(0,N.X)((0,T.S)(t,n),r.shape):t},b:function(){var t=(0,h.d)(e,(0,d.p)(r,"float32")),n=(0,C.getReductionAxes)(a.shape,o);n.length>0&&(t=(0,N.X)((0,T.S)(t,n),a.shape));var i=(0,w.h)(a);return(0,y.W)((0,g.h)(t,(0,d.p)(i,"float32")))}}}},Le=n(5115),je=n(2343),Ze={kernelName:p.sH,inputsToSave:["x","mean","variance","scale"],gradFunc:function(e,t,n){var r=n.varianceEpsilon,a=(0,f.Z)(t,4),o=a[0],i=a[1],s=a[2],u=a[3],c=null==u?(0,b.i)(1):u,l=(0,C.getReductionAxes)(i.shape,o.shape),p=[];if(1===i.rank){for(var d=0;d<o.shape.length-1;++d)p.push(o.shape[d]);p.push(1)}var v=(0,k.l)(o,i),m=(0,h.d)(e,c),g=(0,Le.b)((0,P.I)(s,(0,b.i)(r))),y=(0,h.d)((0,h.d)((0,h.d)(g,g),g),(0,b.i)(-.5));return{x:function(){return 1===i.rank?(0,N.X)((0,h.d)((0,h.d)(e,(0,je.G)((0,N.X)(g,[1,1,1,i.shape[0]]),p)),c),o.shape):(0,N.X)((0,h.d)((0,h.d)(e,g),c),o.shape)},mean:function(){var e=(0,h.d)((0,h.d)(g,(0,b.i)(-1)),m);return 1===i.rank&&(e=(0,T.S)(e,l)),(0,N.X)(e,i.shape)},variance:function(){var e=(0,h.d)((0,h.d)(y,v),m);return 1===i.rank&&(e=(0,T.S)(e,l)),(0,N.X)(e,i.shape)},scale:function(){var t=(0,h.d)(v,g),n=(0,h.d)(e,t);return 1===i.rank&&(n=(0,T.S)(n,l)),(0,N.X)(n,i.shape)},offset:function(){var t=e;return 1===i.rank&&(t=(0,T.S)(t,l)),(0,N.X)(t,i.shape)}}}},ze=n(6918),Be={kernelName:p.qi,inputsToSave:["x","indices"],gradFunc:function(e,t,n){var r=(0,f.Z)(t,2),a=r[0],o=r[1],i=n.axis,s=(0,B.EC)(i,a.shape)[0];return{x:function(){var t=a.shape,n=o.size,r=t.slice(0,s),u=r.length,c=t.slice(i,t.length).slice(1),l=c.length,f=Ue(0,u),p=Ue(u+1,u+1+l),d=We([r,[n],c]),h=(0,N.X)(e,d),v=(0,N.X)(o,[n]),m=We([[u],f,p]),g=(0,Se.p)(h,m),y=(0,ze.p)(g,v,a.shape[s]),b=(0,we.LJ)(m);return y=(0,Se.p)(y,b)},indices:function(){return o}}}};function Ue(e,t){for(var n=[],r=e;r<t;++r)n.push(r);return n}function We(e){for(var t=[],n=0;n<e.length;++n)for(var r=0;r<e[n].length;++r)t.push(e[n][r]);return t}var Ve={kernelName:p.Ac,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,f.Z)(t,2),r=n[0],a=n[1];return{a:function(){return(0,_.P)(r)},b:function(){return(0,_.P)(a)}}}},He={kernelName:p.iJ,gradFunc:function(e){return{x:function(){return(0,d.p)(e,"float32")}}}},Ge={kernelName:p.av,gradFunc:function(e){return{x:function(){return(0,_.P)(e)}}}},qe={kernelName:p.iW,gradFunc:function(e){return{x:function(){return(0,_.P)(e)}}}},Xe={kernelName:p.r7,gradFunc:function(e){return{x:function(){return(0,_.P)(e)}}}},Ke=n(5014),Ye={kernelName:p.J$,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,f.Z)(t,1)[0],a=n.alpha,o=(0,Ke.p)(r,0);return{x:function(){return(0,ae.a)(o,e,(0,h.d)(e,a))}}}},Qe={kernelName:p.kU,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,f.Z)(t,1)[0];return{x:function(){return(0,g.h)(e,(0,P.I)(n,1))}}}},$e={kernelName:p.Zb,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,f.Z)(t,1)[0];return{x:function(){return(0,g.h)(e,(0,d.p)(n,"float32"))}}}},Je={kernelName:p.qC,inputsToSave:[],outputsToSave:[!0],gradFunc:function(e,t,n){var r=(0,f.Z)(t,1)[0],a=n.axis;return{logits:function(){var t=(0,_e.Q)(r);return(0,k.l)(e,(0,h.d)((0,T.S)(e,a,!0),t))}}}};var et=(0,W.op)({localResponseNormalizationBackprop_:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:.5,s={x:e,y:t,dy:n},u={depthRadius:r,bias:a,alpha:o,beta:i};return Z.BV.runKernel(p.Hh,s,u)}}),tt={kernelName:p.eZ,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(e,t,n){var r=(0,f.Z)(t,2),a=r[0],o=r[1],i=n.depthRadius,s=n.bias,u=n.alpha,c=n.beta;return{x:function(){return et(a,o,e,i,s,u,c)}}}},nt=n(3254);function rt(e,t,n,r){return t.rank<n.rank&&(t=(0,N.X)(t,we.rv(t.shape,r))),e.rank<n.rank&&(e=(0,N.X)(e,we.rv(e.shape,r))),{x:function(){return(0,h.d)(e,(0,d.p)((0,nt.D)(n,t),e.dtype))}}}var at={kernelName:p.Yo,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(e,t,n){var r=n.reductionIndices,a=t[0],o=rt(e,t[1],a,B.EC(r,a.shape));return{x:function(){return o.x()}}}},ot=n(4920),it={kernelName:p.BM,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,f.Z)(t,2),r=n[0],a=n[1];return{a:function(){return(0,h.d)(e,(0,d.p)((0,te.b)(r,a),"float32"))},b:function(){return(0,h.d)(e,(0,d.p)((0,ot.d)(r,a),"float32"))}}}};var st=(0,W.op)({maxPool3dGrad_:function(e,t,n,r,a,o,i){var s=(0,z._1)(e,"dy","maxPool3dGrad"),u=(0,z._1)(t,"input","maxPool3dGrad"),c=(0,z._1)(n,"output","maxPool3dGrad"),l=s,f=u,d=c,h=!1;4===u.rank&&(h=!0,l=(0,N.X)(s,[1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]]),f=(0,N.X)(u,[1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]]),d=(0,N.X)(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]])),B.hu(5===l.rank,(function(){return"Error in maxPool3dGrad: dy must be rank 5 but got rank "+"".concat(l.rank,".")})),B.hu(5===f.rank,(function(){return"Error in maxPool3dGrad: input must be rank 5 but got rank "+"".concat(f.rank,".")})),B.hu(5===d.rank,(function(){return"Error in maxPool3dGrad: output must be rank 5 but got rank "+"".concat(d.rank,".")})),(0,U.m)("maxPool3dGrad",o,i);var v={dy:l,input:f,output:d},m={filterSize:r,strides:a,pad:o,dimRoundingMode:i},g=Z.BV.runKernel(p.OU,v,m);return h?(0,N.X)(g,[g.shape[1],g.shape[2],g.shape[3],g.shape[4]]):g}}),ut={kernelName:p.OA,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(e,t,n){var r=(0,f.Z)(t,2),a=r[0],o=r[1],i=n.filterSize,s=n.strides,u=n.pad,c=n.dimRoundingMode;return{x:function(){return st(e,a,o,i,s,u,c)}}}};var ct=(0,W.op)({maxPoolGrad_:function(e,t,n,r,a,o,i){var s=(0,z._1)(e,"dy","maxPoolGrad"),u=(0,z._1)(t,"input","maxPoolGrad"),c=(0,z._1)(n,"output","maxPoolGrad");B.hu(u.rank===s.rank,(function(){return"Rank of input (".concat(u.rank,") does not match rank of dy ")+"(".concat(s.rank,")")})),B.hu(4===s.rank,(function(){return"Error in maxPoolGrad: dy must be rank 4 but got rank "+"".concat(s.rank,".")})),B.hu(4===u.rank,(function(){return"Error in maxPoolGrad: input must be rank 4 but got rank "+"".concat(u.rank,".")})),U.m("maxPoolGrad",o,i);var l={dy:s,input:u,output:c},f={filterSize:r,strides:a,pad:o,dimRoundingMode:i};return Z.BV.runKernel(p.OV,l,f)}}),lt={kernelName:p.mT,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(e,t,n){var r=(0,f.Z)(t,2),a=r[0],o=r[1],i=n.filterSize,s=n.strides,u=n.pad;return{x:function(){return ct(e,a,o,i,s,u)}}}},ft=n(6100),pt={kernelName:p.q2,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,f.Z)(t,1)[0],a=n.axis,o=B.EC(a,r.shape),i=(0,we.kz)(r.shape,o)[1],s=B.NA(i);return{x:function(){var t=r.shape.slice();o.forEach((function(e){t[e]=1}));var n=(0,N.X)(e,t);return(0,g.h)((0,h.d)(n,(0,ft.i)(r.shape,"float32")),s)}}}},dt={kernelName:p.c1,inputsToSave:["x"],outputsToSave:[!0],gradFunc:function(e,t,n){var r=n.axis,a=(0,f.Z)(t,2),o=a[0],i=rt(e,a[1],o,B.EC(r,o.shape));return{x:function(){return i.x()}}}},ht={kernelName:p.q8,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,f.Z)(t,2),r=n[0],a=n[1];return{a:function(){return(0,h.d)(e,(0,d.p)((0,ne.z)(r,a),"float32"))},b:function(){return(0,h.d)(e,(0,d.p)((0,Ke.p)(r,a),"float32"))}}}},vt=n(9238),mt={kernelName:p.jQ,inputsToSave:["x"],gradFunc:function(e,t,n){var r=t[0],a=n.paddings.map((function(e){return e[0]}));return{x:function(){return(0,vt.t)(e,a,r.shape)}}}},gt=n(2628),yt={kernelName:p.Vb,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,f.Z)(t,2),r=n[0],a=n[1],o=(0,C.assertAndGetBroadcastShape)(r.shape,a.shape);return{a:function(){var t=(0,C.getReductionAxes)(r.shape,o);return t.length>0?(0,N.X)((0,T.S)(e,t),r.shape):e},b:function(){var t=(0,h.d)(e,(0,y.W)((0,gt.G)((0,g.h)(r,a)))),n=(0,C.getReductionAxes)(a.shape,o);return n.length>0?(0,N.X)((0,T.S)(t,n),a.shape):t}}}},bt={kernelName:p.wY,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,f.Z)(t,2),r=n[0],a=n[1],o=(0,C.assertAndGetBroadcastShape)(r.shape,a.shape);return{a:function(){var t=(0,h.d)(e,(0,d.p)(a,"float32")),n=(0,C.getReductionAxes)(r.shape,o);return n.length>0?(0,N.X)((0,T.S)(t,n),r.shape):t},b:function(){var t=(0,h.d)(e,(0,d.p)(r,"float32")),n=(0,C.getReductionAxes)(a.shape,o);return n.length>0?(0,N.X)((0,T.S)(t,n),a.shape):t}}}},xt={kernelName:p.ku,gradFunc:function(e){return{x:function(){return(0,y.W)(e)}}}},wt=n(7742),kt={kernelName:p.we,inputsToSave:["indices"],gradFunc:function(e,t){var n=t[0];return{indices:function(){return(0,wt.l)(n.shape,"float32")}}}},St={kernelName:p.qW,gradFunc:function(e){return{x:function(){return(0,_.P)(e)}}}},Et=n(4566),Ct={kernelName:p.Qi,saveAllInputs:!0,gradFunc:function(e,t,n){var r=n.axis;return(0,Et.H)(e,r).map((function(e){return function(){return e}}))}},Nt={kernelName:p.ly,inputsToSave:["x"],gradFunc:function(e,t,n){var r=t[0],a=n.paddings.map((function(e){return e[0]}));return{x:function(){return(0,vt.t)(e,a,r.shape)}}}},Tt=n(378),It=n(4334),Ot={kernelName:p.pe,inputsToSave:["a","b"],outputsToSave:[!0],gradFunc:function(e,t){var n=(0,f.Z)(t,3),r=n[0],a=n[1],o=n[2],i=r,s=a,u=C.assertAndGetBroadcastShape(i.shape,s.shape);return{a:function(){var t=(0,d.p)(s,"float32"),n=(0,h.d)(e,(0,h.d)(t,(0,It.s)(i,(0,k.l)(t,(0,b.i)(1))))),r=C.getReductionAxes(i.shape,u);return r.length>0&&(n=(0,T.S)(n,r)),(0,N.X)(n,i.shape)},b:function(){var t=(0,Ke.p)(i,0),n=(0,ae.a)(t,(0,Tt.c)(i),(0,_.P)(i)),r=(0,h.d)(e,(0,h.d)(o,n)),a=C.getReductionAxes(s.shape,u);return a.length>0&&(r=(0,T.S)(r,a)),(0,N.X)(r,s.shape)}}}},_t={kernelName:p.o0,inputsToSave:["x","alpha"],gradFunc:function(e,t){var n=(0,f.Z)(t,2),r=n[0],a=n[1],o=(0,Ke.p)(r,0);return{x:function(){return(0,ae.a)(o,e,(0,h.d)(e,a))},alpha:function(){var t=(0,ae.a)(o,(0,_.P)(e),(0,h.d)(e,r)),n=(0,C.getReductionAxes)(a.shape,e.shape);return n.length>0&&(t=(0,T.S)(t,n)),(0,N.X)(t,a.shape)}}}},Dt=n(9457);function At(e,t,n){var r=e.shape.length,a=r-n.length,o=we.Q3(n,r),i=e;null!=o&&(i=(0,Se.p)(e,o));var s=i.shape.slice(),u=s.splice(r-n.length,n.length).reduce((function(e,t){return e*t}),1);s.push(u);var c=function(e,t,n){var r=e.shape.slice();r[n]=1;var a=(0,N.X)(t,r),o=(0,Dt.$)(e,n,!0,!1),i=(0,Dt.$)(e,n,!0,!0),s=(0,h.d)(o,i);return(0,h.d)(a,s)}(i.reshape(s),t,a);if(c=c.reshape(i.shape),null!=o){var l=we.LJ(o);c=(0,Se.p)(c,l)}return c}var Rt={kernelName:p.Dl,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,f.Z)(t,1)[0],a=n.axis,o=[];return o=void 0===a||null===a?r.shape.map((function(e,t){return t})):"number"===typeof a?[a]:a,{x:function(){return At(r,e,o)}}}},Pt={kernelName:p.oH,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,f.Z)(t,2),r=n[0],a=n[1],o=C.assertAndGetBroadcastShape(r.shape,a.shape);return{a:function(){var t=(0,g.h)(e,(0,d.p)(a,"float32")),n=C.getReductionAxes(r.shape,o);return n.length>0?(0,N.X)((0,T.S)(t,n),r.shape):t},b:function(){var t=(0,h.d)(e,(0,d.p)(r,"float32")),n=C.getReductionAxes(a.shape,o);n.length>0&&(t=(0,N.X)((0,T.S)(t,n),a.shape));var i=(0,w.h)(a);return(0,y.W)((0,g.h)(t,(0,d.p)(i,"float32")))}}}},Mt={kernelName:p.$H,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,f.Z)(t,1)[0];return{x:function(){return(0,g.h)(e,(0,y.W)((0,w.h)(n)))}}}},Ft={kernelName:p.Sb,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,f.Z)(t,1)[0],r=(0,h.d)((0,ne.z)(n,6),(0,v.N)(n));return{x:function(){return(0,h.d)(e,(0,d.p)(r,"float32"))}}}},Lt={kernelName:p.qk,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,f.Z)(t,1)[0];return{x:function(){return(0,h.d)(e,(0,d.p)((0,v.N)(n),"float32"))}}}},jt={kernelName:p.HZ,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,f.Z)(t,1)[0];return{x:function(){return(0,N.X)(e,n.shape)}}}},Zt={kernelName:p._Y,inputsToSave:["images"],gradFunc:function(e,t,n){var r={dy:e,images:(0,f.Z)(t,1)[0]};return{images:function(){return Z.BV.runKernel(p.zb,r,n)}}}},zt={kernelName:p.dp,inputsToSave:["images"],gradFunc:function(e,t,n){var r={dy:e,images:(0,f.Z)(t,1)[0]};return{images:function(){return Z.BV.runKernel(p.Hm,r,n)}}}},Bt=n(4933),Ut={kernelName:p.mK,gradFunc:function(e,t,n){var r=n.dims,a=(0,B.EC)(r,e.shape);return{x:function(){return(0,Bt.G)(e,a)}}}},Wt={kernelName:p.e0,gradFunc:function(e){return{x:function(){return(0,_.P)(e)}}}},Vt={kernelName:p.bV,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,f.Z)(t,1)[0];return{x:function(){return(0,y.W)((0,g.h)(e,(0,h.d)((0,It.s)(n,1.5),2)))}}}},Ht=n(875),Gt={kernelName:p.Ph,inputsToSave:["condition"],gradFunc:function(e,t){var n=(0,f.Z)(t,1)[0];return{condition:function(){return(0,d.p)((0,_.P)(n),"float32")},t:function(){return(0,h.d)(e,(0,d.p)(n,e.dtype))},e:function(){return(0,h.d)(e,(0,d.p)((0,Ht.h)(n),e.dtype))}}}},qt=n(349),Xt={kernelName:p.oF,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,f.Z)(t,1)[0];return{x:function(){var t=(0,Ke.p)(n,(0,b.i)(0)),r=(0,b.i)(qt.y),a=(0,b.i)(qt.$),o=(0,h.d)(e,a),i=(0,h.d)((0,h.d)(e,r),(0,_e.Q)((0,d.p)(n,"float32")));return(0,ae.a)(t,o,i)}}}},Kt={kernelName:p.a5,outputsToSave:[!0],gradFunc:function(e,t){var n=(0,f.Z)(t,1)[0];return{x:function(){return(0,h.d)(e,(0,h.d)(n,(0,k.l)((0,b.i)(1),n)))}}}},Yt={kernelName:p.i5,gradFunc:function(e){return{x:function(){return(0,_.P)(e)}}}},Qt=n(1227),$t={kernelName:p.RQ,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,f.Z)(t,1)[0];return{x:function(){return(0,h.d)((0,Qt.m)((0,d.p)(n,"float32")),e)}}}},Jt=n(6679),en={kernelName:p.w3,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,f.Z)(t,1)[0];return{x:function(){return(0,h.d)((0,Jt.f)((0,d.p)(n,"float32")),e)}}}},tn=n(1970),nn=n(2875),rn={kernelName:p.p2,inputsToSave:["x"],gradFunc:function(e,t,n){for(var r=(0,f.Z)(t,1)[0],a=n.begin,o=n.size,i=r.shape,s=(0,nn.parseSliceParams)(r,a,o),u=(0,f.Z)(s,2),c=u[0],l=u[1],p=[],d=0;d<e.rank;d++)p.push([c[d],i[d]-c[d]-l[d]]);return{x:function(){return(0,tn.v)(e,p)}}}},an={kernelName:p.Gc,outputsToSave:[!0],gradFunc:function(e,t,n){var r=(0,f.Z)(t,1)[0],a=n.dim,o=(0,h.d)(e,r);return{logits:function(){return(0,k.l)(o,(0,h.d)((0,T.S)(o,[a],true),r))}}}},on=n(7643),sn={kernelName:p.MR,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,f.Z)(t,1)[0];return{x:function(){return(0,h.d)(e,(0,on.X)(n))}}}},un=n(6994),cn={kernelName:p.TQ,gradFunc:function(e,t,n){var r=n.blockShape,a=n.paddings;return{x:function(){return(0,un.E)(e,r,a)}}}},ln=n(4836),fn={kernelName:p.L8,gradFunc:function(e,t,n){var r=n.axis;return{x:function(){return(0,ln.z)(e,r)}}}},pn={kernelName:p.FK,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,f.Z)(t,1)[0];return{x:function(){return(0,g.h)(e,(0,h.d)((0,x._)((0,d.p)(n,"float32")),2))}}}},dn={kernelName:p.bK,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,f.Z)(t,1)[0];return{x:function(){return(0,h.d)(e,(0,h.d)((0,d.p)(n,"float32"),2))}}}},hn={kernelName:p._t,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,f.Z)(t,2),r=n[0],a=n[1],o=(0,b.i)(2);return{a:function(){return(0,h.d)(e,(0,h.d)(o,(0,k.l)(r,a)))},b:function(){return(0,h.d)(e,(0,h.d)(o,(0,k.l)(a,r)))}}}},vn={kernelName:p.h8,gradFunc:function(e){return{x:function(){return(0,_.P)(e)}}}},mn={kernelName:p.Tr,inputsToSave:["a","b"],gradFunc:function(e,t){var n=(0,f.Z)(t,2),r=n[0],a=n[1],o=C.assertAndGetBroadcastShape(r.shape,a.shape);return{a:function(){var t=e,n=C.getReductionAxes(r.shape,o);return n.length>0&&(t=(0,T.S)(t,n)),(0,N.X)(t,r.shape)},b:function(){var t=e,n=C.getReductionAxes(a.shape,o);return n.length>0&&(t=(0,T.S)(t,n)),(0,N.X)((0,y.W)(t),a.shape)}}}},gn={kernelName:p.GB,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,f.Z)(t,1)[0],a=r.shape.slice(),o=n.axis;(0,B.EC)(o,r.shape).forEach((function(e){a[e]=1}));var i=(0,N.X)(e,a),s=(0,h.d)(i,(0,ft.i)(r.shape,"float32"));return{x:function(){return s}}}},yn={kernelName:p.sE,inputsToSave:["x"],gradFunc:function(e,t){var n=(0,f.Z)(t,1)[0];return{x:function(){return(0,g.h)(e,(0,w.h)((0,Qt.m)(n)))}}}},bn={kernelName:p.MI,outputsToSave:[!0],gradFunc:function(e,t){var n=(0,f.Z)(t,1)[0];return{x:function(){return(0,h.d)((0,k.l)((0,b.i)(1),(0,w.h)(n)),e)}}}},xn={kernelName:p.n9,inputsToSave:["x"],gradFunc:function(e,t,n){var r=(0,f.Z)(t,1)[0],a=n.reps;return{x:function(){var t=(0,_.P)(r);if(1===r.rank)for(var n=0;n<a[0];++n)t=(0,P.I)(t,(0,vt.t)(e,[n*r.shape[0]],[r.shape[0]]));else if(2===r.rank)for(var o=0;o<a[0];++o)for(var i=0;i<a[1];++i)t=(0,P.I)(t,(0,vt.t)(e,[o*r.shape[0],i*r.shape[1]],[r.shape[0],r.shape[1]]));else if(3===r.rank)for(var s=0;s<a[0];++s)for(var u=0;u<a[1];++u)for(var c=0;c<a[2];++c)t=(0,P.I)(t,(0,vt.t)(e,[s*r.shape[0],u*r.shape[1],c*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else{if(4!==r.rank)throw new Error("Gradient for tile operation is not implemented for rank-"+"".concat(r.rank," tensors yet."));for(var l=0;l<a[0];++l)for(var f=0;f<a[1];++f)for(var p=0;p<a[2];++p)for(var d=0;d<a[3];++d)t=(0,P.I)(t,(0,vt.t)(e,[l*r.shape[0],f*r.shape[1],p*r.shape[2],d*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]))}return t}}}},wn={kernelName:p.G3,gradFunc:function(e,t,n){var r=n.perm,a=we.LJ(r);return{x:function(){return(0,Se.p)(e,a)}}}},kn=n(8306),Sn={kernelName:p.To,gradFunc:function(e,t,n){var r=n.axis;return{value:function(){return(0,kn.k)(e,r)}}}},En=n(2975),Cn=n(9498),Nn=n(705),Tn={kernelName:p.Qv,inputsToSave:["segmentIds"],gradFunc:function(e,t){var n=(0,f.Z)(t,1)[0];return{x:function(){return function(e,t){for(var n=(0,Nn.g)(t,(0,_.P)(t)),r=(0,Cn.I)(e,n),a=(0,te.b)(t,(0,b.i)(0,"int32")),o=r.rank-a.rank,i=0;i<o;++i)a=(0,En.d)(a,i+1);a=(0,re.H)(a,(0,ft.i)(r.shape,"bool"));var s=(0,_.P)(r);return(0,ae.a)(a,r,s)}(e,n)}}}};for(var In={kernelName:p.Ru,gradFunc:function(e){return{x:function(){return(0,_.P)(e)}}}},On=n(8864),_n=0,Dn=[m,S,E,I,O,D,A,R,M,F,L,j,H,q,K,Q,$,J,ee,oe,ie,ue,de,fe,me,ye,xe,Ee,Te,Ie,Pt,Oe,De,Ae,Re,Pe,Fe,Me,Ze,Be,Ve,He,Ge,qe,Xe,Ye,Qe,$e,Je,tt,at,at,it,ut,lt,pt,dt,ht,mt,yt,bt,xt,kt,St,Ct,Nt,Nt,Ot,_t,Rt,Mt,Ft,Lt,jt,Zt,zt,Ut,Wt,Vt,Gt,Xt,Kt,Yt,$t,en,rn,an,sn,cn,cn,fn,fn,pn,hn,dn,vn,mn,gn,yn,bn,xn,wn,Sn,Tn,In];_n<Dn.length;_n++){var An=Dn[_n];(0,On.Li)(An)}var Rn=n(7613),Pn=n(4376);(0,Pn.t3)().prototype.abs=function(){return this.throwIfDisposed(),(0,Rn.W)(this)};var Mn=n(1719);(0,Pn.t3)().prototype.acos=function(){return this.throwIfDisposed(),(0,Mn.K)(this)};var Fn=n(4502);(0,Pn.t3)().prototype.acosh=function(){return this.throwIfDisposed(),(0,Fn._)(this)},(0,Pn.t3)().prototype.add=function(e){return this.throwIfDisposed(),(0,P.I)(this,e)};var Ln=n(4108);(0,Pn.t3)().prototype.all=function(e,t){return this.throwIfDisposed(),(0,Ln.$)(this,e,t)};var jn=n(8543);(0,Pn.t3)().prototype.any=function(e,t){return this.throwIfDisposed(),(0,jn.Y)(this,e,t)};var Zn=n(9995);(0,Pn.t3)().prototype.argMax=function(e){return this.throwIfDisposed(),(0,Zn.N)(this,e)};var zn=n(5157);(0,Pn.t3)().prototype.argMin=function(e){return this.throwIfDisposed(),(0,zn.v)(this,e)},(0,Pn.t3)().prototype.asScalar=function(){return this.throwIfDisposed(),(0,B.hu)(1===this.size,(function(){return"The array must have only 1 element."})),(0,N.X)(this,[])},(0,Pn.t3)().prototype.asType=function(e){return this.throwIfDisposed(),(0,d.p)(this,e)},(0,Pn.t3)().prototype.as1D=function(){return this.throwIfDisposed(),(0,N.X)(this,[this.size])},(0,Pn.t3)().prototype.as2D=function(e,t){return this.throwIfDisposed(),(0,N.X)(this,[e,t])},(0,Pn.t3)().prototype.as3D=function(e,t,n){return this.throwIfDisposed(),(0,N.X)(this,[e,t,n])},(0,Pn.t3)().prototype.as4D=function(e,t,n,r){return this.throwIfDisposed(),(0,N.X)(this,[e,t,n,r])},(0,Pn.t3)().prototype.as5D=function(e,t,n,r,a){return this.throwIfDisposed(),(0,N.X)(this,[e,t,n,r,a])};var Bn=n(3053);(0,Pn.t3)().prototype.asin=function(){return this.throwIfDisposed(),(0,Bn.Z)(this)};var Un=n(54);(0,Pn.t3)().prototype.asinh=function(){return this.throwIfDisposed(),(0,Un.V)(this)};var Wn=n(4778);(0,Pn.t3)().prototype.atan=function(){return this.throwIfDisposed(),(0,Wn.z)(this)};var Vn=n(2227);(0,Pn.t3)().prototype.atan2=function(e){return this.throwIfDisposed(),(0,Vn.f)(this,e)};var Hn=n(7897);(0,Pn.t3)().prototype.atanh=function(){return this.throwIfDisposed(),(0,Hn.C)(this)};var Gn=n(9204);(0,Pn.t3)().prototype.avgPool=function(e,t,n,r){return this.throwIfDisposed(),(0,Gn.w)(this,e,t,n,r)},(0,Pn.t3)().prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),(0,un.E)(this,e,t)};var qn=n(3700);(0,Pn.t3)().prototype.batchNorm=function(e,t,n,r,a){return this.throwIfDisposed(),(0,qn.t)(this,e,t,n,r,a)};var Xn=n(9742);(0,Pn.t3)().prototype.broadcastTo=function(e){return this.throwIfDisposed(),(0,Xn.U)(this,e)},(0,Pn.t3)().prototype.cast=function(e){return this.throwIfDisposed(),(0,d.p)(this,e)};var Kn=n(1396);(0,Pn.t3)().prototype.ceil=function(){return this.throwIfDisposed(),(0,Kn.m)(this)};var Yn=n(9836);(0,Pn.t3)().prototype.clipByValue=function(e,t){return this.throwIfDisposed(),(0,Yn.i)(this,e,t)};var Qn=n(3433);(0,Pn.t3)().prototype.concat=function(e,t){return this.throwIfDisposed(),e instanceof Pn.es&&(e=[e]),(0,ln.z)([this].concat((0,Qn.Z)(e)),t)};var $n=n(4918);(0,Pn.t3)().prototype.conv1d=function(e,t,n,r,a,o){return this.throwIfDisposed(),(0,$n.P)(this,e,t,n,r,a,o)};var Jn=n(1732);(0,Pn.t3)().prototype.conv2dTranspose=function(e,t,n,r,a){return this.throwIfDisposed(),(0,Jn.b)(this,e,t,n,r,a)},(0,Pn.t3)().prototype.conv2d=function(e,t,n,r,a,o){return this.throwIfDisposed(),(0,pe.T)(this,e,t,n,r,a,o)},(0,Pn.t3)().prototype.cos=function(){return this.throwIfDisposed(),(0,Qt.m)(this)},(0,Pn.t3)().prototype.cosh=function(){return this.throwIfDisposed(),(0,Jt.f)(this)},(0,Pn.t3)().prototype.cumprod=function(e,t,n){return this.throwIfDisposed(),(0,Dt.$)(this,e,t,n)},(0,Pn.t3)().prototype.cumsum=function(e,t,n){return this.throwIfDisposed(),(0,ke.z)(this,e,t,n)};var er=n(1878);(0,Pn.t3)().prototype.depthToSpace=function(e,t){return this.throwIfDisposed(),(0,er.n)(this,e,t)};var tr=n(1147);(0,Pn.t3)().prototype.depthwiseConv2d=function(e,t,n,r,a,o){return this.throwIfDisposed(),(0,tr.B)(this,e,t,n,r,a,o)};var nr=n(7580);(0,Pn.t3)().prototype.dilation2d=function(e,t,n,r,a){return this.throwIfDisposed(),(0,nr.W)(this,e,t,n,r,a)};var rr=n(5923);(0,Pn.t3)().prototype.divNoNan=function(e){return this.throwIfDisposed(),(0,rr.N)(this,e)},(0,Pn.t3)().prototype.div=function(e){return this.throwIfDisposed(),(0,g.h)(this,e)};var ar=n(5043);(0,Pn.t3)().prototype.dot=function(e){return this.throwIfDisposed(),(0,ar.A)(this,e)};var or=n(2353);(0,Pn.t3)().prototype.elu=function(){return this.throwIfDisposed(),(0,or.p)(this)},(0,Pn.t3)().prototype.equal=function(e){return this.throwIfDisposed(),(0,nt.D)(this,e)};var ir=n(3891);(0,Pn.t3)().prototype.erf=function(){return this.throwIfDisposed(),(0,ir.q)(this)};var sr=n(3313);(0,Pn.t3)().prototype.euclideanNorm=function(e,t){return this.throwIfDisposed(),(0,sr.d)(this,e,t)},(0,Pn.t3)().prototype.exp=function(){return this.throwIfDisposed(),(0,_e.Q)(this)},(0,Pn.t3)().prototype.expandDims=function(e){return this.throwIfDisposed(),(0,En.d)(this,e)};var ur=n(5682);(0,Pn.t3)().prototype.expm1=function(){return this.throwIfDisposed(),(0,ur.t)(this)};var cr=n(7635);(0,Pn.t3)().prototype.fft=function(){return this.throwIfDisposed(),(0,cr.k)(this)},(0,Pn.t3)().prototype.flatten=function(){return this.throwIfDisposed(),(0,N.X)(this,[this.size])},(0,Pn.t3)().prototype.floor=function(){return this.throwIfDisposed(),(0,gt.G)(this)};var lr=n(7145);(0,Pn.t3)().prototype.floorDiv=function(e){return this.throwIfDisposed(),(0,lr.q)(this,e)},(0,Pn.t3)().prototype.gather=function(e,t){return this.throwIfDisposed(),(0,Cn.I)(this,e,t)},(0,Pn.t3)().prototype.greaterEqual=function(e){return this.throwIfDisposed(),(0,te.b)(this,e)},(0,Pn.t3)().prototype.greater=function(e){return this.throwIfDisposed(),(0,Ke.p)(this,e)};var fr=n(530);(0,Pn.t3)().prototype.ifft=function(){return this.throwIfDisposed(),(0,fr.S)(this)};var pr=n(774);(0,Pn.t3)().prototype.irfft=function(){return this.throwIfDisposed(),(0,pr.w)(this)};var dr=n(300);(0,Pn.t3)().prototype.isFinite=function(){return this.throwIfDisposed(),(0,dr.x)(this)};var hr=n(4652);(0,Pn.t3)().prototype.isInf=function(){return this.throwIfDisposed(),(0,hr.U)(this)};var vr=n(7005);(0,Pn.t3)().prototype.isNaN=function(){return this.throwIfDisposed(),(0,vr.i)(this)};var mr=n(4419);(0,Pn.t3)().prototype.leakyRelu=function(e){return this.throwIfDisposed(),(0,mr.h)(this,e)},(0,Pn.t3)().prototype.lessEqual=function(e){return this.throwIfDisposed(),(0,ne.z)(this,e)},(0,Pn.t3)().prototype.less=function(e){return this.throwIfDisposed(),(0,ot.d)(this,e)};var gr=n(936);(0,Pn.t3)().prototype.localResponseNormalization=function(e,t,n,r){return this.throwIfDisposed(),(0,gr.G)(this,e,t,n,r)};var yr=n(5113);(0,Pn.t3)().prototype.logSigmoid=function(){return this.throwIfDisposed(),(0,yr.e)(this)};var br=n(4561);(0,Pn.t3)().prototype.logSoftmax=function(e){return this.throwIfDisposed(),(0,br.C)(this,e)};var xr=n(5530);(0,Pn.t3)().prototype.logSumExp=function(e,t){return this.throwIfDisposed(),(0,xr.l)(this,e,t)},(0,Pn.t3)().prototype.log=function(){return this.throwIfDisposed(),(0,Tt.c)(this)};var wr=n(5341);(0,Pn.t3)().prototype.log1p=function(){return this.throwIfDisposed(),(0,wr.K)(this)},(0,Pn.t3)().prototype.logicalAnd=function(e){return this.throwIfDisposed(),(0,re.H)(this,e)},(0,Pn.t3)().prototype.logicalNot=function(){return this.throwIfDisposed(),(0,Ht.h)(this)};var kr=n(5117);(0,Pn.t3)().prototype.logicalOr=function(e){return this.throwIfDisposed(),(0,kr.K)(this,e)};var Sr=n(1712);(0,Pn.t3)().prototype.logicalXor=function(e){return this.throwIfDisposed(),(0,Sr.e)(this,e)},(0,Pn.t3)().prototype.matMul=function(e,t,n){return this.throwIfDisposed(),(0,X.O)(this,e,t,n)};var Er=n(5777);(0,Pn.t3)().prototype.maxPool=function(e,t,n,r){return this.throwIfDisposed(),(0,Er._)(this,e,t,n,r)};var Cr=n(6176);(0,Pn.t3)().prototype.max=function(e,t){return this.throwIfDisposed(),(0,Cr.F)(this,e,t)},(0,Pn.t3)().prototype.maximum=function(e){return this.throwIfDisposed(),(0,Nn.g)(this,e)};var Nr=n(6568);(0,Pn.t3)().prototype.mean=function(e,t){return this.throwIfDisposed(),(0,Nr.J)(this,e,t)};var Tr=n(7891);(0,Pn.t3)().prototype.min=function(e,t){return this.throwIfDisposed(),(0,Tr.V)(this,e,t)};var Ir=n(2273);(0,Pn.t3)().prototype.minimum=function(e){return this.throwIfDisposed(),(0,Ir.L)(this,e)};var Or=n(9719);(0,Pn.t3)().prototype.mirrorPad=function(e,t){return this.throwIfDisposed(),(0,Or.V)(this,e,t)};var _r=n(4645);(0,Pn.t3)().prototype.mod=function(e){return this.throwIfDisposed(),(0,_r.w)(this,e)},(0,Pn.t3)().prototype.mul=function(e){return this.throwIfDisposed(),(0,h.d)(this,e)},(0,Pn.t3)().prototype.neg=function(){return this.throwIfDisposed(),(0,y.W)(this)};var Dr=n(6662);(0,Pn.t3)().prototype.norm=function(e,t,n){return this.throwIfDisposed(),(0,Dr.K)(this,e,t,n)};var Ar=n(5549);(0,Pn.t3)().prototype.notEqual=function(e){return this.throwIfDisposed(),(0,Ar.Q)(this,e)};var Rr=n(4326);(0,Pn.t3)().prototype.oneHot=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.throwIfDisposed(),(0,Rr.l)(this,e,t,n)};var Pr=n(773);(0,Pn.t3)().prototype.onesLike=function(){return this.throwIfDisposed(),(0,Pr.J)(this)},(0,Pn.t3)().prototype.pad=function(e,t){return this.throwIfDisposed(),(0,tn.v)(this,e,t)};var Mr=n(7226);(0,Pn.t3)().prototype.pool=function(e,t,n,r,a,o){return this.throwIfDisposed(),(0,Mr.d)(this,e,t,n,r,a,o)},(0,Pn.t3)().prototype.pow=function(e){return this.throwIfDisposed(),(0,It.s)(this,e)};var Fr=n(6859);(0,Pn.t3)().prototype.prelu=function(e){return this.throwIfDisposed(),(0,Fr.A)(this,e)};var Lr=n(7722);(0,Pn.t3)().prototype.prod=function(e,t){return this.throwIfDisposed(),(0,Lr.W)(this,e,t)};var jr=n(2209);(0,Pn.t3)().prototype.reciprocal=function(){return this.throwIfDisposed(),(0,jr.M)(this)};var Zr=n(7539);(0,Pn.t3)().prototype.relu=function(){return this.throwIfDisposed(),(0,Zr.U)(this)};var zr=n(5900);(0,Pn.t3)().prototype.relu6=function(){return this.throwIfDisposed(),(0,zr.b)(this)},(0,Pn.t3)().prototype.reshapeAs=function(e){return this.throwIfDisposed(),(0,N.X)(this,e.shape)},(0,Pn.t3)().prototype.reshape=function(e){return this.throwIfDisposed(),(0,N.X)(this,e)};var Br=n(464);(0,Pn.t3)().prototype.resizeBilinear=function(e,t,n){return this.throwIfDisposed(),(0,Br.I)(this,e,t,n)};var Ur=n(8600);(0,Pn.t3)().prototype.resizeNearestNeighbor=function(e,t,n){return this.throwIfDisposed(),(0,Ur.j)(this,e,t,n)},(0,Pn.t3)().prototype.reverse=function(e){return this.throwIfDisposed(),(0,Bt.G)(this,e)};var Wr=n(4617);(0,Pn.t3)().prototype.rfft=function(){return this.throwIfDisposed(),(0,Wr.Q)(this)};var Vr=n(766);(0,Pn.t3)().prototype.round=function(){return this.throwIfDisposed(),(0,Vr.N)(this)},(0,Pn.t3)().prototype.rsqrt=function(){return this.throwIfDisposed(),(0,Le.b)(this)};var Hr=n(413);(0,Pn.t3)().prototype.selu=function(){return this.throwIfDisposed(),(0,Hr.U)(this)};var Gr=n(119);(0,Pn.t3)().prototype.separableConv2d=function(e,t,n,r,a,o){return this.throwIfDisposed(),(0,Gr.U)(this,e,t,n,r,a,o)},(0,Pn.t3)().prototype.sigmoid=function(){return this.throwIfDisposed(),(0,on.X)(this)};var qr=n(2070);(0,Pn.t3)().prototype.sign=function(){return this.throwIfDisposed(),(0,qr.X)(this)},(0,Pn.t3)().prototype.sin=function(){return this.throwIfDisposed(),(0,ge.O)(this)},(0,Pn.t3)().prototype.sinh=function(){return this.throwIfDisposed(),(0,be.R)(this)},(0,Pn.t3)().prototype.slice=function(e,t){return this.throwIfDisposed(),(0,vt.t)(this,e,t)};var Xr=n(4910);(0,Pn.t3)().prototype.softmax=function(e){return this.throwIfDisposed(),(0,Xr.X)(this,e)};var Kr=n(4626);(0,Pn.t3)().prototype.softplus=function(){return this.throwIfDisposed(),(0,Kr.W)(this)},(0,Pn.t3)().prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),(0,Y.f)(this,e,t)},(0,Pn.t3)().prototype.split=function(e,t){return this.throwIfDisposed(),(0,se.V)(this,e,t)},(0,Pn.t3)().prototype.sqrt=function(){return this.throwIfDisposed(),(0,x._)(this)},(0,Pn.t3)().prototype.square=function(){return this.throwIfDisposed(),(0,w.h)(this)};var Yr=n(7993);(0,Pn.t3)().prototype.squaredDifference=function(e){return this.throwIfDisposed(),(0,Yr.$)(this,e)};var Qr=n(3931);(0,Pn.t3)().prototype.squeeze=function(e){return this.throwIfDisposed(),(0,Qr.L)(this,e)},(0,Pn.t3)().prototype.stack=function(e,t){this.throwIfDisposed();var n=e instanceof Pn.es?[this,e]:[this].concat((0,Qn.Z)(e));return(0,kn.k)(n,t)},(0,Pn.t3)().prototype.step=function(e){return this.throwIfDisposed(),(0,v.N)(this,e)};var $r=n(9017);(0,Pn.t3)().prototype.stridedSlice=function(e,t,n,r,a,o,i,s){return this.throwIfDisposed(),(0,$r.N)(this,e,t,n,r,a,o,i,s)},(0,Pn.t3)().prototype.sub=function(e){return this.throwIfDisposed(),(0,k.l)(this,e)},(0,Pn.t3)().prototype.sum=function(e,t){return this.throwIfDisposed(),(0,T.S)(this,e,t)};var Jr=n(6999);(0,Pn.t3)().prototype.tan=function(){return this.throwIfDisposed(),(0,Jr.O)(this)};var ea=n(1744);(0,Pn.t3)().prototype.tanh=function(){return this.throwIfDisposed(),(0,ea.A)(this)},(0,Pn.t3)().prototype.tile=function(e){return this.throwIfDisposed(),(0,je.G)(this,e)},(0,Pn.t3)().prototype.toBool=function(){return this.throwIfDisposed(),(0,d.p)(this,"bool")},(0,Pn.t3)().prototype.toFloat=function(){return this.throwIfDisposed(),(0,d.p)(this,"float32")},(0,Pn.t3)().prototype.toInt=function(){return this.throwIfDisposed(),(0,d.p)(this,"int32")};var ta=n(9085);(0,Pn.t3)().prototype.topk=function(e,t){return this.throwIfDisposed(),(0,ta.h)(this,e,t)},(0,Pn.t3)().prototype.transpose=function(e){return this.throwIfDisposed(),(0,Se.p)(this,e)};var na=n(4860);(0,Pn.t3)().prototype.unique=function(e){return this.throwIfDisposed(),(0,na.T)(this,e)},(0,Pn.t3)().prototype.unsortedSegmentSum=function(e,t){return this.throwIfDisposed(),(0,ze.p)(this,e,t)},(0,Pn.t3)().prototype.unstack=function(e){return this.throwIfDisposed(),(0,Et.H)(this,e)},(0,Pn.t3)().prototype.where=function(e,t){return this.throwIfDisposed(),(0,ae.a)(e,this,t)},(0,Pn.t3)().prototype.zerosLike=function(){return this.throwIfDisposed(),(0,_.P)(this)};var ra=n(7762),aa=n(5671),oa=n(3144),ia=n(7326),sa=n(136),ua=n(7277),ca=n(1120),la=n(9611);var fa=n(8814);function pa(e,t,n){return pa=(0,fa.Z)()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&(0,la.Z)(a,n.prototype),a},pa.apply(null,arguments)}function da(e){var t="function"===typeof Map?new Map:void 0;return da=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return pa(e,arguments,(0,ca.Z)(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),(0,la.Z)(r,e)},da(e)}var ha=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;return(0,aa.Z)(this,n),r=t.call(this,e),Object.setPrototypeOf((0,ia.Z)(r),n.prototype),r}return(0,oa.Z)(n)}(da(Error)),va=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;return(0,aa.Z)(this,n),r=t.call(this,e),Object.setPrototypeOf((0,ia.Z)(r),n.prototype),r}return(0,oa.Z)(n)}(da(Error)),ma=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;return(0,aa.Z)(this,n),r=t.call(this,e),Object.setPrototypeOf((0,ia.Z)(r),n.prototype),r}return(0,oa.Z)(n)}(da(Error)),ga=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;return(0,aa.Z)(this,n),r=t.call(this,e),Object.setPrototypeOf((0,ia.Z)(r),n.prototype),r}return(0,oa.Z)(n)}(da(Error)),ya=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;return(0,aa.Z)(this,n),r=t.call(this,e),Object.setPrototypeOf((0,ia.Z)(r),n.prototype),r}return(0,oa.Z)(n)}(da(Error)),ba=(Error,function(){function e(t){(0,aa.Z)(this,e),this.maxEntries=t||100,this.cache=new Map}return(0,oa.Z)(e,[{key:"get",value:function(e){var t;return this.cache.has(e)&&(t=this.cache.get(e),this.cache.delete(e),this.cache.set(e,t)),t}},{key:"put",value:function(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxEntries){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(e,t)}},{key:"getMaxEntries",value:function(){return this.maxEntries}},{key:"setMaxEntries",value:function(e){if(e<0)throw new Error("The maxEntries of LRU caches must be at least 0, but got ".concat(e,"."));if(this.maxEntries>e)for(var t=0;t<this.maxEntries-e;t++){var n=this.cache.keys().next().value;this.cache.delete(n)}this.maxEntries=e}}]),e}());function xa(e,t){if(Array.isArray(e)){for(var n=[],r=0;r<t;r++)n=n.concat(e);return n}var a=new Array(t);return a.fill(e),a}function wa(e,t){if(!e)throw new ya(t)}function ka(e,t){var n,r=0,a=(0,ra.Z)(e);try{for(a.s();!(n=a.n()).done;){n.value===t&&r++}}catch(o){a.e(o)}finally{a.f()}return r}function Sa(e){return 1===e.length?e[0]:e}function Ea(e){return Array.isArray(e)?e:[e]}function Ca(e){var t=e.replace(/(.)([A-Z][a-z0-9]+)/g,"$1_$2").replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase();return"_"!==t[0]?t:"private"+t}function Na(e){return e.length<=1||-1===e.indexOf("_")?e:e.replace(/[_]+(\w|$)/g,(function(e,t){return t.toUpperCase()}))}var Ta={};function Ia(e){if(null===e||void 0===e)return null;var t={};return t.className=e.getClassName(),t.config=e.getConfig(),t}function Oa(e){if(null!=e&&"object"===typeof e)if(Array.isArray(e))e.forEach((function(e){return Oa(e)}));else for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t],a=e[r];null!=a&&"object"===typeof a&&(Array.isArray(a)||"ndarray"!==a.type||"number"!==typeof a.value?Oa(a):e[r]=a.value)}}function _a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"object",a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if("string"===typeof e){var o,i=e;if(i in n)o=n[i];else if(i in Ta)o=Ta[i];else if(null==(o=t[i]))throw new ma("Unknown ".concat(r,": ").concat(e,". ")+"This may be due to one of the following reasons:\n"+"1. The ".concat(r," is defined in Python, in which ")+"case it needs to be ported to TensorFlow.js or your JavaScript code.\n"+"2. The custom ".concat(r," is defined in JavaScript, ")+"but is not registered properly with tf.serialization.registerClass().");return o}var s=e;if(null==s.className||null==s.config)throw new ma("".concat(r,": Improper config format: ")+"".concat(JSON.stringify(s),".\n")+"'className' and 'config' must set.");var u,c,l=s.className;if(l in n){var p=(0,f.Z)(n[l],2);u=p[0],c=p[1]}else if(l in Ta){var d=(0,f.Z)(Ta.className,2);u=d[0],c=d[1]}else if(l in t){var h=(0,f.Z)(t[l],2);u=h[0],c=h[1]}if(null==u)throw new ma("Unknown ".concat(r,": ").concat(l,". ")+"This may be due to one of the following reasons:\n"+"1. The ".concat(r," is defined in Python, in which ")+"case it needs to be ported to TensorFlow.js or your JavaScript code.\n"+"2. The custom ".concat(r," is defined in JavaScript, ")+"but is not registered properly with tf.serialization.registerClass().");if(null!=c){for(var v={},m=0,g=Object.keys(Ta);m<g.length;m++){var y=g[m];v[y]=Ta[y]}for(var b=0,x=Object.keys(n);b<x.length;b++){var w=x[b];v[w]=n[w]}var k=s.config;k.customObjects=v;for(var S=Object.assign({},Ta),E=0,C=Object.keys(n);E<C.length;E++){var N=C[E];Ta[N]=n[N]}Oa(s.config);var T=c(u,s.config,n,a);return Ta=Object.assign({},S),T}for(var I=Object.assign({},Ta),O=0,_=Object.keys(n);O<_.length;O++){var D=_[O];Ta[D]=n[D]}var A=new u(s.config);return Ta=Object.assign({},I),A}function Da(e,t){return-1*function(e,t){return e<t?-1:e>t?1:0}(e,t)}function Aa(e){if(null==e)return e;var t,n=[],r=(0,ra.Z)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;-1===n.indexOf(a)&&n.push(a)}}catch(o){r.e(o)}finally{r.f()}return n}function Ra(e){if(null==e)throw new ma("Invalid value in obj: ".concat(JSON.stringify(e)));for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function Pa(e,t,n){if(null!=n&&e.indexOf(n)<0)throw new ma("".concat(n," is not a valid ").concat(t,".  Valid values are ").concat(e," or null/undefined."))}function Ma(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;return wa(n>=0),wa(r>=n),Array.isArray(e)&&e.length>=n&&e.length<=r&&e.every((function(e){return typeof e===t}))}function Fa(e,t){Array.isArray(e)?(l.D5U.assert(e.length>0,(function(){return"".concat(t," is unexpectedly an empty array.")})),e.forEach((function(e,n){return Fa(e,"element ".concat(n+1," of ").concat(t))}))):l.D5U.assert(Number.isInteger(e)&&e>0,(function(){return"Expected ".concat(t," to be a positive integer, but got ")+"".concat(La(e),".")}))}function La(e){return null===e?"null":Array.isArray(e)?"["+e.map((function(e){return La(e)})).join(",")+"]":"string"===typeof e?'"'.concat(e,'"'):"".concat(e)}function ja(e){return"relu"===e?"relu":"linear"===e?"linear":"elu"===e?"elu":null}var Za=0;function za(){return Za++}var Ba={};function Ua(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e in Ba||(Ba[e]=0),Ba[e]+=1,e+Ba[e].toString()}var Wa=["channelsFirst","channelsLast"],Va=["nearest","bilinear"],Ha=["valid","same","causal"],Ga=["max","avg"],qa=["sum","mul","concat","ave"],Xa=new Map;function Ka(e){Pa(Wa,"DataFormat",e)}function Ya(e){Pa(Ha,"PaddingMode",e)}function Qa(e){Pa(Ga,"PoolMode",e)}var $a=[];function Ja(e,t){$a.push(e);try{var n=t();return $a.pop(),n}catch(r){throw $a.pop(),r}}function eo(e){if(!ao(e))throw new Error("Not a valid tensor name: '"+e+"'");return(0===$a.length?"":$a.join("/")+"/")+e}function to(e){if(!ao(e))throw new Error("Not a valid tensor name: '"+e+"'");Xa.has(e)||Xa.set(e,0);var t=Xa.get(e);if(Xa.set(e,Xa.get(e)+1),t>0){var n="".concat(e,"_").concat(t);return Xa.set(n,1),n}return e}var no,ro=new RegExp(/^[A-Za-z0-9][-A-Za-z0-9\._\/]*$/);function ao(e){return!!e.match(ro)}function oo(e,t,n){null==t&&(t=0),null==n&&(n=e.length);for(var r=1,a=t;a<n;++a)r*=e[a];return r}function io(e){if(0===e.length)return Number.NaN;for(var t=Number.POSITIVE_INFINITY,n=0;n<e.length;n++){var r=e[n];r<t&&(t=r)}return t}function so(e){if(0===e.length)return Number.NaN;for(var t=Number.NEGATIVE_INFINITY,n=0;n<e.length;n++){var r=e[n];r>t&&(t=r)}return t}function uo(e,t){if(t<e)throw new ma("end (".concat(t,") < begin (").concat(e,") is forbidden."));for(var n=[],r=e;r<t;++r)n.push(r);return n}function co(){return null==no&&(no=(0,l.y3$)().epsilon()),no}function lo(e,t){return l.pju(e,t)}function fo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=e.shape.slice();return t<0&&(t=n.length+t+1),n.splice(t,0,1),l.XLQ(e,n)}function po(e){var t=[oo(e.shape)];return l.XLQ(e,t)}function ho(e,t,n){return(0,l.lub)((function(){switch(e.rank){case 1:return l.jZU(e,t,n);case 2:return l.SmN(e,[t,0],[n,e.shape[1]]);case 3:return l.CnO(e,[t,0,0],[n,e.shape[1],e.shape[2]]);case 4:return l.p0P(e,[t,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3]]);case 5:return l.tPi(e,[t,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4]]);case 6:return l.tPi(e,[t,0,0,0,0,0],[n,e.shape[1],e.shape[2],e.shape[3],e.shape[4],e.shape[5]]);default:throw new ma("sliceAlongFirstAxis() received an unsupported tensor rank: "+"".concat(e.rank))}}))}function vo(e,t,n){return(0,l.lub)((function(){switch(e.rank){case 1:return l.jZU(e,t,n);case 2:return l.SmN(e,[0,t],[e.shape[0],n]);case 3:return l.CnO(e,[0,0,t],[e.shape[0],e.shape[1],n]);case 4:return l.p0P(e,[0,0,0,t],[e.shape[0],e.shape[1],e.shape[2],n]);default:throw new ma("sliceAlongLastAxis() received an unsupported tensor rank: "+"".concat(e.rank))}}))}function mo(e,t,n,r){return(0,l.lub)((function(){switch(e.rank){case 1:return l.jZU(e,t,n);case 2:switch(r){case 1:return ho(e,t,n);case 2:return vo(e,t,n);default:throw new ma("The axis is not within the rank of the tensor "+"".concat(r))}case 3:switch(r){case 1:return ho(e,t,n);case 2:return l.CnO(e,[0,t,0],[e.shape[0],n,e.shape[2]]);case 3:return vo(e,t,n);default:throw new ma("The axis is not within the rank of the tensor "+"".concat(r))}case 4:switch(r){case 1:return ho(e,t,n);case 2:return l.p0P(e,[0,t,0,0],[e.shape[0],n,e.shape[2],e.shape[3]]);case 3:return l.p0P(e,[0,0,t,0],[e.shape[0],e.shape[1],n,e.shape[3]]);case 4:return vo(e,t,n);default:throw new ma("The axis is not within the rank of the tensor "+"".concat(r))}default:throw new ma("sliceAlongLastAxis() received an unsupported tensor rank: "+"".concat(e.rank))}}))}function go(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return n<0&&(n=0!==(t=e[0].rank)?t:0),n===e[0].rank&&(n=-1),l.zoF(e,n)}function yo(e,t){switch(e.rank){case 1:return l.gME([e,t]);case 2:return l.Izb([e,t],0);case 3:return l.MNy([e,t],0);case 4:return l.ZaL([e,t],0);default:throw new ma("concatAlongFirstAxis() received an unsupported "+"tensor rank: ".concat(e.rank))}}function bo(e,t){if(Array.isArray(t)||(t=[t]),e.rank!==t.length)throw new ma("The length of input n (".concat(t.length,") does not match ")+"the number of dimensions in input x (".concat(e.rank,")"));return l.Gg6(e,t)}function xo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;return l.nGf(e,t,n,r,a)}function wo(e,t,n,r){if(e.rank<2||t.rank<2)throw new ga("dot requires both inputs to be rank >= 2"+" but got x shape = ".concat(e.shape," and y shape = ").concat(t.shape));if(t.rank>=3&&e.shape.slice(-1)[0]!==t.shape.slice(-2)[0])throw new ga("If rank y >= 3, then the second last dim"+" of y must equal the last dim of x but got x shape = ".concat(e.shape," and ")+" y shape = ".concat(t.shape));if(2===e.rank&&2===t.rank){return l.imm.matMul({a:e,b:t,transposeA:!1,transposeB:!1,bias:r?Eo(e.rank,r,"channelsLast"):null,activation:n})}var a=e.shape.slice(),o=a.pop();e=l.XLQ(e,[-1,o]);var i=t.shape.slice(),s=i.pop(),u=i.pop(),c=[].concat((0,Qn.Z)(i),[s]),f=Array.from({length:t.rank},(function(e,n){return 0===n?t.rank-2:n<=t.rank-2?n-1:n}));t=l.XLQ(l.p4s(t,f),[u,-1]);var p=[].concat((0,Qn.Z)(a),(0,Qn.Z)(c));return l.XLQ(l.imm.matMul({a:e,b:t,transposeA:!1,transposeB:!1,bias:r?Eo(e.rank,r,"channelsLast"):null,activation:n}),p)}function ko(e,t,n){return(0,l.lub)((function(){return t=Array.isArray(t)?(0,l.RRF)(t,"int32"):l.pju(t,"int32"),l.Iqj(e,t,n)}))}function So(e){return l.dC7(e,e)}function Eo(e,t,n){var r=t.shape;if(1!==t.rank&&t.rank!==e)throw new ma("Unexpected bias dimensions: ".concat(t.rank)+"; expected it to be 1 or ".concat(e));if(5===e){if("channelsFirst"===n)return 1===r.length?l.XLQ(t,[1,r[0],1,1,1]):l.XLQ(t,[1,r[3],r[0],r[1],r[2]]);if("channelsLast"===n)return 1===r.length?l.XLQ(t,[1,1,1,1,r[0]]):l.XLQ(t,[1].concat(r))}else if(4===e){if("channelsFirst"===n)return 1===r.length?l.XLQ(t,[1,r[0],1,1]):l.XLQ(t,[1,r[2],r[0],r[1]]);if("channelsLast"===n)return 1===r.length?l.XLQ(t,[1,1,1,r[0]]):l.XLQ(t,[1].concat(r))}else if(3===e){if("channelsFirst"===n)return 1===r.length?l.XLQ(t,[1,r[0],1]):l.XLQ(t,[1,r[1],r[0]]);if("channelsLast"===n)return 1===r.length?l.XLQ(t,[1,1,r[0]]):l.XLQ(t,[1].concat(r))}else if(e<3)return t;throw new ma("Unsupported input rank by biasAdd: ".concat(t.rank))}function Co(e,t,n){return(0,l.lub)((function(){return null==n&&(n="channelsLast"),Ka(n),l.IHx(e,Eo(e.rank,t,n))}))}function No(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(1!==t)throw new ga("Support for alpha values other than 1 (".concat(t,") is not implemented ")+"yet.");return l.pyx(e)}function To(e,t,n,r){return(0,l.lub)((function(){return l.rvX(e,t,n,r)}))}function Io(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n?e():t()}var Oo=["fanIn","fanOut","fanAvg"],_o=["normal","uniform","truncatedNormal"];var Do=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(){return(0,aa.Z)(this,n),t.apply(this,arguments)}return(0,oa.Z)(n,[{key:"fromConfigUsesCustomObjects",value:function(){return!1}},{key:"getConfig",value:function(){return{}}}]),n}(l.m7h.Serializable),Ao=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(){return(0,aa.Z)(this,n),t.apply(this,arguments)}return(0,oa.Z)(n,[{key:"apply",value:function(e,t){return(0,l.lls)(e,t)}}]),n}(Do);Ao.className="Zeros",l.m7h.registerClass(Ao);var Ro=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(){return(0,aa.Z)(this,n),t.apply(this,arguments)}return(0,oa.Z)(n,[{key:"apply",value:function(e,t){return(0,l.iUs)(e,t)}}]),n}(Do);Ro.className="Ones",l.m7h.registerClass(Ro);var Po=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;if((0,aa.Z)(this,n),r=t.call(this),"object"!==typeof e)throw new ma("Expected argument of type ConstantConfig but got ".concat(e));if(void 0===e.value)throw new ma("config must have value set but got ".concat(e));return r.value=e.value,r}return(0,oa.Z)(n,[{key:"apply",value:function(e,t){var n=this;return(0,l.lub)((function(){return(0,l.dC7)((0,l.iD$)(n.value),(0,l.iUs)(e,t))}))}},{key:"getConfig",value:function(){return{value:this.value}}}]),n}(Do);Po.className="Constant",l.m7h.registerClass(Po);var Mo=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;return(0,aa.Z)(this,n),(r=t.call(this)).DEFAULT_MINVAL=-.05,r.DEFAULT_MAXVAL=.05,r.minval=e.minval||r.DEFAULT_MINVAL,r.maxval=e.maxval||r.DEFAULT_MAXVAL,r.seed=e.seed,r}return(0,oa.Z)(n,[{key:"apply",value:function(e,t){return(0,l.LGj)(e,this.minval,this.maxval,t)}},{key:"getConfig",value:function(){return{minval:this.minval,maxval:this.maxval,seed:this.seed}}}]),n}(Do);Mo.className="RandomUniform",l.m7h.registerClass(Mo);var Fo=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;return(0,aa.Z)(this,n),(r=t.call(this)).DEFAULT_MEAN=0,r.DEFAULT_STDDEV=.05,r.mean=e.mean||r.DEFAULT_MEAN,r.stddev=e.stddev||r.DEFAULT_STDDEV,r.seed=e.seed,r}return(0,oa.Z)(n,[{key:"apply",value:function(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new ga("randomNormal does not support dType ".concat(t,"."));return xo(e,this.mean,this.stddev,t,this.seed)}},{key:"getConfig",value:function(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}]),n}(Do);Fo.className="RandomNormal",l.m7h.registerClass(Fo);var Lo=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;return(0,aa.Z)(this,n),(r=t.call(this)).DEFAULT_MEAN=0,r.DEFAULT_STDDEV=.05,r.mean=e.mean||r.DEFAULT_MEAN,r.stddev=e.stddev||r.DEFAULT_STDDEV,r.seed=e.seed,r}return(0,oa.Z)(n,[{key:"apply",value:function(e,t){if("float32"!==(t=t||"float32")&&"int32"!==t)throw new ga("truncatedNormal does not support dType ".concat(t,"."));return(0,l.Xu6)(e,this.mean,this.stddev,t,this.seed)}},{key:"getConfig",value:function(){return{mean:this.mean,stddev:this.stddev,seed:this.seed}}}]),n}(Do);Lo.className="TruncatedNormal",l.m7h.registerClass(Lo);var jo=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;return(0,aa.Z)(this,n),(r=t.call(this)).gain=null!=e.gain?e.gain:1,r}return(0,oa.Z)(n,[{key:"apply",value:function(e,t){var n=this;return(0,l.lub)((function(){if(2!==e.length||e[0]!==e[1])throw new ma("Identity matrix initializer can only be used for 2D square matrices.");return(0,l.dC7)(n.gain,(0,l.iyy)(e[0]))}))}},{key:"getConfig",value:function(){return{gain:this.gain}}}]),n}(Do);jo.className="Identity",l.m7h.registerClass(jo);var Zo=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r,a;if((0,aa.Z)(this,n),r=t.call(this),e.scale<0)throw new ma("scale must be a positive float. Got: ".concat(e.scale));return r.scale=null==e.scale?1:e.scale,r.mode=null==e.mode?"fanIn":e.mode,a=r.mode,Pa(Oo,"FanMode",a),r.distribution=null==e.distribution?"normal":e.distribution,function(e){Pa(_o,"Distribution",e)}(r.distribution),r.seed=e.seed,r}return(0,oa.Z)(n,[{key:"apply",value:function(e,t){var n=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"channelsLast";if(Ka(r),2===e.length)t=e[0],n=e[1];else if(-1!==[3,4,5].indexOf(e.length)){if("channelsFirst"===r){var a=oo(e,2);t=e[1]*a,n=e[0]*a}else if("channelsLast"===r){var o=oo(e,0,e.length-2);t=e[e.length-2]*o,n=e[e.length-1]*o}}else{var i=oo(e);t=Math.sqrt(i),n=Math.sqrt(i)}return[t,n]}(e),r=n[0],a=n[1],o=this.scale;if("fanIn"===this.mode?o/=Math.max(1,r):"fanOut"===this.mode?o/=Math.max(1,a):o/=Math.max(1,(r+a)/2),"normal"===this.distribution){var i=Math.sqrt(o);if("float32"!==(t=t||"float32")&&"int32"!==t)throw new ga("".concat(this.getClassName()," does not support dType ").concat(t,"."));return(0,l.Xu6)(e,0,i,t,this.seed)}var s=Math.sqrt(3*o);return(0,l.LGj)(e,-s,s,t)}},{key:"getConfig",value:function(){return{scale:this.scale,mode:this.mode,distribution:this.distribution,seed:this.seed}}}]),n}(Do);Zo.className="VarianceScaling",l.m7h.registerClass(Zo);var zo=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){return(0,aa.Z)(this,n),t.call(this,{scale:1,mode:"fanAvg",distribution:"uniform",seed:null==e?null:e.seed})}return(0,oa.Z)(n,[{key:"getClassName",value:function(){return Zo.className}}]),n}(Zo);zo.className="GlorotUniform",l.m7h.registerClass(zo);var Bo=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){return(0,aa.Z)(this,n),t.call(this,{scale:1,mode:"fanAvg",distribution:"normal",seed:null==e?null:e.seed})}return(0,oa.Z)(n,[{key:"getClassName",value:function(){return Zo.className}}]),n}(Zo);Bo.className="GlorotNormal",l.m7h.registerClass(Bo);var Uo=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){return(0,aa.Z)(this,n),t.call(this,{scale:2,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}return(0,oa.Z)(n,[{key:"getClassName",value:function(){return Zo.className}}]),n}(Zo);Uo.className="HeNormal",l.m7h.registerClass(Uo);var Wo=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){return(0,aa.Z)(this,n),t.call(this,{scale:2,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}return(0,oa.Z)(n,[{key:"getClassName",value:function(){return Zo.className}}]),n}(Zo);Wo.className="HeUniform",l.m7h.registerClass(Wo);var Vo=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){return(0,aa.Z)(this,n),t.call(this,{scale:1,mode:"fanIn",distribution:"normal",seed:null==e?null:e.seed})}return(0,oa.Z)(n,[{key:"getClassName",value:function(){return Zo.className}}]),n}(Zo);Vo.className="LeCunNormal",l.m7h.registerClass(Vo);var Ho=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){return(0,aa.Z)(this,n),t.call(this,{scale:1,mode:"fanIn",distribution:"uniform",seed:null==e?null:e.seed})}return(0,oa.Z)(n,[{key:"getClassName",value:function(){return Zo.className}}]),n}(Zo);Ho.className="LeCunNormal",l.m7h.registerClass(Ho);var Go=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;if((0,aa.Z)(this,n),(r=t.call(this)).DEFAULT_GAIN=1,r.gain=null==e.gain?r.DEFAULT_GAIN:e.gain,r.seed=e.seed,null!=r.seed)throw new ga("Random seed is not implemented for Orthogonal Initializer yet.");return r}return(0,oa.Z)(n,[{key:"apply",value:function(e,t){var n=this;return(0,l.lub)((function(){if(e.length<2)throw new ga("Shape must be at least 2D.");e[0]*e[1]>2e3&&console.warn("Orthogonal initializer is being called on a matrix with more "+"than 2000 (".concat(e[0]*e[1],") elements: ")+"Slowness may result.");var t=xo(e[0]>e[1]?[e[1],e[0]]:e,0,1,"float32"),r=l.$r2.gramSchmidt(t);return e[0]>e[1]&&(r=(0,l.p4s)(r)),(0,l.dC7)(n.gain,r)}))}},{key:"getConfig",value:function(){return{gain:this.gain,seed:this.seed}}}]),n}(Do);Go.className="Orthogonal",l.m7h.registerClass(Go);var qo={constant:"Constant",glorotNormal:"GlorotNormal",glorotUniform:"GlorotUniform",heNormal:"HeNormal",heUniform:"HeUniform",identity:"Identity",leCunNormal:"LeCunNormal",leCunUniform:"LeCunUniform",ones:"Ones",orthogonal:"Orthogonal",randomNormal:"RandomNormal",randomUniform:"RandomUniform",truncatedNormal:"TruncatedNormal",varianceScaling:"VarianceScaling",zeros:"Zeros"};function Xo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _a(e,l.m7h.SerializationMap.getMap().classNameMap,t,"initializer")}function Ko(e){return Ia(e)}function Yo(e){if("string"===typeof e){var t=e in qo?qo[e]:e;if("GlorotNormal"===t)return new Bo;if("GlorotUniform"===t)return new zo;if("HeNormal"===t)return new Uo;if("HeUniform"===t)return new Wo;if("LeCunNormal"===t)return new Vo;if("LeCunUniform"===t)return new Ho;var n={};return n.className=t,n.config={},Xo(n)}return e instanceof Do?e:Xo(e)}function Qo(e){return Array.isArray(e)&&Array.isArray(e[0])}function $o(e){return 0===e.length?[]:Array.isArray(e[0])?e:[e]}function Jo(e){var t;if(Array.isArray(e)){if(1!==e.length)throw new ma("Expected Tensor length to be 1; got ".concat(e.length));t=e[0]}else t=e;return t}function ei(e){if(Array.isArray(e)&&Array.isArray(e[0])){if(1===e.length)return e[0];throw new ma("Expected exactly 1 Shape; got ".concat(e.length))}return e}function ti(e){var t,n=0,r=(0,ra.Z)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;0===a.shape.length?n+=1:n+=a.shape.reduce((function(e,t){return e*t}))}}catch(o){r.e(o)}finally{r.f()}return n}var ni="Variable",ri=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"float32",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ni,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;(0,aa.Z)(this,e),this.dtype=null==n?"float32":n,this.shape=t.shape,this.id=za(),r=null==r?ni:r,this.originalName=eo(r),this.name=to(this.originalName),this.trainable_=a,this.constraint=o,this.val=l.VD$(t,this.trainable_,this.name,this.dtype)}return(0,oa.Z)(e,[{key:"read",value:function(){return this.assertNotDisposed(),this.val}},{key:"write",value:function(e){return this.assertNotDisposed(),function(e,t){if(e.shape.toString()!==t.shape.toString())throw new Error("Shape mismatch: "+JSON.stringify(e.shape)+" vs. "+JSON.stringify(t.shape))}(this.val,e),this.val.id!==e.id&&(this.val.assign(e),null!=this.constraint&&this.val.assign(this.constraint.apply(this.val))),this}},{key:"dispose",value:function(){this.assertNotDisposed(),this.val.dispose()}},{key:"assertNotDisposed",value:function(){if(this.val.isDisposed)throw new Error("LayersVariable ".concat(this.name," is already disposed."))}},{key:"trainable",get:function(){return this.trainable_},set:function(e){this.trainable_=e,this.val.trainable=e}}]),e}();function ai(e){return e.map((function(e){return e.read()}))}function oi(e){e.forEach((function(e){e[0].write(e[1])}))}var ii=(0,oa.Z)((function e(t){(0,aa.Z)(this,e),this.dtype=t.dtype,this.shape=t.shape,null!=t.shape?this.ndim=t.shape.length:this.ndim=t.ndim,this.maxNDim=t.maxNDim,this.minNDim=t.minNDim,this.axes=t.axes||{}})),si=(0,oa.Z)((function e(t,n,r,a,o,i,s){(0,aa.Z)(this,e),this.dtype=t,this.shape=n,this.sourceLayer=r,this.inputs=a,this.callArgs=o,this.outputTensorIndex=s,this.id=za(),null!=i&&(this.originalName=eo(i),this.name=to(this.originalName)),this.rank=n.length})),ui=0,ci=function(){function e(t,n){(0,aa.Z)(this,e),this.callArgs=n,this.id=ui++,this.outboundLayer=t.outboundLayer,this.inboundLayers=t.inboundLayers,this.nodeIndices=t.nodeIndices,this.tensorIndices=t.tensorIndices,this.inputTensors=t.inputTensors,this.outputTensors=t.outputTensors,this.inputMasks=t.inputMasks,this.outputMasks=t.outputMasks,this.inputShapes=t.inputShapes,this.outputShapes=t.outputShapes;var r,a=(0,ra.Z)(t.inboundLayers);try{for(a.s();!(r=a.n()).done;){var o=r.value;null!=o&&o.outboundNodes.push(this)}}catch(i){a.e(i)}finally{a.f()}t.outboundLayer.inboundNodes.push(this)}return(0,oa.Z)(e,[{key:"getConfig",value:function(){var e,t=[],n=(0,ra.Z)(this.inboundLayers);try{for(n.s();!(e=n.n()).done;){var r=e.value;null!=r?t.push(r.name):t.push(null)}}catch(a){n.e(a)}finally{n.f()}return{outboundLayer:this.outboundLayer?this.outboundLayer.name:null,inboundLayers:t,nodeIndices:this.nodeIndices,tensorIndices:this.tensorIndices}}}]),e}(),li=0,fi=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,aa.Z)(this,n),(e=t.call(this))._callHook=null,e._addedWeightNames=[],e._stateful=!1,e.id=li++,e.activityRegularizer=null,e.inputSpec=null,e.supportsMasking=!1,e._trainableWeights=[],e._nonTrainableWeights=[],e._losses=[],e._updates=[],e._built=!1,e.inboundNodes=[],e.outboundNodes=[];var a=r.name;if(!a){var o=e.getClassName();a=Ca(o)+"_"+Ua(o)}if(e.name=a,e.trainable_=null==r.trainable||r.trainable,null!=r.inputShape||null!=r.batchInputShape){var i;if(null!=r.batchInputShape)i=r.batchInputShape;else if(null!=r.inputShape){var s=null;null!=r.batchSize&&(s=r.batchSize),i=[s].concat(r.inputShape)}e.batchInputShape=i;var u=r.dtype;null==u&&(u=r.inputDType),null==u&&(u="float32"),e.dtype=u}return null!=r.weights?e.initialWeights=r.weights:e.initialWeights=null,e._refCount=null,e.fastWeightInitDuringBuild=!1,e}return(0,oa.Z)(n,[{key:"getNodeAtIndex",value:function(e,t){if(0===this.inboundNodes.length)throw new va("The layer has never been called "+"and thus has no defined ".concat(t,"."));if(this.inboundNodes.length<=e)throw new ma("Asked to get ".concat(t," at node ").concat(e,", ")+"but the layer has only ".concat(this.inboundNodes.length," inbound nodes."));return this.inboundNodes[e]}},{key:"getInputAt",value:function(e){return Sa(this.getNodeAtIndex(e,"input").inputTensors)}},{key:"getOutputAt",value:function(e){return Sa(this.getNodeAtIndex(e,"output").outputTensors)}},{key:"input",get:function(){if(this.inboundNodes.length>1)throw new ha("Layer ".concat(this.name)+' has multiple inbound nodes, hence the notion of "layer input" is ill-defined. Use `getInputAt(nodeIndex)` instead.');if(0===this.inboundNodes.length)throw new ha("Layer ".concat(this.name)+" is not connected, no input to return.");return Sa(this.getNodeAtIndex(0,"input").inputTensors)}},{key:"output",get:function(){if(0===this.inboundNodes.length)throw new ha("Layer ".concat(this.name)+" has no inbound nodes.");if(this.inboundNodes.length>1)throw new ha("Layer ".concat(this.name)+' has multiple inbound nodes, hence the notion of "layer output" is ill-defined. Use `getOutputAt(nodeIndex)` instead.');return Sa(this.getNodeAtIndex(0,"output").outputTensors)}},{key:"losses",get:function(){return this._losses}},{key:"calculateLosses",value:function(){return this.losses.map((function(e){return e()}))}},{key:"updates",get:function(){return this._updates}},{key:"built",get:function(){return this._built},set:function(e){this._built=e}},{key:"trainable",get:function(){return this.trainable_},set:function(e){this._trainableWeights.forEach((function(t){return t.trainable=e})),this.trainable_=e}},{key:"trainableWeights",get:function(){return this.trainable_?this._trainableWeights.filter((function(e){return e.trainable})):[]},set:function(e){this._trainableWeights=e}},{key:"nonTrainableWeights",get:function(){return this.trainable?this._trainableWeights.filter((function(e){return!e.trainable})).concat(this._nonTrainableWeights):this._trainableWeights.concat(this._nonTrainableWeights)},set:function(e){this._nonTrainableWeights=e}},{key:"weights",get:function(){return this.trainableWeights.concat(this.nonTrainableWeights)}},{key:"stateful",get:function(){return this._stateful}},{key:"resetStates",value:function(){if(!this.stateful)throw new Error("Cannot call the resetStates() method of a non-stateful Layer object.")}},{key:"assertInputCompatibility",value:function(e){if(e=Ea(e),null!=this.inputSpec&&0!==this.inputSpec.length){var t=Ea(this.inputSpec);if(e.length!==t.length)throw new ma("Layer ".concat(this.name," expects ").concat(t.length," inputs, ")+"but it received ".concat(e.length," input tensors. ")+"Input received: ".concat(e));for(var n=0;n<e.length;n++){var r=e[n],a=t[n];if(null!=a){var o=r.rank;if(null!=a.ndim&&o!==a.ndim)throw new ma("Input ".concat(n," is incompatible with layer ").concat(this.name,": ")+"expected ndim=".concat(a.ndim,", found ndim=").concat(o));if(null!=a.maxNDim&&o>a.maxNDim)throw new ma("Input ".concat(n," is incompatible with layer ").concat(this.name)+": expected max_ndim=".concat(a.maxNDim,", found ndim=").concat(o));if(null!=a.minNDim&&o<a.minNDim)throw new ma("Input ".concat(n," is incompatible with layer ").concat(this.name)+": expected min_ndim=".concat(a.minNDim,", found ndim=").concat(o,"."));if(null!=a.dtype&&r.dtype!==a.dtype)throw new ma("Input ".concat(n," is incompatible with layer ").concat(this.name," ")+": expected dtype=".concat(a.dtype,", found dtype=").concat(r.dtype,"."));if(a.axes){var i=r.shape;for(var s in a.axes){var u=Number(s),c=a.axes[s],l=u>=0?i[u]:i[i.length+u];if(null!=c&&-1===[c,null].indexOf(l))throw new ma("Input ".concat(n," is incompatible with layer ")+"".concat(this.name,": expected axis ").concat(u," of input shape to ")+"have value ".concat(c," but got shape ").concat(i,"."))}}if(null!=a.shape)for(var f=0;f<a.shape.length;++f){var p=a.shape[f],d=r.shape[f];if(null!=p&&null!=d&&p!==d)throw new ma("Input ".concat(n," is incompatible with layer ")+"".concat(this.name,": expected shape=").concat(a.shape,", ")+"found shape=".concat(r.shape,"."))}}}}}},{key:"call",value:function(e,t){return e}},{key:"invokeCallHook",value:function(e,t){null!=this._callHook&&this._callHook(e,t)}},{key:"setCallHook",value:function(e){this._callHook=e}},{key:"clearCallHook",value:function(){this._callHook=null}},{key:"apply",value:function(e,t){var n=this;t=t||{},this.assertNotDisposed();var r,a=Ea(e),o=!0,i=(0,ra.Z)(a);try{for(i.s();!(r=i.n()).done;){if(!(r.value instanceof si)){o=!1;break}}}catch(l){i.e(l)}finally{i.f()}var s,u=!0,c=(0,ra.Z)(a);try{for(c.s();!(s=c.n()).done;){if(s.value instanceof si){u=!1;break}}}catch(l){c.e(l)}finally{c.f()}if(o===u)throw new ma("Arguments to apply() must be all SymbolicTensors or all Tensors");return Ja(this.name,(function(){if(!n.built){n.assertInputCompatibility(e);var r,o=[],i=(0,ra.Z)(Ea(e));try{for(i.s();!(r=i.n()).done;){var s=r.value;o.push(s.shape)}}catch(l){i.e(l)}finally{i.f()}n.build(Sa(o)),n.built=!0,n.initialWeights&&n.setWeights(n.initialWeights),null===n._refCount&&u&&(n._refCount=1)}if(n.assertInputCompatibility(e),u){var c,f=n.call(e,t),p=Ea(f),d=[],h=(0,ra.Z)(p);try{for(h.s();!(c=h.n()).done;){var v=c.value;-1!==a.indexOf(v)&&(v=v.clone()),d.push(v)}}catch(l){h.e(l)}finally{h.f()}if(f=Sa(d),null!=n.activityRegularizer)throw new ga("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return f}var m,g=function(e){e=Ea(e);var t,n=[],r=(0,ra.Z)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;n.push(a.shape)}}catch(l){r.e(l)}finally{r.f()}return Sa(n)}(e),y=n.computeOutputShape(g),b="float32";if(n.warnOnIncompatibleInputShape(Array.isArray(e)?g[0]:g),m=null!=y&&y.length>0&&Array.isArray(y[0])?y.map((function(r,a){return new si(b,r,n,Ea(e),t,n.name,a)})):new si(b,y,n,Ea(e),t,n.name),n.addInboundNode(e,m,null,null,g,y,t),n._refCount++,null!=n.activityRegularizer)throw new ga("Layer invocation in the presence of activity regularizer(s) is not supported yet.");return m}))}},{key:"warnOnIncompatibleInputShape",value:function(e){if(null!=this.batchInputShape)if(e.length!==this.batchInputShape.length)console.warn("The rank of the input tensor provided (shape: "+"".concat(JSON.stringify(e),") does not match that of the ")+"batchInputShape (".concat(JSON.stringify(this.batchInputShape),") ")+"of the layer ".concat(this.name));else{var t=!1;this.batchInputShape.forEach((function(n,r){null!=n&&null!=e[r]&&e[r]!==n&&(t=!0)})),t&&console.warn("The shape of the input tensor "+"(".concat(JSON.stringify(e),") does not ")+"match the expectation of layer ".concat(this.name,": ")+"".concat(JSON.stringify(this.batchInputShape)))}}},{key:"outputShape",get:function(){if(null==this.inboundNodes||0===this.inboundNodes.length)throw new ha("The layer ".concat(this.name," has never been called and thus has no ")+"defined output shape.");var e,t=[],n=(0,ra.Z)(this.inboundNodes);try{for(n.s();!(e=n.n()).done;){var r=e.value,a=JSON.stringify(r.outputShapes);-1===t.indexOf(a)&&t.push(a)}}catch(i){n.e(i)}finally{n.f()}if(1===t.length){var o=this.inboundNodes[0].outputShapes;return Array.isArray(o)&&Array.isArray(o[0])&&1===o.length?o[0]:o}throw new ha("The layer ".concat(this.name," has multiple inbound nodes with different ")+'output shapes. Hence the notion of "output shape" is ill-defined for the layer.')}},{key:"countParams",value:function(){if(!this.built)throw new va("You tried to call countParams() on ".concat(this.name,", ")+"but the layer is not built yet. Build it first by calling build(batchInputShape).");return ti(this.weights)}},{key:"build",value:function(e){this.built=!0}},{key:"getWeights",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return ai(e?this.trainableWeights:this.weights)}},{key:"setWeights",value:function(e){var t=this;(0,l.lub)((function(){var n=t.weights;if(n.length!==e.length)throw new ma('You called setWeights(weights) on layer "'.concat(t.name,'" ')+"with a weight list of length ".concat(e.length,", ")+"but the layer was expecting ".concat(n.length," weights. ")+"Provided weights: ".concat(e,"..."));if(0!==n.length){for(var r=[],a=ai(n),o=0;o<a.length;++o){var i=a[o],s=n[o],u=e[o];if(!l.D5U.arraysEqual(i.shape,u.shape))throw new ma("Layer weight shape ".concat(i.shape," ")+"not compatible with provided weight shape ".concat(u.shape));r.push([s,u])}oi(r)}}))}},{key:"addWeight",value:function(e,t,n,r,a,o,i,s){if(-1!==this._addedWeightNames.indexOf(e))throw new ma("Duplicate weight name ".concat(e," for layer ").concat(this.name));this._addedWeightNames.push(e),null==n&&(n="float32"),this.fastWeightInitDuringBuild&&(r=null!=s?s():Yo("zeros"));var u=r.apply(t,n),c=new ri(u,n,e,o,i);return u.dispose(),null!=a&&this.addLoss((function(){return a.apply(c.read())})),null==o&&(o=!0),o?this._trainableWeights.push(c):this._nonTrainableWeights.push(c),c}},{key:"setFastWeightInitDuringBuild",value:function(e){this.fastWeightInitDuringBuild=e}},{key:"addLoss",value:function(e){var t;null==e||Array.isArray(e)&&0===e.length||(e=Ea(e),void 0!==this._losses&&null!==this._losses&&(t=this.losses).push.apply(t,(0,Qn.Z)(e)))}},{key:"computeOutputShape",value:function(e){return e}},{key:"computeMask",value:function(e,t){var n=this;if(!this.supportsMasking){if(null!=t){if(!Array.isArray(t))throw new TypeError("Layer ".concat(this.name," does not support masking, ")+"but was passed an inputMask.");t.forEach((function(e){if(null!=e)throw new TypeError("Layer ".concat(n.name," does not support masking, ")+"but was passed an inputMask.")}))}return null}return t}},{key:"addInboundNode",value:function(e,t,n,r,a,o){var i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=Ea(e);t=Ea(t),n=Ea(n),r=Ea(r),a=$o(a),o=$o(o);var u,c=[],l=[],f=[],p=(0,ra.Z)(s);try{for(p.s();!(u=p.n()).done;){var d=u.value;c.push(d.sourceLayer),l.push(d.nodeIndex),f.push(d.tensorIndex)}}catch(v){p.e(v)}finally{p.f()}new ci({outboundLayer:this,inboundLayers:c,nodeIndices:l,tensorIndices:f,inputTensors:s,outputTensors:t,inputMasks:n,outputMasks:r,inputShapes:a,outputShapes:o},i);for(var h=0;h<t.length;h++)t[h].sourceLayer=this,t[h].nodeIndex=this.inboundNodes.length-1,t[h].tensorIndex=h}},{key:"getConfig",value:function(){var e={name:this.name,trainable:this.trainable};return null!=this.batchInputShape&&(e.batchInputShape=this.batchInputShape),null!=this.dtype&&(e.dtype=this.dtype),e}},{key:"disposeWeights",value:function(){return this.weights.forEach((function(e){return e.dispose()})),this.weights.length}},{key:"assertNotDisposed",value:function(){if(0===this._refCount)throw new Error("Layer '".concat(this.name,"' is already disposed."))}},{key:"dispose",value:function(){if(!this.built)throw new Error("Cannot dispose Layer ".concat(this.name," because it has not been ")+"built yet.");if(null===this._refCount)throw new Error("Cannot dispose Layer ".concat(this.name," because it has not been used ")+"yet.");this.assertNotDisposed();var e=0;return 0===--this._refCount&&(e=this.disposeWeights()),{refCountAfterDispose:this._refCount,numDisposedVariables:e}}}],[{key:"nodeKey",value:function(e,t){return e.name+"_ib-"+t.toString()}}]),n}(l.m7h.Serializable);function pi(e,t,n){if((null==t||null!=n&&n>0)&&(t=e.sourceLayer,n=e.nodeIndex),0===t.inboundNodes.length)return[e];var r=t.inboundNodes[n];if(0===r.inboundLayers.length)return r.inputTensors;for(var a=[],o=0;o<r.inboundLayers.length;o++){var i,s=pi(r.inputTensors[o],r.inboundLayers[o],r.nodeIndices[o]),u=(0,ra.Z)(s);try{for(u.s();!(i=u.n()).done;){var c=i.value;-1===a.indexOf(c)&&a.push(c)}}catch(l){u.e(l)}finally{u.f()}}return a}var di=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;if((0,aa.Z)(this,n),r=t.call(this,{dtype:e.dtype,name:null!=e.name?e.name:Ua("input").toString()}),null==e.batchSize&&(e.batchSize=null),null==e.sparse&&(e.sparse=!1),r.trainable=!1,r.built=!0,r.sparse=e.sparse,null!=e.inputShape&&null!=e.batchInputShape)throw new ma("Only provide the inputShape OR batchInputShape argument to inputLayer, not both at the same time.");var a=e.batchInputShape;if(null==a){if(null==e.inputShape)throw new ma("An InputLayer should be passed either a `batchInputShape` or an `inputShape`.");a=[e.batchSize].concat(e.inputShape)}else if(null!=e.batchSize)throw new ma("Cannot specify batchSize if batchInputShape is specified when creating an InputLayer.");var o=e.dtype||"float32";r.batchInputShape=a,r.dtype=o,r.inputSpec=[{shape:a}];var i=new si(r.dtype,r.batchInputShape,(0,ia.Z)(r),[],{},r.name);return i.nodeIndex=0,i.tensorIndex=0,new ci({outboundLayer:(0,ia.Z)(r),inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:[i],outputTensors:[i],inputMasks:[null],outputMasks:[null],inputShapes:[a],outputShapes:[a]}),r}return(0,oa.Z)(n,[{key:"apply",value:function(e,t){throw new ma("Cannot pass any input to an "+"InputLayer's apply() method. InputLayer name: ".concat(this.name))}},{key:"dispose",value:function(){return{refCountAfterDispose:this._refCount,numDisposedVariables:0}}},{key:"getConfig",value:function(){return{batchInputShape:this.batchInputShape,dtype:this.dtype,sparse:this.sparse,name:this.name}}}]),n}(fi);function hi(e){if(null==e.batchShape&&null==e.shape)throw new Error("Please provide to Input either a `shape` or a `batchShape` argument. Note that `shape` does not include the batch dimension.");if(null!=e.batchShape&&null!=e.shape)throw new ma("Please provide either a `shape` or `batchShape` argument to Input, but not both.");var t=e.batchShape;null!=e.shape&&null==t&&(t=[null].concat(e.shape));var n=e.dtype;return null==n&&(n="float32"),new di({batchInputShape:t,name:e.name,dtype:n,sparse:e.sparse}).inboundNodes[0].outputTensors[0]}di.className="InputLayer",l.m7h.registerClass(di);var vi=function(){function e(t){if((0,aa.Z)(this,e),this.id2Value={},this.id2Mask={},this.name2Id={},t instanceof e)for(var n in t.id2Value)this.id2Value[n]=t.id2Value[n],n in t.id2Mask&&(this.id2Mask[n]=t.id2Mask[n]);else{if(null==t)return;var r,a=(0,ra.Z)(t);try{for(a.s();!(r=a.n()).done;){var o=r.value;this.add(o.key,o.value)}}catch(i){a.e(i)}finally{a.f()}}}return(0,oa.Z)(e,[{key:"add",value:function(e,t,n){if(null!=this.id2Value[e.id])throw new ma("Duplicate key: name=".concat(e.name,", id=").concat(e.id));return this.id2Value[e.id]=function(e,t){if(null==e.dtype||e.dtype===t.dtype)return t;try{return(0,l.pju)(t,e.dtype)}catch(n){throw new ma("The dtype of the feed (".concat(t.dtype,") can not be cast to the dtype ")+"of the key '".concat(e.name,"' (").concat(e.dtype,")."))}}(e,t),this.name2Id[e.name]=e.id,null!=n&&(this.id2Mask[e.id]=n),this}},{key:"addFeed",value:function(e){this.add(e.key,e.value)}},{key:"hasKey",value:function(e){return null!=this.id2Value[e.id]}},{key:"names",value:function(){return Object.keys(this.name2Id)}},{key:"getValue",value:function(e){if(e instanceof si){if(null==this.id2Value[e.id])throw new ma("Nonexistent key: ".concat(e.name));return this.id2Value[e.id]}var t=this.name2Id[e];if(null==t)throw new ma("Feed dict has no SymbolicTensor name: ".concat(e));return this.id2Value[t]}},{key:"getMask",value:function(e){if(e instanceof si){if(null==this.id2Value[e.id])throw new ma("Nonexistent key: ".concat(e.name));return this.id2Mask[e.id]}var t=this.name2Id[e];if(null==t)throw new ma("Feed dict has no SymbolicTensor name: ".concat(e));return this.id2Mask[t]}},{key:"disposeMasks",value:function(){null!=this.id2Mask&&(0,l.B90)(this.id2Mask)}}]),e}(),mi=new ba,gi=new ba;function yi(e,t,n,r){var a,o=null!=n&&n.training,i=Array.isArray(e),s=i?e:[e],u=s.map((function(e){return e.name})),c=[],f=t.names(),p=(0,ra.Z)(u);try{for(p.s();!(a=p.n()).done;){var d=a.value;-1!==f.indexOf(d)?c.push(t.getValue(d)):c.push(null)}}catch(j){p.e(j)}finally{p.f()}null!=r&&(r.maxNumTensors=-1/0,r.minNumTensors=1/0);var h,v=u.join(",")+"|"+t.names().sort().join(","),m=mi.get(v);if(null==m){var g=function(e,t){l.D5U.assert(null!=e&&e.length>0,(function(){return"Expected at least one fetch, got none"}));var n=[],r={};if(1===e.length){var a=xi(e[0],t);n=a.sorted,r=a.recipientMap}else{var o,i=new Set,s=(0,ra.Z)(e);try{for(s.s();!(o=s.n()).done;){var u,c=xi(o.value,t),f=c.sorted,p=c.recipientMap,d=(0,ra.Z)(f);try{for(d.s();!(u=d.n()).done;){var h=u.value;i.has(h.name)||(n.push(h),i.add(h.name))}}catch(j){d.e(j)}finally{d.f()}var v=function(e){null==r[e]&&(r[e]=new Set),p[e].forEach((function(t){return r[e].add(t)}))};for(var m in p)v(m)}}catch(j){s.e(j)}finally{s.f()}}return{sorted:n,recipientCounts:bi(r)}}(s,t);m=g.sorted,h=g.recipientCounts,mi.put(v,m),gi.put(v,h)}h={},o||Object.assign(h,gi.get(v));for(var y=new vi(t),b=0;b<m.length;++b){if(null!=r){var x=(0,l.sq6)().numTensors;x>r.maxNumTensors&&(r.maxNumTensors=x),x<r.minNumTensors&&(r.minNumTensors=x)}var w=m[b],k=w.sourceLayer;if(!(k instanceof di)){var S,E=[],C=[],N=[],T=!1,I=(0,ra.Z)(w.inputs);try{for(I.s();!(S=I.n()).done;){var O=S.value,_=y.getValue(O),D=y.getMask(O);E.push(_),C.push(D),null!=D&&(T=!0),o||(h[O.name]--,0!==h[O.name]||t.hasKey(O)||-1!==u.indexOf(O.name)||_.isDisposed||!0===O.sourceLayer.stateful||N.push(_))}}catch(j){I.e(j)}finally{I.f()}T&&((n=n||{}).mask=C[0]);var A=Ea(k.apply(E,n)),R=null;k.supportsMasking&&(R=k.computeMask(E,C));for(var P=wi(w),M=Array.isArray(P)?P:[P],F=0;F<M.length;++F){y.hasKey(M[F])||y.add(M[F],A[F],Array.isArray(R)?R[0]:R);var L=u.indexOf(M[F].name);-1!==L&&(c[L]=A[F])}o||(0,l.B90)(N)}}return y.disposeMasks(),i?c:c[0]}function bi(e){var t={};for(var n in e)t[n]=e[n].size;return t}function xi(e,t){var n,r=new Set,a=[],o={},i=(0,ra.Z)(t.names());try{for(i.s();!(n=i.n()).done;){var s=n.value;r.add(s)}}catch(v){i.e(v)}finally{i.f()}var u=[],c=[];for(u.push(e);u.length>0;){var l=u[u.length-1];if(r.has(l.name))u.pop();else{var f=c[c.length-1]===u.length-1;if(0===l.inputs.length||f)u.pop(),a.push(l),r.add(l.name),f&&c.pop();else{c.push(u.length-1);var p,d=(0,ra.Z)(l.inputs);try{for(d.s();!(p=d.n()).done;){var h=p.value;null==o[h.name]&&(o[h.name]=new Set),o[h.name].add(l.name),r.has(h.name)||u.push(h)}}catch(v){d.e(v)}finally{d.f()}}}}return{sorted:a,recipientMap:o}}function wi(e){var t;if(1===e.sourceLayer.inboundNodes.length)t=e.sourceLayer.output;else{for(var n=null,r=0;r<e.sourceLayer.inboundNodes.length;++r){var a,o=(0,ra.Z)(e.sourceLayer.inboundNodes[r].outputTensors);try{for(o.s();!(a=o.n()).done;){if(a.value.id===e.id){n=r;break}}}catch(i){o.e(i)}finally{o.f()}}t=e.sourceLayer.getOutputAt(n)}return t}function ki(e,t){return(0,l.lub)((function(){return l._b3(l.Smz(l.dC7(e,e),t,!0))}))}(0,l.OBj)().registerFlag("TOPOLOGICAL_SORT_CACHE_MAX_ENTRIES",(function(){return 100}),(function(e){null!=mi&&mi.setMaxEntries(e),null!=gi&&gi.setMaxEntries(e)}));var Si=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(){return(0,aa.Z)(this,n),t.apply(this,arguments)}return(0,oa.Z)(n,[{key:"getConfig",value:function(){return{}}}]),n}(l.m7h.Serializable),Ei=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;return(0,aa.Z)(this,n),(r=t.call(this)).defaultMaxValue=2,r.defaultAxis=0,r.maxValue=null!=e.maxValue?e.maxValue:r.defaultMaxValue,r.axis=null!=e.axis?e.axis:r.defaultAxis,r}return(0,oa.Z)(n,[{key:"apply",value:function(e){var t=this;return(0,l.lub)((function(){var n=ki(e,t.axis),r=l.iUl(n,0,t.maxValue);return l.dC7(e,l.hiC(r,l.IHx(co(),n)))}))}},{key:"getConfig",value:function(){return{maxValue:this.maxValue,axis:this.axis}}}]),n}(Si);Ei.className="MaxNorm",l.m7h.registerClass(Ei);var Ci=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;return(0,aa.Z)(this,n),(r=t.call(this)).defaultAxis=0,r.axis=null!=e.axis?e.axis:r.defaultAxis,r}return(0,oa.Z)(n,[{key:"apply",value:function(e){var t=this;return(0,l.lub)((function(){return l.hiC(e,l.IHx(co(),ki(e,t.axis)))}))}},{key:"getConfig",value:function(){return{axis:this.axis}}}]),n}(Si);Ci.className="UnitNorm",l.m7h.registerClass(Ci);var Ni=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(){return(0,aa.Z)(this,n),t.apply(this,arguments)}return(0,oa.Z)(n,[{key:"apply",value:function(e){return l.UYe(e)}}]),n}(Si);Ni.className="NonNeg",l.m7h.registerClass(Ni);var Ti=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;return(0,aa.Z)(this,n),(r=t.call(this)).defaultMinValue=0,r.defaultMaxValue=1,r.defaultRate=1,r.defaultAxis=0,r.minValue=null!=e.minValue?e.minValue:r.defaultMinValue,r.maxValue=null!=e.maxValue?e.maxValue:r.defaultMaxValue,r.rate=null!=e.rate?e.rate:r.defaultRate,r.axis=null!=e.axis?e.axis:r.defaultAxis,r}return(0,oa.Z)(n,[{key:"apply",value:function(e){var t=this;return(0,l.lub)((function(){var n=ki(e,t.axis),r=l.IHx(l.dC7(t.rate,l.iUl(n,t.minValue,t.maxValue)),l.dC7(1-t.rate,n));return l.dC7(e,l.hiC(r,l.IHx(co(),n)))}))}},{key:"getConfig",value:function(){return{minValue:this.minValue,maxValue:this.maxValue,rate:this.rate,axis:this.axis}}}]),n}(Si);Ti.className="MinMaxNorm",l.m7h.registerClass(Ti);var Ii={maxNorm:"MaxNorm",minMaxNorm:"MinMaxNorm",nonNeg:"NonNeg",unitNorm:"UnitNorm"};function Oi(e){return Ia(e)}function _i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _a(e,l.m7h.SerializationMap.getMap().classNameMap,t,"constraint")}function Di(e){return null==e?null:"string"===typeof e?_i({className:e in Ii?Ii[e]:e,config:{}}):e instanceof Si?e:_i(e)}function Ai(e){return new Ei(e)}function Ri(e){return new Ci(e)}function Pi(){return new Ni}function Mi(e){return new Ti(e)}function Fi(){return new Ao}function Li(){return new Ro}function ji(e){return new Po(e)}function Zi(e){return new Mo(e)}function zi(e){return new Fo(e)}function Bi(e){return new Lo(e)}function Ui(e){return new jo(e)}function Wi(e){return new Zo(e)}function Vi(e){return new zo(e)}function Hi(e){return new Bo(e)}function Gi(e){return new Uo(e)}function qi(e){return new Wo(e)}function Xi(e){return new Vo(e)}function Ki(e){return new Ho(e)}function Yi(e){return new Go(e)}var Qi,$i=n(5861),Ji=n(7757),es=n.n(Ji);function ts(e){return ns.apply(this,arguments)}function ns(){return(ns=(0,$i.Z)(es().mark((function e(t){var n,r,a,o,i,s,u,c;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return");case 2:for(o in n=[],r=[],a=[],t)"number"!==typeof(i=t[o])&&(s=i,n.push(s.data()),r.push(o),a.push(s));if(!(n.length>0)){e.next=12;break}return e.next=9,Promise.all(n);case 9:for(u=e.sent,c=0;c<u.length;++c)t[r[c]]=u[c][0];(0,l.B90)(a);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rs(e){if(null!=e)for(var t in e){var n=e[t];"number"!==typeof n&&n.dispose()}}!function(e){e[e.SILENT=0]="SILENT",e[e.VERBOSE=1]="VERBOSE"}(Qi||(Qi={}));var as=function(){function e(){(0,aa.Z)(this,e),this.validationData=null}return(0,oa.Z)(e,[{key:"setParams",value:function(e){this.params=e}},{key:"onEpochBegin",value:function(){var e=(0,$i.Z)(es().mark((function e(t,n){return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=(0,$i.Z)(es().mark((function e(t,n){return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchBegin",value:function(){var e=(0,$i.Z)(es().mark((function e(t,n){return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchEnd",value:function(){var e=(0,$i.Z)(es().mark((function e(t,n){return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onTrainBegin",value:function(){var e=(0,$i.Z)(es().mark((function e(t){return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"onTrainEnd",value:function(){var e=(0,$i.Z)(es().mark((function e(t){return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"setModel",value:function(e){}}]),e}(),os=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;(0,aa.Z)(this,e),null==t&&(t=[]),this.callbacks=t,this.queueLength=n}return(0,oa.Z)(e,[{key:"append",value:function(e){this.callbacks.push(e)}},{key:"setParams",value:function(e){var t,n=(0,ra.Z)(this.callbacks);try{for(n.s();!(t=n.n()).done;){t.value.setParams(e)}}catch(r){n.e(r)}finally{n.f()}}},{key:"setModel",value:function(e){var t,n=(0,ra.Z)(this.callbacks);try{for(n.s();!(t=n.n()).done;){t.value.setModel(e)}}catch(r){n.e(r)}finally{n.f()}}},{key:"onEpochBegin",value:function(){var e=(0,$i.Z)(es().mark((function e(t,n){var r,a,o;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==n&&(n={}),r=(0,ra.Z)(this.callbacks),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=10;break}return o=a.value,e.next=8,o.onEpochBegin(t,n);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r.e(e.t0);case 15:return e.prev=15,r.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=(0,$i.Z)(es().mark((function e(t,n){var r,a,o;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==n&&(n={}),r=(0,ra.Z)(this.callbacks),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=10;break}return o=a.value,e.next=8,o.onEpochEnd(t,n);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r.e(e.t0);case 15:return e.prev=15,r.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchBegin",value:function(){var e=(0,$i.Z)(es().mark((function e(t,n){var r,a,o;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==n&&(n={}),r=(0,ra.Z)(this.callbacks),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=10;break}return o=a.value,e.next=8,o.onBatchBegin(t,n);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r.e(e.t0);case 15:return e.prev=15,r.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchEnd",value:function(){var e=(0,$i.Z)(es().mark((function e(t,n){var r,a,o;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==n&&(n={}),r=(0,ra.Z)(this.callbacks),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=10;break}return o=a.value,e.next=8,o.onBatchEnd(t,n);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),r.e(e.t0);case 15:return e.prev=15,r.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onTrainBegin",value:function(){var e=(0,$i.Z)(es().mark((function e(t){var n,r,a;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==t&&(t={}),n=(0,ra.Z)(this.callbacks),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return a=r.value,e.next=8,a.onTrainBegin(t);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onTrainEnd",value:function(){var e=(0,$i.Z)(es().mark((function e(t){var n,r,a;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==t&&(t={}),n=(0,ra.Z)(this.callbacks),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return a=r.value,e.next=8,a.onTrainEnd(t);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[2,12,15,18]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),is=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(){return(0,aa.Z)(this,n),t.call(this)}return(0,oa.Z)(n,[{key:"onEpochBegin",value:function(){var e=(0,$i.Z)(es().mark((function e(t){return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.seen=0,this.totals={};case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onBatchEnd",value:function(){var e=(0,$i.Z)(es().mark((function e(t,n){var r,a,o,i=this;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o in null==n&&(n={}),r=null==n.size?0:n.size,this.seen+=r,a=function(e){var t=n[e];if("number"===typeof t)i.totals.hasOwnProperty(e)||(i.totals[e]=0),i.totals[e]=i.totals[e]+t*r;else{var a;e in i.totals?a=i.totals[e]:i.totals[e]=0;var o=(0,l.lub)((function(){return(0,l.IHx)(i.totals[e],(0,l.dC7)(t,r))}));i.totals[e]=o,null!=a&&a.dispose()}},n)a(o);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=(0,$i.Z)(es().mark((function e(t,n){var r,a,o,i=this;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n){e.next=19;break}r=(0,ra.Z)(this.params.metrics),e.prev=2,o=function(){var e=a.value;if(null==i.totals[e])return"continue";"number"===typeof i.totals[e]?n[e]=i.totals[e]/i.seen:(0,l.lub)((function(){var t=(0,l.dC7)((0,l.hiC)(1,i.seen),i.totals[e]);n[e]=t,i.totals[e].dispose(),(0,l.CnY)(n[e])}))},r.s();case 5:if((a=r.n()).done){e.next=11;break}if("continue"!==o()){e.next=9;break}return e.abrupt("continue",9);case 9:e.next=5;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),r.e(e.t0);case 16:return e.prev=16,r.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[2,13,16,19]])})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(as),ss=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(){return(0,aa.Z)(this,n),t.apply(this,arguments)}return(0,oa.Z)(n,[{key:"onTrainBegin",value:function(){var e=(0,$i.Z)(es().mark((function e(t){return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.epoch=[],this.history={};case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=(0,$i.Z)(es().mark((function e(t,n){var r;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r in null==n&&(n={}),this.epoch.push(t),n)null==this.history[r]&&(this.history[r]=[]),this.history[r].push(n[r]);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"syncData",value:function(){var e=(0,$i.Z)(es().mark((function e(){var t,n,r,a,o,i,s,u,c;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a in t=[],n=[],r=[],this.history)for(o=this.history[a],i=0;i<o.length;++i)"number"!==typeof o[i]&&(s=o[i],t.push(s.data()),n.push(a),r.push(i));return e.next=6,Promise.all(t);case 6:for(u=e.sent,c=0;c<u.length;++c)this.history[n[c]][r[c]].dispose(),this.history[n[c]][r[c]]=u[c][0];case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(as),us=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e,r){var a;if((0,aa.Z)(this,n),(a=t.call(this)).currentEpoch=0,a.nowFunc=e.nowFunc,a.nextFrameFunc=e.nextFrameFunc||l.glt,a.yieldEvery=r||"auto","auto"===a.yieldEvery&&(a.yieldEvery=125),"never"===a.yieldEvery&&null!=e.onYield)throw new Error("yieldEvery is `never` but you provided an `onYield` callback. Either change `yieldEvery` or remove the callback");return l.D5U.isNumber(a.yieldEvery)&&(a.maybeWait=function(e,t,n){var r,a=null!=n?n():l.D5U.now();return function(){var o=null!=n?n():l.D5U.now();return o-a<t?r:(a=o,r=e.apply(void 0,arguments))}}(a.maybeWait.bind((0,ia.Z)(a)),a.yieldEvery,a.nowFunc)),a.trainBegin=e.onTrainBegin,a.trainEnd=e.onTrainEnd,a.epochBegin=e.onEpochBegin,a.epochEnd=e.onEpochEnd,a.batchBegin=e.onBatchBegin,a.batchEnd=e.onBatchEnd,a.yield=e.onYield,a}return(0,oa.Z)(n,[{key:"maybeWait",value:function(){var e=(0,$i.Z)(es().mark((function e(t,n,r){var a;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=[],null==this.yield){e.next=5;break}return e.next=4,ts(r);case 4:a.push(this.yield(t,n,r));case 5:return a.push(this.nextFrameFunc()),e.next=8,Promise.all(a);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"onEpochBegin",value:function(){var e=(0,$i.Z)(es().mark((function e(t,n){return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentEpoch=t,null==this.epochBegin){e.next=6;break}return e.next=4,ts(n);case 4:return e.next=6,this.epochBegin(t,n);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=(0,$i.Z)(es().mark((function e(t,n){var r;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],null==this.epochEnd){e.next=5;break}return e.next=4,ts(n);case 4:r.push(this.epochEnd(t,n));case 5:return"epoch"===this.yieldEvery&&r.push(this.nextFrameFunc()),e.next=8,Promise.all(r);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchBegin",value:function(){var e=(0,$i.Z)(es().mark((function e(t,n){return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.batchBegin){e.next=5;break}return e.next=3,ts(n);case 3:return e.next=5,this.batchBegin(t,n);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onBatchEnd",value:function(){var e=(0,$i.Z)(es().mark((function e(t,n){var r;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],null==this.batchEnd){e.next=5;break}return e.next=4,ts(n);case 4:r.push(this.batchEnd(t,n));case 5:return"batch"===this.yieldEvery?r.push(this.nextFrameFunc()):l.D5U.isNumber(this.yieldEvery)&&r.push(this.maybeWait(this.currentEpoch,t,n)),e.next=8,Promise.all(r);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onTrainBegin",value:function(){var e=(0,$i.Z)(es().mark((function e(t){return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.trainBegin){e.next=5;break}return e.next=3,ts(t);case 3:return e.next=5,this.trainBegin(t);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onTrainEnd",value:function(){var e=(0,$i.Z)(es().mark((function e(t){return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==this.trainEnd){e.next=5;break}return e.next=3,ts(t);case 3:return e.next=5,this.trainEnd(t);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(as);function cs(e,t){return null==e&&(e={}),e instanceof as?[e]:Array.isArray(e)&&e[0]instanceof as?e:Ea(e).map((function(e){return new us(e,t)}))}var ls=function(){function e(){(0,aa.Z)(this,e)}return(0,oa.Z)(e,null,[{key:"registerCallbackConstructor",value:function(t,n){l.D5U.assert(t>=0&&Number.isInteger(t),(function(){return"Verbosity level is expected to be an integer >= 0, "+"but got ".concat(t)})),e.checkForDuplicate(n),null==e.constructors[t]&&(e.constructors[t]=[]),e.constructors[t].push(n)}},{key:"checkForDuplicate",value:function(t){for(var n in e.constructors){e.constructors[+n].forEach((function(e){if(e===t)throw new ma("Duplicate callback constructor.")}))}}},{key:"clear",value:function(){e.constructors={}}},{key:"createCallbacks",value:function(t){var n=[];for(var r in e.constructors){var a=+r;t>=a&&n.push.apply(n,(0,Qn.Z)(e.constructors[a]))}return n.map((function(e){return new e}))}}]),e}();function fs(e,t,n,r,a,o,i,s,u){var c=new ss,l=[new is].concat((0,Qn.Z)(ls.createCallbacks(t)));null!=e&&l.push.apply(l,(0,Qn.Z)(e)),l.push(c);var f=new os(l);return f.setParams({epochs:n,initialEpoch:r,samples:a,steps:o,batchSize:i,verbose:t,doValidation:s,metrics:u}),{callbackList:f,history:c}}ls.constructors={};var ps=n(1752);function ds(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return _a(e,l.m7h.SerializationMap.getMap().classNameMap,t,"layer",n)}function hs(e,t){return(0,l.lub)((function(){"float32"!==e.dtype&&(e=l.pju(e,"float32"));var n=l.Smz(So(e),t,!0),r=l.hlL(n.shape,co()),a=l._b3(l.gWQ(n,r));return l.hiC(e,a)}))}function vs(e,t){return(0,l.lub)((function(){return l.J69(So(l.luU(t,e)),-1)}))}function ms(e,t){return(0,l.lub)((function(){return l.J69(l.WnP(l.luU(t,e)),-1)}))}function gs(e,t){return(0,l.lub)((function(){var n=l.luU(e,t),r=l.iUl(l.WnP(e),co(),Number.MAX_VALUE),a=l.WnP(l.hiC(n,r));return l.dC7(100,l.J69(a,-1))}))}function ys(e,t){return(0,l.lub)((function(){var n=l.iUl(t,co(),Number.MAX_VALUE),r=l.cM7(l.IHx(1,n)),a=l.iUl(e,co(),Number.MAX_VALUE),o=l.cM7(l.IHx(1,a));return l.J69(So(l.luU(r,o)),-1)}))}function bs(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,l.lub)((function(){if(n)t=l.XAC(t);else{var r=l.Smz(t,t.shape.length-1,!0);t=l.hiC(t,r)}return t=l.iUl(t,co(),1-co()),l.W76(l.Smz(l.dC7(l.pju(e,"float32"),l.cM7(t)),t.shape.length-1))}))}function xs(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,l.lub)((function(){var r=l.pju(l.GWj(po(e)),"int32"),a=(t=l.iUl(t,co(),1-co())).shape;return bs(l.XLQ(l.lfX(r,a[a.length-1]),a),t,n)}))}function ws(e,t){return(0,l.lub)((function(){var n;return n=l.iUl(t,co(),1-co()),n=l.cM7(l.hiC(n,l.luU(1,n))),l.J69(function(e,t){if(!l.D5U.arraysEqual(e.shape,t.shape))throw new ma("logits and labels must have the same shape, but got shapes "+"".concat(JSON.stringify(e.shape)," and ").concat(JSON.stringify(t.shape)));return(0,l.lub)((function(){var n=l.UYe(t),r=l.W76(l.WnP(t));return l.IHx(l.luU(n,l.dC7(t,e)),l.Krr(l.Qqt(r)))}))}(e,n),-1)}))}function ks(e,t){return(0,l.lub)((function(){var n=l.iUl(e,co(),1),r=l.iUl(t,co(),1);return l.Smz(l.dC7(e,l.cM7(l.hiC(n,r))),-1)}))}function Ss(e,t){return(0,l.lub)((function(){var n=hs(e,-1),r=hs(t,-1),a=l.dC7(n,r);return l.W76(l.Smz(a,-1))}))}var Es={meanSquaredError:vs,meanAbsoluteError:ms,meanAbsolutePercentageError:gs,meanSquaredLogarithmicError:ys,squaredHinge:function(e,t){return(0,l.lub)((function(){var n=l.gWQ(0,l.luU(1,l.dC7(e,t)));return l.J69(So(n),-1)}))},hinge:function(e,t){return(0,l.lub)((function(){var n=l.gWQ(0,l.luU(1,l.dC7(e,t)));return l.J69(n,-1)}))},categoricalHinge:function(e,t){return(0,l.lub)((function(){var n=l.Smz(l.dC7(e,t),-1),r=l.Fp7(l.dC7(l.luU(1,e),t),-1);return l.gWQ(0,l.IHx(1,l.luU(r,n)))}))},logcosh:function(e,t){return(0,l.lub)((function(){var n=Math.log(2),r=l.luU(t,e),a=l.luU(l.IHx(r,l.Wvh(l.dC7(-2,r))),n);return l.J69(a,-1)}))},categoricalCrossentropy:bs,sparseCategoricalCrossentropy:xs,binaryCrossentropy:ws,kullbackLeiblerDivergence:ks,poisson:function(e,t){return(0,l.lub)((function(){var n=l.cM7(l.IHx(co(),t));return l.J69(l.luU(t,l.dC7(e,n)),-1)}))},cosineProximity:Ss};function Cs(e){if("string"===typeof e){if(e in Es)return Es[e];var t="Unknown loss ".concat(e);throw e.toLowerCase().includes("softmaxcrossentropy")&&(t="Unknown loss ".concat(e,". ")+'Use "categoricalCrossentropy" as the string name for tf.losses.softmaxCrossEntropy'),new ma(t)}return e}function Ns(e,t){return(0,l.lub)((function(){var n=l.dC7(.5,l.JpU(t)),r=lo(l.pjt(t,n),e.dtype);return l.J69(l.DgJ(e,r),-1)}))}function Ts(e,t){return(0,l.lub)((function(){return lo(l.DgJ(l.NqF(e,-1),l.NqF(t,-1)),"float32")}))}function Is(e,t){return(0,l.lub)((function(){return l.pju(l.Smz(l.HvI(l.DgJ(e,1),l.DgJ(t,1))),"float32")}))}function Os(e,t){return(0,l.lub)((function(){var n=Is(e,t),r=function(e,t){return(0,l.lub)((function(){return l.pju(l.Smz(l.HvI(l.DgJ(e,0),l.DgJ(t,1))),"float32")}))}(e,t),a=l.IHx(n,r);return l.pju(l.arb(l.pjt(a,0),l.hiC(n,a),0),"float32")}))}function _s(e,t){return(0,l.lub)((function(){var n=Is(e,t),r=function(e,t){return(0,l.lub)((function(){return l.pju(l.Smz(l.HvI(l.DgJ(e,1),l.DgJ(t,0))),"float32")}))}(e,t),a=l.IHx(n,r);return l.pju(l.arb(l.pjt(a,0),l.hiC(n,a),0),"float32")}))}function Ds(e,t){return ws(e,t)}function As(e,t){return e.rank===t.rank&&(e=l.L9e(e,[e.rank-1])),(t=l.NqF(t,-1)).dtype!==e.dtype&&(t=l.pju(t,e.dtype)),l.pju(l.DgJ(e,t),"float32")}var Rs=bs,Ps=xs,Ms={binaryAccuracy:Ns,categoricalAccuracy:Ts,precision:Os,categoricalCrossentropy:Rs,sparseCategoricalCrossentropy:Ps,mse:vs,MSE:vs,mae:ms,MAE:ms,mape:gs,MAPE:gs,cosine:Ss};function Fs(e){if("string"===typeof e&&e in Ms)return Ms[e];if("string"!==typeof e&&null!=e)return e;throw new ma("Unknown metric ".concat(e))}function Ls(e){if(wa(null!==e,"Unknown LossOrMetricFn ".concat(e)),"string"===typeof e)return e;for(var t,n=0,r=Object.keys(Es);n<r.length;n++){var a=r[n];if(Es[a]===e){t=a;break}}if(void 0!==t)return t;for(var o=0,i=Object.keys(Ms);o<i.length;o++){var s=i[o];if(Ms[s]===e){t=s;break}}return void 0!==t?t:e.name}var js=1048576;function Zs(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e||"object"!==typeof e||Object.getPrototypeOf(e)!==Object.prototype||!zs(e))throw new Error("User-defined metadata is expected to be a JSON object, but is not.");if(n){var r=JSON.stringify(e);r.length>js&&console.warn('User-defined metadata of model "'.concat(t,'" is too large in ')+"size (length=".concat(r.length," when serialized). It is not ")+"recommended to store such large objects in user-defined metadata. Please make sure its serialized length is <= "+"".concat(js,"."))}}function zs(e){if(null===e)return!0;if("object"===typeof e){if(Object.getPrototypeOf(e)===Object.prototype){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];if("string"!==typeof r)return!1;if(!zs(e[r]))return!1}return!0}if(Array.isArray(e)){var a,o=(0,ra.Z)(e);try{for(o.s();!(a=o.n()).done;){if(!zs(a.value))return!1}}catch(s){o.e(s)}finally{o.f()}return!0}return!1}var i=typeof e;return"string"===i||"number"===i||"boolean"===i}function Bs(e,t,n){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:console.log,o=Ws(e),i=["Layer (type)","Input Shape","Output shape","Param #"];if(o?(t=t||90,n=n||[.32,.61,.89,1]):(t=t||115,n=n||[.24,.48,.7,.8,1]),n[n.length-1]<=1&&(n=n.map((function(e){return Math.floor(t*e)}))),!o)for(var s in i.push("Receives inputs"),r=[],e.nodesByDepth){var u;(u=r).push.apply(u,(0,Qn.Z)(e.nodesByDepth[s]))}a("_".repeat(t)),Vs(i,n,a),a("=".repeat(t));for(var c=e.layers,l=0;l<c.length;++l)o?Hs(c[l],n,a):Gs(c[l],n,r,a),a((l===c.length-1?"=":"_").repeat(t));e.checkTrainableWeightsConsistency();var f=Us(e),p=ti(e.nonTrainableWeights);a("Total params: ".concat(f+p)),a("Trainable params: ".concat(f)),a("Non-trainable params: ".concat(p)),a("_".repeat(t))}function Us(e){return null!=e.collectedTrainableWeights?ti(e.collectedTrainableWeights):ti(e.trainableWeights)}function Ws(e){var t=!0,n=[],r=[];for(var a in e.nodesByDepth)n.push(e.nodesByDepth[a]);for(var o=0,i=n;o<i.length;o++){var s=i[o];if(s.length>1||1===s.length&&s[0].inboundLayers.length>1){t=!1;break}r.push.apply(r,(0,Qn.Z)(s))}if(t){var u,c=(0,ra.Z)(e.layers);try{for(c.s();!(u=c.n()).done;){var l,f=u.value,p=!1,d=(0,ra.Z)(f.inboundNodes);try{for(d.s();!(l=d.n()).done;){var h=l.value;if(-1!==r.indexOf(h)){if(p){t=!1;break}p=!0}}}catch(v){d.e(v)}finally{d.f()}if(!t)break}}catch(v){c.e(v)}finally{c.f()}}return t}function Vs(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log,r="",a=0;a<e.length;++a)a>0&&(r=r.slice(0,r.length-1)+" "),r=(r+=e[a]).slice(0,t[a]),r+=" ".repeat(t[a]-r.length);n(r)}function Hs(e,t,n){var r,a;try{a=e.inboundNodes.map((function(e){return JSON.stringify(e.inputShapes)})).join(",")}catch(s){a="multiple"}try{r=JSON.stringify(e.outputShape)}catch(s){r="multiple"}var o=e.name,i=e.getClassName();Vs(["".concat(o," (").concat(i,")"),a,r,e.countParams().toString()],t,n)}function Gs(e,t,n,r){var a,o;try{o=e.inboundNodes.map((function(e){return JSON.stringify(e.inputShapes)})).join(",")}catch(y){o="multiple"}try{a=JSON.stringify(e.outputShape)}catch(y){a="multiple"}var i,s=[],u=(0,ra.Z)(e.inboundNodes);try{for(u.s();!(i=u.n()).done;){var c=i.value;if(!(null!=n&&n.length>0&&-1===n.indexOf(c)))for(var l=0;l<c.inboundLayers.length;++l){var f=c.inboundLayers[l].name,p=c.nodeIndices[l],d=c.tensorIndices[l];s.push("".concat(f,"[").concat(p,"][").concat(d,"]"))}}}catch(y){u.e(y)}finally{u.f()}var h=e.name,v=e.getClassName(),m=0===s.length?"":s[0];Vs(["".concat(h," (").concat(v,")"),o,a,e.countParams().toString(),m],t,r);for(var g=1;g<s.length;++g)Vs(["","","","",s[g]],t,r)}function qs(e,t,n){return("inboundNodes"===e||"outputLayers"===e||"inputLayers"===e)&&0===t&&"string"===typeof n}function Xs(e,t){if(null===e)return null;if("string"===typeof e)return Na(e);if("number"===typeof e||"boolean"===typeof e)return e;if(e instanceof Array){for(var n=[],r=e.length,a=0;a<r;++a){var o=e[a];qs(t,a,o)?n.push(o):n.push(Xs(o,t))}return n}for(var i={},s=0,u=Object.keys(e);s<u.length;s++){var c=u[s],l=e[c];if("name"===c&&"string"===typeof l)i[c]=l;else{var f=Na(c);i[f]=Xs(l,f)}}return i}function Ks(e,t){if(null===e||void 0===e)return null;if("string"===typeof e)return Ca(e);if("number"===typeof e||"boolean"===typeof e)return e;if(e instanceof Array){for(var n=[],r=e.length,a=0;a<r;++a){var o=e[a];qs(t,a,o)?n.push(o):n.push(Ks(o,t))}return n}for(var i={},s=0,u=Object.keys(e);s<u.length;s++){var c=u[s],l=e[c],f=Ca(c);i[f]="name"!==c&&"className"!==c||"string"!==typeof l?Ks(l,c):l}return i}var Ys="3.17.0",Qs=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;if((0,aa.Z)(this,n),(r=t.call(this,{})).containerNodes=new Set,r.name=e.name,null==r.name){var a=r.getClassName().toLowerCase();r.name=Ua(a)}if(r.supportsMasking=!1,r.trainable_=!0,Array.isArray(e.inputs)?r.inputs=e.inputs.slice():r.inputs=[e.inputs],Array.isArray(e.outputs)?r.outputs=e.outputs.slice():r.outputs=[e.outputs],Aa(r.inputs).length!==r.inputs.length)throw new ma("The list of inputs passed to the model is redundant. All inputs should only appear once. Found: "+"".concat(r.inputs.map((function(e){return e.name}))));Aa(r.outputs).length!==r.outputs.length&&console.warn("The list of outputs passed to the model is redundant. All outputs should only appear once. Found: "+"".concat(r.outputs.map((function(e){return e.name})))),r.inputLayers=[],r.inputLayersNodeIndices=[],r.inputLayersTensorIndices=[],r.outputLayers=[],r.outputLayersNodeIndices=[],r.outputLayersTensorIndices=[],r.layers=[],r.internalContainerRefs=[];var o,i=(0,ra.Z)(r.outputs);try{for(i.s();!(o=i.n()).done;){var s=o.value,u=s.sourceLayer,c=s.nodeIndex,l=s.tensorIndex;r.outputLayers.push(u),r.outputLayersNodeIndices.push(c),r.outputLayersTensorIndices.push(l)}}catch(ke){i.e(ke)}finally{i.f()}var f,p=(0,ra.Z)(r.inputs);try{for(p.s();!(f=p.n()).done;){var d=f.value,h=d.sourceLayer,v=d.nodeIndex,m=d.tensorIndex;wa(0===v,"input layer has >1 nodes"),wa(0===m,"input layer has >1 tensors"),r.inputLayers.push(h),r.inputLayersNodeIndices.push(v),r.inputLayersTensorIndices.push(m)}}catch(ke){p.e(ke)}finally{p.f()}r.inputNames=[],r.outputNames=[],r.feedInputShapes=[],r.feedInputNames=[],r.feedOutputNames=[];for(var g=0;g<r.inputLayers.length;g++){var y=r.inputLayers[g];if(!(y instanceof di))throw new TypeError("Input layers to a LayersModel must be InputLayer objects. "+"Received inputs: ".concat(e.inputs,". ")+"Input ".concat(g," (0-based) originates ")+"from layer type ".concat(y.getClassName(),"."));r.inputNames.push(y.name),r.feedInputShapes.push(y.batchInputShape),r.feedInputNames.push(y.name)}var b,x=(0,ra.Z)(r.outputLayers);try{for(x.s();!(b=x.n()).done;){var w=b.value;r.outputNames.push(w.name)}}catch(ke){x.e(ke)}finally{x.f()}r.internalInputShapes=r.inputs.map((function(e){return e.shape})),r.internalOutputShapes=r.outputs.map((function(e){return e.shape}));var k,S={},E={},C={},N={},T={},I=[],O=function e(t,a,o,i,s,u){null!=i&&null!=s&&null!=u||(i=t.sourceLayer,s=t.nodeIndex,u=t.tensorIndex);var c=i.inboundNodes[s];if(-1!==o.indexOf(c))throw new va("The tensor ".concat(t.name,' at layer "').concat(i.name,'" ')+"is part of a cycle.");if(-1===a.indexOf(c)){r.containerNodes.add(n.nodeKey(i,s)),i.id in T||(T[i.id]=Object.keys(T).length),-1===o.indexOf(c)&&o.push(c);for(var l=c.inboundLayers.length,f=0;f<l;f++){e(c.inputTensors[f],a,o,c.inboundLayers[f],c.nodeIndices[f],c.tensorIndices[f])}for(a.push(c);o.indexOf(c)>=0;)o.splice(o.indexOf(c),1);I.push(c)}},_=[],D=[],A=(0,ra.Z)(r.outputs);try{for(A.s();!(k=A.n()).done;){O(k.value,_,D)}}catch(ke){A.e(ke)}finally{A.f()}var R,P=I.slice().reverse(),M=(0,ra.Z)(P);try{for(M.s();!(R=M.n()).done;){var F=R.value;E[F.id]=F,F.id in S||(S[F.id]=0);var L=S[F.id],j=null==C[F.outboundLayer.id]?0:C[F.outboundLayer.id];L=Math.max(L,j),C[F.outboundLayer.id]=L,N[F.outboundLayer.id]=F.outboundLayer,S[F.id]=L;for(var Z=0;Z<F.inboundLayers.length;Z++){var z=F.inboundLayers[Z],B=F.nodeIndices[Z],U=z.inboundNodes[B],W=null==S[U.id]?0:S[U.id];S[U.id]=Math.max(L+1,W),E[U.id]=U}}}catch(ke){M.e(ke)}finally{M.f()}var V={};for(var H in S){var G=S[H];G in V||(V[G]=[]),V[G].push(E[H])}var q={};for(var X in C){var K=C[X];K in q||(q[K]=[]),q[K].push(N[X])}var Y=Object.keys(q).map((function(e){return parseInt(e,10)})).sort(Da);r.layers=[];var Q,$=(0,ra.Z)(Y);try{for($.s();!(Q=$.n()).done;){var J=q[Q.value];J.sort((function(e,t){var n=T[e.id],r=T[t.id];return n<r?-1:n>r?1:0}));var ee,te=(0,ra.Z)(J);try{for(te.s();!(ee=te.n()).done;){var ne=ee.value;ne instanceof n&&r.internalContainerRefs.push(ne),r.layers.push(ne)}}catch(ke){te.e(ke)}finally{te.f()}}}catch(ke){$.e(ke)}finally{$.f()}r.layersByDepth=q,Y=Object.keys(V).map((function(e){return parseInt(e,10)})).sort(Da);var re,ae=r.inputs.slice(),oe=[],ie=(0,ra.Z)(Y);try{for(ie.s();!(re=ie.n()).done;){var se,ue=re.value,ce=(0,ra.Z)(V[ue]);try{for(ce.s();!(se=ce.n()).done;){var le=se.value,fe=le.outboundLayer;if(null!=fe){var pe,de=(0,ra.Z)(le.inputTensors);try{for(de.s();!(pe=de.n()).done;){var he=pe.value;if(-1===ae.indexOf(he))throw new va("Graph disconnected: cannot obtain value for tensor ".concat(he)+' at layer "'.concat(fe.name,'". ')+"The following previous layers were accessed without "+"issue: ".concat(oe))}}catch(ke){de.e(ke)}finally{de.f()}var ve,me=(0,ra.Z)(le.outputTensors);try{for(me.s();!(ve=me.n()).done;){var ge=ve.value;ae.push(ge)}}catch(ke){me.e(ke)}finally{me.f()}oe.push(fe.name)}}}catch(ke){ce.e(ke)}finally{ce.f()}}}catch(ke){ie.e(ke)}finally{ie.f()}r.nodesByDepth=V;var ye,be=r.layers.map((function(e){return e.name})),xe=(0,ra.Z)(be);try{var we=function(){var e=ye.value,t=be.filter((function(t){return t===e})).length;if(1!==t)throw new va('The name "'.concat(e,'" is used ').concat(t," times ")+"in the model. All layer names should be unique. Layer names: "+JSON.stringify(be))};for(xe.s();!(ye=xe.n()).done;)we()}catch(ke){xe.e(ke)}finally{xe.f()}return r.outboundNodes=[],r.inboundNodes=[],new ci({outboundLayer:(0,ia.Z)(r),inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:r.inputs,outputTensors:r.outputs,inputMasks:r.inputs.map((function(e){return null})),outputMasks:r.outputs.map((function(e){return null})),inputShapes:r.inputs.map((function(e){return e.shape})),outputShapes:r.outputs.map((function(e){return e.shape}))}),r.built=!0,r._refCount=1,r}return(0,oa.Z)(n,[{key:"assertNotDisposed",value:function(){if(0===this._refCount)throw new Error("Container '".concat(this.name,"' is already disposed."))}},{key:"dispose",value:function(){this.assertNotDisposed();var e={refCountAfterDispose:null,numDisposedVariables:0};if(0===--this._refCount){var t,n=(0,ra.Z)(this.layers);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.numDisposedVariables+=r.dispose().numDisposedVariables}}catch(s){n.e(s)}finally{n.f()}var a,o=(0,ra.Z)(this.internalContainerRefs);try{for(o.s();!(a=o.n()).done;){var i=a.value;e.numDisposedVariables+=i.dispose().numDisposedVariables}}catch(s){o.e(s)}finally{o.f()}}return e.refCountAfterDispose=this._refCount,e}},{key:"trainable",get:function(){return this.trainable_},set:function(e){this.layers.forEach((function(t){t._trainableWeights.forEach((function(t){return t.trainable=e}))})),this.trainable_=e}},{key:"trainableWeights",get:function(){if(this._trainableWeights.length>0)throw new ma("Container instance unexpectedly contains _trainableWeights.The trainable weights of a Container are a union of the trainable weights of its consituent Layers. Its own _trainableWeights must remain an empty Array.");if(!this.trainable)return[];var e,t=[],n=(0,ra.Z)(this.layers);try{for(n.s();!(e=n.n()).done;){var r=e.value;t=t.concat(r.trainableWeights)}}catch(a){n.e(a)}finally{n.f()}return t}},{key:"nonTrainableWeights",get:function(){var e,t=[],n=(0,ra.Z)(this.layers);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push.apply(t,(0,Qn.Z)(r.nonTrainableWeights))}}catch(u){n.e(u)}finally{n.f()}if(!this.trainable){var a,o=[],i=(0,ra.Z)(this.layers);try{for(i.s();!(a=i.n()).done;){var s=a.value;o.push.apply(o,(0,Qn.Z)(s.trainableWeights))}}catch(u){i.e(u)}finally{i.f()}return o.concat(t)}return t}},{key:"weights",get:function(){return this.trainableWeights.concat(this.nonTrainableWeights)}},{key:"loadWeights",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r={},a=0,o=(0,ra.Z)(this.layers);try{for(o.s();!(t=o.n()).done;){var i,s=t.value,u=(0,ra.Z)(s.weights);try{for(u.s();!(i=u.n()).done;){var c=i.value;if(null!=r[c.originalName])throw new ma("Duplicate weight name: ".concat(c.originalName));r[c.originalName]=c,a++}}catch(g){u.e(g)}finally{u.f()}}}catch(g){o.e(g)}finally{o.f()}var l=[];for(var f in e){var p=f;if(null==r[f]){var d=f.split("/"),h=d.slice(0,-2).concat([d[d.length-1]]);p=h.join("/")}if(null!=r[p])l.push([r[p],e[f]]);else if(n)throw new ma("Provided weight data has no target variable: ".concat(f));delete r[p]}if(n){var v=[];for(var m in r)v.push(m);if(v.length>0)throw new ma("".concat(v.length," of ").concat(a," weights are not set: ")+"".concat(v))}oi(l)}},{key:"updatedConfig",value:function(){var e=this.getConfig(),t={};return t.className=this.getClassName(),t.config=e,t.kerasVersion="tfjs-layers ".concat(Ys),t.backend="TensorFlow.js",t}},{key:"toJSON",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Ks(this.updatedConfig());return t?JSON.stringify(n):n}},{key:"call",value:function(e,t){var n=this;return(0,l.lub)((function(){e=Ea(e);for(var r=new vi,a=0;a<n.inputs.length;++a)r.add(n.inputs[a],e[a]);return yi(n.outputs,r,t)}))}},{key:"computeMask",value:function(e,t){var n=this;return(0,l.lub)((function(){var r;return e=Ea(e),r=null==t?xa(null,e.length):Ea(t),n.runInternalGraph(e,r)[1]}))}},{key:"computeOutputShape",value:function(e){var t=$o(e);if(t.length!==this.inputLayers.length)throw new ma("Invalid inputShape argument ".concat(e,": ")+"model has ".concat(this.inputLayers.length," tensor inputs."));for(var n={},r=0;r<t.length;r++){var a=this.inputLayers[r],o=t[r];n[a.name+"_0_0"]=o}var i=Object.keys(this.nodesByDepth).map((function(e){return parseInt(e,10)})).sort(Da);if(i.length>1){var s,u=(0,ra.Z)(i);try{for(u.s();!(s=u.n()).done;){var c,l=s.value,f=this.nodesByDepth[l],p=(0,ra.Z)(f);try{for(p.s();!(c=p.n()).done;){var d=c.value,h=d.outboundLayer;if(-1===this.inputLayers.map((function(e){return e.id})).indexOf(h.id)){for(var v=[],m=0;m<d.inboundLayers.length;m++){var g=d.inboundLayers[m],y=d.nodeIndices[m],b=d.tensorIndices[m],x=n["".concat(g.name,"_").concat(y,"_").concat(b)];v.push(x)}for(var w=$o(h.computeOutputShape(Sa(v))),k=h.inboundNodes.indexOf(d),S=0;S<w.length;S++){n["".concat(h.name,"_").concat(k,"_").concat(S)]=w[S]}}}}catch(R){p.e(R)}finally{p.f()}}}catch(R){u.e(R)}finally{u.f()}}for(var E=[],C=[],N=0;N<this.outputLayers.length;N++){var T=this.outputLayers[N],I=this.outputLayersNodeIndices[N],O=this.outputLayersTensorIndices[N],_="".concat(T.name,"_").concat(I,"_").concat(O);C.push(_)}for(var D=0;D<C.length;D++){var A=C[D];wa(A in n),E.push(n[A])}return Sa(E)}},{key:"runInternalGraph",value:function(e,t){null==t&&(t=xa(null,e.length));for(var n={},r=0;r<this.inputs.length;++r){var a=this.inputs[r],o=e[r],i=t[r];n[a.id]=[o,i]}var s,u=Object.keys(this.nodesByDepth).map((function(e){return parseInt(e,10)})).sort(Da),c=(0,ra.Z)(u);try{for(c.s();!(s=c.n()).done;){var l,p=s.value,d=this.nodesByDepth[p],h=(0,ra.Z)(d);try{for(h.s();!(l=h.n()).done;){var v,m=l.value,g=m.outboundLayer,y=m.inputTensors,b=m.outputTensors,x=new Array,w=(0,ra.Z)(y);try{for(w.s();!(v=w.n()).done;){var k=v.value;k.id in n&&x.push(n[k.id])}}catch(V){w.e(V)}finally{w.f()}if(x.length===y.length){var S={},E=void 0,C=void 0,N=void 0,T=void 0;if(null!=m.callArgs&&(S=m.callArgs),1===x.length){var I=(0,f.Z)(x[0],2),O=I[0],_=I[1];null==S.mask&&(S.mask=_),N=Ea(g.call(O,S)),T=Ea(g.computeMask(O,_)),E=[O],C=[_]}else E=x.map((function(e){return e[0]})),C=x.map((function(e){return e[1]})),null==S.mask&&(S.mask=C),N=Ea(g.call(E,S)),T=Ea(g.computeMask(E,C));if(g.activityRegularizer)throw new ga("LayersModel invocation with concrete Tensor value(s) in the presence of activity regularizer(s) is not supported yet.");for(var D=0;D<b.length;++D){var A=b[D],R=N[D],P=T[D];n[A.id]=[R,P]}}}}catch(V){h.e(V)}finally{h.f()}}}catch(V){c.e(V)}finally{c.f()}var M,F=[],L=[],j=[],Z=(0,ra.Z)(this.outputs);try{for(Z.s();!(M=Z.n()).done;){var z=M.value;wa(z.id in n,"Could not compute output ".concat(z.name," : ").concat(z.id));var B=(0,f.Z)(n[z.id],2),U=B[0],W=B[1];j.push(U.shape),F.push(U),L.push(W)}}catch(V){Z.e(V)}finally{Z.f()}return[F,L,j]}},{key:"buildNodeConversionMap",value:function(e){var t,r,a={},o=(0,ra.Z)(this.layers);try{for(o.s();!(r=o.n()).done;){var i=r.value;t=i instanceof n?1:0;for(var s=0;s<i.inboundNodes.length;s++){var u=n.nodeKey(i,s);this.containerNodes.has(u)&&(a[u]=t,t+=1)}}}catch(c){o.e(c)}finally{o.f()}return a}},{key:"getLayer",value:function(e,t){if(null!=t){if(this.layers.length<=t)throw new ma("Was asked to retrieve layer at index ".concat(t,", but model only ")+"has ".concat(this.layers.length," layer(s)."));return this.layers[t]}if(null==e)throw new ma("Provide either a layer name or layer index");var n,r=(0,ra.Z)(this.layers);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a.name===e)return a}}catch(o){r.e(o)}finally{r.f()}throw new ma("No such layer: ".concat(e))}},{key:"calculateLosses",value:function(){var e=this;return(0,l.lub)((function(){var t,r=[],a=(0,ra.Z)(e.layers);try{for(a.s();!(t=a.n()).done;)for(var o=t.value,i=0;i<o.inboundNodes.length;++i){var s=n.nodeKey(o,i);e.containerNodes.has(s)&&r.push.apply(r,(0,Qn.Z)(o.calculateLosses()))}}catch(u){a.e(u)}finally{a.f()}return r}))}},{key:"getConfig",value:function(){var e,t={name:this.name},r=this.buildNodeConversionMap(this.layers),a=[],o=(0,ra.Z)(this.layers);try{for(o.s();!(e=o.n()).done;){for(var i=e.value,s=i.getClassName(),u=i.getConfig(),c=[],l=0;l<i.inboundNodes.length;l++){var f=i.inboundNodes[l],p=n.nodeKey(i,l),d={};if(this.containerNodes.has(p)){if(f.callArgs)try{JSON.stringify(f.callArgs),d=f.callArgs}catch(M){console.warn("Layer ".concat(i.name," was passed ")+"non-serializable keyword arguments: "+"".concat(f.callArgs,". They will not be included ")+"in the serialized model (and thus will be missing at deserialization time)."),d={}}if(f.inboundLayers.length>0){for(var h=[],v=0;v<f.inboundLayers.length;v++){var m=f.inboundLayers[v],g=f.nodeIndices[v],y=f.tensorIndices[v],b=r[n.nodeKey(m,g)];null==b&&(b=0),h.push([m.name,b,y,d])}c.push(h)}}}var x={};x.name=i.name,x.className=s,x.config=u,x.inboundNodes=c,a.push(x)}}catch(M){o.e(M)}finally{o.f()}t.layers=a;for(var w=[],k=0;k<this.inputLayers.length;k++){var S=this.inputLayers[k],E=this.inputLayersNodeIndices[k],C=n.nodeKey(S,E);if(this.containerNodes.has(C)){var N=r[C];null!==N&&void 0!==N||(N=0);var T=this.inputLayersTensorIndices[k];w.push([S.name,N,T])}}t.inputLayers=w;for(var I=[],O=0;O<this.outputLayers.length;O++){var _=this.outputLayers[O],D=this.outputLayersNodeIndices[O],A=n.nodeKey(_,D);if(this.containerNodes.has(A)){var R=r[A];null!==R&&void 0!==R||(R=0);var P=this.outputLayersTensorIndices[O];I.push([_.name,R,P])}}return t.outputLayers=I,t}},{key:"stateful",get:function(){if(this._stateful)throw new ma("Container instance unexpectedly has _stateful = true. The statefulness of a Container is determined by the Layers it contains. Its _stateful property must remain the default false.");var e,t=(0,ra.Z)(this.layers);try{for(t.s();!(e=t.n()).done;){if(e.value.stateful)return!0}}catch(n){t.e(n)}finally{t.f()}return!1}},{key:"resetStates",value:function(){var e=this;(0,l.lub)((function(){e.layers.forEach((function(e){e.stateful&&e.resetStates()}))}))}}],[{key:"fromConfig",value:function(e,t){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r={},a={};function o(e,t){e.name in a?a[e.name].push(t):a[e.name]=[t]}function i(e,t){var n,a,i=[],s=(0,ra.Z)(t);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=u[0],l=u[1],f=u[2];if(n=null==u[3]?{}:u[3],!(c in r))return void o(e,t);var p=r[c];if(p.inboundNodes.length<=l)return void o(e,t);var d=p.inboundNodes[l];i.push(d.outputTensors[f])}}catch(h){s.e(h)}finally{s.f()}i.length>0&&e.apply(Sa(i),n)}function s(e){var a=e.name,i=ds(e,null!=t.customObjects?t.customObjects:{});i.setFastWeightInitDuringBuild(n),r[a]=i,e.inboundNodes.forEach((function(e){if(!(e instanceof Array))throw new ma("Corrupted configuration, expected array for nodeData: ".concat(e));o(i,e)}))}var u,c=t.name,l=t.layers,f=(0,ra.Z)(l);try{for(f.s();!(u=f.n()).done;){var p=u.value;s(p)}}catch(B){f.e(B)}finally{f.f()}for(;!Ra(a);){var d,h=(0,ra.Z)(l);try{for(h.s();!(d=h.n()).done;){var v=d.value,m=r[v.name];if(m.name in a){var g=a[m.name];delete a[m.name];var y,b=(0,ra.Z)(g);try{for(b.s();!(y=b.n()).done;){var x=y.value;i(m,x)}}catch(B){b.e(B)}finally{b.f()}}}}catch(B){h.e(B)}finally{h.f()}}var w,k=[],S=[],E=t.inputLayers,C=(0,ra.Z)(E);try{for(C.s();!(w=C.n()).done;){var N=w.value,T=N[0],I=N[1],O=N[2];wa(T in r);var _=r[T],D=_.inboundNodes[I].outputTensors;k.push(D[O])}}catch(B){C.e(B)}finally{C.f()}var A,R=t.outputLayers,P=(0,ra.Z)(R);try{for(P.s();!(A=P.n()).done;){var M=A.value,F=M[0],L=M[1],j=M[2];wa(F in r);var Z=r[F],z=Z.inboundNodes[L].outputTensors;S.push(z[j])}}catch(B){P.e(B)}finally{P.f()}return new e({inputs:k,outputs:S,name:c})}}]),n}(fi);function $s(e,t,n){var r=t.length;if(null==e||Array.isArray(e)&&0===e.length)return t.map((function(e){return null}));if(1===r)return Array.isArray(e)&&1===e.length?e:"object"===typeof e&&t[0]in e?[e[t[0]]]:[e];if(Array.isArray(e)){if(e.length!==r)throw new Error("Provided ".concat(n," is an array of ").concat(e.length," ")+"element(s), but the model has ".concat(r," outputs. ")+"Make sure a set of weights is provided for each model output.");return e}if("object"===typeof e&&Object.keys(e).length>0&&"object"===typeof e[Object.keys(e)[0]]){var a=[];return t.forEach((function(t){t in e?a.push(e[t]):a.push(null)})),a}throw new Error("The model has multiple (".concat(r,") outputs, ")+"so ".concat(n," must be either an array with ")+"".concat(r," elements or an object with ").concat(t," keys. ")+"Provided ".concat(n," not understood: ").concat(JSON.stringify(e)))}function Js(e,t){return $s(e,t,"classWeight")}function eu(e,t,n,r){return tu.apply(this,arguments)}function tu(){return(tu=(0,$i.Z)(es().mark((function e(t,n,r,a){var o,i,s;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n&&null==a){e.next=2;break}throw new Error("Support sampleWeight is not implemented yet");case 2:if(null==r){e.next=15;break}return o=(0,l.lub)((function(){if(1===t.shape.length)return(0,l.d9v)(t);if(2===t.shape.length){if(t.shape[1]>1){return(0,l.NqF)(t,1)}if(1===t.shape[1])return(0,l.XLQ)(t,[t.shape[0]]);throw new Error("Encountered unexpected last-dimension size (".concat(t.shape[1],") ")+"during handling of class weights. The size is expected to be >= 1.")}throw new Error("Unexpected rank of target (y) tensor (".concat(t.rank,") during ")+"handling of class weights. The rank is expected to be 1 or 2.")})),e.t0=Array,e.next=7,o.data();case 7:return e.t1=e.sent,i=e.t0.from.call(e.t0,e.t1),(0,l.B90)(o),s=[],i.forEach((function(e){if(null==r[e])throw new Error("classWeight must contain all classes in the training data. "+"The class ".concat(e," exists in the data but not in ")+"classWeight");s.push(r[e])})),e.abrupt("return",(0,l.RRF)(s,"float32"));case 15:return e.abrupt("return",null);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nu(e,t){return(0,l.dC7)(e,t)}function ru(e,t){var n,r,a=t;n=a.xs,r=a.ys,l.D5U.assert(null!=n&&null!=r,(function(){return"A Dataset iterator for fitDataset() is expected to generate objects of the form `{xs: xVal, ys: yVal}`, where the two values may be `tf.Tensor`, an array of Tensors, or a map of string to Tensor.  The provided Dataset instead generates "+"".concat(t)}));var o=au("input",e.inputNames,n),i=au("output",e.outputNames,r),s=o[0].shape[0];l.D5U.assert(o.length===e.inputs.length,(function(){return"LayersModel has ".concat(e.inputs.length," inputs, but the dataset ")+"provides ".concat(o.length," inputs.  (Expected input keys: ")+"".concat(JSON.stringify(e.inputNames),")")})),l.D5U.assert(i.length===e.outputs.length,(function(){return"LayersModel has ".concat(e.outputs.length," outputs, but the dataset ")+"provides ".concat(i.length," outputs.  (Expected output keys: ")+"".concat(JSON.stringify(e.outputNames),")")}));for(var u=function(t){l.D5U.assert(o[t].shape[0]===s,(function(){return"Batch size mismatch: input "+"".concat(e.inputNames[t]," has ").concat(o[t].shape[0],"; ")+"expected  ".concat(s," based on input ").concat(e.inputNames[0],".")}))},c=0;c<o.length;c++)u(c);for(var f=function(t){l.D5U.assert(i[t].shape[0]===s,(function(){return"Batch size mismatch: output "+"".concat(e.outputNames[t]," has ").concat(i[t].shape[0],"; ")+"expected  ".concat(s," based on input ").concat(e.inputNames[0],".")}))},p=0;p<i.length;p++)f(p);return{xs:o,ys:i}}function au(e,t,n){if(n instanceof l.esB)return[n];if(Array.isArray(n))return l.D5U.assert(n.length===t.length,(function(){return"Received an array of ".concat(n.length," Tensors, but expected ").concat(t.length," to match the ").concat(e," keys ").concat(t,".")})),n;var r,a=[],o=(0,ra.Z)(t);try{for(o.s();!(r=o.n()).done;){var i=r.value;if(null==n[i])throw new ma("The feature data generated by the dataset lacks the required "+"".concat(e," key '").concat(i,"'."));a.push(n[i])}}catch(s){o.e(s)}finally{o.f()}return a}function ou(e){if(3===e.length)throw new ga("Validation with sample weights is not implemented yet.");return{xs:e[0],ys:e[1]}}function iu(e,t,n){return su.apply(this,arguments)}function su(){return su=(0,$i.Z)(es().mark((function e(t,n,r){var a,o,i,s,u,c,f,p,d,h,v,m,g,y,b,x,w,k,S,E,C,N,T,I,O,_,D,A,R,P,M,F,L;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null!=r.batchesPerEpoch,l.D5U.assert(null!=t.optimizer,(function(){return"You must compile a model before training/testing. Use LayersModel.compile(modelCompileConfig)."})),l.D5U.assert(null!=r,(function(){return"For fitDataset(), the 2nd argument (config) is required, but it is not provided in this call."})),l.D5U.assert(null!=r.epochs&&r.epochs>0&&Number.isInteger(r.epochs),(function(){return"For fitDataset(), config.epochs is expected to be a positive "+"integer, but got ".concat(r.epochs)})),l.D5U.assert(!a||r.batchesPerEpoch>0&&Number.isInteger(r.batchesPerEpoch),(function(){return"For fitDataset(), config.batchesPerEpoch is expected to be a "+"positive integer if specified, but got ".concat(r.batchesPerEpoch)})),l.D5U.assert(null==r.validationSplit,(function(){return"`validationSplit` is not supported by `fitDataset()`. Use validationData instead."})),!t.isTraining){e.next=8;break}throw new Error("Cannot start training because another fit() call is ongoing.");case 8:return t.isTraining=!0,e.prev=9,(o=null!=r.validationData)&&(cu(r.validationData)?l.D5U.assert(null==r.validationBatches||r.validationBatches>0&&Number.isInteger(r.validationBatches),(function(){return"For fitDataset() with dataset-based validation, config.validationBatches is expected not to be provided, or to be a positive integer, "+"but got ".concat(r.validationBatches)})):(u=ou(r.validationData),i=u.xs,s=u.ys)),c=t.makeTrainFunction(),f=t.getDedupedMetricsNames(),p=o?f.slice().concat(f.map((function(e){return"val_"+e}))):f.slice(),d=cs(r.callbacks,r.yieldEvery),h=null==r.verbose?1:r.verbose,v=fs(d,h,r.epochs,null,null,uu(n,r),null,o,p),m=v.callbackList,g=v.history,m.setModel(t),t.history=g,e.next=22,m.onTrainBegin();case 22:return t.stopTraining_=!1,y=null==r.initialEpoch?0:r.initialEpoch,e.next=26,n.iterator();case 26:b=e.sent;case 27:if(!(y<r.epochs)){e.next=98;break}return x={},e.next=31,m.onEpochBegin(y);case 31:if(w=0,k=0,a){e.next=37;break}return e.next=36,n.iterator();case 36:b=e.sent;case 37:if(a&&!(w<r.batchesPerEpoch)){e.next=91;break}return e.next=40,b.next();case 40:if(S=e.sent,!a||!S.done){e.next=44;break}return console.warn("You provided `batchesPerEpoch` as "+"".concat(r.batchesPerEpoch,", ")+"but your dataset iterator ran out of data after "+"".concat(w," batches; ")+"interrupting training. Make sure that your dataset can generate at least `batchesPerEpoch * epochs` batches (in this case, "+"".concat(r.batchesPerEpoch*r.epochs," batches). ")+"You may need to use the repeat() function when building your dataset."),e.abrupt("break",91);case 44:if(null==S.value){e.next=73;break}return E=ru(t,S.value),C=E.xs,N=E.ys,(T={}).batch=k,T.size=C[0].shape[0],e.next=51,m.onBatchBegin(k,T);case 51:if(I=[],null==r.classWeight){e.next=64;break}O=Js(r.classWeight,t.outputNames),_=0;case 55:if(!(_<O.length)){e.next=64;break}return e.t0=I,e.next=59,eu(N[_],null,O[_]);case 59:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 61:++_,e.next=55;break;case 64:for(D=C.concat(N).concat(I),A=c(D),l.B90(D),R=0;R<f.length;++R)P=f[R],M=A[R],T[P]=M,l.CnY(M);return e.next=70,m.onBatchEnd(k,T);case 70:rs(T),k++,w++;case 73:if(!(a?w>=r.batchesPerEpoch:S.done)){e.next=87;break}if(!o){e.next=86;break}if(F=void 0,!cu(r.validationData)){e.next=84;break}return e.t2=Ea,e.next=80,t.evaluateDataset(r.validationData,{batches:r.validationBatches});case 80:e.t3=e.sent,F=(0,e.t2)(e.t3),e.next=85;break;case 84:F=Ea(t.evaluate(i,s,{batchSize:null==r.validationBatchSize?32:r.validationBatchSize,verbose:0}));case 85:for(L=0;L<t.metricsNames.length;++L)x["val_".concat(t.metricsNames[L])]=F[L];case 86:return e.abrupt("break",91);case 87:if(!t.stopTraining_){e.next=89;break}return e.abrupt("break",91);case 89:e.next=37;break;case 91:return e.next=93,m.onEpochEnd(y,x);case 93:if(y++,!t.stopTraining_){e.next=96;break}return e.abrupt("break",98);case 96:e.next=27;break;case 98:return e.next=100,m.onTrainEnd();case 100:return e.next=102,t.history.syncData();case 102:return e.abrupt("return",t.history);case 103:return e.prev=103,t.isTraining=!1,e.finish(103);case 106:case"end":return e.stop()}}),e,null,[[9,,103,106]])}))),su.apply(this,arguments)}function uu(e,t){var n=null;return null!=t.batchesPerEpoch?n=t.batchesPerEpoch:Number.isFinite(e.size)&&(n=e.size),n}function cu(e){return"function"===typeof e.iterator}function lu(e){return"function"===typeof e.next}function fu(e,t,n){return pu.apply(this,arguments)}function pu(){return pu=(0,$i.Z)(es().mark((function e(t,n,r){var a,o,i,s,u,c,f,p,d;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null!=(r=r||{}).batches,o=t.testFunction,i=[],!(r.verbose>0)){e.next=6;break}throw new ga("Verbose mode is not implemented yet.");case 6:if(l.D5U.assert(!a||r.batches>0&&Number.isInteger(r.batches),(function(){return"Test loop expects `batches` to be a positive integer, but "+"received ".concat(JSON.stringify(r.batches))})),!lu(n)){e.next=11;break}e.t0=n,e.next=14;break;case 11:return e.next=13,n.iterator();case 13:e.t0=e.sent;case 14:s=e.t0,u=0,c=0,f=es().mark((function e(){var n;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.next();case 2:if(n=e.sent,i=l.lub((function(){return n.value&&function(){var e=ru(t,n.value),r=e.xs,a=e.ys,s=r.concat(a),f=l.lub((function(){return o(s)}));if(l.B90(s),0===c)for(var p=0;p<f.length;++p)i.push((0,l.iD$)(0));for(var d=s[0].shape[0],h=function(e){var t=f[e],n=i[e];i[e]=l.lub((function(){return l.IHx(i[e],l.dC7(d,t))})),c>0&&l.B90(n)},v=0;v<f.length;++v)h(v);l.B90(f),u+=d,++c}(),i})),!n.done){e.next=7;break}return a&&console.warn("Your dataset iterator ran out of data during evaluateDataset(). Interrupting evalution. Make sure that your dataset can generate at least `batches` "+"batches (in this case, ".concat(r.batches," batches). ")+"You may need to use the repeat() function when building your dataset."),e.abrupt("return","break");case 7:case"end":return e.stop()}}),e)}));case 18:if(a&&!(c<r.batches)){e.next=25;break}return e.delegateYield(f(),"t1",20);case 20:if("break"!==e.t1){e.next=23;break}return e.abrupt("break",25);case 23:e.next=18;break;case 25:for(p=0;p<i.length;++p)d=i[p],i[p]=l.hiC(i[p],u),l.B90(d);return e.abrupt("return",Sa(i));case 27:case"end":return e.stop()}}),e)}))),pu.apply(this,arguments)}function du(e){l.D5U.assert(e>0&&Number.isInteger(e),(function(){return"batchSize is required to be a positive integer, but got ".concat(e)}))}function hu(e,t,n){return null==e?[null]:Array.isArray(e)?e.map((function(e){return ho(e,t,n-t)})):ho(e,t,n-t)}function vu(e,t){return l.lub((function(){return null==e?null:Array.isArray(e)?e.map((function(e){return vu(e,t)})):ko(e,"int32"===t.dtype?t:l.pju(t,"int32"))}))}function mu(e,t){for(var n=[],r=0,a=null;r<e;)(a=r+t)>=e&&(a=e),n.push([r,a]),r=a;return n}function gu(e,t,n,r,a,o,i,s,u,c,l,f,p,d,h){return yu.apply(this,arguments)}function yu(){return yu=(0,$i.Z)(es().mark((function e(t,n,r,a,o,i,s,u,c,f,p,d,h,v,m){var g,y,b,x,w,k,S,E;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==o&&(o=32),null==i&&(i=1),null==p&&(p=!0),null==h&&(h=0),g=!1,null!=c&&null!=f&&(g=!0),null==m){e.next=10;break}if(g=!0,null!=v){e.next=10;break}throw new ma("Can only use `validationSteps` when doing step-wise training, i.e., `stepsPerEpoch` must be set.");case 10:return null!=(y=t.checkNumSamples(r,o,v,"steps_per_epoch"))&&(b=uo(0,y)),null==s&&(s=1),x=fs(u,s,i,h,y,v,o,g,d),w=x.callbackList,k=x.history,w.setModel(t),t.history=k,e.next=18,w.onTrainBegin();case 18:t.stopTraining_=!1,S=es().mark((function e(i){var s;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.onEpochBegin(i);case 2:if(s={},null==v){e.next=7;break}throw new ga("stepsPerEpoch mode is not implemented yet.");case 7:return e.delegateYield(es().mark((function e(){var i,u,d,h;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("batch"!==p){e.next=4;break}throw new ga("batch shuffling is not implemneted yet");case 4:p&&l.D5U.shuffle(b);case 5:i=(0,l.RRF)(b),u=mu(y,o),d=es().mark((function e(p){var d;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d={},e.next=3,w.onBatchBegin(p,d);case 3:return l.lub((function(){var e=u[p][0],h=u[p][1],v=ho(i,e,h-e);d.batch=p,d.size=h-e;for(var m=vu(r,v),y=n(m),b=0;b<a.length;++b){var x=a[b],w=y[b];d[x]=w,l.CnY(w)}if(p===u.length-1&&g)for(var k=t.testLoop(c,f,o),S=0;S<a.length;++S){var E=a[S],C=k[S];l.CnY(C),s["val_"+E]=C}})),e.next=6,w.onBatchEnd(p,d);case 6:if(rs(d),!t.stopTraining_){e.next=9;break}return e.abrupt("return","break");case 9:case"end":return e.stop()}}),e)})),h=0;case 9:if(!(h<u.length)){e.next=17;break}return e.delegateYield(d(h),"t0",11);case 11:if("break"!==e.t0){e.next=14;break}return e.abrupt("break",17);case 14:++h,e.next=9;break;case 17:i.dispose();case 18:case"end":return e.stop()}}),e)}))(),"t0",8);case 8:return e.next=10,w.onEpochEnd(i,s);case 10:if(!t.stopTraining_){e.next=12;break}return e.abrupt("return","break");case 12:case"end":return e.stop()}}),e)})),E=h;case 21:if(!(E<i)){e.next=29;break}return e.delegateYield(S(E),"t0",23);case 23:if("break"!==e.t0){e.next=26;break}return e.abrupt("break",29);case 26:++E,e.next=21;break;case 29:return e.next=31,w.onTrainEnd();case 31:return e.next=33,t.history.syncData();case 33:return e.abrupt("return",t.history);case 34:case"end":return e.stop()}}),e)}))),yu.apply(this,arguments)}function bu(e,t,n){return xu.apply(this,arguments)}function xu(){return xu=(0,$i.Z)(es().mark((function e(t,n,r){var a,o,i,s,u,c,f,p,d,h,v,m,g,y,b,x,w,k,S,E,C,N,T,I,O,_,D=arguments;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=D.length>3&&void 0!==D[3]?D[3]:{},!t.isTraining){e.next=3;break}throw new Error("Cannot start training because another fit() call is ongoing.");case 3:return t.isTraining=!0,e.prev=4,du(v=null==a.batchSize?32:a.batchSize),m=!1,e.next=10,t.standardizeUserData(n,r,a.sampleWeight,a.classWeight,m,v);case 10:if(g=e.sent,o=g[0],i=g[1],h=g[2],y=!1,!(null!=a.validationData&&a.validationData.length>0)){e.next=36;break}if(y=!0,2!==a.validationData.length){e.next=22;break}c=a.validationData[0],f=a.validationData[1],e.next=27;break;case 22:if(3!==a.validationData.length){e.next=26;break}throw new ga("validationData including sample weights is not supported yet.");case 26:throw new ma("When passing validation data, it must contain 2 (valX, valY) or 3 (valX, valY, valSampleWeight) items; "+"".concat(a.validationData," is invalid."));case 27:return x=!0,e.next=30,t.standardizeUserData(c,f,null,null,x,v);case 30:w=e.sent,p=w[0],d=w[1],b=p.concat(d),e.next=37;break;case 36:null!=a.validationSplit&&a.validationSplit>0&&a.validationSplit<1?(y=!0,k=Math.floor(o[0].shape[0]*(1-a.validationSplit)),S=o[0].shape[0],p=hu(o,k,S),s=o,o=hu(o,0,k),d=hu(i,k,S),u=i,i=hu(i,0,k),b=p.concat(d)):null!=a.validationSteps&&(y=!0);case 37:return E=o.concat(i).concat(h),t.checkTrainableWeightsConsistency(),C=t.makeTrainFunction(),N=t.getDedupedMetricsNames(),y?(t.makeTestFunction(),T=t.testFunction,I=N.slice().concat(N.map((function(e){return"val_"+e})))):(T=null,b=[],I=N.slice()),O=cs(a.callbacks,a.yieldEvery),e.next=45,gu(t,C,E,N,v,a.epochs,a.verbose,O,T,b,a.shuffle,I,a.initialEpoch,null,null);case 45:return _=e.sent,e.abrupt("return",_);case 47:return e.prev=47,t.isTraining=!1,ku(o,n),ku(i,r),ku(s,n),ku(u,r),ku(p,c),ku(d,f),null!=h&&l.B90(h),e.finish(47);case 57:case"end":return e.stop()}}),e,null,[[4,,47,57]])}))),xu.apply(this,arguments)}function wu(e){var t=[];e instanceof l.esB&&(e=[e]);for(var n=0;n<e.length;++n){var r=e[n];if(1===r.rank)t.push(fo(r,1));else{if(0===r.rank)throw new Error("Expected tensor to be at least 1D, but received a 0D tensor (scalar).");t.push(r)}}return t}function ku(e,t){if(null!=e){var n=[];if(t instanceof l.esB)n.push(t.id);else if(Array.isArray(t))t.forEach((function(e){return n.push(e.id)}));else if(null!=t)for(var r in t){var a=t[r];n.push(a.id)}var o=[];if(e instanceof l.esB)-1===n.indexOf(e.id)&&o.push(e);else if(Array.isArray(e))e.forEach((function(e){-1===n.indexOf(e.id)&&o.push(e)}));else if(null!=e)for(var i in e){var s=e[i];-1===n.indexOf(s.id)&&o.push(s)}o.forEach((function(e){e.isDisposed||e.dispose()}))}}function Su(e){return Array.isArray(e)}function Eu(e){return!function(e){return e instanceof l.esB}(e)&&!Su(e)}function Cu(e,t,n){var r,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(null==t||0===t.length){if(null!=e){var i=!1;if(Su(e)&&e.length>0)i=!0;else if(Eu(e)){for(var s in e)if(e.hasOwnProperty(s)){i=!0;break}}else i=!0;if(i)throw new ma("Error when checking model ".concat(o," expected no data, ")+"but got ".concat(e))}return[]}if(null==e)return t.map((function(e){return null}));if(Eu(e)){r=[];var u,c=(0,ra.Z)(t);try{for(c.s();!(u=c.n()).done;){var l=u.value;if(null==e[l])throw new ma('No data provided for "'.concat(l,'". Need data for each key in: ')+"".concat(t));r.push(e[l])}}catch(m){c.e(m)}finally{c.f()}}else if(Su(e)){if(e.length!==t.length)throw new ma("Error when checking model ".concat(o,": the Array of ")+"Tensors that you are passing to your model is not the size the "+"model expected. Expected to see ".concat(t.length," Tensor(s), but ")+"instead got the following list of Tensor(s): ".concat(e));r=e}else{if(t.length>1)throw new ma("The model ".concat(o," expects ").concat(t.length," Tensor(s), ")+"but only received one Tensor. Found: Tensor with shape ".concat(e.shape));r=[e]}if(r=wu(r),null!=n)for(var f=0;f<t.length;++f)if(null!=n[f]){var p=r[f];if(p.shape.length!==n[f].length)throw new ma("Error when checking ".concat(o,": expected ").concat(t[f]," ")+"to have ".concat(n[f].length," dimension(s). but got array with ")+"shape ".concat(p.shape));for(var d=0;d<n[f].length;++d)if(0!==d||a){var h=p.shape[d],v=n[f][d];if(null!=v&&v>=0&&h!==v)throw new ma("".concat(o," expected a batch of elements where each ")+"example has shape [".concat(n[f].slice(1,n[f].length),"] ")+"(i.e.,tensor shape [*,".concat(n[f].slice(1,n[f].length),"])")+" but the ".concat(o," received an input with ").concat(p.shape[0])+" examples, each with shape [".concat(p.shape.slice(1,p.shape.length),"]")+" (tensor shape [".concat(p.shape,"])"))}}return r}function Nu(e,t,n){var r=Aa(e.map((function(e){return e.shape[0]})));r.sort();var a=Aa(t.map((function(e){return e.shape[0]})));if(a.sort(),r.length>1)throw new ma("All input Tensors (x) should have the same number of samples. Got array shapes: "+"".concat(JSON.stringify(e.map((function(e){return e.shape})))));if(a.length>1)throw new ma("All target Tensors (y) should have the same number of samples. Got array shapes: "+"".concat(JSON.stringify(t.map((function(e){return e.shape})))));if(r.length>0&&a.length>0&&!l.D5U.arraysEqual(r,a))throw new ma("Input Tensors should have the same number of samples as target "+"Tensors. Found ".concat(r[0]," input sample(s) and ").concat(a[0]," target ")+"sample(s).")}function Tu(e,t,n){for(var r=[vs,ws,bs],a=0;a<e.length;++a){var o=e[a],i=t[a],s=n[a];if(null!=i){if(i===bs&&1===o.shape[o.shape.length-1])throw new ma("You are passing a target array of shape ".concat(o.shape," while using ")+"a loss 'categorical_crossentropy'. 'categorical_crossentropy'expects targets to be binary matrices (1s and 0s) of shape [samples, classes].");if(-1!==r.indexOf(i))for(var u=o.shape.slice(1),c=s.slice(1),l=0;l<u.length;++l){var f=u[l],p=c[l];if(null!=p&&f!==p)throw new ma("A target Tensor with shape ".concat(o.shape," was passed for an ")+"output of shape ".concat(s,", while using a loss function that ")+"expects targets to have the same shape as the output.")}}}}function Iu(e,t,n){var r,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(Array.isArray(e)){if(e.length!==t.length)throw new ma("Error when checking model ".concat(o,": the Array of ")+"Tensors that you are passing to your model is not the size the "+"the model expected. Expected to see ".concat(t.length," Tensor(s),")+" but instead got ".concat(e.length," Tensors(s)."));r=e}else{if(t.length>1)throw new ma("The model expects ".concat(t.length," ").concat(o," Tensors, ")+"but only received one Tensor. Found: array with shape "+"".concat(JSON.stringify(e.shape),"."));r=[e]}if(null!=n)for(var i=0;i<t.length;++i)if(null!=n[i]){var s=r[i];if(s.shape.length!==n[i].length)throw new ma("Error when checking ".concat(o,": expected ").concat(t[i]," ")+"to have ".concat(n[i].length," dimension(s), but got array with ")+"shape ".concat(JSON.stringify(s.shape)));for(var u=0;u<n[i].length;++u)if(0!==u||a){var c=s.shape[u],l=n[i][u];if(null!=l&&l!==c)throw new ma("Error when checking ".concat(o,": expected ")+"".concat(t[i]," to have shape ").concat(JSON.stringify(n[i])," but ")+"got array with shape ".concat(JSON.stringify(s.shape),"."))}}}var Ou=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;return(0,aa.Z)(this,n),(r=t.call(this,e)).isTraining=!1,r}return(0,oa.Z)(n,[{key:"summary",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;if(!this.built)throw new ma("This model has never been called, thus its weights have not been created yet. So no summary can be displayed. Build the model first (e.g., by calling it on some test data).");Bs(this,e,t,n)}},{key:"compile",value:function(e){var t=this;if(null==e.loss&&(e.loss=[]),this.loss=e.loss,"string"===typeof e.optimizer)this.optimizer_=function(e){var t={Adagrad:function(){return l.p_j.adagrad(.01)},Adadelta:function(){return l.p_j.adadelta(1,.95,co())},Adam:function(){return l.p_j.adam(.001,.9,.999,co())},Adamax:function(){return l.p_j.adamax(.002,.9,.999,co(),0)},RMSProp:function(){return l.p_j.rmsprop(.001,.9,0,co())},SGD:function(){return l.p_j.sgd(.01)}};if(t.adagrad=t.Adagrad,t.adadelta=t.Adadelta,t.adam=t.Adam,t.adamax=t.Adamax,t.rmsprop=t.RMSProp,t.sgd=t.SGD,e in t)return t[e]();throw new ma("Unknown Optimizer ".concat(e))}(e.optimizer),this.isOptimizerOwned=!0;else{if(!(e.optimizer instanceof l.gaJ))throw new ma("User-defined optimizer must be an instance of tf.Optimizer.");this.optimizer_=e.optimizer,this.isOptimizerOwned=!1}var n=[];if(Array.isArray(e.loss)||"string"===typeof e.loss||"function"===typeof e.loss)if(Array.isArray(e.loss)){if(e.loss.length!==this.outputs.length)throw new ma("When passing an Array as loss, it should have one entry per "+"model output. The model has ".concat(this.outputs.length," output(s), ")+"but you passed loss=".concat(e.loss,"."));var r=e.loss;n=r.map((function(e){return Cs(e)}))}else{var a=Cs(e.loss);this.outputs.forEach((function(e){n.push(a)}))}else{for(var o in e.loss=e.loss,e.loss)if(-1===this.outputNames.indexOf(o))throw new ma('Unknown entry in loss dictionary: "'.concat(o,'". ')+"Only expected the following keys: ".concat(this.outputNames));var i,s=(0,ra.Z)(this.outputNames);try{for(s.s();!(i=s.n()).done;){var u=i.value;null==e.loss[u]&&console.warn('Output "'.concat(u,'" is missing from loss dictionary. We assume ')+"this was done on purpose, and we will not be expecting data "+"to be passed to ".concat(u," during training")),n.push(Cs(e.loss[u]))}}catch(m){s.e(m)}finally{s.f()}}this.lossFunctions=n,this.feedOutputNames=[],this.feedOutputShapes=[],this.feedLossFns=[];for(var c=0;c<this.outputs.length;++c){var f=this.internalOutputShapes[c],p=this.outputNames[c];this.feedOutputNames.push(p),this.feedOutputShapes.push(f),this.feedLossFns.push(this.lossFunctions[c])}var d=[];this.metrics=e.metrics,this.metricsNames=["loss"],this.metricsTensors=[],Ja("loss",(function(){for(var e=0;e<t.outputs.length;++e)if(-1===d.indexOf(e)){var n=t.lossFunctions[e];t.outputs.length>1&&(t.metricsTensors.push([n,e]),t.metricsNames.push(t.outputNames[e]+"_loss"))}}));var h=function(e,t){if(null==e||Array.isArray(e)&&0===e.length)return t.map((function(e){return[]}));var n;if("string"===typeof e||"function"===typeof e)n=[e];else{if(!Array.isArray(e)&&"object"!==typeof e)throw new TypeError("Type of metrics argument not understood. Expected an string,"+"function, Array, or Object, found: ".concat(e));n=e}if(Array.isArray(n))return t.map((function(e){return n}));var r,a=[],o=(0,ra.Z)(t);try{for(o.s();!(r=o.n()).done;){var i=r.value,s=n.hasOwnProperty(i)?n[i]:[];Array.isArray(s)||(s=[s]),a.push(s)}}catch(m){o.e(m)}finally{o.f()}return a}(e.metrics,this.outputNames),v=function(e,n,r){t.outputNames.length>1&&(n=t.outputNames[e]+"_"+n),t.metricsNames.push(n),t.metricsTensors.push([r,e])};Ja("metric",(function(){for(var e=function(e){if(-1!==d.indexOf(e))return"continue";!function(n){var r,a,o,i,s=(0,ra.Z)(n);try{for(s.s();!(i=s.n()).done;){var u=i.value;if("string"===typeof u&&-1!==["accuracy","acc","crossentropy","ce"].indexOf(u)){var c=t.internalOutputShapes[e];1===c[c.length-1]||t.lossFunctions[e]===ws?-1!==["accuracy","acc"].indexOf(u)?a=Ns:-1!==["crossentropy","ce"].indexOf(u)&&(a=Ds):t.lossFunctions[e]===xs?-1!==["accuracy","acc"].indexOf(u)?a=As:-1!==["crossentropy","ce"].indexOf(u)&&(a=Ps):-1!==["accuracy","acc"].indexOf(u)?a=Ts:-1!==["crossentropy","ce"].indexOf(u)&&(a=Rs);var l=void 0;-1!==["accuracy","acc"].indexOf(u)?l="acc":-1!==["crossentropy","ce"].indexOf(u)&&(l="ce"),o=a,r=""+l}else{var f=Fs(u);o=f,r=""+Ls(u)}var p=void 0;Ja(r,(function(){p=o})),v(e,r,p)}}catch(m){s.e(m)}finally{s.f()}}(h[e])},n=0;n<t.outputs.length;++n)e(n)})),this.collectedTrainableWeights=this.trainableWeights}},{key:"checkTrainableWeightsConsistency",value:function(){null!=this.collectedTrainableWeights&&this.trainableWeights.length!==this.collectedTrainableWeights.length&&console.warn("Discrepancy between trainableweights and collected trainable weights. Did you set `model.trainable` without calling `model.compile()` afterwards?")}},{key:"evaluate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=null==n.batchSize?32:n.batchSize;du(r);var a=!0,o=this.standardizeUserDataXY(e,t,a,r);try{var i=o[0].concat(o[1]);this.makeTestFunction();var s=this.testFunction,u=this.testLoop(s,i,r,n.verbose,n.steps);return Sa(u)}finally{ku(o[0],e),ku(o[1],t)}}},{key:"evaluateDataset",value:function(){var e=(0,$i.Z)(es().mark((function e(t,n){return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.makeTestFunction(),e.abrupt("return",fu(this,t,n));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"checkNumSamples",value:function(e,t,n){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"steps";if(null!=n){if(r=null,null!=t)throw new ma("If ".concat(a," is set, batchSize must be null or undefined.")+"Got batchSize = ".concat(t))}else{if(null==e)throw new ma("Either the input data should have a defined shape, or "+"".concat(a," shoud be specified."));r=Array.isArray(e)?e[0].shape[0]:e.shape[0]}return r}},{key:"execute",value:function(e,t){if(Array.isArray(t)&&0===t.length)throw new ma("`outputs` is an empty Array, which is not allowed.");var n=Array.isArray(t),r=n?t:[t],a=this.retrieveSymbolicTensors(r),o=new vi;if(e instanceof l.esB&&(e=[e]),Array.isArray(e)){if(e.length!==this.inputs.length)throw new ma("The number of inputs provided (".concat(e.length,") ")+"does not match the number of inputs of this model "+"(".concat(this.inputs.length,")."));for(var i=0;i<this.inputs.length;++i)o.add(this.inputs[i],e[i])}else{var s,u=(0,ra.Z)(this.inputs);try{for(u.s();!(s=u.n()).done;){var c=s.value,f=e[c.name];if(null==f)throw new ma("No value is provided for the model's input ".concat(c.name));o.add(c,f)}}catch(d){u.e(d)}finally{u.f()}}var p=yi(a,o);return n?p:p[0]}},{key:"retrieveSymbolicTensors",value:function(e){var t,n=xa(null,e.length),r=e.length,a=(0,ra.Z)(this.layers);try{for(a.s();!(t=a.n()).done;){for(var o=t.value,i=Array.isArray(o.output)?o.output:[o.output],s=i.map((function(e){return e.name})),u=0;u<e.length;++u){var c=s.indexOf(e[u]);if(-1!==c&&(n[u]=i[c],r--),0===r)break}if(0===r)break}}catch(f){a.e(f)}finally{a.f()}if(r>0){var l=[];throw n.forEach((function(t,n){null==t&&l.push(e[n])})),new ma("Cannot find SymbolicTensors for output name(s): "+"".concat(JSON.stringify(l)))}return n}},{key:"predictLoop",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return l.lub((function(){var a=t.checkNumSamples(e);if(r)throw new ga("Verbose predictLoop() is not implemented yet.");for(var o=mu(a,n),i=t.outputs.map((function(e){return[]})),s=function(n){l.lub((function(){var r=o[n][0],a=o[n][1],i=hu(e,r,a),s=[];if(Array.isArray(i))for(var u=0;u<i.length;++u)s.push({key:t.inputs[u],value:i[u]});else s.push({key:t.inputs[0],value:i});var c=new vi(s);return yi(t.outputs,c)})).forEach((function(e,t){return i[t].push(e)}))},u=0;u<o.length;++u)s(u);return Sa(i.map((function(e){return l.zoF(e,0)})))}))}},{key:"predict",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=wu(e);Iu(n,this.inputNames,this.feedInputShapes,!1);try{var r=null==t.batchSize?32:t.batchSize;return du(r),this.predictLoop(n,r)}finally{ku(n,e)}}},{key:"predictOnBatch",value:function(e){Iu(e,this.inputNames,this.feedInputShapes,!0);var t=(Array.isArray(e)?e[0]:e).shape[0];return this.predictLoop(e,t)}},{key:"standardizeUserDataXY",value:function(e,t){var n=arguments.length>3?arguments[3]:void 0;if(null==this.optimizer_)throw new va("You must compile a model before training/testing. Use LayersModel.compile(modelCompileArgs).");for(var r=[],a=0;a<this.feedOutputShapes.length;++a){var o=this.feedOutputShapes[a],i=this.feedLossFns[a];i===xs?r.push(o.slice(0,o.length-1).concat([1])):r.push(o)}if(Nu(e=Cu(e,this.feedInputNames,this.feedInputShapes,!1,"input"),t=Cu(t,this.feedOutputNames,r,!1,"target")),Tu(t,this.feedLossFns,this.feedOutputShapes),this.stateful&&null!=n&&n>0&&e[0].shape[0]%n!==0)throw new ma("In a stateful network, you should only pass inputs with a number of samples that is divisible by the batch size "+"".concat(n,". Found: ").concat(e[0].shape[0]," sample(s)."));return[e,t]}},{key:"standardizeUserData",value:function(){var e=(0,$i.Z)(es().mark((function e(t,n,r,a){var o,i,s,u,c,l,p,d,h,v=arguments;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=!(v.length>4&&void 0!==v[4])||v[4],i=v.length>5?v[5]:void 0,s=this.standardizeUserDataXY(t,n,o,i),u=(0,f.Z)(s,2),c=u[0],l=u[1],null==r){e.next=5;break}throw new Error("sample weight is not supported yet.");case 5:if(p=null,null==a){e.next=19;break}d=Js(a,this.outputNames),p=[],h=0;case 10:if(!(h<d.length)){e.next=19;break}return e.t0=p,e.next=14,eu(l[h],null,d[h]);case 14:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 16:++h,e.next=10;break;case 19:return e.abrupt("return",[c,l,p]);case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"testLoop",value:function(e,t,n){var r=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4?arguments[4]:void 0;return l.lub((function(){var i=r.checkNumSamples(t,n,o,"steps"),s=[];if(a>0)throw new ga("Verbose mode is not implemented yet.");if(null!=o)throw new ga("steps mode in testLoop() is not implemented yet");for(var u=mu(i,n),c=(0,l.RRF)(uo(0,i)),f=0;f<u.length;++f){var p=u[f][0],d=u[f][1],h=ho(c,p,d-p),v=vu(t,h),m=e(v);if(0===f)for(var g=0;g<m.length;++g)s.push((0,l.iD$)(0));for(var y=0;y<m.length;++y){var b=m[y];s[y]=l.IHx(s[y],l.dC7(d-p,b))}}for(var x=0;x<s.length;++x)s[x]=l.hiC(s[x],i);return s}))}},{key:"getDedupedMetricsNames",value:function(){for(var e=this.metricsNames,t=[],n=0;n<e.length;++n){var r=e[n],a=r;if(ka(e,r)>1){var o=ka(e.slice(0,n),r);a+="_".concat(o)}t.push(a)}return t}},{key:"makeTrainFunction",value:function(){var e=this;return function(t){var n=[],r=t.slice(0,e.inputs.length),a=t.slice(e.inputs.length,e.inputs.length+e.outputs.length),o=t.slice(e.inputs.length+e.outputs.length,e.inputs.length+2*e.outputs.length),i=[],s=e.collectedTrainableWeights.map((function(e){return e.read()}));return[e.optimizer_.minimize((function(){for(var t=[],s=0;s<e.inputs.length;++s)t.push({key:e.inputs[s],value:r[s]});for(var u,c=new vi(t),f=yi(e.outputs,c,{training:!0}),p=0;p<e.lossFunctions.length;++p){var d=(0,e.lossFunctions[p])(a[p],f[p]);null!=o[p]&&(d=nu(d,o[p]));var h=l.J69(d);n.push(h),u=0===p?d:l.IHx(u,d)}for(var v=0;v<e.metricsTensors.length;++v){var m=void 0;if(e.outputs.length>1&&v<e.outputs.length)m=n[v];else{var g=e.metricsTensors[v][0],y=e.metricsTensors[v][1];m=l.J69(g(a[y],f[y]))}l.CnY(m),i.push(m)}return u=l.J69(u),e.calculateLosses().forEach((function(e){u=l.IHx(u,e)})),u}),!0,s)].concat(i)}}},{key:"makeTestFunction",value:function(){var e=this;this.testFunction=function(t){return l.lub((function(){for(var n,r=[],a=t.slice(0,e.inputs.length),o=t.slice(e.inputs.length,e.inputs.length+e.outputs.length),i=[],s=0;s<e.inputs.length;++s)i.push({key:e.inputs[s],value:a[s]});for(var u=new vi(i),c=yi(e.outputs,u),f=0;f<e.lossFunctions.length;++f){var p=e.lossFunctions[f],d=l.J69(p(o[f],c[f]));n=0===f?d:l.IHx(n,d),r.push(n)}for(var h=0;h<e.metricsTensors.length;++h){var v=e.metricsTensors[h][0],m=e.metricsTensors[h][1],g=l.J69(v(o[m],c[m]));r.push(g)}return r}))}}},{key:"fit",value:function(){var e=(0,$i.Z)(es().mark((function e(t,n){var r,a=arguments;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:{},e.abrupt("return",bu(this,t,n,r));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fitDataset",value:function(){var e=(0,$i.Z)(es().mark((function e(t,n){return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",iu(this,t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"trainOnBatch",value:function(){var e=(0,$i.Z)(es().mark((function e(t,n){var r,a,o,i,s,u,c,f,p,d;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.standardizeUserData(t,n);case 2:r=e.sent,a=r[0],o=r[1],i=this.makeTrainFunction(),s=i(a.concat(o)),u=[],c=(0,ra.Z)(s),e.prev=9,c.s();case 11:if((f=c.n()).done){e.next=19;break}return p=f.value,e.next=15,p.data();case 15:d=e.sent,u.push(d[0]);case 17:e.next=11;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(9),c.e(e.t0);case 24:return e.prev=24,c.f(),e.finish(24);case 27:return l.B90(s),ku(r[0],t),ku(r[1],n),e.abrupt("return",Sa(u));case 31:case"end":return e.stop()}}),e,this,[[9,21,24,27]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getNamedWeights",value:function(e){for(var t=[],n=null!=e&&e.trainableOnly,r=n?this.trainableWeights:this.weights,a=this.getWeights(n),o=0;o<r.length;++o)n&&!r[o].trainable||t.push({name:r[o].originalName,tensor:a[o]});return t}},{key:"stopTraining",get:function(){return this.stopTraining_},set:function(e){this.stopTraining_=e}},{key:"optimizer",get:function(){return this.optimizer_},set:function(e){this.optimizer_!==e&&(this.optimizer_=e,this.isOptimizerOwned=!1)}},{key:"dispose",value:function(){var e=(0,ps.Z)((0,ca.Z)(n.prototype),"dispose",this).call(this);if(0===e.refCountAfterDispose&&null!=this.optimizer&&this.isOptimizerOwned){var t=l.sq6().numTensors;this.optimizer_.dispose(),e.numDisposedVariables+=t-l.sq6().numTensors}return e}},{key:"getLossIdentifiers",value:function(){var e;if("string"===typeof this.loss)e=Ca(this.loss);else if(Array.isArray(this.loss)){var t,n=(0,ra.Z)(this.loss);try{for(n.s();!(t=n.n()).done;){if("string"!==typeof t.value)throw new Error("Serialization of non-string loss is not supported.")}}catch(u){n.e(u)}finally{n.f()}e=this.loss.map((function(e){return Ca(e)}))}else{var r=Object.keys(this.loss);e={};for(var a=this.loss,o=0,i=r;o<i.length;o++){var s=i[o];if("string"!==typeof a[s])throw new Error("Serialization of non-string loss is not supported.");e[s]=Ca(a[s])}}return e}},{key:"getMetricIdentifiers",value:function(){if("string"===typeof this.metrics||"function"===typeof this.metrics)return[Ca(Ls(this.metrics))];if(Array.isArray(this.metrics))return this.metrics.map((function(e){return Ca(Ls(e))}));var e={};for(var t in this.metrics)e[t]=Ca(Ls(this.metrics[t]));return e}},{key:"getTrainingConfig",value:function(){return{loss:this.getLossIdentifiers(),metrics:this.getMetricIdentifiers(),optimizer_config:{class_name:this.optimizer.getClassName(),config:this.optimizer.getConfig()}}}},{key:"loadTrainingConfig",value:function(e){if(null!=e.weighted_metrics)throw new Error("Loading weight_metrics is not supported yet.");if(null!=e.loss_weights)throw new Error("Loading loss_weights is not supported yet.");if(null!=e.sample_weight_mode)throw new Error("Loading sample_weight_mode is not supported yet.");var t,n,r=ds(Xs(e.optimizer_config));if("string"===typeof e.loss)t=Na(e.loss);else if(Array.isArray(e.loss))t=e.loss.map((function(e){return Na(e)}));else if(null!=e.loss)for(var a in t={},e.loss)t[a]=Na(e.loss[a]);if(Array.isArray(e.metrics))n=e.metrics.map((function(e){return Na(e)}));else if(null!=e.metrics)for(var o in n={},e.metrics)n[o]=Na(e.metrics[o]);this.compile({loss:t,metrics:n,optimizer:r})}},{key:"save",value:function(){var e=(0,$i.Z)(es().mark((function e(t,n){var r,a,o,i,s,u,c,f,p;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=9;break}if(0!==(r=l.io.getSaveHandlers(t)).length){e.next=6;break}throw new ma("Cannot find any save handlers for URL '".concat(t,"'"));case 6:if(!(r.length>1)){e.next=8;break}throw new ma("Found more than one (".concat(r.length,") save handlers for ")+"URL '".concat(t,"'"));case 8:t=r[0];case 9:if(null!=t.save){e.next=11;break}throw new ma("LayersModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");case 11:return e.next=13,l.io.encodeWeights(this.getNamedWeights(n));case 13:if(a=e.sent,!1,null,o=this.toJSON(null,false),i={modelTopology:o,format:"layers-model",generatedBy:"TensorFlow.js tfjs-layers v".concat(Ys),convertedBy:null},!(null!=n&&n.includeOptimizer)||null==this.optimizer){e.next=34;break}return i.trainingConfig=this.getTrainingConfig(),u="optimizer",e.t0=l.io,e.next=25,this.optimizer.getWeights();case 25:return e.t1=e.sent,e.t2=u,e.next=29,e.t0.encodeWeights.call(e.t0,e.t1,e.t2);case 29:c=e.sent,f=c.data,p=c.specs,(s=a.specs).push.apply(s,(0,Qn.Z)(p)),a.data=l.io.concatenateArrayBuffers([a.data,f]);case 34:return null!=this.userDefinedMetadata&&(!0,Zs(this.userDefinedMetadata,this.name,true),i.userDefinedMetadata=this.userDefinedMetadata),i.weightData=a.data,i.weightSpecs=a.specs,e.abrupt("return",t.save(i));case 38:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setUserDefinedMetadata",value:function(e){Zs(e,this.name),this.userDefinedMetadata=e}},{key:"getUserDefinedMetadata",value:function(){return this.userDefinedMetadata}}]),n}(Qs);Ou.className="Model",l.m7h.registerClass(Ou);var _u=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(){return(0,aa.Z)(this,n),t.apply(this,arguments)}return(0,oa.Z)(n)}(Ou);function Du(e,t){return Au.apply(this,arguments)}function Au(){return Au=(0,$i.Z)(es().mark((function e(t,n){var r,a,o,i,s,u,c,f;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("modelTopology"in t||(t={modelTopology:t}),null!=(r=t.modelTopology).model_config&&(r=r.model_config),a=Xs(r),o=ds(a,n),null==t.weightsManifest){e.next=15;break}return e.next=9,l.io.loadWeights(t.weightsManifest,t.pathPrefix,o.weights.map((function(e){return e.originalName})));case 9:i=e.sent,s={},u=(0,ra.Z)(o.weights);try{for(u.s();!(c=u.n()).done;)f=c.value,s[f.originalName]=i[f.originalName]}catch(p){u.e(p)}finally{u.f()}o.loadWeights(s),(0,l.B90)(i);case 15:return e.abrupt("return",o);case 16:case"end":return e.stop()}}),e)}))),Au.apply(this,arguments)}function Ru(){return(Ru=(0,$i.Z)(es().mark((function e(t,n){var r;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n&&(n={}),"string"!==typeof t){e.next=10;break}if(0!==(r=l.io.getLoadHandlers(t,n)).length){e.next=7;break}r.push(l.io.browserHTTPRequest(t,n)),e.next=9;break;case 7:if(!(r.length>1)){e.next=9;break}throw new ma("Found more than one (".concat(r.length,") load handlers for ")+"URL '".concat(t,"'"));case 9:t=r[0];case 10:return e.abrupt("return",Pu(t,void 0,n));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pu(e,t,n){return Mu.apply(this,arguments)}function Mu(){return Mu=(0,$i.Z)(es().mark((function e(t,n,r){var a,o,i,s,u,c,f,p,d;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==r&&(r={}),null!=t.load){e.next=3;break}throw new ma("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");case 3:return e.next=5,t.load();case 5:if(a=e.sent,null!=(o=a.modelTopology).model_config&&(o=o.model_config),i=null==r.strict||r.strict,s=null!=a.weightData&&null!=a.weightSpecs&&i,u=ds(Xs(o),n,s),null!=(c=a.trainingConfig)&&u.loadTrainingConfig(c),null!=a.userDefinedMetadata&&u.setUserDefinedMetadata(a.userDefinedMetadata),null==a.weightData){e.next=24;break}if(null!=a.weightSpecs){e.next=17;break}throw new ma("LayersModel artifacts contains weight data, but not weight specs. Therefore loading of weights cannot proceed.");case 17:if(f=Fu(a.weightData,a.weightSpecs),p=f.modelWeights,d=f.optimizerWeights,u.loadWeights(p,i),!(null!=u.optimizer&&d.length>0)){e.next=22;break}return e.next=22,u.optimizer.setWeights(d);case 22:(0,l.B90)(p),(0,l.B90)(d.map((function(e){return e.tensor})));case 24:return e.abrupt("return",u);case 25:case"end":return e.stop()}}),e)}))),Mu.apply(this,arguments)}function Fu(e,t){var n=l.io.decodeWeights(e,t),r={},a=[];return t.forEach((function(e){"optimizer"===e.group?a.push({name:e.name,tensor:n[e.name]}):r[e.name]=n[e.name]})),{modelWeights:r,optimizerWeights:a}}_u.className="Functional",l.m7h.registerClass(_u);var Lu=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;if((0,aa.Z)(this,n),e=e||{},(r=t.call(this,{inputs:[],outputs:[]})).trainable=!0,r.built=!1,r.name=null!=e.name?e.name:Ua("sequential_"),null!=e.layers){var a,o=(0,ra.Z)(e.layers);try{for(o.s();!(a=o.n()).done;){var i=a.value;r.add(i)}}catch(s){o.e(s)}finally{o.f()}}return r}return(0,oa.Z)(n,[{key:"checkShape",value:function(e){if(e.inboundNodes[0].outputTensors[0].shape.some((function(e){return e<0})))throw new ma("Negative dimension size caused by adding layer "+"".concat(e.name," with input shape [")+"".concat(e.inboundNodes[0].inputTensors[0].shape,"]"))}},{key:"add",value:function(e){var t,r=e instanceof n||e instanceof Ou;if(r){if(1!==(t=e).outputs.length)throw new ma("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");if(1!==t.inputs.length)throw new ma("All layers in a Sequential model should have a single input tensor. For multi-input layers, use the functional API.")}if(0===this.outputs.length){if(0===e.inboundNodes.length){if(null==e.batchInputShape)throw new ma("The first layer in a Sequential model must get an `inputShape` or `batchInputShape` argument.");var a=hi({batchShape:e.batchInputShape,dtype:e.dtype,name:e.name+"_input"});e.apply(a)}if(r)this.outputs=t.outputs,this.inputs=t.inputs;else{if(1!==e.inboundNodes.length)throw new ma("A layer added to a Sequential model must not already be "+"connected somewhere else. LayersModel received layer ".concat(e.name," ")+"which has ".concat(e.inboundNodes.length," pre-existing inbound ")+"connections.");if(1!==e.inboundNodes[0].outputTensors.length)throw new ma("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[e.inboundNodes[0].outputTensors[0]],this.inputs=pi(this.outputs[0])}this.inboundNodes=[],new ci({outboundLayer:this,inboundLayers:[],nodeIndices:[],tensorIndices:[],inputTensors:this.inputs,outputTensors:this.outputs,inputMasks:xa(null,this.inputs.length),outputMasks:[null],inputShapes:this.inputs.map((function(e){return e.shape})),outputShapes:this.outputs[0].shape})}else{var o=e.apply(this.outputs[0]);if(Array.isArray(o))throw new TypeError("All layers in a Sequential model should have a single output tensor. For multi-output layers, use the functional API.");this.checkShape(e),this.outputs=[o],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}this.layers.push(e),this.built=!1}},{key:"pop",value:function(){if(0===this.layers.length)throw new TypeError("There are no layers in the model.");if(this.layers.pop(),0===this.layers.length)this.outputs=[],this.inboundNodes=[],this.outboundNodes=[];else{var e=this.layers.length-1;this.layers[e].outboundNodes=[],this.outputs=[this.layers[e].output],this.inboundNodes[0].outputTensors=this.outputs,this.inboundNodes[0].outputShapes=[this.outputs[0].shape]}}},{key:"call",value:function(e,t){return null==this.model&&this.build(),this.model.call(e,t)}},{key:"build",value:function(e){if(ei(e),0===this.inputs.length||0===this.outputs.length)throw new TypeError("Sequential model cannot be built: model is empty. Add some layers first.");this.model=new Ou({inputs:this.inputs,outputs:this.outputs[0],name:this.name+"_model"}),this.model.trainable=this.trainable,this.supportsMasking=this.model.supportsMasking,this.inputLayers=this.model.inputLayers,this.inputLayersNodeIndices=this.model.inputLayersNodeIndices,this.inputLayersTensorIndices=this.model.inputLayersTensorIndices,this.outputLayers=this.model.outputLayers,this.outputLayersNodeIndices=this.model.outputLayersNodeIndices,this.outputLayersTensorIndices=this.model.outputLayersTensorIndices,this.nodesByDepth=this.model.nodesByDepth,this.containerNodes=this.model.containerNodes,this.outputNames=this.model.outputNames,this.inputNames=this.model.inputNames,this.built=!0}},{key:"countParams",value:function(){return this.built||this.build(),(0,ps.Z)((0,ca.Z)(n.prototype),"countParams",this).call(this)}},{key:"summary",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console.log;this.built||this.build(),(0,ps.Z)((0,ca.Z)(n.prototype),"summary",this).call(this,e,t,r)}},{key:"setWeights",value:function(e){null==this.model&&this.build(),this.model.setWeights(e)}},{key:"evaluate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.built)throw new va("The model needs to be compiled before being used.");return this.model.evaluate(e,t,n)}},{key:"evaluateDataset",value:function(){var e=(0,$i.Z)(es().mark((function e(t,n){return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.built){e.next=2;break}throw new va("The model needs to be compiled before being used.");case 2:return e.abrupt("return",this.model.evaluateDataset(t,n));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"predict",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==this.model&&this.build(),this.model.predict(e,t)}},{key:"predictOnBatch",value:function(e){return null==this.model&&this.build(),this.model.predictOnBatch(e)}},{key:"compile",value:function(e){this.build(),this.model.compile(e),this.optimizer_=this.model.optimizer,this.isOptimizerOwned=this.model.isOptimizerOwned,this.loss=this.model.loss,this.metrics=this.model.metrics,this.metricsTensors=this.model.metricsTensors,this.metricsNames=this.model.metricsNames}},{key:"optimizer",get:function(){return null==this.model?void 0:this.model.optimizer},set:function(e){this.model.optimizer=e}},{key:"fit",value:function(){var e=(0,$i.Z)(es().mark((function e(t,n){var r,a=arguments;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.length>2&&void 0!==a[2]?a[2]:{},this.built){e.next=3;break}throw new va("The model needs to be compiled before being used.");case 3:return e.abrupt("return",this.model.fit(t,n,r));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fitDataset",value:function(){var e=(0,$i.Z)(es().mark((function e(t,n){return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.built){e.next=2;break}throw new va("The model needs to be compiled before being used.");case 2:return e.abrupt("return",this.model.fitDataset(t,n));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"trainOnBatch",value:function(){var e=(0,$i.Z)(es().mark((function e(t,n){return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.model.trainOnBatch(t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"stopTraining",get:function(){if(null==this.model)throw new ma("Cannot get the stopTraining property of a sequential model before it is compiled.");return this.model.stopTraining},set:function(e){if(null==this.model)throw new ma("Cannot set the stopTraining property of a sequential model before it is compiled.");this.model.stopTraining=e}},{key:"getConfig",value:function(){var e,t=[],n=(0,ra.Z)(this.layers);try{for(n.s();!(e=n.n()).done;){var r=e.value,a={};a.className=r.getClassName(),a.config=r.getConfig(),t.push(a)}}catch(o){n.e(o)}finally{n.f()}return{name:this.name,layers:t}}}],[{key:"fromConfig",value:function(e,t){var r,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o={};if(t instanceof Array){if(null==t[0].className||"Merge"===t[0].className)throw new ma("Legacy serialization format not supported yet.");r=t}else l.D5U.assert(null!=t.layers,(function(){return"When the config data for a Sequential model is not an Array, it must be an Object that contains the 'layers' field."})),r=t.layers,delete t.layers,o=t;var i=new e(o);if(!(i instanceof n))throw new ga("Sequential.fromConfig called on non-Sequential input: ".concat(i));var s,u=(0,ra.Z)(r);try{for(u.s();!(s=u.n()).done;){var c=s.value,f=void 0,p=ds(c,f,a);a&&p.setFastWeightInitDuringBuild(!0),i.add(p)}}catch(d){u.e(d)}finally{u.f()}return i}}]),n}(Ou);function ju(e){return new Ou(e)}function Zu(e){return new Lu(e)}function zu(e,t){return null==t&&(t={}),function(e,t){return Ru.apply(this,arguments)}(e,t)}function Bu(e){return hi(e)}function Uu(e,t){ls.registerCallbackConstructor(e,t)}Lu.className="Sequential",l.m7h.registerClass(Lu);var Wu=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(){return(0,aa.Z)(this,n),t.apply(this,arguments)}return(0,oa.Z)(n,[{key:"getConfig",value:function(){return{}}}]),n}(l.m7h.Serializable),Vu=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(){return(0,aa.Z)(this,n),t.apply(this,arguments)}return(0,oa.Z)(n,[{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return No(e,t)}}]),n}(Wu);Vu.className="elu",l.m7h.registerClass(Vu);var Hu=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(){return(0,aa.Z)(this,n),t.apply(this,arguments)}return(0,oa.Z)(n,[{key:"apply",value:function(e){return l.U8D(e)}}]),n}(Wu);Hu.className="selu",l.m7h.registerClass(Hu);var Gu=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(){return(0,aa.Z)(this,n),t.apply(this,arguments)}return(0,oa.Z)(n,[{key:"apply",value:function(e){return l.UYe(e)}}]),n}(Wu);Gu.className="relu",l.m7h.registerClass(Gu);var qu=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(){return(0,aa.Z)(this,n),t.apply(this,arguments)}return(0,oa.Z)(n,[{key:"apply",value:function(e){return(0,l.lub)((function(){return l.LTh(6,l.UYe(e))}))}}]),n}(Wu);qu.className="relu6",l.m7h.registerClass(qu);var Xu=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(){return(0,aa.Z)(this,n),t.apply(this,arguments)}return(0,oa.Z)(n,[{key:"apply",value:function(e){return e}}]),n}(Wu);Xu.className="linear",l.m7h.registerClass(Xu);var Ku=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(){return(0,aa.Z)(this,n),t.apply(this,arguments)}return(0,oa.Z)(n,[{key:"apply",value:function(e){return l.XD2(e)}}]),n}(Wu);Ku.className="sigmoid",l.m7h.registerClass(Ku);var Yu=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(){return(0,aa.Z)(this,n),t.apply(this,arguments)}return(0,oa.Z)(n,[{key:"apply",value:function(e){return function(e){return(0,l.lub)((function(){var t=l.IHx(.5,l.dC7(.2,e));return l.iUl(t,0,1)}))}(e)}}]),n}(Wu);Yu.className="hardSigmoid",l.m7h.registerClass(Yu);var Qu=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(){return(0,aa.Z)(this,n),t.apply(this,arguments)}return(0,oa.Z)(n,[{key:"apply",value:function(e){return l.Wvh(e)}}]),n}(Wu);Qu.className="softplus",l.m7h.registerClass(Qu);var $u=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(){return(0,aa.Z)(this,n),t.apply(this,arguments)}return(0,oa.Z)(n,[{key:"apply",value:function(e){return function(e){return(0,l.lub)((function(){return l.hiC(e,l.IHx(l.WnP(e),1))}))}(e)}}]),n}(Wu);$u.className="softsign",l.m7h.registerClass($u);var Ju=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(){return(0,aa.Z)(this,n),t.apply(this,arguments)}return(0,oa.Z)(n,[{key:"apply",value:function(e){return l.AEp(e)}}]),n}(Wu);Ju.className="tanh",l.m7h.registerClass(Ju);var ec=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(){return(0,aa.Z)(this,n),t.apply(this,arguments)}return(0,oa.Z)(n,[{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return l.XAC(e,t)}}]),n}(Wu);ec.className="softmax",l.m7h.registerClass(ec);var tc=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(){return(0,aa.Z)(this,n),t.apply(this,arguments)}return(0,oa.Z)(n,[{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return l.CmS(e,t)}}]),n}(Wu);tc.className="logSoftmax",l.m7h.registerClass(tc);var nc=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(){return(0,aa.Z)(this,n),t.apply(this,arguments)}return(0,oa.Z)(n,[{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return(0,l.lub)((function(){return l.dC7(l.XD2(l.dC7(e,t)),e)}))}}]),n}(Wu);nc.className="swish",l.m7h.registerClass(nc);var rc=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(){return(0,aa.Z)(this,n),t.apply(this,arguments)}return(0,oa.Z)(n,[{key:"apply",value:function(e){return(0,l.lub)((function(){return l.dC7(e,l.AEp(l.Wvh(e)))}))}}]),n}(Wu);function ac(e){return e.getClassName()}function oc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _a(e,l.m7h.SerializationMap.getMap().classNameMap,t,"activation")}function ic(e){if(null==e){var t={className:"linear",config:{}};return oc(t)}if("string"===typeof e){var n={};return n.className=e,n.config={},oc(n)}return e instanceof Wu?e:oc(e)}function sc(e){if(null!=e&&"object"!==typeof e)throw new Error("Argument to L1L2 regularizer's constructor is expected to be an "+"object, but received: ".concat(e))}rc.className="mish",l.m7h.registerClass(rc);var uc=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(){return(0,aa.Z)(this,n),t.apply(this,arguments)}return(0,oa.Z)(n)}(l.m7h.Serializable),cc=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;return(0,aa.Z)(this,n),r=t.call(this),sc(e),r.l1=null==e||null==e.l1?.01:e.l1,r.l2=null==e||null==e.l2?.01:e.l2,r.hasL1=0!==r.l1,r.hasL2=0!==r.l2,r}return(0,oa.Z)(n,[{key:"apply",value:function(e){var t=this;return(0,l.lub)((function(){var n=(0,l.lls)([1]);return t.hasL1&&(n=(0,l.IHx)(n,(0,l.Smz)(l.dC7(t.l1,(0,l.WnP)(e))))),t.hasL2&&(n=(0,l.IHx)(n,(0,l.Smz)(l.dC7(t.l2,So(e))))),l.XLQ(n,[])}))}},{key:"getConfig",value:function(){return{l1:this.l1,l2:this.l2}}}],[{key:"fromConfig",value:function(e,t){return new e({l1:t.l1,l2:t.l2})}}]),n}(uc);cc.className="L1L2",l.m7h.registerClass(cc);var lc={l1l2:"L1L2"};function fc(e){return Ia(e)}function pc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _a(e,l.m7h.SerializationMap.getMap().classNameMap,t,"regularizer")}function dc(e){return null==e?null:"string"===typeof e?pc({className:e in lc?lc[e]:e,config:{}}):e instanceof uc?e:pc(e)}var hc=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;return(0,aa.Z)(this,n),(r=t.call(this,null==e?{}:e)).supportsMasking=!0,null!=e&&(r.maxValue=e.maxValue),r}return(0,oa.Z)(n,[{key:"call",value:function(e,t){e=Jo(e);var n=(0,l.UYe)(e);return null!=this.maxValue&&(n=(0,l.iUl)(n,0,this.maxValue)),n}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e={maxValue:this.maxValue},t=(0,ps.Z)((0,ca.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(fi);hc.className="ReLU",l.m7h.registerClass(hc);var vc=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;return(0,aa.Z)(this,n),(r=t.call(this,null==e?{}:e)).DEFAULT_ALPHA=.3,null==e&&(e={}),r.alpha=null==e.alpha?r.DEFAULT_ALPHA:e.alpha,r}return(0,oa.Z)(n,[{key:"call",value:function(e,t){var n=Jo(e);return(0,l.hi7)(n,this.alpha)}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e={alpha:this.alpha},t=(0,ps.Z)((0,ca.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(fi);vc.className="LeakyReLU",l.m7h.registerClass(vc);var mc=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;if((0,aa.Z)(this,n),(r=t.call(this,null==e?{}:e)).DEFAULT_ALPHA_INITIALIZER="zeros",null==e&&(e={}),r.supportsMasking=!0,r.alphaInitializer=Yo(e.alphaInitializer||r.DEFAULT_ALPHA_INITIALIZER),r.alphaRegularizer=dc(e.alphaRegularizer),r.alphaConstraint=Di(e.alphaConstraint),null==e.sharedAxes)r.sharedAxes=null;else if(Array.isArray(e.sharedAxes))r.sharedAxes=e.sharedAxes;else{if("number"!==typeof e.sharedAxes)throw new ma("Expected sharedAxes to be a number or an array of numbers, "+"but got ".concat(e.sharedAxes));r.sharedAxes=[e.sharedAxes]}return r}return(0,oa.Z)(n,[{key:"build",value:function(e){var t=(e=ei(e)).slice(1);if(null!=this.sharedAxes){var n,r=(0,ra.Z)(this.sharedAxes);try{for(r.s();!(n=r.n()).done;){t[n.value-1]=1}}catch(i){r.e(i)}finally{r.f()}}this.alpha=this.addWeight("alpha",t,"float32",this.alphaInitializer,this.alphaRegularizer,!0,this.alphaConstraint);var a={};if(null!=this.sharedAxes)for(var o=1;o<e.length;++o)a[o]=e[o];this.inputSpec=[new ii({ndim:e.length,axes:a})],this.built=!0}},{key:"call",value:function(e,t){return e=Jo(e),(0,l.AL3)(e,this.alpha.read())}},{key:"getConfig",value:function(){var e={alphaInitializer:Ko(this.alphaInitializer),alphaRegularizer:fc(this.alphaRegularizer),alphaConstraint:Oi(this.alphaConstraint),sharedAxes:this.sharedAxes},t=(0,ps.Z)((0,ca.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(fi);mc.className="PReLU",l.m7h.registerClass(mc);var gc=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;if((0,aa.Z)(this,n),(r=t.call(this,null==e?{}:e)).DEFAULT_ALPHA=1,null==e&&(e={}),null!=e.alpha&&e.alpha!==r.DEFAULT_ALPHA)throw new ga("Non-default alpha value (".concat(e.alpha,") is not supported by the ")+"ELU layer yet.");return r.alpha=null==e.alpha?r.DEFAULT_ALPHA:e.alpha,r}return(0,oa.Z)(n,[{key:"call",value:function(e,t){var n=Jo(e);return(0,l.pyx)(n)}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e={alpha:this.alpha},t=(0,ps.Z)((0,ca.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(fi);gc.className="ELU",l.m7h.registerClass(gc);var yc=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;return(0,aa.Z)(this,n),(r=t.call(this,null==e?{}:e)).DEFAULT_THETA=1,null==e&&(e={}),r.theta=null==e.theta?r.DEFAULT_THETA:e.theta,r}return(0,oa.Z)(n,[{key:"call",value:function(e,t){var n=Jo(e);return(0,l.dC7)(n,(0,l.pju)((0,l.pjt)(n,this.theta),"float32"))}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e={theta:this.theta},t=(0,ps.Z)((0,ca.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(fi);yc.className="ThresholdedReLU",l.m7h.registerClass(yc);var bc=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;return(0,aa.Z)(this,n),(r=t.call(this,null==e?{}:e)).DEFAULT_AXIS=1,null==e&&(e={}),r.softmax=(new ec).apply,r.axis=null==e.axis?r.DEFAULT_AXIS:e.axis,r}return(0,oa.Z)(n,[{key:"call",value:function(e,t){var n=Jo(e);return this.softmax(n,this.axis)}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e={axis:this.axis},t=(0,ps.Z)((0,ca.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(fi);bc.className="Softmax",l.m7h.registerClass(bc);var xc=n(4942);function wc(e,t,n){if("number"===typeof e)return xa(e,t);if(e.length!==t)throw new ma("The ".concat(n," argument must be an integer or tuple of ").concat(t," integers.")+" Received: ".concat(e.length," elements."));for(var r=0;r<t;++r){var a=e[r];if((o=a)!==parseInt(o.toString(),10))throw new ma("The ".concat(n," argument must be an integer or tuple of ").concat(t)+" integers. Received: ".concat(JSON.stringify(e)," including a")+" non-integer number ".concat(a))}return e;var o}function kc(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;if(null==e)return e;var o,i=t+(t-1)*(a-1);return o="same"===n?e:e-i+1,Math.floor((o+r-1)/r)}function Sc(e,t,n,r){if(null==e)return null;if("valid"===r)e=e*t+so([n-t,0]);else{if("same"!==r)throw new ma("Unsupport padding mode: ".concat(r,"."));e*=t}return e}function Ec(e,t){return(0,l.lub)((function(){return Ka(t),"channelsFirst"===t?l.p4s(e,[0,2,3,1]):e}))}function Cc(e,t){return(0,l.lub)((function(){return Ka(t),"channelsFirst"===t?l.p4s(e,[0,2,3,4,1]):e}))}function Nc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",o=arguments.length>5?arguments[5]:void 0,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1;return(0,l.lub)((function(){if(null==o&&(o="channelsLast"),Ka(o),3!==e.shape.length)throw new ma("The input of a conv1dWithBias operation should be 3, but is "+"".concat(e.shape.length," instead."));if(3!==t.shape.length)throw new ma("The kernel for a conv1dWithBias operation should be 3, but is "+"".concat(t.shape.length," instead"));if(null!=n&&1!==n.shape.length)throw new ma("The bias for a conv1dWithBias operation should be 1, but is "+"".concat(t.shape.length," instead"));if("channelsFirst"===o&&(e=l.p4s(e,[0,2,1])),"causal"===a)throw new ga("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");var s=l.PAt(e,t,r,"same"===a?"same":"valid","NWC",i);return null!=n&&(s=Co(s,n)),s}))}function Tc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",o=arguments.length>5?arguments[5]:void 0,i=arguments.length>6?arguments[6]:void 0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;return(0,l.lub)((function(){if(null==o&&(o="channelsLast"),Ka(o),3!==e.rank&&4!==e.rank)throw new ma("conv2dWithBiasActivation expects input to be of rank 3 or 4, "+"but received ".concat(e.rank,"."));if(3!==t.rank&&4!==t.rank)throw new ma("conv2dWithBiasActivation expects kernel to be of rank 3 or 4, "+"but received ".concat(e.rank,"."));var u=Ec(e,o);if("causal"===a)throw new ga("The support for CAUSAL padding mode in conv1dWithBias is not implemented yet.");return u=l.imm.conv2d({x:u,filter:t,strides:r,pad:"same"===a?"same":"valid",dilations:i,dataFormat:"NHWC",bias:n,activation:s}),"channelsFirst"===o&&(u=l.p4s(u,[0,3,1,2])),u}))}function Ic(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[1,1,1],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"valid",o=arguments.length>5?arguments[5]:void 0,i=arguments.length>6?arguments[6]:void 0;return(0,l.lub)((function(){if(null==o&&(o="channelsLast"),Ka(o),4!==e.rank&&5!==e.rank)throw new ma("conv3dWithBias expects input to be of rank 4 or 5, but received "+"".concat(e.rank,"."));if(4!==t.rank&&5!==t.rank)throw new ma("conv3dWithBias expects kernel to be of rank 4 or 5, but received "+"".concat(e.rank,"."));var s=Cc(e,o);if("causal"===a)throw new ga("The support for CAUSAL padding mode in conv3dWithBias is not implemented yet.");return s=l.pdZ(s,t,r,"same"===a?"same":"valid","NDHWC",i),null!=n&&(s=Co(s,n)),"channelsFirst"===o&&(s=l.p4s(s,[0,4,1,2,3])),s}))}var Oc=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e,r){var a;if((0,aa.Z)(this,n),(a=t.call(this,r)).bias=null,a.DEFAULT_KERNEL_INITIALIZER="glorotNormal",a.DEFAULT_BIAS_INITIALIZER="zeros",n.verifyArgs(r),a.rank=e,Fa(a.rank,"rank"),1!==a.rank&&2!==a.rank&&3!==a.rank)throw new ga("Convolution layer for rank other than 1, 2, or 3 (".concat(a.rank,") is ")+"not implemented yet.");if(a.kernelSize=wc(r.kernelSize,e,"kernelSize"),a.strides=wc(null==r.strides?1:r.strides,e,"strides"),a.padding=null==r.padding?"valid":r.padding,Ya(a.padding),a.dataFormat=null==r.dataFormat?"channelsLast":r.dataFormat,Ka(a.dataFormat),a.activation=ic(r.activation),a.useBias=null==r.useBias||r.useBias,a.biasInitializer=Yo(r.biasInitializer||a.DEFAULT_BIAS_INITIALIZER),a.biasConstraint=Di(r.biasConstraint),a.biasRegularizer=dc(r.biasRegularizer),a.activityRegularizer=dc(r.activityRegularizer),a.dilationRate=wc(null==r.dilationRate?1:r.dilationRate,e,"dilationRate"),1===a.rank&&Array.isArray(a.dilationRate)&&1!==a.dilationRate.length)throw new ma("dilationRate must be a number or an array of a single number for 1D convolution, but received "+"".concat(JSON.stringify(a.dilationRate)));if(2===a.rank){if("number"===typeof a.dilationRate)a.dilationRate=[a.dilationRate,a.dilationRate];else if(2!==a.dilationRate.length)throw new ma("dilationRate must be a number or array of two numbers for 2D "+"convolution, but received ".concat(JSON.stringify(a.dilationRate)))}else if(3===a.rank)if("number"===typeof a.dilationRate)a.dilationRate=[a.dilationRate,a.dilationRate,a.dilationRate];else if(3!==a.dilationRate.length)throw new ma("dilationRate must be a number or array of three numbers for 3D "+"convolution, but received ".concat(JSON.stringify(a.dilationRate)));return a}return(0,oa.Z)(n,[{key:"getConfig",value:function(){var e={kernelSize:this.kernelSize,strides:this.strides,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,activation:ac(this.activation),useBias:this.useBias,biasInitializer:Ko(this.biasInitializer),biasRegularizer:fc(this.biasRegularizer),activityRegularizer:fc(this.activityRegularizer),biasConstraint:Oi(this.biasConstraint)},t=(0,ps.Z)((0,ca.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}],[{key:"verifyArgs",value:function(e){if(wa("kernelSize"in e,"required key 'kernelSize' not in config"),"number"!==typeof e.kernelSize&&!Ma(e.kernelSize,"number",1,3))throw new ma("BaseConv expects config.kernelSize to be number or number[] with "+"length 1, 2, or 3, but received ".concat(JSON.stringify(e.kernelSize),"."))}}]),n}(fi),_c=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e,r){var a;return(0,aa.Z)(this,n),(a=t.call(this,e,r)).kernel=null,n.verifyArgs(r),a.filters=r.filters,Fa(a.filters,"filters"),a.kernelInitializer=Yo(r.kernelInitializer||a.DEFAULT_KERNEL_INITIALIZER),a.kernelConstraint=Di(r.kernelConstraint),a.kernelRegularizer=dc(r.kernelRegularizer),a}return(0,oa.Z)(n,[{key:"build",value:function(e){e=ei(e);var t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new ma("The channel dimension of the input should be defined. "+"Found ".concat(e[t]));var n=e[t],r=this.kernelSize.concat([n,this.filters]);this.kernel=this.addWeight("kernel",r,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[{ndim:this.rank+2,axes:(0,xc.Z)({},t,n)}],this.built=!0}},{key:"call",value:function(e,t){var n=this;return(0,l.lub)((function(){var t;e=Jo(e);var r=null==n.bias?null:n.bias.read(),a=ja(n.activation.getClassName());if(null!=a&&2===n.rank)t=Tc(e,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate,a);else{if(1===n.rank)t=Nc(e,n.kernel.read(),r,n.strides[0],n.padding,n.dataFormat,n.dilationRate[0]);else if(2===n.rank)t=Tc(e,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate);else{if(3!==n.rank)throw new ga("convolutions greater than 3D are not implemented yet.");t=Ic(e,n.kernel.read(),r,n.strides,n.padding,n.dataFormat,n.dilationRate)}null!=n.activation&&(t=n.activation.apply(t))}return t}))}},{key:"computeOutputShape",value:function(e){e=ei(e);for(var t=[],n="channelsLast"===this.dataFormat?e.slice(1,e.length-1):e.slice(2),r=0;r<n.length;++r){var a=kc(n[r],this.kernelSize[r],this.padding,this.strides[r],"number"===typeof this.dilationRate?this.dilationRate:this.dilationRate[r]);t.push(a)}var o=[e[0]];return"channelsLast"===this.dataFormat?(o=o.concat(t)).push(this.filters):(o.push(this.filters),o=o.concat(t)),o}},{key:"getConfig",value:function(){var e={filters:this.filters,kernelInitializer:Ko(this.kernelInitializer),kernelRegularizer:fc(this.kernelRegularizer),kernelConstraint:Oi(this.kernelConstraint)},t=(0,ps.Z)((0,ca.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}],[{key:"verifyArgs",value:function(e){if(!("filters"in e)||"number"!==typeof e.filters||e.filters<1)throw new ma("Convolution layer expected config.filters to be a 'number' > 0 "+"but got ".concat(JSON.stringify(e.filters)))}}]),n}(Oc),Dc=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;return(0,aa.Z)(this,n),r=t.call(this,2,e),n.verifyArgs(e),r}return(0,oa.Z)(n,[{key:"getConfig",value:function(){var e=(0,ps.Z)((0,ca.Z)(n.prototype),"getConfig",this).call(this);return delete e.rank,e}}],[{key:"verifyArgs",value:function(e){if("number"!==typeof e.kernelSize&&!Ma(e.kernelSize,"number",1,2))throw new ma("Conv2D expects config.kernelSize to be number or number[] with "+"length 1 or 2, but received ".concat(JSON.stringify(e.kernelSize),"."))}}]),n}(_c);Dc.className="Conv2D",l.m7h.registerClass(Dc);var Ac=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;return(0,aa.Z)(this,n),r=t.call(this,3,e),n.verifyArgs(e),r}return(0,oa.Z)(n,[{key:"getConfig",value:function(){var e=(0,ps.Z)((0,ca.Z)(n.prototype),"getConfig",this).call(this);return delete e.rank,e}}],[{key:"verifyArgs",value:function(e){if("number"!==typeof e.kernelSize&&(!Array.isArray(e.kernelSize)||1!==e.kernelSize.length&&3!==e.kernelSize.length))throw new ma("Conv3D expects config.kernelSize to be number or"+" [number, number, number], but received ".concat(JSON.stringify(e.kernelSize),"."))}}]),n}(_c);Ac.className="Conv3D",l.m7h.registerClass(Ac);var Rc=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;if((0,aa.Z)(this,n),(r=t.call(this,e)).inputSpec=[new ii({ndim:4})],"same"!==r.padding&&"valid"!==r.padding)throw new ma("Conv2DTranspose currently supports only padding modes 'same' "+"and 'valid', but received padding mode ".concat(r.padding));return r}return(0,oa.Z)(n,[{key:"build",value:function(e){if(4!==(e=ei(e)).length)throw new ma("Input should have rank 4; Received input shape: "+JSON.stringify(e));var t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new ma("The channel dimension of the inputs should be defined. Found `None`.");var n=e[t],r=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new ii({ndim:4,axes:(0,xc.Z)({},t,n)})],this.built=!0}},{key:"call",value:function(e,t){var n=this;return l.lub((function(){var t=Jo(e);if(4!==t.shape.length)throw new ma("Conv2DTranspose.call() expects input tensor to be rank-4, but "+"received a tensor of rank-".concat(t.shape.length));var r,a,o=t.shape,i=o[0];"channelsFirst"===n.dataFormat?(r=2,a=3):(r=1,a=2);var s=o[r],u=o[a],c=n.kernelSize[0],f=n.kernelSize[1],p=n.strides[0],d=n.strides[1],h=[i,Sc(s,p,c,n.padding),Sc(u,d,f,n.padding),n.filters];"channelsLast"!==n.dataFormat&&(t=l.p4s(t,[0,2,3,1]));var v=l.bc(t,n.kernel.read(),h,n.strides,n.padding);return"channelsLast"!==n.dataFormat&&(v=l.p4s(v,[0,3,1,2])),null!=n.bias&&(v=Co(v,n.bias.read(),n.dataFormat)),null!=n.activation&&(v=n.activation.apply(v)),v}))}},{key:"computeOutputShape",value:function(e){var t,n,r,a=(e=ei(e)).slice();"channelsFirst"===this.dataFormat?(t=1,n=2,r=3):(t=3,n=1,r=2);var o=this.kernelSize[0],i=this.kernelSize[1],s=this.strides[0],u=this.strides[1];return a[t]=this.filters,a[n]=Sc(a[n],s,o,this.padding),a[r]=Sc(a[r],u,i,this.padding),a}},{key:"getConfig",value:function(){var e=(0,ps.Z)((0,ca.Z)(n.prototype),"getConfig",this).call(this);return delete e.dilationRate,e}}]),n}(Dc);Rc.className="Conv2DTranspose",l.m7h.registerClass(Rc);var Pc=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;if((0,aa.Z)(this,n),(r=t.call(this,e)).inputSpec=[new ii({ndim:5})],"same"!==r.padding&&"valid"!==r.padding)throw new ma("Conv3DTranspose currently supports only padding modes 'same' "+"and 'valid', but received padding mode ".concat(r.padding));return r}return(0,oa.Z)(n,[{key:"build",value:function(e){if(5!==(e=ei(e)).length)throw new ma("Input should have rank 5; Received input shape: "+JSON.stringify(e));var t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t])throw new ma("The channel dimension of the inputs should be defined. Found `None`.");var n=e[t],r=this.kernelSize.concat([this.filters,n]);this.kernel=this.addWeight("kernel",r,"float32",this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint)),this.inputSpec=[new ii({ndim:5,axes:(0,xc.Z)({},t,n)})],this.built=!0}},{key:"call",value:function(e,t){var n=this;return l.lub((function(){var t=Jo(e);if(5!==t.shape.length)throw new ma("Conv3DTranspose.call() expects input tensor to be rank-4, but "+"received a tensor of rank-".concat(t.shape.length));var r,a,o,i=t.shape,s=i[0];"channelsFirst"===n.dataFormat?(o=2,r=3,a=4):(o=1,r=2,a=3);var u=i[o],c=i[r],f=i[a],p=n.kernelSize[0],d=n.kernelSize[1],h=n.kernelSize[2],v=n.strides[0],m=n.strides[1],g=n.strides[2],y=[s,Sc(u,v,p,n.padding),Sc(c,m,d,n.padding),Sc(f,g,h,n.padding),n.filters];"channelsLast"!==n.dataFormat&&(t=l.p4s(t,[0,2,3,4,1]));var b=l.$QV(t,n.kernel.read(),y,n.strides,n.padding);return"channelsLast"!==n.dataFormat&&(b=l.p4s(b,[0,4,1,2,3])),null!==n.bias&&(b=Co(b,n.bias.read(),n.dataFormat)),null!==n.activation&&(b=n.activation.apply(b)),b}))}},{key:"computeOutputShape",value:function(e){var t,n,r,a,o=(e=ei(e)).slice();"channelsFirst"===this.dataFormat?(t=1,n=2,r=3,a=4):(t=4,n=1,r=2,a=3);var i=this.kernelSize[0],s=this.kernelSize[1],u=this.kernelSize[2],c=this.strides[0],l=this.strides[1],f=this.strides[2];return o[t]=this.filters,o[n]=Sc(o[n],c,i,this.padding),o[r]=Sc(o[r],l,s,this.padding),o[a]=Sc(o[a],f,u,this.padding),o}},{key:"getConfig",value:function(){var e=(0,ps.Z)((0,ca.Z)(n.prototype),"getConfig",this).call(this);return delete e.dilationRate,e}}]),n}(Ac);Pc.className="Conv3DTranspose",l.m7h.registerClass(Pc);var Mc=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e,r){var a;if((0,aa.Z)(this,n),(a=t.call(this,e,r)).DEFAULT_DEPTHWISE_INITIALIZER="glorotUniform",a.DEFAULT_POINTWISE_INITIALIZER="glorotUniform",a.depthwiseKernel=null,a.pointwiseKernel=null,null==r.filters)throw new ma("The `filters` configuration field is required by SeparableConv, but is unspecified.");if(null!=r.kernelInitializer||null!=r.kernelRegularizer||null!=r.kernelConstraint)throw new ma("Fields kernelInitializer, kernelRegularizer and kernelConstraint are invalid for SeparableConv2D. Use depthwiseInitializer, depthwiseRegularizer, depthwiseConstraint, pointwiseInitializer, pointwiseRegularizer and pointwiseConstraint instead.");if(null!=r.padding&&"same"!==r.padding&&"valid"!==r.padding)throw new ma("SeparableConv".concat(a.rank,"D supports only padding modes: ")+"'same' and 'valid', but received ".concat(JSON.stringify(r.padding)));return a.depthMultiplier=null==r.depthMultiplier?1:r.depthMultiplier,a.depthwiseInitializer=Yo(r.depthwiseInitializer||a.DEFAULT_DEPTHWISE_INITIALIZER),a.depthwiseRegularizer=dc(r.depthwiseRegularizer),a.depthwiseConstraint=Di(r.depthwiseConstraint),a.pointwiseInitializer=Yo(r.depthwiseInitializer||a.DEFAULT_POINTWISE_INITIALIZER),a.pointwiseRegularizer=dc(r.pointwiseRegularizer),a.pointwiseConstraint=Di(r.pointwiseConstraint),a}return(0,oa.Z)(n,[{key:"build",value:function(e){if((e=ei(e)).length<this.rank+2)throw new ma("Inputs to SeparableConv".concat(this.rank,"D should have rank ")+"".concat(this.rank+2,", but received input shape: ")+"".concat(JSON.stringify(e)));var t="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[t]||e[t]<0)throw new ma("The channel dimension of the inputs should be defined, "+"but found ".concat(JSON.stringify(e[t])));for(var n=e[t],r=this.kernelSize.concat([n,this.depthMultiplier]),a=[],o=0;o<this.rank;++o)a.push(1);a.push(n*this.depthMultiplier,this.filters);var i=!0;this.depthwiseKernel=this.addWeight("depthwise_kernel",r,"float32",this.depthwiseInitializer,this.depthwiseRegularizer,i,this.depthwiseConstraint),this.pointwiseKernel=this.addWeight("pointwise_kernel",a,"float32",this.pointwiseInitializer,this.pointwiseRegularizer,i,this.pointwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[this.filters],"float32",this.biasInitializer,this.biasRegularizer,i,this.biasConstraint):this.bias=null,this.inputSpec=[new ii({ndim:this.rank+2,axes:(0,xc.Z)({},t,n)})],this.built=!0}},{key:"call",value:function(e,t){var n=this;return(0,l.lub)((function(){var t;if(e=Jo(e),1===n.rank)throw new ga("1D separable convolution is not implemented yet.");return 2===n.rank&&("channelsFirst"===n.dataFormat&&(e=l.p4s(e,[0,2,3,1])),t=l.U_I(e,n.depthwiseKernel.read(),n.pointwiseKernel.read(),n.strides,n.padding,n.dilationRate,"NHWC")),n.useBias&&(t=Co(t,n.bias.read(),n.dataFormat)),null!=n.activation&&(t=n.activation.apply(t)),"channelsFirst"===n.dataFormat&&(t=l.p4s(t,[0,3,1,2])),t}))}},{key:"getConfig",value:function(){var e=(0,ps.Z)((0,ca.Z)(n.prototype),"getConfig",this).call(this);return delete e.rank,delete e.kernelInitializer,delete e.kernelRegularizer,delete e.kernelConstraint,e.depthwiseInitializer=Ko(this.depthwiseInitializer),e.pointwiseInitializer=Ko(this.pointwiseInitializer),e.depthwiseRegularizer=fc(this.depthwiseRegularizer),e.pointwiseRegularizer=fc(this.pointwiseRegularizer),e.depthwiseConstraint=Oi(this.depthwiseConstraint),e.pointwiseConstraint=Oi(this.pointwiseConstraint),e}}]),n}(_c);Mc.className="SeparableConv";var Fc=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){return(0,aa.Z)(this,n),t.call(this,2,e)}return(0,oa.Z)(n)}(Mc);Fc.className="SeparableConv2D",l.m7h.registerClass(Fc);var Lc=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;return(0,aa.Z)(this,n),r=t.call(this,1,e),n.verifyArgs(e),r.inputSpec=[{ndim:3}],r}return(0,oa.Z)(n,[{key:"getConfig",value:function(){var e=(0,ps.Z)((0,ca.Z)(n.prototype),"getConfig",this).call(this);return delete e.rank,delete e.dataFormat,e}}],[{key:"verifyArgs",value:function(e){if("number"!==typeof e.kernelSize&&!Ma(e.kernelSize,"number",1,1))throw new ma("Conv1D expects config.kernelSize to be number or number[] with "+"length 1, but received ".concat(JSON.stringify(e.kernelSize),"."))}}]),n}(_c);Lc.className="Conv1D",l.m7h.registerClass(Lc);var jc=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;return(0,aa.Z)(this,n),r=t.call(this,e),"number"===typeof e.cropping?r.cropping=[[e.cropping,e.cropping],[e.cropping,e.cropping]]:"number"===typeof e.cropping[0]?r.cropping=[[e.cropping[0],e.cropping[0]],[e.cropping[1],e.cropping[1]]]:r.cropping=e.cropping,r.dataFormat=void 0===e.dataFormat?"channelsLast":e.dataFormat,r.inputSpec=[{ndim:4}],r}return(0,oa.Z)(n,[{key:"computeOutputShape",value:function(e){return"channelsFirst"===this.dataFormat?[e[0],e[1],e[2]-this.cropping[0][0]-this.cropping[0][1],e[3]-this.cropping[1][0]-this.cropping[1][1]]:[e[0],e[1]-this.cropping[0][0]-this.cropping[0][1],e[2]-this.cropping[1][0]-this.cropping[1][1],e[3]]}},{key:"call",value:function(e,t){var n=this;return(0,l.lub)((function(){if(e=Jo(e),"channelsLast"===n.dataFormat){var t=mo(e,n.cropping[0][0],e.shape[1]-n.cropping[0][0]-n.cropping[0][1],2);return mo(t,n.cropping[1][0],e.shape[2]-n.cropping[1][1]-n.cropping[1][0],3)}var r=mo(e,n.cropping[0][0],e.shape[2]-n.cropping[0][0]-n.cropping[0][1],3);return mo(r,n.cropping[1][0],e.shape[3]-n.cropping[1][1]-n.cropping[1][0],4)}))}},{key:"getConfig",value:function(){var e={cropping:this.cropping,dataFormat:this.dataFormat},t=(0,ps.Z)((0,ca.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(fi);jc.className="Cropping2D",l.m7h.registerClass(jc);var Zc=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r,a;return(0,aa.Z)(this,n),(r=t.call(this,e)).DEFAULT_SIZE=[2,2],r.inputSpec=[{ndim:4}],r.size=null==e.size?r.DEFAULT_SIZE:e.size,r.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,Ka(r.dataFormat),r.interpolation=null==e.interpolation?"nearest":e.interpolation,a=r.interpolation,Pa(Va,"InterpolationFormat",a),r}return(0,oa.Z)(n,[{key:"computeOutputShape",value:function(e){if("channelsFirst"===this.dataFormat){var t=null==e[2]?null:this.size[0]*e[2],n=null==e[3]?null:this.size[1]*e[3];return[e[0],e[1],t,n]}var r=null==e[1]?null:this.size[0]*e[1],a=null==e[2]?null:this.size[1]*e[2];return[e[0],r,a,e[3]]}},{key:"call",value:function(e,t){var n=this;return l.lub((function(){var t=Jo(e),r=t.shape;if("channelsFirst"===n.dataFormat){t=l.p4s(t,[0,2,3,1]);var a=n.size[0]*r[2],o=n.size[1]*r[3],i="nearest"===n.interpolation?l.BHj.resizeNearestNeighbor(t,[a,o]):l.BHj.resizeBilinear(t,[a,o]);return l.p4s(i,[0,3,1,2])}var s=n.size[0]*r[1],u=n.size[1]*r[2];return"nearest"===n.interpolation?l.BHj.resizeNearestNeighbor(t,[s,u]):l.BHj.resizeBilinear(t,[s,u])}))}},{key:"getConfig",value:function(){var e={size:this.size,dataFormat:this.dataFormat,interpolation:this.interpolation},t=(0,ps.Z)((0,ca.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(fi);Zc.className="UpSampling2D",l.m7h.registerClass(Zc);var zc=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;return(0,aa.Z)(this,n),(r=t.call(this,2,e)).depthwiseKernel=null,r.depthMultiplier=null==e.depthMultiplier?1:e.depthMultiplier,r.depthwiseInitializer=Yo(e.depthwiseInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.depthwiseConstraint=Di(e.depthwiseConstraint),r.depthwiseRegularizer=dc(e.depthwiseRegularizer),r}return(0,oa.Z)(n,[{key:"build",value:function(e){if((e=ei(e)).length<4)throw new ma("Inputs to DepthwiseConv2D should have rank 4. "+"Received input shape: ".concat(JSON.stringify(e),"."));var t="channelsFirst"===this.dataFormat?1:3;if(null==e[t]||e[t]<0)throw new ma("The channel dimension of the inputs to DepthwiseConv2D should "+"be defined, but is not (".concat(e[t],")."));var n=e[t],r=[this.kernelSize[0],this.kernelSize[1],n,this.depthMultiplier];this.depthwiseKernel=this.addWeight("depthwise_kernel",r,null,this.depthwiseInitializer,this.depthwiseRegularizer,!0,this.depthwiseConstraint),this.useBias?this.bias=this.addWeight("bias",[n*this.depthMultiplier],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}},{key:"call",value:function(e,t){var n=this;return(0,l.lub)((function(){var t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[1,1],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"valid",a=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0;return(0,l.lub)((function(){null==a&&(a="channelsLast"),Ka(a);var i=Ec(e,a);if(4!==e.rank)throw new ma("Input for depthwiseConv2d is required to be 4-D, but is instead "+"".concat(e.rank,"-D"));if(4!==t.rank)throw new ma("depthwiseKernel is required to be 4-D, but is instead "+"".concat(t.rank,"-D"));return i=l.B10(i,t,n,"same"===r?"same":"valid","NHWC",o),"channelsFirst"===a&&(i=l.p4s(i,[0,3,1,2])),i}))}(e=Jo(e),n.depthwiseKernel.read(),n.strides,n.padding,n.dataFormat,null);return n.useBias&&(t=Co(t,n.bias.read(),n.dataFormat)),null!=n.activation&&(t=n.activation.apply(t)),t}))}},{key:"computeOutputShape",value:function(e){e=ei(e);var t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[1]*this.depthMultiplier:e[3]*this.depthMultiplier,a=kc(t,this.kernelSize[0],this.padding,this.strides[0]),o=kc(n,this.kernelSize[1],this.padding,this.strides[1]);return"channelsFirst"===this.dataFormat?[e[0],r,a,o]:[e[0],a,o,r]}},{key:"getConfig",value:function(){var e=(0,ps.Z)((0,ca.Z)(n.prototype),"getConfig",this).call(this);return e.depthMultiplier=this.depthMultiplier,e.depthwiseInitializer=Ko(this.depthwiseInitializer),e.depthwiseRegularizer=fc(this.depthwiseRegularizer),e.depthwiseConstraint=Oi(this.depthwiseRegularizer),e}}]),n}(Oc);function Bc(e,t,n,r){if(Array.isArray(e)){if(null!=t||null!=n)throw new ma("When inputs is an array, neither initialState or constants should be provided");null!=r&&(n=e.slice(e.length-r,e.length),e=e.slice(0,e.length-r)),e.length>1&&(t=e.slice(1,e.length)),e=e[0]}function a(e){return null==e||Array.isArray(e)?e:[e]}return{inputs:e,initialState:t=a(t),constants:n=a(n)}}function Uc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,i=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return l.lub((function(){var u=t.shape.length;if(u<3)throw new ma("Input should be at least 3D, but is ".concat(u,"D."));var c=[1,0].concat(uo(2,u));if(t=l.p4s(t,c),null!=o)throw new ga("The rnn() functoin of the deeplearn.js backend does not support constants yet.");i&&console.warn("Backend rnn(): the unroll = true option is not applicable to the imperative deeplearn.js backend."),null!=a&&((a=l.pju(l.pju(a,"bool"),"float32")).rank===u-1&&(a=l.dt4(a,-1)),a=l.p4s(a,c)),r&&(t=l.GYS(t,0),null!=a&&(a=l.GYS(a,0)));var f,p,d=[],h=n,v=t.shape[0],m=l.HHK(t);null!=a&&(p=l.HHK(a));for(var g,y=function(t){var n=m[t],r=l.lub((function(){return e(n,h)}));if(null==a)f=r[0],h=r[1];else{var o=l.lub((function(){var e=p[t],n=l.luU(l.JpU(e),e);return{output:l.IHx(l.dC7(r[0],e),l.dC7(h[0],n)),newStates:h.map((function(t,a){return l.IHx(l.dC7(r[1][a],e),l.dC7(t,n))}))}}));f=o.output,h=o.newStates}s&&d.push(f)},b=0;b<v;++b)y(b);if(s){g=l.knu(d,1)}return[f,g,h]}))}zc.className="DepthwiseConv2D",l.m7h.registerClass(zc);var Wc=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r,a;if((0,aa.Z)(this,n),r=t.call(this,e),null==e.cell)throw new ma("cell property is missing for the constructor of RNN.");if(null==(a=Array.isArray(e.cell)?new Qc({cells:e.cell}):e.cell).stateSize)throw new ma("The RNN cell should have an attribute `stateSize` (tuple of integers, one integer per RNN state).");return r.cell=a,r.returnSequences=null!=e.returnSequences&&e.returnSequences,r.returnState=null!=e.returnState&&e.returnState,r.goBackwards=null!=e.goBackwards&&e.goBackwards,r._stateful=null!=e.stateful&&e.stateful,r.unroll=null!=e.unroll&&e.unroll,r.supportsMasking=!0,r.inputSpec=[new ii({ndim:3})],r.stateSpec=null,r.states_=null,r.numConstants=null,r.keptStates=[],r}return(0,oa.Z)(n,[{key:"getStates",value:function(){return null==this.states_?uo(0,Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1).map((function(e){return null})):this.states_}},{key:"setStates",value:function(e){this.states_=e}},{key:"computeOutputShape",value:function(e){Qo(e)&&(e=e[0]);var t=this.cell.stateSize;Array.isArray(t)||(t=[t]);var n,r=t[0];if(n=this.returnSequences?[e[0],e[1],r]:[e[0],r],this.returnState){var a,o=[],i=(0,ra.Z)(t);try{for(i.s();!(a=i.n()).done;){var s=a.value;o.push([e[0],s])}}catch(u){i.e(u)}finally{i.f()}return[n].concat(o)}return n}},{key:"computeMask",value:function(e,t){var n=this;return l.lub((function(){Array.isArray(t)&&(t=t[0]);var e=n.returnSequences?t:null;if(n.returnState){var r=n.states.map((function(e){return null}));return[e].concat(r)}return e}))}},{key:"states",get:function(){if(null==this.states_){for(var e=Array.isArray(this.cell.stateSize)?this.cell.stateSize.length:1,t=[],n=0;n<e;++n)t.push(null);return t}return this.states_},set:function(e){this.states_=e}},{key:"build",value:function(e){if(null!=this.numConstants)throw new ga("Constants support is not implemented in RNN yet.");Qo(e)&&(e=e[0]);var t=this.stateful?e[0]:null,n=e.slice(2);this.inputSpec[0]=new ii({shape:[t,null].concat((0,Qn.Z)(n))});var r,a=[e[0]].concat(e.slice(2));if(this.cell.build(a),r=Array.isArray(this.cell.stateSize)?this.cell.stateSize:[this.cell.stateSize],null!=this.stateSpec){if(!l.D5U.arraysEqual(this.stateSpec.map((function(e){return e.shape[e.shape.length-1]})),r))throw new ma("An initialState was passed that is not compatible with "+"cell.stateSize. Received stateSpec=".concat(this.stateSpec,"; ")+"However cell.stateSize is ".concat(this.cell.stateSize))}else this.stateSpec=r.map((function(e){return new ii({shape:[null,e]})}));this.stateful&&this.resetStates()}},{key:"resetStates",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,l.lub)((function(){if(!t.stateful)throw new ha("Cannot call resetStates() on an RNN Layer that is not stateful.");var r=t.inputSpec[0].shape[0];if(null==r)throw new ma("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==t.states_)Array.isArray(t.cell.stateSize)?t.states_=t.cell.stateSize.map((function(e){return l.lls([r,e])})):t.states_=[l.lls([r,t.cell.stateSize])];else if(null==e)l.B90(t.states_),null!=t.keptStates&&(l.B90(t.keptStates),t.keptStates=[]),Array.isArray(t.cell.stateSize)?t.states_=t.cell.stateSize.map((function(e){return l.lls([r,e])})):t.states_[0]=l.lls([r,t.cell.stateSize]);else{if(Array.isArray(e)||(e=[e]),e.length!==t.states_.length)throw new ma("Layer ".concat(t.name," expects ").concat(t.states_.length," state(s), ")+"but it received ".concat(e.length," state value(s). Input ")+"received: ".concat(e));!0===n?t.keptStates.push(t.states_.slice()):l.B90(t.states_);for(var a=0;a<t.states_.length;++a){var o=e[a],i=Array.isArray(t.cell.stateSize)?t.cell.stateSize[a]:t.cell.stateSize,s=[r,i];if(!l.D5U.arraysEqual(o.shape,s))throw new ma("State ".concat(a," is incompatible with layer ").concat(t.name,": ")+"expected shape=".concat(s,", received shape=").concat(o.shape));t.states_[a]=o}}t.states_=t.states_.map((function(e){return l.CnY(e.clone())}))}))}},{key:"apply",value:function(e,t){var r=null==t?null:t.initialState,a=null==t?null:t.constants;null==t&&(t={});var o=Bc(e,r,a,this.numConstants);e=o.inputs,r=o.initialState,a=o.constants;var i=[],s=[];if(null!=r){t.initialState=r,i=i.concat(r),this.stateSpec=[];var u,c=(0,ra.Z)(r);try{for(c.s();!(u=c.n()).done;){var l=u.value;this.stateSpec.push(new ii({shape:l.shape}))}}catch(v){c.e(v)}finally{c.f()}s=s.concat(this.stateSpec)}if(null!=a&&(t.constants=a,i=i.concat(a),this.numConstants=a.length),i[0]instanceof si){var f=[e].concat(i),p=this.inputSpec.concat(s),d=this.inputSpec;this.inputSpec=p;var h=(0,ps.Z)((0,ca.Z)(n.prototype),"apply",this).call(this,f,t);return this.inputSpec=d,h}return(0,ps.Z)((0,ca.Z)(n.prototype),"apply",this).call(this,e,t)}},{key:"call",value:function(e,t){var n=this;return(0,l.lub)((function(){var r=null==t?null:t.mask,a=null==t?null:t.training,o=null==t?null:t.initialState;e=Jo(e),null==o&&(o=n.stateful?n.states_:n.getInitialState(e));var i=Array.isArray(n.cell.stateSize)?n.cell.stateSize.length:1;if(o.length!==i)throw new ma("RNN Layer has ".concat(i," state(s) but was passed ")+"".concat(o.length," initial state(s)."));n.unroll&&console.warn("Ignoring unroll = true for RNN layer, due to imperative backend.");var s={training:a},u=Uc((function(e,t){var r=n.cell.call([e].concat(t),s);return[r[0],r.slice(1)]}),e,o,n.goBackwards,r,null,n.unroll,n.returnSequences),c=u[0],l=u[1],f=u[2];n.stateful&&n.resetStates(f,a);var p=n.returnSequences?l:c;return n.returnState?[p].concat(f):p}))}},{key:"getInitialState",value:function(e){var t=this;return(0,l.lub)((function(){var n=l.lls(e.shape);return n=fo(n=l.Smz(n,[1,2])),Array.isArray(t.cell.stateSize)?t.cell.stateSize.map((function(e){return e>1?bo(n,[1,e]):n})):t.cell.stateSize>1?[bo(n,[1,t.cell.stateSize])]:[n]}))}},{key:"trainableWeights",get:function(){return this.trainable?this.cell.trainableWeights:[]}},{key:"nonTrainableWeights",get:function(){return this.trainable?this.cell.nonTrainableWeights:this.cell.weights}},{key:"setFastWeightInitDuringBuild",value:function(e){(0,ps.Z)((0,ca.Z)(n.prototype),"setFastWeightInitDuringBuild",this).call(this,e),null!=this.cell&&this.cell.setFastWeightInitDuringBuild(e)}},{key:"getConfig",value:function(){var e=(0,ps.Z)((0,ca.Z)(n.prototype),"getConfig",this).call(this),t={returnSequences:this.returnSequences,returnState:this.returnState,goBackwards:this.goBackwards,stateful:this.stateful,unroll:this.unroll};null!=this.numConstants&&(t.numConstants=this.numConstants);var r=this.cell.getConfig();return this.getClassName()===n.className&&(t.cell={className:this.cell.getClassName(),config:r}),Object.assign({},r,e,t)}}],[{key:"fromConfig",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.cell,a=ds(r,n);return new e(Object.assign(t,{cell:a}))}}]),n}(fi);Wc.className="RNN",l.m7h.registerClass(Wc);var Vc=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(){return(0,aa.Z)(this,n),t.apply(this,arguments)}return(0,oa.Z)(n)}(fi),Hc=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;return(0,aa.Z)(this,n),(r=t.call(this,e)).DEFAULT_ACTIVATION="tanh",r.DEFAULT_KERNEL_INITIALIZER="glorotNormal",r.DEFAULT_RECURRENT_INITIALIZER="orthogonal",r.DEFAULT_BIAS_INITIALIZER="zeros",r.units=e.units,Fa(r.units,"units"),r.activation=ic(null==e.activation?r.DEFAULT_ACTIVATION:e.activation),r.useBias=null==e.useBias||e.useBias,r.kernelInitializer=Yo(e.kernelInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.recurrentInitializer=Yo(e.recurrentInitializer||r.DEFAULT_RECURRENT_INITIALIZER),r.biasInitializer=Yo(e.biasInitializer||r.DEFAULT_BIAS_INITIALIZER),r.kernelRegularizer=dc(e.kernelRegularizer),r.recurrentRegularizer=dc(e.recurrentRegularizer),r.biasRegularizer=dc(e.biasRegularizer),r.kernelConstraint=Di(e.kernelConstraint),r.recurrentConstraint=Di(e.recurrentConstraint),r.biasConstraint=Di(e.biasConstraint),r.dropout=io([1,so([0,null==e.dropout?0:e.dropout])]),r.recurrentDropout=io([1,so([0,null==e.recurrentDropout?0:e.recurrentDropout])]),r.dropoutFunc=e.dropoutFunc,r.stateSize=r.units,r.dropoutMask=null,r.recurrentDropoutMask=null,r}return(0,oa.Z)(n,[{key:"build",value:function(e){e=ei(e),this.kernel=this.addWeight("kernel",[e[e.length-1],this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}},{key:"call",value:function(e,t){var n=this;return(0,l.lub)((function(){if(2!==e.length)throw new ma("SimpleRNNCell expects 2 input Tensors, got ".concat(e.length,"."));var r=e[1];e=e[0];var a,o=null!=t.training&&t.training;0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=$c({ones:function(){return l.JpU(e)},rate:n.dropout,training:o,dropoutFunc:n.dropoutFunc})),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=$c({ones:function(){return l.JpU(r)},rate:n.recurrentDropout,training:o,dropoutFunc:n.dropoutFunc}));var i=n.dropoutMask,s=n.recurrentDropoutMask;a=wo(null!=i?l.dC7(e,i):e,n.kernel.read()),null!=n.bias&&(a=Co(a,n.bias.read())),null!=s&&(r=l.dC7(r,s));var u=l.IHx(a,wo(r,n.recurrentKernel.read()));return null!=n.activation&&(u=n.activation.apply(u)),[u,u]}))}},{key:"getConfig",value:function(){var e=(0,ps.Z)((0,ca.Z)(n.prototype),"getConfig",this).call(this),t={units:this.units,activation:ac(this.activation),useBias:this.useBias,kernelInitializer:Ko(this.kernelInitializer),recurrentInitializer:Ko(this.recurrentInitializer),biasInitializer:Ko(this.biasInitializer),kernelRegularizer:fc(this.kernelRegularizer),recurrentRegularizer:fc(this.recurrentRegularizer),biasRegularizer:fc(this.biasRegularizer),activityRegularizer:fc(this.activityRegularizer),kernelConstraint:Oi(this.kernelConstraint),recurrentConstraint:Oi(this.recurrentConstraint),biasConstraint:Oi(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout};return Object.assign({},e,t)}}]),n}(Vc);Hc.className="SimpleRNNCell",l.m7h.registerClass(Hc);var Gc=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){return(0,aa.Z)(this,n),e.cell=new Hc(e),t.call(this,e)}return(0,oa.Z)(n,[{key:"call",value:function(e,t){var r=this;return(0,l.lub)((function(){null!=r.cell.dropoutMask&&(l.B90(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(l.B90(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null);var a=null==t?null:t.mask,o=null==t?null:t.training,i=null==t?null:t.initialState;return(0,ps.Z)((0,ca.Z)(n.prototype),"call",r).call(r,e,{mask:a,training:o,initialState:i})}))}}],[{key:"fromConfig",value:function(e,t){return new e(t)}}]),n}(Wc);Gc.className="SimpleRNN",l.m7h.registerClass(Gc);var qc=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;if((0,aa.Z)(this,n),(r=t.call(this,e)).DEFAULT_ACTIVATION="tanh",r.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",r.DEFAULT_KERNEL_INITIALIZER="glorotNormal",r.DEFAULT_RECURRENT_INITIALIZER="orthogonal",r.DEFAULT_BIAS_INITIALIZER="zeros",e.resetAfter)throw new ma("GRUCell does not support reset_after parameter set to true.");return r.units=e.units,Fa(r.units,"units"),r.activation=ic(void 0===e.activation?r.DEFAULT_ACTIVATION:e.activation),r.recurrentActivation=ic(void 0===e.recurrentActivation?r.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),r.useBias=null==e.useBias||e.useBias,r.kernelInitializer=Yo(e.kernelInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.recurrentInitializer=Yo(e.recurrentInitializer||r.DEFAULT_RECURRENT_INITIALIZER),r.biasInitializer=Yo(e.biasInitializer||r.DEFAULT_BIAS_INITIALIZER),r.kernelRegularizer=dc(e.kernelRegularizer),r.recurrentRegularizer=dc(e.recurrentRegularizer),r.biasRegularizer=dc(e.biasRegularizer),r.kernelConstraint=Di(e.kernelConstraint),r.recurrentConstraint=Di(e.recurrentConstraint),r.biasConstraint=Di(e.biasConstraint),r.dropout=io([1,so([0,null==e.dropout?0:e.dropout])]),r.recurrentDropout=io([1,so([0,null==e.recurrentDropout?0:e.recurrentDropout])]),r.dropoutFunc=e.dropoutFunc,r.implementation=e.implementation,r.stateSize=r.units,r.dropoutMask=null,r.recurrentDropoutMask=null,r}return(0,oa.Z)(n,[{key:"build",value:function(e){var t=(e=ei(e))[e.length-1];this.kernel=this.addWeight("kernel",[t,3*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,3*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias?this.bias=this.addWeight("bias",[3*this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint):this.bias=null,this.built=!0}},{key:"call",value:function(e,t){var n=this;return(0,l.lub)((function(){if(2!==e.length)throw new ma("GRUCell expects 2 input Tensors (inputs, h, c), got "+"".concat(e.length,"."));var r=null!=t.training&&t.training,a=e[1];e=e[0],0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=$c({ones:function(){return l.JpU(e)},rate:n.dropout,training:r,count:3,dropoutFunc:n.dropoutFunc})),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=$c({ones:function(){return l.JpU(a)},rate:n.recurrentDropout,training:r,count:3,dropoutFunc:n.dropoutFunc}));var o,i,s,u=n.dropoutMask,c=n.recurrentDropoutMask;0<n.dropout&&n.dropout<1&&(e=l.dC7(e,u[0]));var p=wo(e,n.kernel.read());n.useBias&&(p=Co(p,n.bias.read())),0<n.recurrentDropout&&n.recurrentDropout<1&&(a=l.dC7(a,c[0]));var d=n.recurrentKernel.read(),h=l.Vl2(d,[2*n.units,n.units],d.rank-1),v=(0,f.Z)(h,2),m=v[0],g=v[1],y=wo(a,m),b=l.Vl2(p,3,p.rank-1),x=(0,f.Z)(b,3),w=x[0],k=x[1],S=x[2],E=l.Vl2(y,2,y.rank-1),C=(0,f.Z)(E,2),N=C[0],T=C[1];o=n.recurrentActivation.apply(l.IHx(w,N)),i=n.recurrentActivation.apply(l.IHx(k,T));var I=wo(l.dC7(i,a),g);s=n.activation.apply(l.IHx(S,I));var O=l.IHx(l.dC7(o,a),l.dC7(l.IHx(1,l.W76(o)),s));return[O,O]}))}},{key:"getConfig",value:function(){var e=(0,ps.Z)((0,ca.Z)(n.prototype),"getConfig",this).call(this),t={units:this.units,activation:ac(this.activation),recurrentActivation:ac(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Ko(this.kernelInitializer),recurrentInitializer:Ko(this.recurrentInitializer),biasInitializer:Ko(this.biasInitializer),kernelRegularizer:fc(this.kernelRegularizer),recurrentRegularizer:fc(this.recurrentRegularizer),biasRegularizer:fc(this.biasRegularizer),activityRegularizer:fc(this.activityRegularizer),kernelConstraint:Oi(this.kernelConstraint),recurrentConstraint:Oi(this.recurrentConstraint),biasConstraint:Oi(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation,resetAfter:!1};return Object.assign({},e,t)}}]),n}(Vc);qc.className="GRUCell",l.m7h.registerClass(qc);var Xc=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){return(0,aa.Z)(this,n),0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new qc(e),t.call(this,e)}return(0,oa.Z)(n,[{key:"call",value:function(e,t){var r=this;return(0,l.lub)((function(){null!=r.cell.dropoutMask&&(l.B90(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(l.B90(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null);var a=null==t?null:t.mask,o=null==t?null:t.training,i=null==t?null:t.initialState;return(0,ps.Z)((0,ca.Z)(n.prototype),"call",r).call(r,e,{mask:a,training:o,initialState:i})}))}}],[{key:"fromConfig",value:function(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)}}]),n}(Wc);Xc.className="GRU",l.m7h.registerClass(Xc);var Kc=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;return(0,aa.Z)(this,n),(r=t.call(this,e)).DEFAULT_ACTIVATION="tanh",r.DEFAULT_RECURRENT_ACTIVATION="hardSigmoid",r.DEFAULT_KERNEL_INITIALIZER="glorotNormal",r.DEFAULT_RECURRENT_INITIALIZER="orthogonal",r.DEFAULT_BIAS_INITIALIZER="zeros",r.units=e.units,Fa(r.units,"units"),r.activation=ic(void 0===e.activation?r.DEFAULT_ACTIVATION:e.activation),r.recurrentActivation=ic(void 0===e.recurrentActivation?r.DEFAULT_RECURRENT_ACTIVATION:e.recurrentActivation),r.useBias=null==e.useBias||e.useBias,r.kernelInitializer=Yo(e.kernelInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.recurrentInitializer=Yo(e.recurrentInitializer||r.DEFAULT_RECURRENT_INITIALIZER),r.biasInitializer=Yo(e.biasInitializer||r.DEFAULT_BIAS_INITIALIZER),r.unitForgetBias=e.unitForgetBias,r.kernelRegularizer=dc(e.kernelRegularizer),r.recurrentRegularizer=dc(e.recurrentRegularizer),r.biasRegularizer=dc(e.biasRegularizer),r.kernelConstraint=Di(e.kernelConstraint),r.recurrentConstraint=Di(e.recurrentConstraint),r.biasConstraint=Di(e.biasConstraint),r.dropout=io([1,so([0,null==e.dropout?0:e.dropout])]),r.recurrentDropout=io([1,so([0,null==e.recurrentDropout?0:e.recurrentDropout])]),r.dropoutFunc=e.dropoutFunc,r.implementation=e.implementation,r.stateSize=[r.units,r.units],r.dropoutMask=null,r.recurrentDropoutMask=null,r}return(0,oa.Z)(n,[{key:"build",value:function(e){var t,n,r=(e=ei(e))[e.length-1];if(this.kernel=this.addWeight("kernel",[r,4*this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.recurrentKernel=this.addWeight("recurrent_kernel",[this.units,4*this.units],null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){if(this.unitForgetBias){var a=this.biasInitializer,o=this.units;n=new(t=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(){return(0,aa.Z)(this,n),t.apply(this,arguments)}return(0,oa.Z)(n,[{key:"apply",value:function(e,t){var n=a.apply([o]),r=(new Ro).apply([o]),i=a.apply([2*o]);return yo(yo(n,r),i)}}]),n}(Do),t.className="CustomInit",t)}else n=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.units],null,n,this.biasRegularizer,!0,this.biasConstraint)}else this.bias=null;this.built=!0}},{key:"call",value:function(e,t){var n=this;return(0,l.lub)((function(){var r=null!=t.training&&t.training;if(3!==e.length)throw new ma("LSTMCell expects 3 input Tensors (inputs, h, c), got "+"".concat(e.length,"."));var a=e[1],o=e[2];e=e[0],0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=$c({ones:function(){return l.JpU(e)},rate:n.dropout,training:r,count:4,dropoutFunc:n.dropoutFunc})),0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=$c({ones:function(){return l.JpU(a)},rate:n.recurrentDropout,training:r,count:4,dropoutFunc:n.dropoutFunc}));var i,s,u,c,p=n.dropoutMask,d=n.recurrentDropoutMask;0<n.dropout&&n.dropout<1&&(e=l.dC7(e,p[0]));var h=wo(e,n.kernel.read());0<n.recurrentDropout&&n.recurrentDropout<1&&(a=l.dC7(a,d[0])),h=l.IHx(h,wo(a,n.recurrentKernel.read())),n.useBias&&(h=Co(h,n.bias.read()));var v=l.Vl2(h,4,h.rank-1),m=(0,f.Z)(v,4),g=m[0],y=m[1],b=m[2],x=m[3];i=n.recurrentActivation.apply(g),s=n.recurrentActivation.apply(y),u=l.IHx(l.dC7(s,o),l.dC7(i,n.activation.apply(b))),c=n.recurrentActivation.apply(x);var w=l.dC7(c,n.activation.apply(u));return[w,w,u]}))}},{key:"getConfig",value:function(){var e=(0,ps.Z)((0,ca.Z)(n.prototype),"getConfig",this).call(this),t={units:this.units,activation:ac(this.activation),recurrentActivation:ac(this.recurrentActivation),useBias:this.useBias,kernelInitializer:Ko(this.kernelInitializer),recurrentInitializer:Ko(this.recurrentInitializer),biasInitializer:Ko(this.biasInitializer),unitForgetBias:this.unitForgetBias,kernelRegularizer:fc(this.kernelRegularizer),recurrentRegularizer:fc(this.recurrentRegularizer),biasRegularizer:fc(this.biasRegularizer),activityRegularizer:fc(this.activityRegularizer),kernelConstraint:Oi(this.kernelConstraint),recurrentConstraint:Oi(this.recurrentConstraint),biasConstraint:Oi(this.biasConstraint),dropout:this.dropout,recurrentDropout:this.recurrentDropout,implementation:this.implementation};return Object.assign({},e,t)}}]),n}(Vc);Kc.className="LSTMCell",l.m7h.registerClass(Kc);var Yc=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){return(0,aa.Z)(this,n),0===e.implementation&&console.warn("`implementation=0` has been deprecated, and now defaults to `implementation=1`. Please update your layer call."),e.cell=new Kc(e),t.call(this,e)}return(0,oa.Z)(n,[{key:"call",value:function(e,t){var r=this;return(0,l.lub)((function(){null!=r.cell.dropoutMask&&(l.B90(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(l.B90(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null);var a=null==t?null:t.mask,o=null==t?null:t.training,i=null==t?null:t.initialState;return(0,ps.Z)((0,ca.Z)(n.prototype),"call",r).call(r,e,{mask:a,training:o,initialState:i})}))}}],[{key:"fromConfig",value:function(e,t){return 0===t.implmentation&&(t.implementation=1),new e(t)}}]),n}(Wc);Yc.className="LSTM",l.m7h.registerClass(Yc);var Qc=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;return(0,aa.Z)(this,n),(r=t.call(this,e)).cells=e.cells,r}return(0,oa.Z)(n,[{key:"stateSize",get:function(){var e,t=[],n=(0,ra.Z)(this.cells.slice().reverse());try{for(n.s();!(e=n.n()).done;){var r=e.value;Array.isArray(r.stateSize)?t.push.apply(t,(0,Qn.Z)(r.stateSize)):t.push(r.stateSize)}}catch(a){n.e(a)}finally{n.f()}return t}},{key:"call",value:function(e,t){var n=this;return(0,l.lub)((function(){var r,a=e.slice(1),o=[],i=(0,ra.Z)(n.cells.slice().reverse());try{for(i.s();!(r=i.n()).done;){var s=r.value;Array.isArray(s.stateSize)?o.push(a.splice(0,s.stateSize.length)):o.push(a.splice(0,1))}}catch(m){i.e(m)}finally{i.f()}o.reverse();for(var u,c=[],l=0;l<n.cells.length;++l){var f=n.cells[l];a=o[l],u=0===l?[e[0]].concat(a):[u[0]].concat(a),u=f.call(u,t),c.push(u.slice(1))}a=[];var p,d=(0,ra.Z)(c.slice().reverse());try{for(d.s();!(p=d.n()).done;){var h,v=p.value;(h=a).push.apply(h,(0,Qn.Z)(v))}}catch(m){d.e(m)}finally{d.f()}return[u[0]].concat(a)}))}},{key:"build",value:function(e){var t;Qo(e)&&(e=e[0]),this.cells.forEach((function(n,r){Ja("RNNCell_".concat(r),(function(){n.build(e),t=Array.isArray(n.stateSize)?n.stateSize[0]:n.stateSize,e=[e[0],t]}))})),this.built=!0}},{key:"getConfig",value:function(){var e=(0,ps.Z)((0,ca.Z)(n.prototype),"getConfig",this).call(this),t={cells:this.cells.map((function(e){return{className:e.getClassName(),config:e.getConfig()}}))};return Object.assign({},e,t)}},{key:"trainableWeights",get:function(){if(!this.trainable)return[];var e,t=[],n=(0,ra.Z)(this.cells);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push.apply(t,(0,Qn.Z)(r.trainableWeights))}}catch(a){n.e(a)}finally{n.f()}return t}},{key:"nonTrainableWeights",get:function(){var e,t=[],n=(0,ra.Z)(this.cells);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push.apply(t,(0,Qn.Z)(r.nonTrainableWeights))}}catch(u){n.e(u)}finally{n.f()}if(!this.trainable){var a,o=[],i=(0,ra.Z)(this.cells);try{for(i.s();!(a=i.n()).done;){var s=a.value;o.push.apply(o,(0,Qn.Z)(s.trainableWeights))}}catch(u){i.e(u)}finally{i.f()}return o.concat(t)}return t}},{key:"getWeights",value:function(){var e,t=[],n=(0,ra.Z)(this.cells);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push.apply(t,(0,Qn.Z)(r.weights))}}catch(a){n.e(a)}finally{n.f()}return ai(t)}},{key:"setWeights",value:function(e){var t,n=[],r=(0,ra.Z)(this.cells);try{for(r.s();!(t=r.n()).done;)for(var a=t.value,o=a.weights.length,i=e.splice(o),s=0;s<a.weights.length;++s)n.push([a.weights[s],i[s]])}catch(u){r.e(u)}finally{r.f()}oi(n)}}],[{key:"fromConfig",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=[],o=(0,ra.Z)(t.cells);try{for(o.s();!(n=o.n()).done;){var i=n.value;a.push(ds(i,r))}}catch(s){o.e(s)}finally{o.f()}return new e({cells:a})}}]),n}(Vc);function $c(e){var t=e.ones,n=e.rate,r=e.training,a=void 0!==r&&r,o=e.count,i=void 0===o?1:o,s=e.dropoutFunc,u=function(){return null!=s?s(t(),n):To(t(),n)},c=function(){return Io(u,t,a)};return!i||i<=1?l.CnY(c().clone()):Array(i).fill(void 0).map(c).map((function(e){return l.CnY(e.clone())}))}Qc.className="StackedRNNCells",l.m7h.registerClass(Qc);var Jc=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},el=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;if((0,aa.Z)(this,n),e.unroll)throw new ga("Unrolling is not possible with convolutional RNNs.");if(Array.isArray(e.cell))throw new ga("It is not possible at the moment to stack convolutional cells.");return(r=t.call(this,e)).inputSpec=[new ii({ndim:5})],r}return(0,oa.Z)(n,[{key:"call",value:function(e,t){var r=this;return l.lub((function(){if(null!=r.cell.dropoutMask&&(l.B90(r.cell.dropoutMask),r.cell.dropoutMask=null),null!=r.cell.recurrentDropoutMask&&(l.B90(r.cell.recurrentDropoutMask),r.cell.recurrentDropoutMask=null),t&&t.constants)throw new ma("ConvRNN2D cell does not support constants");var a=null==t?null:t.mask,o=null==t?null:t.training,i=null==t?null:t.initialState;return(0,ps.Z)((0,ca.Z)(n.prototype),"call",r).call(r,e,{mask:a,training:o,initialState:i})}))}},{key:"computeOutputShape",value:function(e){var t=this.computeSingleOutputShape(e);return this.returnSequences||(t=[t[0]].concat((0,Qn.Z)(t.slice(2)))),this.returnState&&(t=[t].concat((0,Qn.Z)(Array(2).fill([e[0]].concat((0,Qn.Z)(t.slice(-3))))))),t}},{key:"getInitialState",value:function(e){var t=this;return l.lub((function(){var n=t.cell.stateSize,r=e.shape,a=t.computeSingleOutputShape(r),o=[a[0]].concat((0,Qn.Z)(a.slice(2))),i=l.lls(o);return Array.isArray(n)?Array(n.length).fill(i):[i]}))}},{key:"resetStates",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];l.lub((function(){if(!t.stateful)throw new ha("Cannot call resetStates() on an RNN Layer that is not stateful.");var r=t.inputSpec[0].shape,a=t.computeSingleOutputShape(r),o=[a[0]].concat((0,Qn.Z)(a.slice(2)));if(null==r[0])throw new ma("If an RNN is stateful, it needs to know its batch size. Specify the batch size of your input tensors: \n- If using a Sequential model, specify the batch size by passing a `batchInputShape` option to your first layer.\n- If using the functional API, specify the batch size by passing a `batchShape` option to your Input layer.");if(null==t.getStates())Array.isArray(t.cell.stateSize)?t.states_=t.cell.stateSize.map((function(){return l.lls(o)})):t.states_=[l.lls(o)];else if(null==e)l.B90(t.states_),null!=t.keptStates&&(l.B90(t.keptStates),t.keptStates=[]),Array.isArray(t.cell.stateSize)?t.states_=t.cell.stateSize.map((function(){return l.lls(o)})):t.states_[0]=l.lls(o);else{if(Array.isArray(e)||(e=[e]),e.length!==t.states_.length)throw new ma("Layer ".concat(t.name," expects ").concat(t.states_.length," state(s), ")+"but it received ".concat(e.length," state value(s). Input ")+"received: ".concat(e));n?t.keptStates.push(t.states_.slice()):l.B90(t.states_);for(var i=0;i<t.states_.length;++i){var s=e[i],u=o;if(!l.D5U.arraysEqual(s.shape,u))throw new ma("State ".concat(i," is incompatible with layer ").concat(t.name,": ")+"expected shape=".concat(u,", received shape=").concat(s.shape));t.states_[i]=s}}t.states_=t.states_.map((function(e){return l.CnY(e.clone())}))}))}},{key:"computeSingleOutputShape",value:function(e){var t=this.cell,n=t.dataFormat,r=t.filters,a=t.kernelSize,o=t.padding,i=t.strides,s=t.dilationRate,u="channelsFirst"===n,c=e[u?3:2],l=e[u?4:3],f=kc(c,a[0],o,i[0],s[0]),p=kc(l,a[1],o,i[1],s[1]);return[].concat((0,Qn.Z)(e.slice(0,2)),(0,Qn.Z)(u?[r,f,p]:[f,p,r]))}}]),n}(Wc);el.className="ConvRNN2D";var tl=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;(0,aa.Z)(this,n);var a=e.filters,o=e.kernelSize,i=e.strides,s=e.padding,u=e.dataFormat,c=e.dilationRate;return(r=t.call(this,Object.assign({},e,{units:a}))).filters=a,Fa(r.filters,"filters"),r.kernelSize=wc(o,2,"kernelSize"),r.kernelSize.forEach((function(e){return Fa(e,"kernelSize")})),r.strides=wc(i||1,2,"strides"),r.strides.forEach((function(e){return Fa(e,"strides")})),r.padding=s||"valid",Ya(r.padding),r.dataFormat=u||"channelsLast",Ka(r.dataFormat),r.dilationRate=wc(c||1,2,"dilationRate"),r.dilationRate.forEach((function(e){return Fa(e,"dilationRate")})),r}return(0,oa.Z)(n,[{key:"build",value:function(e){var t;e=ei(e);var n="channelsFirst"===this.dataFormat?1:e.length-1;if(null==e[n])throw new ma("The channel dimension of the input should be defined. "+"Found ".concat(e[n]));var r=e[n],a=this.kernelSize.concat([r,4*this.filters]);this.kernel=this.addWeight("kernel",a,null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint);var o=this.kernelSize.concat([this.filters,4*this.filters]);if(this.recurrentKernel=this.addWeight("recurrent_kernel",o,null,this.recurrentInitializer,this.recurrentRegularizer,!0,this.recurrentConstraint),this.useBias){var i;if(this.unitForgetBias){var s=this.biasInitializer,u=this.filters;i=new(t=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(){return(0,aa.Z)(this,n),t.apply(this,arguments)}return(0,oa.Z)(n,[{key:"apply",value:function(e,t){return go([s.apply([u]),l.iUs([u]),s.apply([2*u])])}}]),n}(Do),t.className="CustomInit",t)}else i=this.biasInitializer;this.bias=this.addWeight("bias",[4*this.filters],null,i,this.biasRegularizer,!0,this.biasConstraint)}this.built=!0}},{key:"call",value:function(e,t){var n=this;return l.lub((function(){if(3!==e.length)throw new ma("ConvLSTM2DCell expects 3 input Tensors (inputs, h, c), got "+"".concat(e.length,"."));var r=t.training||!1,a=e[0],o=e[1],i=e[2];0<n.dropout&&n.dropout<1&&null==n.dropoutMask&&(n.dropoutMask=$c({ones:function(){return l.JpU(a)},rate:n.dropout,training:r,count:4,dropoutFunc:n.dropoutFunc}));var s=n.dropoutMask,u=function(e,t,n){return t&&t[n]?l.dC7(t[n],e):e},c=u(a,s,0),p=u(a,s,1),d=u(a,s,2),h=u(a,s,3);0<n.recurrentDropout&&n.recurrentDropout<1&&null==n.recurrentDropoutMask&&(n.recurrentDropoutMask=$c({ones:function(){return l.JpU(o)},rate:n.recurrentDropout,training:r,count:4,dropoutFunc:n.dropoutFunc}));var v=n.recurrentDropoutMask,m=u(o,v,0),g=u(o,v,1),y=u(o,v,2),b=u(o,v,3),x=l.Vl2(n.kernel.read(),4,3),w=(0,f.Z)(x,4),k=w[0],S=w[1],E=w[2],C=w[3],N=n.useBias?l.Vl2(n.bias.read(),4):[null,null,null,null],T=(0,f.Z)(N,4),I=T[0],O=T[1],_=T[2],D=T[3];c=n.inputConv(c,k,I,n.padding),p=n.inputConv(p,S,O,n.padding),d=n.inputConv(d,E,_,n.padding),h=n.inputConv(h,C,D,n.padding);var A=l.Vl2(n.recurrentKernel.read(),4,3),R=(0,f.Z)(A,4),P=R[0],M=R[1],F=R[2],L=R[3];m=n.recurrentConv(m,P),g=n.recurrentConv(g,M),y=n.recurrentConv(y,F),b=n.recurrentConv(b,L);var j=n.recurrentActivation.apply(l.IHx(c,m)),Z=n.recurrentActivation.apply(l.IHx(p,g)),z=l.IHx(l.dC7(Z,i),l.dC7(j,n.activation.apply(l.IHx(d,y)))),B=l.dC7(n.recurrentActivation.apply(l.IHx(h,b)),n.activation.apply(z));return[B,B,z]}))}},{key:"getConfig",value:function(){var e=(0,ps.Z)((0,ca.Z)(n.prototype),"getConfig",this).call(this),t=(e.units,Jc(e,["units"])),r={filters:this.filters,kernelSize:this.kernelSize,padding:this.padding,dataFormat:this.dataFormat,dilationRate:this.dilationRate,strides:this.strides};return Object.assign({},t,r)}},{key:"inputConv",value:function(e,t,n,r){var a=l.Tek(e,t,this.strides,r||"valid","channelsFirst"===this.dataFormat?"NCHW":"NHWC",this.dilationRate);return n?Co(a,n,this.dataFormat):a}},{key:"recurrentConv",value:function(e,t){return l.Tek(e,t,1,"same","channelsFirst"===this.dataFormat?"NCHW":"NHWC")}}]),n}(Kc);tl.className="ConvLSTM2DCell",l.m7h.registerClass(tl);var nl=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){(0,aa.Z)(this,n);var r=new tl(e);return t.call(this,Object.assign({},e,{cell:r}))}return(0,oa.Z)(n,null,[{key:"fromConfig",value:function(e,t){return new e(t)}}]),n}(el);nl.className="ConvLSTM2D",l.m7h.registerClass(nl);var rl=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;return(0,aa.Z)(this,n),(r=t.call(this,e)).rate=Math.max(Math.min(e.rate,1),0),r.noiseShape=e.noiseShape,r.seed=e.seed,r.supportsMasking=!0,r}return(0,oa.Z)(n,[{key:"getNoiseShape",value:function(e){if(null==this.noiseShape)return this.noiseShape;for(var t=e.shape,n=[],r=0;r<this.noiseShape.length;++r)n.push(null==this.noiseShape[r]?t[r]:this.noiseShape[r]);return n}},{key:"call",value:function(e,t){var n=this;return(0,l.lub)((function(){n.invokeCallHook(e,t);var r=Jo(e);if(0<n.rate&&n.rate<1){var a=null!=t.training&&t.training,o=n.getNoiseShape(r);return Io((function(){return To(r,n.rate,o,n.seed)}),(function(){return r}),a)}return e}))}},{key:"getConfig",value:function(){var e={rate:this.rate,noiseShape:this.noiseShape,seed:this.seed},t=(0,ps.Z)((0,ca.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}},{key:"dispose",value:function(){return(0,ps.Z)((0,ca.Z)(n.prototype),"dispose",this).call(this)}}]),n}(fi);rl.className="Dropout",l.m7h.registerClass(rl);var al=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;return(0,aa.Z)(this,n),(r=t.call(this,e)).inputSpec=[{ndim:3}],r}return(0,oa.Z)(n,[{key:"getNoiseShape",value:function(e){var t=e.shape;return[t[0],1,t[2]]}}]),n}(rl);al.className="SpatialDropout1D",l.m7h.registerClass(al);var ol=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;if((0,aa.Z)(this,n),(r=t.call(this,e)).activation=null,r.useBias=!0,r.kernel=null,r.bias=null,r.DEFAULT_KERNEL_INITIALIZER="glorotNormal",r.DEFAULT_BIAS_INITIALIZER="zeros",null==e.batchInputShape&&null==e.inputShape&&null!=e.inputDim){var a=null;null!=e.batchSize&&(a=e.batchSize),r.batchInputShape=[a,e.inputDim]}return r.units=e.units,Fa(r.units,"units"),r.activation=ic(e.activation),null!=e.useBias&&(r.useBias=e.useBias),r.kernelInitializer=Yo(e.kernelInitializer||r.DEFAULT_KERNEL_INITIALIZER),r.biasInitializer=Yo(e.biasInitializer||r.DEFAULT_BIAS_INITIALIZER),r.kernelConstraint=Di(e.kernelConstraint),r.biasConstraint=Di(e.biasConstraint),r.kernelRegularizer=dc(e.kernelRegularizer),r.biasRegularizer=dc(e.biasRegularizer),r.activityRegularizer=dc(e.activityRegularizer),r.supportsMasking=!0,r.inputSpec=[{minNDim:2}],r}return(0,oa.Z)(n,[{key:"build",value:function(e){var t=(e=ei(e))[e.length-1];null==this.kernel&&(this.kernel=this.addWeight("kernel",[t,this.units],null,this.kernelInitializer,this.kernelRegularizer,!0,this.kernelConstraint),this.useBias&&(this.bias=this.addWeight("bias",[this.units],null,this.biasInitializer,this.biasRegularizer,!0,this.biasConstraint))),this.inputSpec=[{minNDim:2,axes:(0,xc.Z)({},-1,t)}],this.built=!0}},{key:"computeOutputShape",value:function(e){var t=(e=ei(e)).slice();return t[t.length-1]=this.units,t}},{key:"call",value:function(e,t){var n=this;return(0,l.lub)((function(){n.invokeCallHook(e,t);var r,a=Jo(e),o=ja(n.activation.getClassName());return null!=o?r=wo(a,n.kernel.read(),o,n.bias?n.bias.read():null):(r=wo(a,n.kernel.read()),null!=n.bias&&(r=Co(r,n.bias.read())),null!=n.activation&&(r=n.activation.apply(r))),r}))}},{key:"getConfig",value:function(){var e={units:this.units,activation:ac(this.activation),useBias:this.useBias,kernelInitializer:Ko(this.kernelInitializer),biasInitializer:Ko(this.biasInitializer),kernelRegularizer:fc(this.kernelRegularizer),biasRegularizer:fc(this.biasRegularizer),activityRegularizer:fc(this.activityRegularizer),kernelConstraint:Oi(this.kernelConstraint),biasConstraint:Oi(this.biasConstraint)},t=(0,ps.Z)((0,ca.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(fi);ol.className="Dense",l.m7h.registerClass(ol);var il=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;return(0,aa.Z)(this,n),e=e||{},(r=t.call(this,e)).inputSpec=[{minNDim:3}],r.dataFormat=e.dataFormat,r}return(0,oa.Z)(n,[{key:"computeOutputShape",value:function(e){e=ei(e);var t,n=(0,ra.Z)(e.slice(1));try{for(n.s();!(t=n.n()).done;){if(null==t.value)throw new ma('The shape of the input to "Flatten" is not fully defined '+"(got ".concat(e.slice(1),"). Make sure to pass a complete ")+'"input_shape" or "batch_input_shape" argument to the first layer in your model.')}}catch(r){n.e(r)}finally{n.f()}return[e[0],oo(e,1)]}},{key:"call",value:function(e,t){var n=this;return(0,l.lub)((function(){n.invokeCallHook(e,t);var r=Jo(e);if("channelsFirst"===n.dataFormat&&r.rank>1){for(var a=[0],o=2;o<r.rank;++o)a.push(o);a.push(1),r=(0,l.p4s)(r,a)}return function(e){if(e.rank<=1)throw new ma("batchFlatten requires a minimum rank of 2. Got rank: ".concat(e.rank,"."));var t=[e.shape[0],oo(e.shape,1)];return l.XLQ(e,t)}(r)}))}},{key:"getConfig",value:function(){var e={};null!=this.dataFormat&&(e.dataFormat=this.dataFormat);var t=(0,ps.Z)((0,ca.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(fi);il.className="Flatten",l.m7h.registerClass(il);var sl=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;return(0,aa.Z)(this,n),(r=t.call(this,e)).supportsMasking=!0,r.activation=ic(e.activation),r}return(0,oa.Z)(n,[{key:"call",value:function(e,t){var n=this;return(0,l.lub)((function(){n.invokeCallHook(e,t);var r=Jo(e);return n.activation.apply(r)}))}},{key:"getConfig",value:function(){var e={activation:ac(this.activation)},t=(0,ps.Z)((0,ca.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(fi);sl.className="Activation",l.m7h.registerClass(sl);var ul=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;return(0,aa.Z)(this,n),(r=t.call(this,e)).n=e.n,r.inputSpec=[{ndim:2}],r}return(0,oa.Z)(n,[{key:"computeOutputShape",value:function(e){return[e[0],this.n,e[1]]}},{key:"call",value:function(e,t){var n=this;return(0,l.lub)((function(){return e=Jo(e),t=e,r=n.n,(0,l.lub)((function(){if(2!==t.shape.length)throw new ma("repeat() expects a rank-2 tensor, but received a "+"rank-".concat(t.shape.length," tensor."));return bo(fo(t,1),[1,r,1])}));var t,r}))}},{key:"getConfig",value:function(){var e={n:this.n},t=(0,ps.Z)((0,ca.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(fi);ul.className="RepeatVector",l.m7h.registerClass(ul);var cl=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;(0,aa.Z)(this,n),(r=t.call(this,e)).targetShape=e.targetShape;for(var a=0;a<r.targetShape.length;++a)r.isUnknown(r.targetShape[a])&&(r.targetShape[a]=null);return r}return(0,oa.Z)(n,[{key:"isUnknown",value:function(e){return e<0||null==e}},{key:"fixUnknownDimension",value:function(e,t){for(var n="Total size of new array must be unchanged.",r=t.slice(),a=1,o=null,i=0;i<r.length;++i){var s=r[i];if(this.isUnknown(s)){if(null!==o)throw new ma("Can only specifiy one unknown dimension.");o=i}else a*=s}var u=oo(e);if(null!==o){if(0===a||u%a!==0)throw new ma(n);r[o]=u/a}else if(u!==a)throw new ma(n);return r}},{key:"computeOutputShape",value:function(e){for(var t=!1,n=0;n<e.length;++n)if(this.isUnknown(e[n])){t=!0;break}return t?e.slice(0,1).concat(this.targetShape):e.slice(0,1).concat(this.fixUnknownDimension(e.slice(1),this.targetShape))}},{key:"call",value:function(e,t){var n=this;return(0,l.lub)((function(){n.invokeCallHook(e,t);var r=Jo(e),a=r.shape,o=a.slice(0,1).concat(n.fixUnknownDimension(a.slice(1),n.targetShape));return(0,l.XLQ)(r,o)}))}},{key:"getConfig",value:function(){var e={targetShape:this.targetShape},t=(0,ps.Z)((0,ca.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(fi);cl.className="Reshape",l.m7h.registerClass(cl);var ll=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;if((0,aa.Z)(this,n),r=t.call(this,e),null==e.dims)throw new Error("Required configuration field `dims` is missing during Permute constructor call.");if(!Array.isArray(e.dims))throw new Error("Permute constructor requires `dims` to be an Array, but received "+"".concat(e.dims," instead."));var a=uo(1,e.dims.length+1);if(!l.D5U.arraysEqual(e.dims.slice().sort(),a))throw new Error("Invalid permutation `dims`: "+JSON.stringify(e.dims)+" `dims` must contain consecutive integers starting from 1.");return r.dims=e.dims,r.dimsIncludingBatch=[0].concat(r.dims),r.inputSpec=[new ii({ndim:r.dims.length+1})],r}return(0,oa.Z)(n,[{key:"computeOutputShape",value:function(e){var t=(e=ei(e)).slice();return this.dims.forEach((function(n,r){t[r+1]=e[n]})),t}},{key:"call",value:function(e,t){return(0,l.p4s)(Jo(e),this.dimsIncludingBatch)}},{key:"getConfig",value:function(){var e={dims:this.dims},t=(0,ps.Z)((0,ca.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(fi);ll.className="Permute",l.m7h.registerClass(ll);var fl=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;return(0,aa.Z)(this,n),(r=t.call(this,null==e?{}:e)).supportsMasking=!0,r.maskValue=null!=e?null==e.maskValue?0:e.maskValue:0,r}return(0,oa.Z)(n,[{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e=(0,ps.Z)((0,ca.Z)(n.prototype),"getConfig",this).call(this),t={maskValue:this.maskValue};return Object.assign(t,e),t}},{key:"computeMask",value:function(e,t){var n=Jo(e);return(0,l.YjB)((0,l.Quu)(n,this.maskValue),-1)}},{key:"call",value:function(e,t){var n=this;return(0,l.lub)((function(){n.invokeCallHook(e,t);var r=Jo(e),a=(0,l.YjB)((0,l.Quu)(r,n.maskValue),-1,!0);return(0,l.dC7)(r,(0,l.pju)(a,r.dtype))}))}}]),n}(fi);fl.className="Masking",l.m7h.registerClass(fl);var pl=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;if((0,aa.Z)(this,n),(r=t.call(this,e)).embeddings=null,r.DEFAULT_EMBEDDINGS_INITIALIZER="randomUniform",null==e.batchInputShape&&null==e.inputShape){var a=null;null!=e.batchSize&&(a=e.batchSize),null==e.inputLength?r.batchInputShape=[a,null]:r.batchInputShape=[a].concat(Ea(e.inputLength))}return r.inputDim=e.inputDim,Fa(r.inputDim,"inputDim"),r.outputDim=e.outputDim,Fa(r.outputDim,"outputDim"),r.embeddingsInitializer=Yo(e.embeddingsInitializer||r.DEFAULT_EMBEDDINGS_INITIALIZER),r.embeddingsRegularizer=dc(e.embeddingsRegularizer),r.activityRegularizer=dc(e.activityRegularizer),r.embeddingsConstraint=Di(e.embeddingsConstraint),r.maskZero=e.maskZero,r.supportsMasking=e.maskZero,r.inputLength=e.inputLength,r}return(0,oa.Z)(n,[{key:"build",value:function(e){this.embeddings=this.addWeight("embeddings",[this.inputDim,this.outputDim],this.dtype,this.embeddingsInitializer,this.embeddingsRegularizer,!0,this.embeddingsConstraint),this.built=!0}},{key:"warnOnIncompatibleInputShape",value:function(e){}},{key:"computeMask",value:function(e,t){var n=this;return(0,l.lub)((function(){return n.maskZero?(e=Jo(e),(0,l.Quu)(e,(0,l.P84)(e))):null}))}},{key:"computeOutputShape",value:function(e){if(e=ei(e),null==this.inputLength)return[].concat((0,Qn.Z)(e),[this.outputDim]);var t=Ea(this.inputLength);if(t.length!==e.length-1)throw new ma('"inputLength" is '.concat(this.inputLength,", but received ")+"input shape has shape ".concat(e));for(var n=0,r=0;r<t.length;++r){var a=t[r],o=e[r+1];if(null!=a&&null!=o&&a!==o)throw new ma('"inputLength" is '.concat(this.inputLength,", but received ")+"input shape has shape ".concat(e));null==a&&(t[n]=o),n++}return[e[0]].concat((0,Qn.Z)(t),[this.outputDim])}},{key:"call",value:function(e,t){var n=this;return(0,l.lub)((function(){n.invokeCallHook(e,t);var r=Jo(e);"int32"!==r.dtype&&(r=lo(r,"int32"));var a=ko(n.embeddings.read(),(0,l.XLQ)(r,[r.size]));return(0,l.XLQ)(a,ei(n.computeOutputShape(r.shape)))}))}},{key:"getConfig",value:function(){var e={inputDim:this.inputDim,outputDim:this.outputDim,embeddingsInitializer:Ko(this.embeddingsInitializer),embeddingsRegularizer:fc(this.embeddingsRegularizer),activityRegularizer:fc(this.activityRegularizer),embeddingsConstraint:Oi(this.embeddingsConstraint),maskZero:this.maskZero,inputLength:this.inputLength},t=(0,ps.Z)((0,ca.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(fi);pl.className="Embedding",l.m7h.registerClass(pl);var dl=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;return(0,aa.Z)(this,n),(r=t.call(this,e||{})).supportsMasking=!0,r}return(0,oa.Z)(n,[{key:"mergeFunction",value:function(e){throw new ga}},{key:"computeElementwiseOpOutputShape",value:function(e,t){if(null==e||null==t)return null;if(e.length<t.length)return this.computeElementwiseOpOutputShape(t,e);if(0===t.length)return e;for(var n=e.slice(0,e.length-t.length),r=0;r<t.length;++r){var a=e[e.length-t.length+r],o=t[r];if(null==a||null==o||a<0||o<0)n.push(null);else if(1===a)n.push(o);else if(1===o)n.push(a);else{if(a!==o)throw new ma("Operands could not be broadcast together with shapes "+JSON.stringify(e)+" "+JSON.stringify(t));n.push(a)}}return n}},{key:"build",value:function(e){if(Array.isArray(e)&&!Array.isArray(e[0])&&(e=[ei(e)]),e.length<2)throw new ma("A merge layer should be called on an Array of at least 2 inputs."+" Got ".concat(e.length," input(s)."));var t,n=[],r=(0,ra.Z)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;null!=a&&null!==a[0]&&n.push(a[0])}}catch(c){r.e(c)}finally{r.f()}if((n=Aa(n)).length>1)throw new ma("Can not merge tensors with different batch sizes. "+"Got tensors with shapes: ".concat(JSON.stringify(e),"."));for(var o=null==e[0]?null:e[0].slice(1),i=1;i<e.length;++i){var s=null==e[i]?null:e[i].slice(1);o=this.computeElementwiseOpOutputShape(o,s)}var u=e.map((function(e){return e.length}));-1===e.indexOf(null)&&1===Aa(u).length?this.reshapeRequired=!1:this.reshapeRequired=!0}},{key:"call",value:function(e,t){var n=this;return(0,l.lub)((function(){if(n.reshapeRequired){var t=[],r=e.map((function(e){return e.rank}));if(-1===r.indexOf(null)){var a,o=so(r),i=(0,ra.Z)(e);try{for(i.s();!(a=i.n()).done;){for(var s=a.value,u=s.rank,c=0;c<o-u;++c)s=fo(s,1);t.push(s)}}catch(T){i.e(T)}finally{i.f()}return n.mergeFunction(t)}var f,p=!1,d=(0,ra.Z)(e);try{for(d.s();!(f=d.n()).done;){var h=f.value,v=h.rank;if(null==v){var m=h.shape,g=m[0],y=m.slice(1).concat([g]),b=l.XLQ(h,[g].concat(oo(m.slice(1))));b=l.p4s(b,[1,0]),b=l.XLQ(b,y),t.push(b),p=!0}else if(v>1){var x=uo(1,v).concat([0]);t.push(l.p4s(h,x)),p=!0}else t.push(h)}}catch(T){d.e(T)}finally{d.f()}var w=n.mergeFunction(t),k=w.rank;if(p)if(null==k){var S=w.shape,E=S[S.length-1],C=[E].concat(S.slice(0,S.length-1));w=l.XLQ(l.p4s(l.XLQ(w,[-1,E]),[1,0]),C)}else if(k>1){var N=[k-1].concat(uo(0,k-1));w=l.p4s(w,N)}return w}return n.mergeFunction(e)}))}},{key:"computeOutputShape",value:function(e){var t;t=null==e[0]?null:e[0].slice(1);for(var n=1;n<e.length;++n){var r=null==e[n]?null:e[n].slice(1);t=this.computeElementwiseOpOutputShape(t,r)}var a,o=[],i=(0,ra.Z)(e);try{for(i.s();!(a=i.n()).done;){var s=a.value;null!=s&&null!==s[0]&&o.push(s[0])}}catch(u){i.e(u)}finally{i.f()}return t=1===(o=Aa(o)).length?o.concat(t):[null].concat(t)}},{key:"computeMask",value:function(e,t){return l.lub((function(){if(null==t)return null;if(!Array.isArray(t))throw new ma("`mask` should be an Array");if(!Array.isArray(e))throw new ma("`inputs` should be an Array");if(t.length!==e.length)throw new ma("The Array 'inputs' and 'mask' are expected to have the same length, but have different lengths "+"(".concat(e.length," vs ").concat(t.length,")"));if(t.every((function(e){return null==e})))return null;for(var n=(t=t.map((function(e){return null==e?e:l.dt4(e,0)})))[0],r=1;r<t.length-1;++r)n=l.HvI(n,t[r]);return n}))}}]),n}(fi),hl=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){return(0,aa.Z)(this,n),t.call(this,e)}return(0,oa.Z)(n,[{key:"mergeFunction",value:function(e){return(0,l.lub)((function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=l.IHx(t,e[n]);return t}))}}]),n}(dl);hl.className="Add",l.m7h.registerClass(hl);var vl=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){return(0,aa.Z)(this,n),t.call(this,e)}return(0,oa.Z)(n,[{key:"mergeFunction",value:function(e){return(0,l.lub)((function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=l.dC7(t,e[n]);return t}))}}]),n}(dl);vl.className="Multiply",l.m7h.registerClass(vl);var ml=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){return(0,aa.Z)(this,n),t.call(this,e)}return(0,oa.Z)(n,[{key:"mergeFunction",value:function(e){return(0,l.lub)((function(){for(var t=e[0].clone(),n=1;n<e.length;++n)t=l.IHx(t,e[n]);return l.dC7(1/e.length,t)}))}}]),n}(dl);ml.className="Average",l.m7h.registerClass(ml);var gl=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){return(0,aa.Z)(this,n),t.call(this,e)}return(0,oa.Z)(n,[{key:"mergeFunction",value:function(e){return(0,l.lub)((function(){for(var t=e[0],n=1;n<e.length;++n)t=l.gWQ(t,e[n]);return t}))}}]),n}(dl);gl.className="Maximum",l.m7h.registerClass(gl);var yl=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){return(0,aa.Z)(this,n),t.call(this,e)}return(0,oa.Z)(n,[{key:"mergeFunction",value:function(e){return(0,l.lub)((function(){for(var t=e[0],n=1;n<e.length;++n)t=l.LTh(t,e[n]);return t}))}}]),n}(dl);yl.className="Minimum",l.m7h.registerClass(yl);var bl=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;return(0,aa.Z)(this,n),(r=t.call(this,e)).DEFAULT_AXIS=-1,null==e&&(e={}),r.axis=null==e.axis?r.DEFAULT_AXIS:e.axis,r.supportsMasking=!0,r.reshapeRequired=!1,r}return(0,oa.Z)(n,[{key:"build",value:function(e){if(!Array.isArray(e)||!Array.isArray(e[0])||1===e.length)throw new ma("A `Concatenate` layer should be called on a list of at least 2 inputs");var t,n=!0,r=(0,ra.Z)(e);try{for(r.s();!(t=r.n()).done;){if(null!=t.value){n=!1;break}}}catch(p){r.e(p)}finally{r.f()}if(!n){for(var a=[],o=0;o<e.length;++o){var i=e[o].slice();i.splice(this.axis,1);var s,u=!1,c=(0,ra.Z)(a);try{for(c.s();!(s=c.n()).done;){var f=s.value;if(l.D5U.arraysEqual(f,i)){u=!0;break}}}catch(p){c.e(p)}finally{c.f()}u||a.push(i)}if(a.length>1)throw new ma("A `Concatenate` layer requires inputs with matching shapes except for the concat axis. Got input shapes: "+JSON.stringify(e))}}},{key:"mergeFunction",value:function(e){var t=this;return(0,l.lub)((function(){return go(e,t.axis)}))}},{key:"computeOutputShape",value:function(e){if(!Array.isArray(e)||!Array.isArray(e[0]))throw new ma("A `Concatenate` layer should be called on a list of inputs.");var t,n=e,r=n[0].slice(),a=this.axis<0?r.length+this.axis:this.axis,o=(0,ra.Z)(n.slice(1));try{for(o.s();!(t=o.n()).done;){var i=t.value;if(null==r[a]||null==i[a]){r[a]=null;break}r[a]+=i[a]}}catch(s){o.e(s)}finally{o.f()}return r}},{key:"computeMask",value:function(e,t){var n=this;if(null==t)return null;if(!Array.isArray(t))throw new ma("`mask` should be an array for Concatenate");if(!Array.isArray(e))throw new ma("`inputs` should be an array for Concatenate");if(t.length!==e.length)throw new ma("Mismatch in the length of mask (".concat(t.length,") ")+"and the legnth of inputs (".concat(e.length,")"));return l.lub((function(){var r=!0;if(t.forEach((function(e){null==e||(r=!1)})),r)return null;for(var a=[],o=0;o<e.length;++o)null==t[o]?a.push(l.pju(l.JpU(e[o]),"bool")):t[o].rank<e[o].rank?a.push(l.dt4(t[o],-1)):a.push(t[o]);var i=l.zoF(a,n.axis);return l.$6P(i,-1,!1)}))}},{key:"getConfig",value:function(){var e={axis:this.axis},t=(0,ps.Z)((0,ca.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(dl);function xl(e,t){for(;e<0;)e+=t;return e}bl.className="Concatenate",l.m7h.registerClass(bl);var wl=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;return(0,aa.Z)(this,n),(r=t.call(this,e)).axes=e.axes,r.normalize=null!=e.normalize&&e.normalize,r.supportsMasking=!0,r.reshapeRequired=!1,r}return(0,oa.Z)(n,[{key:"build",value:function(e){l.D5U.assert(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),(function(){return"A `Dot` layer should be called on a list of exactly 2 inputs."}));var t=e[0],n=e[1];if(t.length>3||n.length>3)throw new ga("Dot layer does not support tensors of 4D or higher rank yet.");var r=this.interpretAxes(t,n);if(t[r[0]]!==n[r[1]])throw new ma("Dimension incompatibility: "+"".concat(t[r[0]]," !== ").concat(n[r[1]]))}},{key:"mergeFunction",value:function(e){if(2!==e.length)throw new ma("A `Dot` layer must be called on exactly 2 inputs, "+"but received ".concat(e.length," input(s)."));var t,n=e[0],r=e[1];return t=Array.isArray(this.axes)?this.axes.map((function(t,n){return xl(t,e[n].shape.length)})):[xl(this.axes,n.shape.length),xl(this.axes,r.shape.length)],this.normalize&&(n=hs(n,t[0]),r=hs(r,t[1])),function(e,t,n){if(e.shape.length>3||t.shape.length>3)throw new ga("batchDot is not implemented for tensors of 4D or higher rank yet");if(l.D5U.assert(e.shape.length>=2,(function(){return"batchDot requires the rank of x to be >= 2, "+"but got ".concat(e.shape.length)})),l.D5U.assert(e.shape.length>=2,(function(){return"batchDot requires the rank of y to be >= 2, "+"but got ".concat(t.shape.length)})),"number"===typeof n&&(n=[n,n]),"complex64"===e.dtype||"complex64"===t.dtype)throw new ga("batchDot is not implemented for complex64-type Tensors yet.");var r=e.shape.length,a=t.shape.length;null==n&&(n=[r-1,a-2]);var o=n;return l.lub((function(){var n,i;if(r>a){n=r-a;for(var s=[],u=0;u<n;++u)s.push(1);t=l.XLQ(t,t.shape.concat(s))}else if(a>r){n=a-r;for(var c=[],f=0;f<n;++f)c.push(1);e=l.XLQ(e,e.shape.concat(c))}else n=0;if(2===e.shape.length&&2===t.shape.length)i=o[0]===o[1]?l.Smz(l.dC7(e,t),o[0]):l.Smz(l.dC7(l.p4s(e,[1,0]),t),o[1]);else{var p=o[0]!==e.shape.length-1,d=o[1]===t.shape.length-1;i=l.OI3(e,t,p,d)}if(n>0){for(var h,v=[],m=h=r>a?r+a-3:r-1;m<h+n;++m)v.push(m);i=l.L9e(i,v)}return 1===i.shape.length&&(i=l.dt4(i,1)),i}))}(n,r,t)}},{key:"interpretAxes",value:function(e,t){return Array.isArray(this.axes)?this.axes:[xl(this.axes,e.length),xl(this.axes,t.length)]}},{key:"computeOutputShape",value:function(e){l.D5U.assert(Array.isArray(e)&&2===e.length&&Array.isArray(e[0])&&Array.isArray(e[1]),(function(){return"A `Dot` layer should be called on a list of exactly 2 inputs."}));var t=e[0].slice(),n=e[1].slice();if(t.length>3||n.length>3)throw new ga("Dot layer does not support tensors of 4D or higher rank yet.");var r=this.interpretAxes(t,n);t.splice(r[0],1),n.splice(r[1],1),n.splice(0,1);var a=t.concat(n);return 1===a.length&&a.push(1),a}},{key:"computeMask",value:function(e,t){return null}},{key:"getConfig",value:function(){var e={axes:this.axes,normalize:this.normalize},t=(0,ps.Z)((0,ca.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(dl);wl.className="Dot",l.m7h.registerClass(wl);var kl=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;return(0,aa.Z)(this,n),(r=t.call(this,e)).supportsMasking=!0,r.stddev=e.stddev,r}return(0,oa.Z)(n,[{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e=(0,ps.Z)((0,ca.Z)(n.prototype),"getConfig",this).call(this),t={stddev:this.stddev};return Object.assign(t,e),t}},{key:"call",value:function(e,t){var n=this;return(0,l.lub)((function(){n.invokeCallHook(e,t);var r=Jo(e);return Io((function(){return(0,l.IHx)(xo(r.shape,0,n.stddev),r)}),(function(){return r}),t.training||!1)}))}}]),n}(fi);kl.className="GaussianNoise",l.m7h.registerClass(kl);var Sl=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;return(0,aa.Z)(this,n),(r=t.call(this,e)).supportsMasking=!0,r.rate=e.rate,r}return(0,oa.Z)(n,[{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e=(0,ps.Z)((0,ca.Z)(n.prototype),"getConfig",this).call(this),t={rate:this.rate};return Object.assign(t,e),t}},{key:"call",value:function(e,t){var n=this;return(0,l.lub)((function(){n.invokeCallHook(e,t);var r=Jo(e);if(n.rate>0&&n.rate<1){return Io((function(){var e=Math.sqrt(n.rate/(1-n.rate));return(0,l.dC7)(r,xo(r.shape,1,e))}),(function(){return r}),t.training||!1)}return r}))}}]),n}(fi);Sl.className="GaussianDropout",l.m7h.registerClass(Sl);var El=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;return(0,aa.Z)(this,n),(r=t.call(this,e)).supportsMasking=!0,r.rate=e.rate,r.noiseShape=e.noiseShape,r}return(0,oa.Z)(n,[{key:"_getNoiseShape",value:function(e){return this.noiseShape||Jo(e).shape}},{key:"computeOutputShape",value:function(e){return e}},{key:"getConfig",value:function(){var e=(0,ps.Z)((0,ca.Z)(n.prototype),"getConfig",this).call(this),t={rate:this.rate};return Object.assign(t,e),t}},{key:"call",value:function(e,t){var n=this;return(0,l.lub)((function(){if(n.rate<1&&n.rate>0){var r=n._getNoiseShape(e);return Io((function(){var t=Jo(e),a=-1.7580993408473766,o=(0,l.brS)((0,l.LGj)(r),n.rate);o=lo(o,"float32");var i=Math.pow((1-n.rate)*(1+n.rate*Math.pow(a,2)),-.5),s=-i*a*n.rate,u=(0,l.IHx)((0,l.dC7)(t,o),(0,l.dC7)((0,l.IHx)(o,-1),a));return(0,l.IHx)((0,l.dC7)(u,i),s)}),(function(){return Jo(e)}),t.training||!1)}return e}))}}]),n}(fi);function Cl(e,t,n,r,a){var o,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.001;if(2===e.rank)o=l.Dxk(e,t,n,r,a,i);else if(3===e.rank)o=l.JY5(e,t,n,r,a,i);else{if(4!==e.rank)throw new ga("batchNormalization is not implemented for array of rank ".concat(e.rank," ")+"yet");o=l.p3b(e,t,n,r,a,i)}return o}function Nl(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return(0,l.lub)((function(){var o=l.Gi7(e,r),i=o.mean,s=o.variance;return[Cl(e,i,s,n,t,a),i,s]}))}function Tl(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return(0,l.lub)((function(){var o,i=l.Gi7(e,r),s=i.mean,u=i.variance,c=[],f=(0,ra.Z)(uo(0,e.rank));try{for(f.s();!(o=f.n()).done;){var p=o.value;-1!==r.indexOf(p)?c.push(1):c.push(e.shape[p])}}catch(g){f.e(g)}finally{f.f()}var d=(0,l.XLQ)(s,c),h=(0,l.XLQ)(u,c),v=null==t?null:(0,l.XLQ)(t,c),m=null==n?null:(0,l.XLQ)(n,c);return[Cl(e,d,h,m,v,a),s,u]}))}El.className="AlphaDropout",l.m7h.registerClass(El);var Il=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;return(0,aa.Z)(this,n),null==e&&(e={}),(r=t.call(this,e)).supportsMasking=!0,r.axis=null==e.axis?-1:e.axis,r.momentum=null==e.momentum?.99:e.momentum,r.epsilon=null==e.epsilon?.001:e.epsilon,r.center=null==e.center||e.center,r.scale=null==e.scale||e.scale,r.betaInitializer=Yo(e.betaInitializer||"zeros"),r.gammaInitializer=Yo(e.gammaInitializer||"ones"),r.movingMeanInitializer=Yo(e.movingMeanInitializer||"zeros"),r.movingVarianceInitializer=Yo(e.movingVarianceInitializer||"ones"),r.betaConstraint=Di(e.betaConstraint),r.gammaConstraint=Di(e.gammaConstraint),r.betaRegularizer=dc(e.betaRegularizer),r.gammaRegularizer=dc(e.gammaRegularizer),r}return(0,oa.Z)(n,[{key:"build",value:function(e){e=ei(e);var t=this.axis>=0?this.axis:this.axis+e.length,n=e[t];if(null==n)throw new ma("Axis ".concat(t," of input tensor should have a defined dimension but ")+"the layer received an input with shape "+"".concat(JSON.stringify(e),"."));this.inputSpec=[new ii({ndim:e.length,axes:(0,xc.Z)({},t,n)})];var r=[n];this.scale&&(this.gamma=this.addWeight("gamma",r,null,this.gammaInitializer,this.gammaRegularizer,!0,this.gammaConstraint)),this.center&&(this.beta=this.addWeight("beta",r,null,this.betaInitializer,this.betaRegularizer,!0,this.betaConstraint)),this.movingMean=this.addWeight("moving_mean",r,null,this.movingMeanInitializer,null,!1),this.movingVariance=this.addWeight("moving_variance",r,null,this.movingVarianceInitializer,null,!1),this.built=!0}},{key:"call",value:function(e,t){var n=this;return(0,l.lub)((function(){var r=null!=t.training&&t.training,a=Jo(e),o=a.shape,i=o.length,s=uo(0,i),u=n.axis>=0?n.axis:n.axis+i;s.splice(u,1);var c=xa(1,i);c[u]=o[u];var p=s.slice();p.sort();var d=!l.D5U.arraysEqual(p,uo(0,i).slice(0,i-1));if(!r)return function(){if(d){var e=(0,l.XLQ)(n.movingMean.read(),c),t=(0,l.XLQ)(n.movingVariance.read(),c),r=n.center?(0,l.XLQ)(n.beta.read(),c):null,o=n.scale?(0,l.XLQ)(n.gamma.read(),c):null;return Cl(a,e,t,r,o,n.epsilon)}return Cl(a,n.movingMean.read(),n.movingVariance.read(),null==n.beta?null:n.beta.read(),null==n.gamma?null:n.gamma.read(),n.epsilon)}();var h=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.001;return l.D5U.arraysEqual(r.slice().sort(),uo(0,e.rank-1))?Nl(e,t,n,r,a):Tl(e,t,n,r,a)}(a,n.gamma.read(),n.beta.read(),s,n.epsilon),v=(0,f.Z)(h,3),m=v[0],g=v[1],y=v[2],b=function(e,t,n){l.lub((function(){var r=1-n,a=e.read(),o=l.dC7(l.luU(a,t),r);e.write(l.luU(a,o))}))};return b(n.movingMean,g,n.momentum),b(n.movingVariance,y,n.momentum),m}))}},{key:"getConfig",value:function(){var e={axis:this.axis,momentum:this.momentum,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:Ko(this.betaInitializer),gammaInitializer:Ko(this.gammaInitializer),movingMeanInitializer:Ko(this.movingMeanInitializer),movingVarianceInitializer:Ko(this.movingVarianceInitializer),betaRegularizer:fc(this.betaRegularizer),gammaRegularizer:fc(this.gammaRegularizer),betaConstraint:Oi(this.betaConstraint),gammaConstraint:Oi(this.gammaConstraint)},t=(0,ps.Z)((0,ca.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(fi);Il.className="BatchNormalization",l.m7h.registerClass(Il);var Ol=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;if((0,aa.Z)(this,n),null==e&&(e={}),(r=t.call(this,e)).axis=null==e.axis?-1:e.axis,"number"===typeof r.axis){if(!Number.isInteger(r.axis))throw new Error("Expected axis to be an integer, but received ".concat(r.axis))}else{if(!Array.isArray(r.axis))throw new Error("Expected axis to be an integer or an array of integers, "+"but received ".concat(JSON.stringify(r.axis)));var a,o=(0,ra.Z)(r.axis);try{for(o.s();!(a=o.n()).done;){var i=a.value;if(!Number.isInteger(i))throw new Error("Expected axis to be an array of integers, "+"but received ".concat(JSON.stringify(r.axis)))}}catch(s){o.e(s)}finally{o.f()}}return r.epsilon=null==e.epsilon?.001:e.epsilon,r.center=null==e.center||e.center,r.scale=null==e.scale||e.scale,r.betaInitializer=Yo(e.betaInitializer||"zeros"),r.gammaInitializer=Yo(e.gammaInitializer||"ones"),r.betaRegularizer=dc(e.betaRegularizer),r.gammaRegularizer=dc(e.gammaRegularizer),r.supportsMasking=!0,r}return(0,oa.Z)(n,[{key:"build",value:function(e){var t=(e=ei(e)).length;"number"===typeof this.axis&&(this.axis=[this.axis]);for(var n=0;n<this.axis.length;++n)this.axis[n]<0&&(this.axis[n]+=t);var r,a=(0,ra.Z)(this.axis);try{for(a.s();!(r=a.n()).done;){var o=r.value;if(o<0||o>=t)throw new Error("Invalid axis: ".concat(o))}}catch(s){a.e(s)}finally{a.f()}if(this.axis.length!==Aa(this.axis).length)throw new Error("Found duplicate axes in: ".concat(this.axis));var i=this.axis.map((function(t){return e[t]}));this.scale?this.gamma=this.addWeight("gamma",i,"float32",this.gammaInitializer,this.gammaRegularizer,true):this.gamma=null,this.center?this.beta=this.addWeight("beta",i,"float32",this.betaInitializer,this.betaRegularizer,true):this.beta=null,this.built=!0}},{key:"call",value:function(e,t){var n=this,r=Jo(e),a=r.shape,o=a.length;return(0,l.lub)((function(){var e,t=(0,l.Gi7)(r,n.axis,!0),i=t.mean,s=t.variance,u=xa(1,o),c=(0,ra.Z)(n.axis);try{for(c.s();!(e=c.n()).done;){var f=e.value;u[f]=a[f]}}catch(y){c.e(y)}finally{c.f()}for(var p=function(e){return null!=e&&e.shape.length!==o?l.XLQ(e,u):e},d=n.scale?p(n.gamma.read()):null,h=n.center?p(n.beta.read()):null,v=[],m=[],g=0;g<o;++g)-1!==n.axis.indexOf(g)?(v.push(a[g]),m.push(1)):(v.push(1),m.push(a[g]));return i=l.Gg6(i,v),s=l.Gg6(s,v),null!=d&&(d=l.Gg6(d,m)),null!=h&&(h=l.Gg6(h,m)),Cl(r,i,s,h,d,n.epsilon)}))}},{key:"getConfig",value:function(){var e={axis:this.axis,epsilon:this.epsilon,center:this.center,scale:this.scale,betaInitializer:Ko(this.betaInitializer),gammaInitializer:Ko(this.gammaInitializer),betaRegularizer:fc(this.betaRegularizer),gammaRegularizer:fc(this.gammaRegularizer)},t=(0,ps.Z)((0,ca.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(fi);Ol.className="LayerNormalization",l.m7h.registerClass(Ol);var _l=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;if((0,aa.Z)(this,n),null==e&&(e={}),(r=t.call(this,e)).dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,null==e.padding)r.padding=[[1,1],[1,1]];else if("number"===typeof e.padding)r.padding=[[e.padding,e.padding],[e.padding,e.padding]];else{if(e.padding=e.padding,2!==e.padding.length)throw new ma("ZeroPadding2D expects padding to be a length-2 array, but "+"received a length-".concat(e.padding.length," array."));var a,o;if("number"===typeof e.padding[0])a=[e.padding[0],e.padding[0]],o=[e.padding[1],e.padding[1]];else{if(e.padding=e.padding,2!==e.padding[0].length)throw new ma("ZeroPadding2D expects height padding to be a length-2 array, "+"but received a length-".concat(e.padding[0].length," array."));if(a=e.padding[0],2!==e.padding[1].length)throw new ma("ZeroPadding2D expects width padding to be a length-2 array, "+"but received a length-".concat(e.padding[1].length," array."));o=e.padding[1]}r.padding=[a,o]}return r.inputSpec=[new ii({ndim:4})],r}return(0,oa.Z)(n,[{key:"computeOutputShape",value:function(e){var t,n;return e=ei(e),"channelsFirst"===this.dataFormat?(t=null!=e[2]&&e[2]>=0?e[2]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[3]&&e[3]>=0?e[3]+this.padding[1][0]+this.padding[1][1]:null,[e[0],e[1],t,n]):(t=null!=e[1]&&e[1]>=0?e[1]+this.padding[0][0]+this.padding[0][1]:null,n=null!=e[2]&&e[2]>=0?e[2]+this.padding[1][0]+this.padding[1][1]:null,[e[0],t,n,e[3]])}},{key:"call",value:function(e,t){var n=this;return(0,l.lub)((function(){return t=Jo(e),r=n.padding,a=n.dataFormat,(0,l.lub)((function(){if(4!==t.rank)throw new ma("temporalPadding expects input tensor to be 4-D, but received a "+"".concat(t.rank,"-D tensor."));if(null==r&&(r=[[1,1],[1,1]]),2!==r.length||2!==r[0].length||2!==r[1].length)throw new ma("spatial2dPadding expects `padding` to be an Array of two Arrays, each of which is an Array of two integers.");if(null==a&&(a="channelsLast"),"channelsLast"!==a&&"channelsFirst"!==a)throw new ma("Unknown data format: ".concat(a,". ")+"Supported data formats are 'channelsLast' and 'channelsFirst.");var e;return e="channelsFirst"===a?[[0,0],[0,0],r[0],r[1]]:[[0,0],r[0],r[1],[0,0]],l.vku(t,e)}));var t,r,a}))}},{key:"getConfig",value:function(){var e={padding:this.padding,dataFormat:this.dataFormat},t=(0,ps.Z)((0,ca.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(fi);function Dl(e,t,n,r,a,o){return(0,l.lub)((function(){var i;Ka(a),Qa(o),Ya(r),null==n&&(n=[1,1]),null==r&&(r="valid"),null==a&&(a="channelsLast"),null==o&&(o="max"),e=Ec(e,a);var s="same"===r?"same":"valid";return i="max"===o?l._sB(e,t,n,s):l.wS1(e,t,n,s),"channelsFirst"===a&&(i=l.p4s(i,[0,3,1,2])),i}))}function Al(e,t,n,r,a,o){return(0,l.lub)((function(){var i;Ka(a),Qa(o),Ya(r),null==n&&(n=[1,1,1]),null==r&&(r="valid"),null==a&&(a="channelsLast"),null==o&&(o="max"),e=Cc(e,a);var s="same"===r?"same":"valid";return i="max"===o?l.YQQ(e,t,n,s):l.uR5(e,t,n,s),"channelsFirst"===a&&(i=l.p4s(i,[0,4,1,2,3])),i}))}_l.className="ZeroPadding2D",l.m7h.registerClass(_l);var Rl=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;if((0,aa.Z)(this,n),null==e.poolSize&&(e.poolSize=2),r=t.call(this,e),"number"===typeof e.poolSize)r.poolSize=[e.poolSize];else{if(!Array.isArray(e.poolSize)||1!==e.poolSize.length||"number"!==typeof e.poolSize[0])throw new ma("poolSize for 1D convolutional layer must be a number or an Array of a single number, but received "+"".concat(JSON.stringify(e.poolSize)));r.poolSize=e.poolSize}if(Fa(r.poolSize,"poolSize"),null==e.strides)r.strides=r.poolSize;else if("number"===typeof e.strides)r.strides=[e.strides];else{if(!Array.isArray(e.strides)||1!==e.strides.length||"number"!==typeof e.strides[0])throw new ma("strides for 1D convolutional layer must be a number or an Array of a single number, but received "+"".concat(JSON.stringify(e.strides)));r.strides=e.strides}return Fa(r.strides,"strides"),r.padding=null==e.padding?"valid":e.padding,Ya(r.padding),r.inputSpec=[new ii({ndim:3})],r}return(0,oa.Z)(n,[{key:"computeOutputShape",value:function(e){var t=kc((e=ei(e))[1],this.poolSize[0],this.padding,this.strides[0]);return[e[0],t,e[2]]}},{key:"call",value:function(e,t){var n=this;return(0,l.lub)((function(){n.invokeCallHook(e,t),e=fo(Jo(e),2);var r=n.poolingFunction(Jo(e),[n.poolSize[0],1],[n.strides[0],1],n.padding,"channelsLast");return l.L9e(r,[2])}))}},{key:"getConfig",value:function(){var e={poolSize:this.poolSize,padding:this.padding,strides:this.strides},t=(0,ps.Z)((0,ca.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(fi),Pl=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){return(0,aa.Z)(this,n),t.call(this,e)}return(0,oa.Z)(n,[{key:"poolingFunction",value:function(e,t,n,r,a){return Ka(a),Ya(r),Dl(e,t,n,r,a,"max")}}]),n}(Rl);Pl.className="MaxPooling1D",l.m7h.registerClass(Pl);var Ml=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){return(0,aa.Z)(this,n),t.call(this,e)}return(0,oa.Z)(n,[{key:"poolingFunction",value:function(e,t,n,r,a){return Ka(a),Ya(r),Dl(e,t,n,r,a,"avg")}}]),n}(Rl);Ml.className="AveragePooling1D",l.m7h.registerClass(Ml);var Fl=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;if((0,aa.Z)(this,n),null==e.poolSize&&(e.poolSize=[2,2]),(r=t.call(this,e)).poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize],null==e.strides)r.strides=r.poolSize;else if(Array.isArray(e.strides)){if(2!==e.strides.length)throw new ma("If the strides property of a 2D pooling layer is an Array, it is expected to have a length of 2, but received length "+"".concat(e.strides.length,"."));r.strides=e.strides}else r.strides=[e.strides,e.strides];return Fa(r.poolSize,"poolSize"),Fa(r.strides,"strides"),r.padding=null==e.padding?"valid":e.padding,r.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,Ka(r.dataFormat),Ya(r.padding),r.inputSpec=[new ii({ndim:4})],r}return(0,oa.Z)(n,[{key:"computeOutputShape",value:function(e){e=ei(e);var t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2];return t=kc(t,this.poolSize[0],this.padding,this.strides[0]),n=kc(n,this.poolSize[1],this.padding,this.strides[1]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n]:[e[0],t,n,e[3]]}},{key:"call",value:function(e,t){var n=this;return(0,l.lub)((function(){return n.invokeCallHook(e,t),n.poolingFunction(Jo(e),n.poolSize,n.strides,n.padding,n.dataFormat)}))}},{key:"getConfig",value:function(){var e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=(0,ps.Z)((0,ca.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(fi),Ll=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){return(0,aa.Z)(this,n),t.call(this,e)}return(0,oa.Z)(n,[{key:"poolingFunction",value:function(e,t,n,r,a){return Ka(a),Ya(r),Dl(e,t,n,r,a,"max")}}]),n}(Fl);Ll.className="MaxPooling2D",l.m7h.registerClass(Ll);var jl=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){return(0,aa.Z)(this,n),t.call(this,e)}return(0,oa.Z)(n,[{key:"poolingFunction",value:function(e,t,n,r,a){return Ka(a),Ya(r),Dl(e,t,n,r,a,"avg")}}]),n}(Fl);jl.className="AveragePooling2D",l.m7h.registerClass(jl);var Zl=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;if((0,aa.Z)(this,n),null==e.poolSize&&(e.poolSize=[2,2,2]),(r=t.call(this,e)).poolSize=Array.isArray(e.poolSize)?e.poolSize:[e.poolSize,e.poolSize,e.poolSize],null==e.strides)r.strides=r.poolSize;else if(Array.isArray(e.strides)){if(3!==e.strides.length)throw new ma("If the strides property of a 3D pooling layer is an Array, it is expected to have a length of 3, but received length "+"".concat(e.strides.length,"."));r.strides=e.strides}else r.strides=[e.strides,e.strides,e.strides];return Fa(r.poolSize,"poolSize"),Fa(r.strides,"strides"),r.padding=null==e.padding?"valid":e.padding,r.dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,Ka(r.dataFormat),Ya(r.padding),r.inputSpec=[new ii({ndim:5})],r}return(0,oa.Z)(n,[{key:"computeOutputShape",value:function(e){e=ei(e);var t="channelsFirst"===this.dataFormat?e[2]:e[1],n="channelsFirst"===this.dataFormat?e[3]:e[2],r="channelsFirst"===this.dataFormat?e[4]:e[3];return t=kc(t,this.poolSize[0],this.padding,this.strides[0]),n=kc(n,this.poolSize[1],this.padding,this.strides[1]),r=kc(r,this.poolSize[2],this.padding,this.strides[2]),"channelsFirst"===this.dataFormat?[e[0],e[1],t,n,r]:[e[0],t,n,r,e[4]]}},{key:"call",value:function(e,t){var n=this;return(0,l.lub)((function(){return n.invokeCallHook(e,t),n.poolingFunction(Jo(e),n.poolSize,n.strides,n.padding,n.dataFormat)}))}},{key:"getConfig",value:function(){var e={poolSize:this.poolSize,padding:this.padding,strides:this.strides,dataFormat:this.dataFormat},t=(0,ps.Z)((0,ca.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(fi),zl=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){return(0,aa.Z)(this,n),t.call(this,e)}return(0,oa.Z)(n,[{key:"poolingFunction",value:function(e,t,n,r,a){return Ka(a),Ya(r),Al(e,t,n,r,a,"max")}}]),n}(Zl);zl.className="MaxPooling3D",l.m7h.registerClass(zl);var Bl=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){return(0,aa.Z)(this,n),t.call(this,e)}return(0,oa.Z)(n,[{key:"poolingFunction",value:function(e,t,n,r,a){return Ka(a),Ya(r),Al(e,t,n,r,a,"avg")}}]),n}(Zl);Bl.className="AveragePooling3D",l.m7h.registerClass(Bl);var Ul=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;return(0,aa.Z)(this,n),(r=t.call(this,e)).inputSpec=[new ii({ndim:3})],r}return(0,oa.Z)(n,[{key:"computeOutputShape",value:function(e){return[e[0],e[2]]}},{key:"call",value:function(e,t){throw new ga}}]),n}(fi),Wl=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){return(0,aa.Z)(this,n),t.call(this,e||{})}return(0,oa.Z)(n,[{key:"call",value:function(e,t){return(0,l.lub)((function(){var t=Jo(e);return l.J69(t,1)}))}}]),n}(Ul);Wl.className="GlobalAveragePooling1D",l.m7h.registerClass(Wl);var Vl=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){return(0,aa.Z)(this,n),t.call(this,e||{})}return(0,oa.Z)(n,[{key:"call",value:function(e,t){return(0,l.lub)((function(){var t=Jo(e);return l.Fp7(t,1)}))}}]),n}(Ul);Vl.className="GlobalMaxPooling1D",l.m7h.registerClass(Vl);var Hl=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;return(0,aa.Z)(this,n),(r=t.call(this,e)).dataFormat=null==e.dataFormat?"channelsLast":e.dataFormat,Ka(r.dataFormat),r.inputSpec=[new ii({ndim:4})],r}return(0,oa.Z)(n,[{key:"computeOutputShape",value:function(e){return"channelsLast"===this.dataFormat?[e[0],e[3]]:[e[0],e[1]]}},{key:"call",value:function(e,t){throw new ga}},{key:"getConfig",value:function(){var e={dataFormat:this.dataFormat},t=(0,ps.Z)((0,ca.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}]),n}(fi),Gl=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(){return(0,aa.Z)(this,n),t.apply(this,arguments)}return(0,oa.Z)(n,[{key:"call",value:function(e,t){var n=this;return(0,l.lub)((function(){var t=Jo(e);return"channelsLast"===n.dataFormat?l.J69(t,[1,2]):l.J69(t,[2,3])}))}}]),n}(Hl);Gl.className="GlobalAveragePooling2D",l.m7h.registerClass(Gl);var ql=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(){return(0,aa.Z)(this,n),t.apply(this,arguments)}return(0,oa.Z)(n,[{key:"call",value:function(e,t){var n=this;return(0,l.lub)((function(){var t=Jo(e);return"channelsLast"===n.dataFormat?l.Fp7(t,[1,2]):l.Fp7(t,[2,3])}))}}]),n}(Hl);ql.className="GlobalMaxPooling2D",l.m7h.registerClass(ql);var Xl=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;return(0,aa.Z)(this,n),(r=t.call(this,e)).layer=e.layer,r}return(0,oa.Z)(n,[{key:"build",value:function(e){this.built=!0}},{key:"trainable",get:function(){return null!=this.layer&&this.layer.trainable},set:function(e){null!=this.layer&&(this.layer.trainable=e)}},{key:"trainableWeights",get:function(){return this.layer.trainableWeights}},{key:"nonTrainableWeights",get:function(){return this.layer.nonTrainableWeights}},{key:"updates",get:function(){return this.layer._updates}},{key:"losses",get:function(){return this.layer.losses}},{key:"getWeights",value:function(){return this.layer.getWeights()}},{key:"setWeights",value:function(e){this.layer.setWeights(e)}},{key:"getConfig",value:function(){var e={layer:{className:this.layer.getClassName(),config:this.layer.getConfig()}},t=(0,ps.Z)((0,ca.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}},{key:"setFastWeightInitDuringBuild",value:function(e){(0,ps.Z)((0,ca.Z)(n.prototype),"setFastWeightInitDuringBuild",this).call(this,e),null!=this.layer&&this.layer.setFastWeightInitDuringBuild(e)}}],[{key:"fromConfig",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.layer,a=ds(r,n);delete t.layer;var o={layer:a};return Object.assign(o,t),new e(o)}}]),n}(fi),Kl=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;return(0,aa.Z)(this,n),(r=t.call(this,e)).supportsMasking=!0,r}return(0,oa.Z)(n,[{key:"build",value:function(e){if((e=ei(e)).length<3)throw new ma("TimeDistributed layer expects an input shape >= 3D, but received "+"input shape ".concat(JSON.stringify(e)));this.inputSpec=[{shape:e}];var t=[e[0]].concat(e.slice(2));this.layer.built||(this.layer.build(t),this.layer.built=!0),(0,ps.Z)((0,ca.Z)(n.prototype),"build",this).call(this,e)}},{key:"computeOutputShape",value:function(e){var t=[(e=ei(e))[0]].concat(e.slice(2)),n=this.layer.computeOutputShape(t),r=e[1];return[n[0],r].concat(n.slice(1))}},{key:"call",value:function(e,t){var n=this;return(0,l.lub)((function(){return Uc((function(e,r){return[Jo(n.layer.call(e,t)),[]]}),e=Jo(e),[],!1,null,null,!1,!0)[1]}))}}]),n}(Xl);Kl.className="TimeDistributed",l.m7h.registerClass(Kl);var Yl=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;(0,aa.Z)(this,n),r=t.call(this,e);var a=e.layer.getConfig(),o={};o.className=e.layer.getClassName(),o.config=a,r.forwardLayer=ds(o),a.goBackwards=!0!==a.goBackwards;var i,s={};if(s.className=e.layer.getClassName(),s.config=a,r.backwardLayer=ds(s),r.forwardLayer.name="forward_"+r.forwardLayer.name,r.backwardLayer.name="backward_"+r.backwardLayer.name,r.mergeMode=void 0===e.mergeMode?"concat":e.mergeMode,i=r.mergeMode,Pa(qa,"BidirectionalMergeMode",i),e.weights)throw new ga("weights support is not implemented for Bidirectional layer yet.");return r._stateful=e.layer.stateful,r.returnSequences=e.layer.returnSequences,r.returnState=e.layer.returnState,r.supportsMasking=!0,r._trainable=!0,r.inputSpec=e.layer.inputSpec,r.numConstants=null,r}return(0,oa.Z)(n,[{key:"trainable",get:function(){return this._trainable},set:function(e){this._trainable=e,null!=this.forwardLayer&&(this.forwardLayer.trainable=e),null!=this.backwardLayer&&(this.backwardLayer.trainable=e)}},{key:"getWeights",value:function(){return this.forwardLayer.getWeights().concat(this.backwardLayer.getWeights())}},{key:"setWeights",value:function(e){var t=e.length,n=Math.floor(t/2);this.forwardLayer.setWeights(e.slice(0,n)),this.backwardLayer.setWeights(e.slice(n))}},{key:"computeOutputShape",value:function(e){var t,n,r,a=this.forwardLayer.computeOutputShape(e);return Array.isArray(a)&&Array.isArray(a[0])||(a=[a]),this.returnState?(r=a.slice(1),t=a[0]):t=a[0],"concat"===this.mergeMode?(t[t.length-1]*=2,n=[t]):n=null==this.mergeMode?[t,t.slice()]:[t],this.returnState?null==this.mergeMode?n.concat(r).concat(r.slice()):[t].concat(r).concat(r.slice()):Sa(n)}},{key:"apply",value:function(e,t){var r=null==t?null:t.initialState,a=null==t?null:t.constants;null==t&&(t={});var o=Bc(e,r,a,this.numConstants);if(e=o.inputs,r=o.initialState,a=o.constants,Array.isArray(e)&&(r=e.slice(1),e=e[0]),(null==r||0===r.length)&&null==a)return(0,ps.Z)((0,ca.Z)(n.prototype),"apply",this).call(this,e,t);var i=[],s=[];if(null!=r){var u=r.length;if(u%2>0)throw new ma("When passing `initialState` to a Bidrectional RNN, the state should be an Array containing the states of the underlying RNNs.");t.initialState=r,i.push.apply(i,(0,Qn.Z)(r));var c=r.map((function(e){return new ii({shape:e.shape})}));this.forwardLayer.stateSpec=c.slice(0,u/2),this.backwardLayer.stateSpec=c.slice(u/2),s.push.apply(s,(0,Qn.Z)(c))}if(null!=a)throw new ga("Support for constants in Bidirectional layers is not implemented yet.");for(var l=i[0]instanceof si,f=0,p=i;f<p.length;f++){if(p[f]instanceof si!==l)throw new ma("The initial state of a Bidirectional layer cannot be specified as a mix of symbolic and non-symbolic tensors")}if(l){var d=[e].concat(i),h=this.inputSpec.concat(s),v=this.inputSpec;this.inputSpec=h;var m=(0,ps.Z)((0,ca.Z)(n.prototype),"apply",this).call(this,d,t);return this.inputSpec=v,m}return(0,ps.Z)((0,ca.Z)(n.prototype),"apply",this).call(this,e,t)}},{key:"call",value:function(e,t){var n=this;return(0,l.lub)((function(){var r,a,o,i,s=t.initialState;if(null==s)r=n.forwardLayer.call(e,t),a=n.backwardLayer.call(e,t);else{var u=s.slice(0,s.length/2),c=s.slice(s.length/2);r=n.forwardLayer.call(e,Object.assign(t,{initialState:u})),a=n.backwardLayer.call(e,Object.assign(t,{initialState:c}))}return n.returnState&&(Array.isArray(r)&&(o=r.slice(1).concat(a.slice(1))),r=r[0],a=a[0]),n.returnSequences&&(a=l.GYS(a,1)),"concat"===n.mergeMode?i=go([r,a]):"sum"===n.mergeMode?i=l.IHx(r,a):"ave"===n.mergeMode?i=l.dC7(.5,l.IHx(r,a)):"mul"===n.mergeMode?i=l.dC7(r,a):null==n.mergeMode&&(i=[r,a]),n.returnState?null==n.mergeMode?i.concat(o):[i].concat(o):i}))}},{key:"resetStates",value:function(e){this.forwardLayer.resetStates(),this.backwardLayer.resetStates()}},{key:"build",value:function(e){var t=this;Ja(this.forwardLayer.name,(function(){t.forwardLayer.build(e)})),Ja(this.backwardLayer.name,(function(){t.backwardLayer.build(e)})),this.built=!0}},{key:"computeMask",value:function(e,t){var n;if(Array.isArray(t)&&(t=t[0]),n=this.returnSequences?null==this.mergeMode?[t,t]:t:null==this.mergeMode?[null,null]:null,this.returnState){var r=this.forwardLayer.states.map((function(e){return null}));return Array.isArray(n)?n.concat(r).concat(r):[n].concat(r).concat(r)}return n}},{key:"trainableWeights",get:function(){return this.forwardLayer.trainableWeights.concat(this.backwardLayer.trainableWeights)}},{key:"nonTrainableWeights",get:function(){return this.forwardLayer.nonTrainableWeights.concat(this.backwardLayer.nonTrainableWeights)}},{key:"setFastWeightInitDuringBuild",value:function(e){(0,ps.Z)((0,ca.Z)(n.prototype),"setFastWeightInitDuringBuild",this).call(this,e),null!=this.forwardLayer&&this.forwardLayer.setFastWeightInitDuringBuild(e),null!=this.backwardLayer&&this.backwardLayer.setFastWeightInitDuringBuild(e)}},{key:"getConfig",value:function(){var e={mergeMode:this.mergeMode},t=(0,ps.Z)((0,ca.Z)(n.prototype),"getConfig",this).call(this);return Object.assign(e,t),e}}],[{key:"fromConfig",value:function(e,t){var n=ds(t.layer);if(delete t.layer,null!=t.numConstants)throw new ga("Deserialization of a Bidirectional layer with numConstants present is not supported yet.");var r=t;return r.layer=n,new e(r)}}]),n}(Xl);function Ql(e){return new di(e)}function $l(e){return new gc(e)}function Jl(e){return new hc(e)}function ef(e){return new vc(e)}function tf(e){return new mc(e)}function nf(e){return new bc(e)}function rf(e){return new yc(e)}function af(e){return new Lc(e)}function of(e){return new Dc(e)}function sf(e){return new Rc(e)}function uf(e){return new Ac(e)}function cf(e){return new Pc(e)}function lf(e){return new Fc(e)}function ff(e){return new jc(e)}function pf(e){return new Zc(e)}function df(e){return new zc(e)}function hf(e){return new sl(e)}function vf(e){return new ol(e)}function mf(e){return new rl(e)}function gf(e){return new al(e)}function yf(e){return new il(e)}function bf(e){return new ul(e)}function xf(e){return new cl(e)}function wf(e){return new ll(e)}function kf(e){return new pl(e)}function Sf(e){return new hl(e)}function Ef(e){return new ml(e)}function Cf(e){return new bl(e)}function Nf(e){return new gl(e)}function Tf(e){return new yl(e)}function If(e){return new vl(e)}function Of(e){return new wl(e)}function _f(e){return new Il(e)}function Df(e){return new Ol(e)}function Af(e){return new _l(e)}function Rf(e){return new Ml(e)}function Pf(e){return Rf(e)}function Mf(e){return Rf(e)}function Ff(e){return new jl(e)}function Lf(e){return Ff(e)}function jf(e){return Ff(e)}function Zf(e){return new Bl(e)}function zf(e){return Zf(e)}function Bf(e){return Zf(e)}function Uf(e){return new Wl(e)}function Wf(e){return new Gl(e)}function Vf(e){return new Vl(e)}function Hf(e){return new ql(e)}function Gf(e){return new Pl(e)}function qf(e){return new Ll(e)}function Xf(e){return new zl(e)}function Kf(e){return new Xc(e)}function Yf(e){return new qc(e)}function Qf(e){return new Yc(e)}function $f(e){return new Kc(e)}function Jf(e){return new Gc(e)}function ep(e){return new Hc(e)}function tp(e){return new nl(e)}function np(e){return new tl(e)}function rp(e){return new Wc(e)}function ap(e){return new Qc(e)}function op(e){return new Yl(e)}function ip(e){return new Kl(e)}Yl.className="Bidirectional",l.m7h.registerClass(Yl);var sp=Vf,up=Hf,cp=Gf,lp=qf;function fp(e){return new kl(e)}function pp(e){return new Sl(e)}function dp(e){return new El(e)}function hp(e){return new fl(e)}function vp(e,t){return Ns(e,t)}function mp(e,t){return Ds(e,t)}function gp(e,t){return As(e,t)}function yp(e,t){return Ts(e,t)}function bp(e,t){return Rs(e,t)}function xp(e,t){return Os(e,t)}function wp(e,t){return _s(e,t)}function kp(e,t){return Ss(e,t)}function Sp(e,t){return ms(e,t)}function Ep(e,t){return gs(e,t)}function Cp(e,t){return gs(e,t)}function Np(e,t){return gs(e,t)}function Tp(e,t){return vs(e,t)}function Ip(e,t){return vs(e,t)}function Op(e,t){return vs(e,t)}function _p(e){return new cc(e)}function Dp(e){return sc(t=e),new cc({l1:null!=t?t.l1:null,l2:0});var t}function Ap(e){return sc(t=e),new cc({l2:null!=t?t.l2:null,l1:0});var t}var Rp=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(){var e;return(0,aa.Z)(this,n),(e=t.apply(this,arguments)).model=null,e}return(0,oa.Z)(n,[{key:"setModel",value:function(e){if(!(e instanceof Ou))throw new Error("model must be a LayersModel, not some other Container");this.model=e}}]),n}(as);function Pp(e,t){return e<t}function Mp(e,t){return e>t}var Fp=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;if((0,aa.Z)(this,n),r=t.call(this),null==e&&(e={}),e.restoreBestWeights)throw new ga("restoreBestWeights = True is not implemented in EarlyStopping yet.");return r.monitor=e.monitor||"val_loss",r.minDelta=Math.abs(e.minDelta||0),r.patience=e.patience||0,r.verbose=e.verbose||0,r.mode=e.mode||"auto",r.baseline=e.baseline,-1===["auto","min","max"].indexOf(r.mode)&&(console.warn("EarlyStopping mode '".concat(r.mode,"' is invalid. ")+"Falling back to mode 'auto'."),r.mode="auto"),"min"===r.mode?r.monitorFunc=Pp:"max"===r.mode||-1!==r.monitor.indexOf("acc")?r.monitorFunc=Mp:r.monitorFunc=Pp,r.monitorFunc===Pp&&(r.minDelta*=-1),r}return(0,oa.Z)(n,[{key:"onTrainBegin",value:function(){var e=(0,$i.Z)(es().mark((function e(t){return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.wait=0,this.stoppedEpoch=0,null!=this.baseline?this.best=this.baseline:this.best=this.monitorFunc===Pp?1/0:-1/0;case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onEpochEnd",value:function(){var e=(0,$i.Z)(es().mark((function e(t,n){var r;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ts(n);case 2:if(null!=(r=this.getMonitorValue(n))){e.next=5;break}return e.abrupt("return");case 5:this.monitorFunc(r-this.minDelta,this.best)?(this.best=r,this.wait=0):(this.wait++,this.wait>=this.patience&&(this.stoppedEpoch=t,this.model.stopTraining=!0));case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onTrainEnd",value:function(){var e=(0,$i.Z)(es().mark((function e(t){return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.stoppedEpoch>0&&this.verbose&&console.log("Epoch ".concat(this.stoppedEpoch,": early stopping."));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getMonitorValue",value:function(e){null==e&&(e={});var t=e[this.monitor];return null==t&&console.warn("Metric for EarlyStopping ".concat(this.monitor," is not available. ")+"Available metrics are: ".concat(Object.keys(e))),t}}]),n}(Rp);var Lp={earlyStopping:function(e){return new Fp(e)}},jp=n(2652),Zp=n(6699);function zp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Map,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Set;if(null==e)return null;if("function"===typeof Blob&&e instanceof Blob)return e.slice();if(r.has(e))throw new Error("Circular references are not supported.");if(n.has(e))return n.get(e);var a=t(e);if(a.recurse&&null!==a.value)throw new Error("A deep map function may not return both a value and recurse=true.");if(a.recurse){if(Gp(e)){var o=Array.isArray(e)?[]:{};for(var i in r.add(e),e){var s=e[i],u=zp(s,t,n,r);o[i]=u}return r.delete(e),e.__proto__&&(o.__proto__=e.__proto__),o}throw new Error("Can't recurse into non-iterable type: ".concat(e))}return n.set(e,a.value),a.value}function Bp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wp;return Up(e,t)}function Up(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set,r=e[0];if(n.has(r))throw new Error("Circular references are not supported.");var a=t(e);if(a.recurse&&null!==a.value)throw new Error("A deep zip function may not return both a value and recurse=true.");if(a.recurse){if(Gp(r)){var o=Array.isArray(r)?[]:{};n.add(r);var i=function(r){var a=Up(e.map((function(e){return e[r]})),t,n);o[r]=a};for(var s in r)i(s);return n.delete(r),o}throw new Error("Can't recurse into non-iterable type: ".concat(r))}return a.value}function Wp(e){return null===e?null:Gp(e[0])?{value:null,recurse:!0}:{value:e,recurse:!1}}function Vp(e,t){return Hp.apply(this,arguments)}function Hp(){return Hp=(0,$i.Z)(es().mark((function e(t,n){var r,a,o,i,s,u,c;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new Map,zp(t,n,r),a=0,o=Array.from(r.keys());case 3:if(!(a<o.length)){e.next=14;break}if(i=o[a],s=r.get(i),!l.D5U.isPromise(s)){e.next=11;break}return e.next=9,s;case 9:u=e.sent,r.set(i,u);case 11:a++,e.next=3;break;case 14:return c=zp(t,n,r),e.abrupt("return",c);case 16:case"end":return e.stop()}}),e)}))),Hp.apply(this,arguments)}function Gp(e){var t=!1;l.OBj().get("IS_BROWSER")?t=e instanceof TextDecoder:t=e instanceof n(4977).StringDecoder;return null!=e&&!ArrayBuffer.isView(e)&&(Array.isArray(e)||"object"===typeof e&&!(e instanceof l.esB)&&!(e instanceof Promise)&&!t)}function qp(e){return function(e,t){return zp(e,t)}(e,Xp)}function Xp(e){return e instanceof l.esB?{value:e.clone(),recurse:!1}:Gp(e)?{value:null,recurse:!0}:{value:e,recurse:!1}}var Kp=function(){function e(t){if((0,aa.Z)(this,e),this.capacity=t,this.begin=0,this.end=0,null==t)throw new RangeError("Can't create a ring buffer of unknown capacity.");if(t<1)throw new RangeError("Can't create ring buffer of capacity < 1.");this.data=new Array(t),this.doubledCapacity=2*t}return(0,oa.Z)(e,[{key:"wrap",value:function(e){for(;e<0;)e+=this.doubledCapacity;return e%this.doubledCapacity}},{key:"get",value:function(e){if(e<0)throw new RangeError("Can't get item at a negative index.");return this.data[e%this.capacity]}},{key:"set",value:function(e,t){if(e<0)throw new RangeError("Can't set item at a negative index.");this.data[e%this.capacity]=t}},{key:"length",value:function(){var e=this.end-this.begin;return e<0&&(e=this.doubledCapacity+e),e}},{key:"isFull",value:function(){return this.length()===this.capacity}},{key:"isEmpty",value:function(){return 0===this.length()}},{key:"push",value:function(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.set(this.end,e),this.end=this.wrap(this.end+1)}},{key:"pushAll",value:function(e){var t,n=(0,ra.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.push(r)}}catch(a){n.e(a)}finally{n.f()}}},{key:"pop",value:function(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");this.end=this.wrap(this.end-1);var e=this.get(this.end);return this.set(this.end,void 0),e}},{key:"unshift",value:function(e){if(this.isFull())throw new RangeError("Ring buffer is full.");this.begin=this.wrap(this.begin-1),this.set(this.begin,e)}},{key:"shift",value:function(){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");var e=this.get(this.begin);return this.set(this.begin,void 0),this.begin=this.wrap(this.begin+1),e}},{key:"shuffleExcise",value:function(e){if(this.isEmpty())throw new RangeError("Ring buffer is empty.");var t=this.wrap(this.begin+e),n=this.get(t);return this.set(t,this.pop()),n}}]),e}(),Yp=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(){return(0,aa.Z)(this,n),t.call(this,n.INITIAL_CAPACITY)}return(0,oa.Z)(n,[{key:"isFull",value:function(){return!1}},{key:"push",value:function(e){(0,ps.Z)((0,ca.Z)(n.prototype),"isFull",this).call(this)&&this.expand(),(0,ps.Z)((0,ca.Z)(n.prototype),"push",this).call(this,e)}},{key:"unshift",value:function(e){(0,ps.Z)((0,ca.Z)(n.prototype),"isFull",this).call(this)&&this.expand(),(0,ps.Z)((0,ca.Z)(n.prototype),"unshift",this).call(this,e)}},{key:"expand",value:function(){for(var e=2*this.capacity,t=new Array(e),n=this.length(),r=0;r<n;r++)t[r]=this.get(this.wrap(this.begin+r));this.data=t,this.capacity=e,this.doubledCapacity=2*this.capacity,this.begin=0,this.end=n}}]),n}(Kp);function Qp(e){return new rd(e)}function $p(e){return new ad(e)}function Jp(e,t){return new vd(e,t)}function ed(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:td.FAIL;return new md(e,t)}Yp.INITIAL_CAPACITY=32;var td,nd=function(){function e(){(0,aa.Z)(this,e)}return(0,oa.Z)(e,[{key:"toArray",value:function(){var e=(0,$i.Z)(es().mark((function e(){var t,n;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,this.next();case 3:n=e.sent;case 4:if(n.done){e.next=11;break}return t.push(n.value),e.next=8,this.next();case 8:n=e.sent,e.next=4;break;case 11:return e.abrupt("return",t);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toArrayForTest",value:function(){var e=(0,$i.Z)(es().mark((function e(){var t,n,r;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.prefetch(100),n=[],e.next=4,t.next();case 4:r=e.sent;case 5:if(r.done){e.next=12;break}return n.push(r.value),e.next=9,t.next();case 9:r=e.sent,e.next=5;break;case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"resolveFully",value:function(){var e=(0,$i.Z)(es().mark((function e(){var t;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.next();case 2:t=e.sent;case 3:if(t.done){e.next=9;break}return e.next=6,this.next();case 6:t=e.sent,e.next=3;break;case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"resolveWhile",value:function(){var e=(0,$i.Z)(es().mark((function e(t){var n,r;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.next();case 2:n=e.sent,r=t(n.value);case 4:if(n.done||!r){e.next=11;break}return e.next=7,this.next();case 7:n=e.sent,r=t(n.value),e.next=4;break;case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleErrors",value:function(e){return new fd(this,e)}},{key:"filter",value:function(e){return new cd(this,e)}},{key:"map",value:function(e){return new ld(this,e)}},{key:"mapAsync",value:function(e){return new pd(this,e)}},{key:"serialMapAsync",value:function(e){return new pd(this,e).serial()}},{key:"flatmap",value:function(e){return new hd(this,e)}},{key:"forEachAsync",value:function(){var e=(0,$i.Z)(es().mark((function e(t){return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.map(t).resolveFully());case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"serialForEach",value:function(){var e=(0,$i.Z)(es().mark((function e(t){return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.serialMapAsync(t).resolveWhile((function(e){return!0===e})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"rowMajorBatch",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new ud(this,e,t)}},{key:"columnMajorBatch",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wp,r=this.rowMajorBatch(e,t);return r.map((function(e){return Bp(e,n)}))}},{key:"concatenate",value:function(e,t){return new vd(Qp([this,e]),t)}},{key:"take",value:function(e){return e<0||null==e?this:new sd(this,e)}},{key:"skip",value:function(e){return e<0||null==e?this:new id(this,e)}},{key:"prefetch",value:function(e){return new gd(this,e)}},{key:"shuffle",value:function(e,t){return new yd(this,e,t)}},{key:"serial",value:function(){return new od(this)}}]),e}(),rd=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;return(0,aa.Z)(this,n),(r=t.call(this)).items=e,r.trav=0,r}return(0,oa.Z)(n,[{key:"summary",value:function(){return"Array of ".concat(this.items.length," items")}},{key:"next",value:function(){var e=(0,$i.Z)(es().mark((function e(){var t;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.trav>=this.items.length)){e.next=2;break}return e.abrupt("return",{value:null,done:!0});case 2:return t=this.items[this.trav],this.trav++,e.abrupt("return",{value:qp(t),done:!1});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(nd),ad=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;return(0,aa.Z)(this,n),(r=t.call(this)).nextFn=e,r}return(0,oa.Z)(n,[{key:"summary",value:function(){return"Function call"}},{key:"next",value:function(){var e=(0,$i.Z)(es().mark((function e(){return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",this.nextFn());case 4:throw e.prev=4,e.t0=e.catch(0),e.t0.message="Error thrown while iterating through a dataset: ".concat(e.t0.message),e.t0;case 8:case"end":return e.stop()}}),e,this,[[0,4]])})));return function(){return e.apply(this,arguments)}}()}]),n}(nd),od=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;return(0,aa.Z)(this,n),(r=t.call(this)).upstream=e,r.lastRead=Promise.resolve({value:null,done:!1}),r}return(0,oa.Z)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Serial")}},{key:"next",value:function(){var e=(0,$i.Z)(es().mark((function e(){var t=this;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then((function(){return t.serialNext()})),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=(0,$i.Z)(es().mark((function e(){return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.upstream.next());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(nd),id=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e,r){var a;return(0,aa.Z)(this,n),(a=t.call(this)).upstream=e,a.maxCount=r,a.count=0,a.lastRead=Promise.resolve({value:null,done:!1}),a}return(0,oa.Z)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Skip")}},{key:"next",value:function(){var e=(0,$i.Z)(es().mark((function e(){var t=this;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then((function(){return t.serialNext()})),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=(0,$i.Z)(es().mark((function e(){var t;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.count++<this.maxCount)){e.next=9;break}return e.next=3,this.upstream.next();case 3:if(!(t=e.sent).done){e.next=6;break}return e.abrupt("return",t);case 6:l.B90(t.value),e.next=0;break;case 9:return e.abrupt("return",this.upstream.next());case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(nd),sd=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e,r){var a;return(0,aa.Z)(this,n),(a=t.call(this)).upstream=e,a.maxCount=r,a.count=0,a}return(0,oa.Z)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Take")}},{key:"next",value:function(){var e=(0,$i.Z)(es().mark((function e(){return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.count++>=this.maxCount)){e.next=2;break}return e.abrupt("return",{value:null,done:!0});case 2:return e.abrupt("return",this.upstream.next());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(nd),ud=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e,r){var a,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return(0,aa.Z)(this,n),(a=t.call(this)).upstream=e,a.batchSize=r,a.enableSmallLastBatch=o,a.lastRead=Promise.resolve({value:null,done:!1}),a}return(0,oa.Z)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> RowMajorBatch")}},{key:"next",value:function(){var e=(0,$i.Z)(es().mark((function e(){var t=this;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then((function(){return t.serialNext()})),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=(0,$i.Z)(es().mark((function e(){var t,n;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[];case 1:if(!(t.length<this.batchSize)){e.next=12;break}return e.next=4,this.upstream.next();case 4:if(!(n=e.sent).done){e.next=9;break}if(!(this.enableSmallLastBatch&&t.length>0)){e.next=8;break}return e.abrupt("return",{value:t,done:!1});case 8:return e.abrupt("return",{value:null,done:!0});case 9:t.push(n.value),e.next=1;break;case 12:return e.abrupt("return",{value:t,done:!1});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(nd),cd=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e,r){var a;return(0,aa.Z)(this,n),(a=t.call(this)).upstream=e,a.predicate=r,a.lastRead=Promise.resolve({value:null,done:!1}),a}return(0,oa.Z)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Filter")}},{key:"next",value:function(){var e=(0,$i.Z)(es().mark((function e(){var t=this;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then((function(){return t.serialNext()})),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=(0,$i.Z)(es().mark((function e(){var t;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,this.upstream.next();case 3:if(!(t=e.sent).done&&!this.predicate(t.value)){e.next=6;break}return e.abrupt("return",t);case 6:l.B90(t.value),e.next=0;break;case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(nd),ld=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e,r){var a;return(0,aa.Z)(this,n),(a=t.call(this)).upstream=e,a.transform=r,a}return(0,oa.Z)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Map")}},{key:"next",value:function(){var e=(0,$i.Z)(es().mark((function e(){var t,n,r,a,o,i,s;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.upstream.next();case 2:if(!(t=e.sent).done){e.next=5;break}return e.abrupt("return",{value:null,done:!0});case 5:n=l.piX.getTensorsInContainer(t.value),r=this.transform(t.value),a=l.piX.getTensorsInContainer(r),o=(0,ra.Z)(n);try{for(o.s();!(i=o.n()).done;)s=i.value,l.piX.isTensorInList(s,a)||s.dispose()}catch(u){o.e(u)}finally{o.f()}return e.abrupt("return",{value:r,done:!1});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(nd),fd=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e,r){var a;return(0,aa.Z)(this,n),(a=t.call(this)).upstream=e,a.handler=r,a.count=0,a.lastRead=Promise.resolve({value:null,done:!1}),a}return(0,oa.Z)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> handleErrors")}},{key:"next",value:function(){var e=(0,$i.Z)(es().mark((function e(){var t=this;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then((function(){return t.serialNext()})),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=(0,$i.Z)(es().mark((function e(){return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,this.upstream.next();case 4:return e.abrupt("return",e.sent);case 7:if(e.prev=7,e.t0=e.catch(1),this.handler(e.t0)){e.next=11;break}return e.abrupt("return",{value:null,done:!0});case 11:e.next=0;break;case 13:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(){return e.apply(this,arguments)}}()}]),n}(nd),pd=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e,r){var a;return(0,aa.Z)(this,n),(a=t.call(this)).upstream=e,a.transform=r,a}return(0,oa.Z)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> AsyncMap")}},{key:"next",value:function(){var e=(0,$i.Z)(es().mark((function e(){var t,n,r,a,o,i,s;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.upstream.next();case 2:if(!(t=e.sent).done){e.next=5;break}return e.abrupt("return",{value:null,done:!0});case 5:return n=l.piX.getTensorsInContainer(t.value),e.next=8,this.transform(t.value);case 8:r=e.sent,a=l.piX.getTensorsInContainer(r),o=(0,ra.Z)(n);try{for(o.s();!(i=o.n()).done;)s=i.value,l.piX.isTensorInList(s,a)||s.dispose()}catch(u){o.e(u)}finally{o.f()}return e.abrupt("return",{value:r,done:!1});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(nd),dd=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(){var e;return(0,aa.Z)(this,n),(e=t.call(this)).outputQueue=new Yp,e.lastRead=Promise.resolve({value:null,done:!1}),e}return(0,oa.Z)(n,[{key:"next",value:function(){var e=(0,$i.Z)(es().mark((function e(){var t=this;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then((function(){return t.serialNext()})),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"serialNext",value:function(){var e=(0,$i.Z)(es().mark((function e(){return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==this.outputQueue.length()){e.next=7;break}return e.next=3,this.pump();case 3:if(e.sent){e.next=5;break}return e.abrupt("return",{value:null,done:!0});case 5:e.next=0;break;case 7:return e.abrupt("return",{value:this.outputQueue.shift(),done:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(nd),hd=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e,r){var a;return(0,aa.Z)(this,n),(a=t.call(this)).upstream=e,a.transform=r,a}return(0,oa.Z)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Flatmap")}},{key:"pump",value:function(){var e=(0,$i.Z)(es().mark((function e(){var t,n,r,a,o,i,s;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.upstream.next();case 2:if(!(t=e.sent).done){e.next=5;break}return e.abrupt("return",!1);case 5:n=l.piX.getTensorsInContainer(t.value),r=this.transform(t.value),a=l.piX.getTensorsInContainer(r),this.outputQueue.pushAll(r),o=(0,ra.Z)(n);try{for(o.s();!(i=o.n()).done;)s=i.value,l.piX.isTensorInList(s,a)||s.dispose()}catch(u){o.e(u)}finally{o.f()}return e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(dd),vd=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e,r){var a;return(0,aa.Z)(this,n),(a=t.call(this)).baseErrorHandler=r,a.lastRead=null,a.iterator=null,a.moreIterators=e,a}return(0,oa.Z)(n,[{key:"summary",value:function(){return"".concat("TODO: fill in upstream of chained summaries"," -> Chained")}},{key:"next",value:function(){var e=(0,$i.Z)(es().mark((function e(){return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.readFromChain(this.lastRead),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"readFromChain",value:function(){var e=(0,$i.Z)(es().mark((function e(t){var n,r;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:if(null!=this.iterator){e.next=10;break}return e.next=5,this.moreIterators.next();case 5:if(!(n=e.sent).done){e.next=8;break}return e.abrupt("return",{value:null,done:!0});case 8:this.iterator=n.value,null!=this.baseErrorHandler&&(this.iterator=this.iterator.handleErrors(this.baseErrorHandler));case 10:return e.next=12,this.iterator.next();case 12:if(!(r=e.sent).done){e.next=16;break}return this.iterator=null,e.abrupt("return",this.readFromChain(t));case 16:return e.abrupt("return",r);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(nd);!function(e){e[e.FAIL=0]="FAIL",e[e.SHORTEST=1]="SHORTEST",e[e.LONGEST=2]="LONGEST"}(td||(td={}));var md=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:td.FAIL;return(0,aa.Z)(this,n),(r=t.call(this)).iterators=e,r.mismatchMode=a,r.count=0,r.currentPromise=null,r}return(0,oa.Z)(n,[{key:"summary",value:function(){return"{".concat("TODO: fill in upstream of zip summaries","} -> Zip")}},{key:"nextState",value:function(){var e=(0,$i.Z)(es().mark((function e(t){var n,r,a,o;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e){return e instanceof nd?{value:e.next().then((function(e){return n++,e.done&&r++,e.value})),recurse:!1}:{value:null,recurse:!0}},e.next=3,t;case 3:return n=0,r=0,e.next=7,Vp(this.iterators,a);case 7:if(o=e.sent,n!==r){e.next=10;break}return e.abrupt("return",{value:null,done:!0});case 10:if(!(r>0)){e.next=16;break}e.t0=this.mismatchMode,e.next=e.t0===td.FAIL?14:e.t0===td.SHORTEST?15:(e.t0,td.LONGEST,16);break;case 14:throw new Error("Zipped streams should have the same length. "+"Mismatched at element ".concat(this.count,"."));case 15:return e.abrupt("return",{value:null,done:!0});case 16:return this.count++,e.abrupt("return",{value:o,done:!1});case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"next",value:function(){var e=(0,$i.Z)(es().mark((function e(){return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.currentPromise=this.nextState(this.currentPromise),e.abrupt("return",this.currentPromise);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(nd),gd=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e,r){var a;return(0,aa.Z)(this,n),(a=t.call(this)).upstream=e,a.bufferSize=r,a.buffer=new Kp(r),a}return(0,oa.Z)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Prefetch")}},{key:"refill",value:function(){for(;!this.buffer.isFull();){var e=this.upstream.next();this.buffer.push(e)}}},{key:"next",value:function(){return this.refill(),this.buffer.shift()}}]),n}(nd),yd=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e,r,a){var o;return(0,aa.Z)(this,n),(o=t.call(this,e,r)).upstream=e,o.windowSize=r,o.upstreamExhausted=!1,o.random=Zp.alea(a||l.D5U.now().toString()),o.lastRead=Promise.resolve({value:null,done:!1}),o}return(0,oa.Z)(n,[{key:"next",value:function(){var e=(0,$i.Z)(es().mark((function e(){var t=this;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.lastRead=this.lastRead.then((function(){return t.serialNext()})),e.abrupt("return",this.lastRead);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"randomInt",value:function(e){return Math.floor(this.random()*e)}},{key:"chooseIndex",value:function(){return this.randomInt(this.buffer.length())}},{key:"serialNext",value:function(){var e=(0,$i.Z)(es().mark((function e(){var t,n;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.upstreamExhausted||this.refill();case 1:if(this.buffer.isEmpty()){e.next=14;break}return t=this.chooseIndex(),e.next=5,this.buffer.shuffleExcise(t);case 5:if(!(n=e.sent).done){e.next=10;break}this.upstreamExhausted=!0,e.next=12;break;case 10:return this.refill(),e.abrupt("return",n);case 12:e.next=1;break;case 14:return e.abrupt("return",{value:null,done:!0});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(gd),bd=function(){function e(){(0,aa.Z)(this,e),this.size=null}return(0,oa.Z)(e,[{key:"batch",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this;return l.D5U.assert(e>0,(function(){return"batchSize needs to be positive, but it is\n      ".concat(e)})),t=this.size===1/0||null==this.size?this.size:n?Math.ceil(this.size/e):Math.floor(this.size/e),xd((0,$i.Z)(es().mark((function t(){return es().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.iterator();case 2:return t.abrupt("return",t.sent.columnMajorBatch(e,n,Sd));case 3:case"end":return t.stop()}}),t)}))),t)}},{key:"concatenate",value:function(e){var t,n=this;return t=this.size===1/0||e.size===1/0?1/0:null!=this.size&&null!=e.size?this.size+e.size:null,xd((0,$i.Z)(es().mark((function t(){return es().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.iterator();case 2:return t.t0=t.sent,t.next=5,e.iterator();case 5:return t.t1=t.sent,t.abrupt("return",t.t0.concatenate.call(t.t0,t.t1));case 7:case"end":return t.stop()}}),t)}))),t)}},{key:"filter",value:function(e){var t,n=this;return t=this.size===1/0?1/0:null,xd((0,$i.Z)(es().mark((function t(){return es().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.iterator();case 2:return t.abrupt("return",t.sent.filter((function(t){return l.lub((function(){return e(t)}))})));case 3:case"end":return t.stop()}}),t)}))),t)}},{key:"forEachAsync",value:function(){var e=(0,$i.Z)(es().mark((function e(t){return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.iterator();case 2:return e.abrupt("return",e.sent.forEachAsync(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"map",value:function(e){var t=this;return xd((0,$i.Z)(es().mark((function n(){return es().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.iterator();case 2:return n.abrupt("return",n.sent.map((function(t){return l.lub((function(){return e(t)}))})));case 3:case"end":return n.stop()}}),n)}))),this.size)}},{key:"mapAsync",value:function(e){var t=this;return xd((0,$i.Z)(es().mark((function n(){return es().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.iterator();case 2:return n.abrupt("return",n.sent.mapAsync(e));case 3:case"end":return n.stop()}}),n)}))),this.size)}},{key:"prefetch",value:function(e){if(null==e)throw new RangeError("`Dataset.prefetch()` requires bufferSize to be specified.");var t=this;return xd((0,$i.Z)(es().mark((function n(){return es().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.iterator();case 2:return n.abrupt("return",n.sent.prefetch(e));case 3:case"end":return n.stop()}}),n)}))),this.size)}},{key:"repeat",value:function(e){var t,n=this;return t=null!=this.size&&e>0?this.size*e:0===e?0:null!=this.size&&(void 0===e||e<0)?1/0:null,xd((0,$i.Z)(es().mark((function t(){var r;return es().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=$p((0,$i.Z)(es().mark((function e(){return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.iterator();case 2:return e.t0=e.sent,e.abrupt("return",{value:e.t0,done:!1});case 4:case"end":return e.stop()}}),e)})))),t.abrupt("return",Jp(r.take(e)));case 2:case"end":return t.stop()}}),t)}))),t)}},{key:"skip",value:function(e){var t,n=this;return t=null!=this.size&&e>=0&&this.size>=e?this.size-e:null!=this.size&&(this.size<e||void 0===e||e<0)?0:null,xd((0,$i.Z)(es().mark((function t(){return es().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.iterator();case 2:return t.abrupt("return",t.sent.skip(e));case 3:case"end":return t.stop()}}),t)}))),t)}},{key:"shuffle",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(null==e||e<0)throw null==this.size?new RangeError("`Dataset.shuffle()` requires bufferSize to be specified."):new RangeError("`Dataset.shuffle()` requires bufferSize to be specified.  If your data fits in main memory (for regular JS objects), and/or GPU memory (for `tf.Tensor`s), consider setting "+"bufferSize to the dataset size (".concat(this.size," elements)"));var r=this,a=Zp.alea(t||l.D5U.now().toString());return xd((0,$i.Z)(es().mark((function t(){var o;return es().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=a.int32(),n&&(o+=a.int32()),t.next=4,r.iterator();case 4:return t.abrupt("return",t.sent.shuffle(e,o.toString()));case 5:case"end":return t.stop()}}),t)}))),this.size)}},{key:"take",value:function(e){var t,n=this;return t=null!=this.size&&this.size>e?e:null!=this.size&&this.size<=e?this.size:null,xd((0,$i.Z)(es().mark((function t(){return es().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.iterator();case 2:return t.abrupt("return",t.sent.take(e));case 3:case"end":return t.stop()}}),t)}))),t)}},{key:"toArray",value:function(){var e=(0,$i.Z)(es().mark((function e(){return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.size!==1/0){e.next=2;break}throw new Error("Can not convert infinite data stream to array.");case 2:return e.next=4,this.iterator();case 4:return e.abrupt("return",e.sent.toArray());case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toArrayForTest",value:function(){var e=(0,$i.Z)(es().mark((function e(){return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.size!==1/0){e.next=2;break}throw new Error("Can not convert infinite data stream to array.");case 2:return e.next=4,this.iterator();case 4:return e.abrupt("return",e.sent.toArrayForTest());case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function xd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new(function(n){(0,sa.Z)(a,n);var r=(0,ua.Z)(a);function a(){var e;return(0,aa.Z)(this,a),(e=r.apply(this,arguments)).size=t,e}return(0,oa.Z)(a,[{key:"iterator",value:function(){var t=(0,$i.Z)(es().mark((function t(){return es().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e());case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}]),a}(bd))}function wd(e){return xd((0,$i.Z)(es().mark((function t(){return es().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Qp(e));case 1:case"end":return t.stop()}}),t)}))),e.length)}function kd(e){if(!Gp(e))throw new Error("The argument to zip() must be an object or array.");var t;if(Array.isArray(e))for(var n=0;n<e.length;n++)t=null==t?e[n].size:Math.min(t,e[n].size);else if(e instanceof Object)for(var r in e)t=null==t?e[r].size:Math.min(t,e[r].size);return xd((0,$i.Z)(es().mark((function t(){var n;return es().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Vp(e,(function(e){if(e instanceof bd)return{value:e.iterator(),recurse:!1};if(Gp(e))return{value:null,recurse:!0};throw new Error("Leaves of the structure passed to zip() must be Datasets, not primitives.")}));case 2:return n=t.sent,t.abrupt("return",ed(n,td.SHORTEST));case 4:case"end":return t.stop()}}),t)}))),t)}function Sd(e){return null===e?null:function(e){return null==e||null===(t=e)||"object"!==typeof t&&"function"!==typeof t||Array.isArray(e)||"object"===typeof e&&e instanceof l.esB||l.D5U.isTypedArray(e);var t}(e[0])?{value:function(e){if(0===e.length)throw new Error("Can't make a batch of zero elements.");return e[0]instanceof l.esB?l.knu(e):l.XeE(e)}(e),recurse:!1}:{value:null,recurse:!0}}bd.MAX_BUFFER_SIZE=1e4;var Ed=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;return(0,aa.Z)(this,n),(r=t.call(this)).input=e,r}return(0,oa.Z)(n,[{key:"iterator",value:function(){var e=(0,$i.Z)(es().mark((function e(){var t,n,r;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.input.iterator();case 2:return t=e.sent,n=t.decodeUTF8(),r=n.split("\n").map((function(e){return e.endsWith("\r")&&(e=e.slice(0,-1)),e})),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(bd),Cd='"',Nd=Symbol("out"),Td=Symbol("field"),Id=Symbol("quote"),Od=Symbol("quoteafterquote"),_d=Symbol("quoteinquote"),Dd=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e,r){var a;return(0,aa.Z)(this,n),(a=t.call(this)).input=e,a.hasHeader=!0,a.fullColumnNames=null,a.columnNamesValidated=!1,a.columnConfigs=null,a.configuredColumnsOnly=!1,a.delimiter=",",a.delimWhitespace=!1,a.base=new Ed(e),r||(r={}),a.hasHeader=!1!==r.hasHeader,a.fullColumnNames=r.columnNames,a.columnConfigs=r.columnConfigs,a.configuredColumnsOnly=r.configuredColumnsOnly,r.delimWhitespace?(l.D5U.assert(null==r.delimiter,(function(){return"Delimiter should not be provided when delimWhitespace is true."})),a.delimWhitespace=!0,a.delimiter=" "):a.delimiter=r.delimiter?r.delimiter:",",a}return(0,oa.Z)(n,[{key:"columnNames",value:function(){var e=(0,$i.Z)(es().mark((function e(){return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.columnNamesValidated){e.next=3;break}return e.next=3,this.setColumnNames();case 3:return e.abrupt("return",this.configuredColumnsOnly?Object.keys(this.columnConfigs):this.fullColumnNames);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setColumnNames",value:function(){var e=(0,$i.Z)(es().mark((function e(){var t,n,r,a,o,i,s=this;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.maybeReadHeaderLine();case 2:if(t=e.sent,this.fullColumnNames||t){e.next=7;break}throw new Error("Column names must be provided if there is no header line.");case 7:this.fullColumnNames&&t&&l.D5U.assert(t.length===this.fullColumnNames.length,(function(){return"The length of provided columnNames ("+s.fullColumnNames.length.toString()+") does not match the length of the header line read from file ("+t.length.toString()+")."}));case 8:if(this.fullColumnNames||(this.fullColumnNames=t),n=this.fullColumnNames.reduce((function(e,t){return e[t]=e[t]+1||1,e}),{}),r=Object.keys(n).filter((function(e){return n[e]>1})),l.D5U.assert(0===r.length,(function(){return"Duplicate column names found: "+r.toString()})),!this.columnConfigs){e.next=22;break}a=0,o=Object.keys(this.columnConfigs);case 14:if(!(a<o.length)){e.next=22;break}if(i=o[a],-1!==this.fullColumnNames.indexOf(i)){e.next=19;break}throw new Error('The key "'+i+'" provided in columnConfigs does not match any of the column names ('+this.fullColumnNames.toString()+").");case 19:a++,e.next=14;break;case 22:this.columnNamesValidated=!0;case 23:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"maybeReadHeaderLine",value:function(){var e=(0,$i.Z)(es().mark((function e(){var t,n,r,a;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.hasHeader){e.next=14;break}return e.next=3,this.base.iterator();case 3:return t=e.sent,e.next=6,t.next();case 6:if(!(n=e.sent).done){e.next=9;break}throw new Error("No data was found for CSV parsing.");case 9:return r=n.value,a=this.parseRow(r,!1),e.abrupt("return",a);case 14:return e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"iterator",value:function(){var e=(0,$i.Z)(es().mark((function e(){var t,n=this;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.columnNamesValidated){e.next=3;break}return e.next=3,this.setColumnNames();case 3:return e.next=5,this.base.iterator();case 5:return t=e.sent,this.hasHeader&&(t=t.skip(1)),e.abrupt("return",t.map((function(e){return n.makeDataElement(e)})));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"makeDataElement",value:function(e){for(var t=this.parseRow(e),n={},r={},a=0;a<this.fullColumnNames.length;a++){var o=this.fullColumnNames[a],i=this.columnConfigs?this.columnConfigs[o]:null;if(!this.configuredColumnsOnly||i){var s=t[a],u=null;if(""===s)if(i&&void 0!==i.default)u=i.default;else{if(i&&(i.required||i.isLabel))throw new Error("Required column ".concat(o," is empty in this line: ").concat(e));u=void 0}else{var c=Number(s);if(isNaN(c))u=i&&"bool"===i.dtype?this.getBoolean(s):s;else if(i&&i.dtype)switch(i.dtype){case"float32":default:u=c;break;case"int32":u=Math.floor(c);break;case"bool":u=this.getBoolean(s)}else u=c}i&&i.isLabel?r[o]=u:n[o]=u}}return 0===Object.keys(r).length?n:{xs:n,ys:r}}},{key:"getBoolean",value:function(e){return"1"===e||"true"===e.toLowerCase()?1:0}},{key:"parseRow",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=[],r=0,a=e.length,o=Nd,i=0;i<a;i++)switch(o){case Nd:switch(e.charAt(i)){case Cd:r=i+1,o=Id;break;case this.delimiter:if(r=i+1," "===this.delimiter&&this.delimWhitespace)break;n.push(""),o=Nd;break;default:o=Td,r=i}break;case Td:if(e.charAt(i)===this.delimiter)n.push(e.substring(r,i)),o=Nd,r=i+1;break;case Id:if(e.charAt(i)===Cd)o=Od;break;case Od:switch(e.charAt(i)){case this.delimiter:n.push(e.substring(r,i-1)),o=Nd,r=i+1;break;case Cd:o=Id;break;default:o=_d}break;case _d:if(e.charAt(i)===Cd)o=Id}if(o===Od?n.push(e.substring(r,a-1)):n.push(e.substring(r)),t&&n.length!==this.fullColumnNames.length)throw new Error("Invalid row in csv file. Should have ".concat(this.fullColumnNames.length," elements in a row, but got ").concat(n));return n}}]),n}(bd),Ad=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;(0,aa.Z)(this,n),(r=t.call(this)).microphoneConfig=e,r.isClosed=!1,r.fftSize=e.fftSize||1024;var a=Math.log2(r.fftSize);if(r.fftSize<0||a<4||a>14||!Number.isInteger(a))throw new Error("Invalid fftSize: it must be a power of 2 between "+"2 to 4 and 2 to 14, but got ".concat(r.fftSize));if(r.numFrames=e.numFramesPerSpectrogram||43,r.sampleRateHz=e.sampleRateHz,r.columnTruncateLength=e.columnTruncateLength||r.fftSize,r.audioTrackConstraints=e.audioTrackConstraints,r.smoothingTimeConstant=e.smoothingTimeConstant||0,r.includeSpectrogram=!1!==e.includeSpectrogram,r.includeWaveform=!0===e.includeWaveform,!r.includeSpectrogram&&!r.includeWaveform)throw new Error("Both includeSpectrogram and includeWaveform are false. At least one type of data should be returned.");return r}return(0,oa.Z)(n,[{key:"summary",value:function(){return"microphone"}},{key:"start",value:function(){var e=(0,$i.Z)(es().mark((function e(){var t,n;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.mediaDevices.getUserMedia({audio:null==this.audioTrackConstraints||this.audioTrackConstraints,video:!1});case 3:this.stream=e.sent,e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(0),new Error("Error thrown while initializing video stream: ".concat(e.t0.message));case 9:if(this.stream){e.next=11;break}throw new Error("Could not obtain audio from microphone.");case 11:if(t=window.AudioContext||window.webkitAudioContext,this.audioContext=new t,this.sampleRateHz){e.next=17;break}this.sampleRateHz=this.audioContext.sampleRate,e.next=19;break;case 17:if(this.audioContext.sampleRate===this.sampleRateHz){e.next=19;break}throw new Error("Mismatch in sampling rate: "+"Expected: ".concat(this.sampleRateHz,"; ")+"Actual: ".concat(this.audioContext.sampleRate));case 19:return n=this.audioContext.createMediaStreamSource(this.stream),this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=2*this.fftSize,this.analyser.smoothingTimeConstant=this.smoothingTimeConstant,n.connect(this.analyser),this.freqData=new Float32Array(this.fftSize),this.timeData=new Float32Array(this.fftSize),e.abrupt("return");case 27:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"next",value:function(){var e=(0,$i.Z)(es().mark((function e(){var t,n,r,a,o;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isClosed){e.next=2;break}return e.abrupt("return",{value:null,done:!0});case 2:return e.next=4,this.getAudioData();case 4:return r=e.sent,this.includeSpectrogram&&(a=this.flattenQueue(r.freqDataQueue),t=this.getTensorFromAudioDataArray(a,[this.numFrames,this.columnTruncateLength,1])),this.includeWaveform&&(o=this.flattenQueue(r.timeDataQueue),n=this.getTensorFromAudioDataArray(o,[this.numFrames*this.fftSize,1])),e.abrupt("return",{value:{spectrogram:t,waveform:n},done:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"capture",value:function(){var e=(0,$i.Z)(es().mark((function e(){return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.next();case 2:return e.abrupt("return",e.sent.value);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAudioData",value:function(){var e=(0,$i.Z)(es().mark((function e(){var t,n,r,a=this;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],n=[],r=0,e.abrupt("return",new Promise((function(e){var o=setInterval((function(){a.includeSpectrogram&&(a.analyser.getFloatFrequencyData(a.freqData),a.freqData[0]===-1/0&&e({freqDataQueue:t,timeDataQueue:n}),t.push(a.freqData.slice(0,a.columnTruncateLength))),a.includeWaveform&&(a.analyser.getFloatTimeDomainData(a.timeData),n.push(a.timeData.slice())),++r===a.numFrames&&(clearInterval(o),e({freqDataQueue:t,timeDataQueue:n}))}),a.fftSize/a.sampleRateHz*1e3)})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"stop",value:function(){this.isClosed||(this.isClosed=!0,this.analyser.disconnect(),this.audioContext.close(),null!=this.stream&&this.stream.getTracks().length>0&&this.stream.getTracks()[0].stop())}},{key:"toArray",value:function(){throw new Error("Can not convert infinite audio stream to array.")}},{key:"getSampleRate",value:function(){return this.sampleRateHz}},{key:"flattenQueue",value:function(e){var t=e[0].length,n=new Float32Array(e.length*t);return e.forEach((function(e,r){return n.set(e,r*t)})),n}},{key:"getTensorFromAudioDataArray",value:function(e,t){var n=new Float32Array(l.D5U.sizeFromShape(t));return n.set(e,n.length-e.length),(0,l.XeE)(n,t)}}],[{key:"create",value:function(){var e=(0,$i.Z)(es().mark((function e(){var t,r,a=arguments;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]?a[0]:{},(0,l.OBj)().get("IS_BROWSER")){e.next=3;break}throw new Error("microphone API is only supported in browser environment.");case 3:return r=new n(t),e.next=6,r.start();case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),n}(nd),Rd=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e,r){var a;if((0,aa.Z)(this,n),(a=t.call(this)).webcamVideoElement=e,a.webcamConfig=r,a.isClosed=!0,a.resize=!1,a.needToResize())if(a.resize=!0,a.cropSize=[a.webcamConfig.resizeHeight,a.webcamConfig.resizeWidth],a.cropBoxInd=(0,l.RRF)([0],"int32"),a.webcamConfig.centerCrop){var o=1*a.webcamConfig.resizeWidth/a.webcamVideoElement.width,i=1*a.webcamConfig.resizeHeight/a.webcamVideoElement.height,s=(1-o)/2,u=(1-i)/2,c=s+o,f=i+u;a.cropBox=(0,l.odF)([u,s,f,c],[1,4])}else a.cropBox=(0,l.odF)([0,0,1,1],[1,4]);return a}return(0,oa.Z)(n,[{key:"summary",value:function(){return"webcam"}},{key:"start",value:function(){var e=(0,$i.Z)(es().mark((function e(){var t=this;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.webcamConfig.facingMode&&l.D5U.assert("user"===this.webcamConfig.facingMode||"environment"===this.webcamConfig.facingMode,(function(){return"Invalid webcam facing mode: ".concat(t.webcamConfig.facingMode,". ")+"Please provide 'user' or 'environment'"})),e.prev=1,e.next=4,navigator.mediaDevices.getUserMedia({video:{deviceId:this.webcamConfig.deviceId,facingMode:this.webcamConfig.facingMode?this.webcamConfig.facingMode:"user",width:this.webcamVideoElement.width,height:this.webcamVideoElement.height}});case 4:this.stream=e.sent,e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(1),e.t0.message="Error thrown while initializing video stream: ".concat(e.t0.message),e.t0;case 11:if(this.stream){e.next=13;break}throw new Error("Could not obtain video from webcam.");case 13:try{this.webcamVideoElement.srcObject=this.stream}catch(n){console.log(n),this.webcamVideoElement.src=window.URL.createObjectURL(this.stream)}return this.webcamVideoElement.play(),this.isClosed=!1,e.abrupt("return",new Promise((function(e){t.webcamVideoElement.onloadedmetadata=function(){e()}})));case 17:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"next",value:function(){var e=(0,$i.Z)(es().mark((function e(){var t;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isClosed){e.next=2;break}return e.abrupt("return",{value:null,done:!0});case 2:e.prev=2,t=l.Xhn.fromPixels(this.webcamVideoElement),e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(2),new Error("Error thrown converting video to pixels: ".concat(JSON.stringify(e.t0)));case 9:if(!this.resize){e.next=22;break}return e.prev=10,e.abrupt("return",{value:this.cropAndResizeFrame(t),done:!1});case 14:throw e.prev=14,e.t1=e.catch(10),new Error("Error thrown cropping the video: ".concat(e.t1.message));case 17:return e.prev=17,t.dispose(),e.finish(17);case 20:e.next=23;break;case 22:return e.abrupt("return",{value:t,done:!1});case 23:case"end":return e.stop()}}),e,this,[[2,6],[10,14,17,20]])})));return function(){return e.apply(this,arguments)}}()},{key:"needToResize",value:function(){return!(!this.webcamConfig.resizeWidth||!this.webcamConfig.resizeHeight||this.webcamVideoElement.width===this.webcamConfig.resizeWidth&&this.webcamVideoElement.height===this.webcamConfig.resizeHeight)}},{key:"cropAndResizeFrame",value:function(e){var t=this;return(0,l.lub)((function(){var n,r=(0,l.dt4)((0,l.pju)(e,"float32"),0),a=(n=l.BHj.cropAndResize(r,t.cropBox,t.cropBoxInd,t.cropSize,"bilinear")).shape;return(0,l.XLQ)(n,a.slice(1))}))}},{key:"capture",value:function(){var e=(0,$i.Z)(es().mark((function e(){return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.next();case 2:return e.abrupt("return",e.sent.value);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"stop",value:function(){this.stream.getTracks().forEach((function(e){return e.stop()}));try{this.webcamVideoElement.srcObject=null}catch(e){console.log(e),this.webcamVideoElement.src=null}this.isClosed=!0}},{key:"toArray",value:function(){throw new Error("Can not convert infinite video stream to array.")}}],[{key:"create",value:function(){var e=(0,$i.Z)(es().mark((function e(t){var r,a,o=arguments;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=o.length>1&&void 0!==o[1]?o[1]:{},(0,l.OBj)().get("IS_BROWSER")){e.next=3;break}throw new Error("tf.data.webcam is only supported in browser environment.");case 3:if(t){e.next=9;break}if(t=document.createElement("video"),r.resizeWidth&&r.resizeHeight){e.next=7;break}throw new Error("Please provide webcam video element, or resizeWidth and resizeHeight to create a hidden video element.");case 7:t.width=r.resizeWidth,t.height=r.resizeHeight;case 9:return a=new n(t,r),e.next=12,a.start();case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),n}(nd),Pd=(0,oa.Z)((function e(){(0,aa.Z)(this,e)})),Md=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(){return(0,aa.Z)(this,n),t.apply(this,arguments)}return(0,oa.Z)(n,[{key:"split",value:function(e){return new Fd(this,e)}}]),n}(nd),Fd=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e,r){var a;return(0,aa.Z)(this,n),(a=t.call(this)).upstream=e,a.impl=new Ld(e,r),a}return(0,oa.Z)(n,[{key:"summary",value:function(){return this.impl.summary()}},{key:"next",value:function(){var e=(0,$i.Z)(es().mark((function e(){return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.impl.next());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Md),Ld=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e,r){var a;return(0,aa.Z)(this,n),(a=t.call(this)).upstream=e,a.separator=r,a.carryover="",a}return(0,oa.Z)(n,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Split('").concat(this.separator,"')")}},{key:"pump",value:function(){var e=(0,$i.Z)(es().mark((function e(){var t,n,r,a,o;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.upstream.next();case 2:if(!(t=e.sent).done){e.next=9;break}if(""!==this.carryover){e.next=6;break}return e.abrupt("return",!1);case 6:return this.outputQueue.push(this.carryover),this.carryover="",e.abrupt("return",!0);case 9:(n=t.value.split(this.separator))[0]=this.carryover+n[0],r=(0,ra.Z)(n.slice(0,-1));try{for(r.s();!(a=r.n()).done;)o=a.value,this.outputQueue.push(o)}catch(i){r.e(i)}finally{r.f()}return this.carryover=n[n.length-1],e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(dd),jd=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(){return(0,aa.Z)(this,n),t.apply(this,arguments)}return(0,oa.Z)(n,[{key:"decodeUTF8",value:function(){return new Zd(this)}}]),n}(nd),Zd=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r;return(0,aa.Z)(this,n),(r=t.call(this)).upstream=e,r.impl=new zd(e),r}return(0,oa.Z)(n,[{key:"summary",value:function(){return this.impl.summary()}},{key:"next",value:function(){var e=(0,$i.Z)(es().mark((function e(){return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.impl.next());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Md),zd=function(e){(0,sa.Z)(r,e);var t=(0,ua.Z)(r);function r(e){var a;if((0,aa.Z)(this,r),(a=t.call(this)).upstream=e,(0,l.OBj)().get("IS_BROWSER"))a.decoder=new TextDecoder("utf-8");else{var o=n(1601).StringDecoder;a.decoder=new o("utf8")}return a}return(0,oa.Z)(r,[{key:"summary",value:function(){return"".concat(this.upstream.summary()," -> Utf8")}},{key:"pump",value:function(){var e=(0,$i.Z)(es().mark((function e(){var t,n,r;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.upstream.next();case 2:if(!(t=e.sent).done){e.next=7;break}return e.abrupt("return",!1);case 7:n=t.value;case 8:return r=(0,l.OBj)().get("IS_BROWSER")?this.decoder.decode(n,{stream:!0}):this.decoder.write(Buffer.from(n.buffer)),this.outputQueue.push(r),e.abrupt("return",!0);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),r}(dd),Bd=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,aa.Z)(this,n),(r=t.call(this)).file=e,r.options=a,l.D5U.assert(e instanceof Uint8Array||!!(0,l.OBj)().get("IS_BROWSER")&&(e instanceof File||e instanceof Blob),(function(){return"FileChunkIterator only supports File, Blob and Uint8Array right now."})),r.offset=a.offset||0,r.chunkSize=a.chunkSize||1048576,r}return(0,oa.Z)(n,[{key:"summary",value:function(){return"FileChunks ".concat(this.file)}},{key:"next",value:function(){var e=(0,$i.Z)(es().mark((function e(){var t,n=this;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.offset>=(this.file instanceof Uint8Array?this.file.byteLength:this.file.size))){e.next=2;break}return e.abrupt("return",{value:null,done:!0});case 2:return t=new Promise((function(e,t){var r=n.offset+n.chunkSize;if(n.file instanceof Uint8Array)e(new Uint8Array(n.file.slice(n.offset,r)));else{var a=new FileReader;a.onload=function(n){var r=a.result;if(r instanceof ArrayBuffer&&(r=new Uint8Array(r)),!(r instanceof Uint8Array))return t(new TypeError("FileReader returned unknown type."));e(r)},a.onabort=function(e){return t(new Error("Aborted"))},a.onerror=function(e){return t(new Error(e.type))};var o=n.file.slice(n.offset,r);a.readAsArrayBuffer(o)}n.offset=r})),e.next=5,t;case 5:return e.t0=e.sent,e.abrupt("return",{value:e.t0,done:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(jd);function Ud(e){return Wd.apply(this,arguments)}function Wd(){return Wd=(0,$i.Z)(es().mark((function e(t){var n,r,a,o,i,s,u=arguments;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:{},r=u.length>2?u[2]:void 0,"string"===typeof t?a=t:(a=t.url,o=Vd(t)),e.next=5,(r||l.D5U.fetch)(a,o);case 5:if(!(i=e.sent).ok){e.next=15;break}return e.t0=Uint8Array,e.next=10,i.arrayBuffer();case 10:return e.t1=e.sent,s=new e.t0(e.t1),e.abrupt("return",new Bd(s,n));case 15:throw new Error(i.statusText);case 16:case"end":return e.stop()}}),e)}))),Wd.apply(this,arguments)}var Vd=function(e){return{method:e.method,headers:e.headers,body:e.body,mode:e.mode,credentials:e.credentials,cache:e.cache,redirect:e.redirect,referrer:e.referrer,integrity:e.integrity}};function Hd(e){return"string"===typeof e&&"file://"===e.slice(0,7)}var Gd=function(e){(0,sa.Z)(r,e);var t=(0,ua.Z)(r);function r(e){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,aa.Z)(this,r),(n=t.call(this)).input=e,n.options=a,n}return(0,oa.Z)(r,[{key:"iterator",value:function(){var e=(0,$i.Z)(es().mark((function e(){var t;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Hd(this.input)&&(0,l.OBj)().get("IS_NODE")&&(t=n(7792),this.input=t.readFileSync(this.input.slice(7))),e.abrupt("return",new Bd(this.input,this.options));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),r}(Pd),qd=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,aa.Z)(this,n),(r=t.call(this)).url=e,r.fileOptions=a,r}return(0,oa.Z)(n,[{key:"iterator",value:function(){var e=(0,$i.Z)(es().mark((function e(){return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Hd(this.url)){e.next=4;break}return e.abrupt("return",new Gd(this.url,this.fileOptions).iterator());case 4:return e.abrupt("return",Ud(this.url,this.fileOptions));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Pd);function Xd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Dd(new qd(e),t)}function Kd(e){var t=$p(e);return xd((0,$i.Z)(es().mark((function e(){return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)}))))}function Yd(e){return xd((0,$i.Z)(es().mark((function t(){var n;return es().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:return n=t.sent,t.abrupt("return",$p((function(){return n.next()})));case 4:case"end":return t.stop()}}),t)}))))}function Qd(e,t){return $d.apply(this,arguments)}function $d(){return($d=(0,$i.Z)(es().mark((function e(t,n){return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rd.create(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jd(e){return eh.apply(this,arguments)}function eh(){return(eh=(0,$i.Z)(es().mark((function e(t){return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ad.create(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var th="3.17.0";function nh(e,t){Array.isArray(e)||(e=[e]),e.forEach((function(e){null!=e&&l.D5U.assert("complex64"!==e.dtype,(function(){return"".concat(t," does not support complex64 tensors in the CPU backend.")}))}))}var rh=l.GDt.whereImpl,ah=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(){var e;return(0,aa.Z)(this,n),(e=t.call(this)).blockSize=48,e.firstUse=!0,e.data=new l.JLz((0,ia.Z)(e),(0,l.SRH)()),e}return(0,oa.Z)(n,[{key:"nextDataId",value:function(){return n.nextDataId++}},{key:"write",value:function(e,t,n){this.firstUse&&(this.firstUse=!1,(0,l.OBj)().get("IS_NODE")&&l.Wap.warn("\n============================\nHi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. \n============================"));var r={id:this.nextDataId()};return this.data.set(r,{values:e,dtype:n,refCount:1}),r}},{key:"makeTensorInfo",value:function(e,t,n){var r;if("string"===t&&null!=n&&n.length>0&&l.D5U.isString(n[0])){var a=n.map((function(e){return l.D5U.encodeString(e)}));r=this.write(a,e,t)}else r=this.write(n,e,t);return{dataId:r,shape:e,dtype:t}}},{key:"refCount",value:function(e){return this.data.has(e)?this.data.get(e).refCount:0}},{key:"incRef",value:function(e){this.data.get(e).refCount++}},{key:"decRef",value:function(e){this.data.has(e)&&this.data.get(e).refCount--}},{key:"move",value:function(e,t,n,r,a){this.data.set(e,{values:t,dtype:r,refCount:a})}},{key:"numDataIds",value:function(){return this.data.numDataIds()}},{key:"read",value:function(){var e=(0,$i.Z)(es().mark((function e(t){return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.readSync(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readSync",value:function(e){var t=this.data.get(e),n=t.dtype,r=t.complexTensorInfos;if("complex64"===n){var a=this.readSync(r.real.dataId),o=this.readSync(r.imag.dataId);return l.Wap.mergeRealAndImagArrays(a,o)}return this.data.get(e).values}},{key:"bufferSync",value:function(e){var t=this.readSync(e.dataId);if("string"===e.dtype)try{var n=t.map((function(e){return l.D5U.decodeString(e)}));return(0,l.f3b)(e.shape,e.dtype,n)}catch(r){throw new Error("Failed to decode encoded string bytes into utf-8")}return(0,l.f3b)(e.shape,e.dtype,t)}},{key:"makeOutput",value:function(e,t,n){return(0,l.SRH)().makeTensorFromTensorInfo(this.makeTensorInfo(t,n,e),this)}},{key:"disposeData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.data.has(e)){if(this.data.get(e).refCount--,!t&&this.data.get(e).refCount>0)return!1;var n=this.data.get(e),r=n.complexTensorInfos;null!=r&&(this.disposeData(r.real.dataId,!0),this.disposeData(r.imag.dataId,!0)),this.data.delete(e)}return!0}},{key:"disposeIntermediateTensorInfo",value:function(e){this.disposeData(e.dataId)}},{key:"time",value:function(){var e=(0,$i.Z)(es().mark((function e(t){var n,r;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.D5U.now(),t(),r=l.D5U.now()-n,e.abrupt("return",{kernelMs:r});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"memory",value:function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}},{key:"where",value:function(e){nh([e],"where");var t=this.readSync(e.dataId);return rh(e.shape,t)}},{key:"dispose",value:function(){}},{key:"floatPrecision",value:function(){return 32}},{key:"epsilon",value:function(){return(0,ps.Z)((0,ca.Z)(n.prototype),"epsilon",this).call(this)}}]),n}(l.Zuw);ah.nextDataId=0;function oh(e,t,n){return function(r){var a=r.inputs,o=r.attrs,i=r.backend,s=a.x;if(nh(s,e),"string"===s.dtype||"string"===n)throw new Error("unaryKernelFunc does not support string input/output");for(var u=i,c=u.data.get(s.dataId).values,f=l.D5U.sizeFromShape(s.shape),p=n||s.dtype,d=l.D5U.getArrayFromDType(p,f),h=0;h<f;++h)d[h]=t(c[h],o);return u.makeTensorInfo(s.shape,p,d)}}function ih(e,t,n){return function(r){var a=r.inputs,o=r.attrs,i=r.backend,s=a.x;if(nh(s,e),"string"===s.dtype||"string"===n)throw new Error("unaryKernelFunc does not support string input/output");var u=i,c=u.data.get(s.dataId).values,l=n||s.dtype,f=t(c,l,o);return u.makeTensorInfo(s.shape,l,f)}}(0,l.jqO)("cpu",(function(){return new ah}),1);var sh=oh(l.SX0,(function(e){return e>=0?e:Math.exp(e)-1})),uh={kernelName:l.SX0,backendName:"cpu",kernelFunc:sh};function ch(e){var t=e.inputs,n=e.backend,r=t.x;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}var lh={kernelName:l.iJz,backendName:"cpu",kernelFunc:ch};function fh(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.alpha;nh([a],"leakyRelu");for(var i=l.D5U.sizeFromShape(a.shape),s=n.data.get(a.dataId).values,u=l.D5U.getTypedArrayFromDType("float32",i),c=0;c<s.length;c++)u[c]=s[c]<0?o*s[c]:s[c];return n.makeTensorInfo(a.shape,"float32",u)}var ph={kernelName:l.J$2,backendName:"cpu",kernelFunc:fh};function dh(e){return function(t,n,r,a,o){var i=l.Wap.assertAndGetBroadcastShape(t,n),s=i.length,u=l.D5U.computeStrides(i),c=l.D5U.sizeFromShape(i),f=l.D5U.getTypedArrayFromDType(o,c),p=t.length,d=n.length,h=l.D5U.computeStrides(t),v=l.D5U.computeStrides(n),m=l.Wap.getBroadcastDims(t,i),g=l.Wap.getBroadcastDims(n,i);if(m.length+g.length===0)for(var y=0;y<f.length;++y)f[y]=e(r[y%r.length],a[y%a.length]);else for(var b=function(t){var n=l.D5U.indexToLoc(t,s,u),o=n.slice(-p);m.forEach((function(e){return o[e]=0}));var i=l.D5U.locToIndex(o,p,h),c=n.slice(-d);g.forEach((function(e){return c[e]=0}));var y=l.D5U.locToIndex(c,d,v);f[t]=e(r[i],a[y])},x=0;x<f.length;++x)b(x);return[f,i]}}var hh=dh((function(e,t){return e<0?t*e:e}));function vh(e){var t=e.inputs,n=e.backend,r=t.x,a=t.alpha;nh([r,a],"prelu");var o=n.data.get(r.dataId).values,i=n.data.get(a.dataId).values,s=hh(r.shape,a.shape,o,i,"float32"),u=(0,f.Z)(s,2),c=u[0],l=u[1];return n.makeTensorInfo(l,"float32",c)}var mh={kernelName:l.o0g,backendName:"cpu",kernelFunc:vh},gh=oh(l.qkr,(function(e){return Math.max(0,e)})),yh={kernelName:l.qkr,backendName:"cpu",kernelFunc:gh},bh=oh(l.SbG,(function(e){return Math.min(Math.max(0,e),6)})),xh={kernelName:l.SbG,backendName:"cpu",kernelFunc:bh};function wh(e){return function(t,n,r){for(var a=l.D5U.getTypedArrayFromDType(n,t.length),o=0;o<t.length;++o)a[o]=e(t[o],r);return a}}var kh=wh((function(e){return 1/(1+Math.exp(-e))})),Sh=oh(l.a5O,(function(e){return 1/(1+Math.exp(-e))})),Eh={kernelName:l.a5O,backendName:"cpu",kernelFunc:Sh};function Ch(e,t,n,r,a){if("linear"===n)return ch({inputs:{x:t},backend:e});if("relu"===n)return gh({inputs:{x:t},backend:e});if("elu"===n)return sh({inputs:{x:t},backend:e});if("relu6"===n)return bh({inputs:{x:t},backend:e});if("prelu"===n)return vh({inputs:{x:t,alpha:r},backend:e});if("leakyrelu"===n)return fh({inputs:{x:t},backend:e,attrs:{alpha:a}});if("sigmoid"===n)return Sh({inputs:{x:t},backend:e});throw new Error("Activation ".concat(n," has not been implemented for the CPU backend."))}function Nh(e){var t=e.inputs,n=e.backend,r=t.real,a=t.imag,o=n.data.get(r.dataId).values,i=n.data.get(a.dataId).values,s=n.makeTensorInfo(r.shape,"complex64");return n.data.get(s.dataId).complexTensorInfos={real:n.makeTensorInfo(r.shape,"float32",o),imag:n.makeTensorInfo(a.shape,"float32",i)},s}var Th={kernelName:l.Zz9,backendName:"cpu",kernelFunc:Nh};function Ih(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"float32";if("complex64"===n){var r=Ih(e,t,"float32"),a=Ih(e,t,"float32");return Nh({inputs:{real:r,imag:a},backend:e})}var o=l.D5U.makeZerosTypedArray(l.D5U.sizeFromShape(t),n);return e.makeTensorInfo(t,n,o)}function Oh(e){var t=e.inputs,n=e.backend,r=t.input,a=n.data.get(r.dataId).complexTensorInfos.real,o=n.data.get(a.dataId).values;return n.makeTensorInfo(a.shape,a.dtype,o)}var _h={kernelName:l.xJR,backendName:"cpu",kernelFunc:Oh};function Dh(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.dtype;if("complex64"===o){if("complex64"===a.dtype)return ch({inputs:{x:a},backend:n});var i=Ih(n,a.shape,a.dtype),s=Dh({inputs:{x:a},backend:n,attrs:{dtype:"float32"}}),u=Nh({inputs:{real:s,imag:i},backend:n});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(s),u}if("complex64"===a.dtype){var c=Oh({inputs:{input:a},backend:n}),p=Dh({inputs:{x:c},backend:n,attrs:{dtype:o}});return n.disposeIntermediateTensorInfo(c),p}if(!l.D5U.hasEncodingLoss(a.dtype,o)){var d=ch({inputs:{x:a},backend:n});return{dataId:d.dataId,shape:d.shape,dtype:o}}if("int32"===o){var h=n.data.get(a.dataId).values,v=Int32Array.from(h);return n.makeTensorInfo(a.shape,"int32",v)}if("bool"===o){var m=n.data.get(a.dataId).values,g=l.D5U.toTypedArray([0],a.dtype),y=dh((function(e,t){return e!==t?1:0}))(a.shape,[],m,g,"bool"),b=(0,f.Z)(y,2),x=b[0],w=b[1];return n.makeTensorInfo(w,"bool",x)}throw new Error("Error in Cast: failed to cast ".concat(a.dtype," to ").concat(o))}var Ah={kernelName:l.RFZ,backendName:"cpu",kernelFunc:Dh};function Rh(e,t,n,r){return null==n?function(n){var a=n.inputs,o=n.backend,i=a.a,s=a.b,u=o;nh([i,s],e);var c=u.data.get(i.dataId).values,p=u.data.get(s.dataId).values,d="string"===i.dtype?l.Wap.fromUint8ToStringArray(c):c,h="string"===i.dtype?l.Wap.fromUint8ToStringArray(p):p,v=r||i.dtype,m=t(i.shape,s.shape,d,h,v),g=(0,f.Z)(m,2),y=g[0],b=g[1];return u.makeTensorInfo(b,v,y)}:function(e){var a=e.inputs,o=e.backend,i=a.a,s=a.b,u=o;if("complex64"===i.dtype||"complex64"===s.dtype){var c=Dh({inputs:{x:i},backend:u,attrs:{dtype:"complex64"}}),l=u.data.get(c.dataId),p=l.complexTensorInfos.real,d=l.complexTensorInfos.imag,h=u.data.get(p.dataId).values,v=u.data.get(d.dataId).values,m=Dh({inputs:{x:s},backend:u,attrs:{dtype:"complex64"}}),g=u.data.get(m.dataId),y=g.complexTensorInfos.real,b=g.complexTensorInfos.imag,x=u.data.get(y.dataId).values,w=u.data.get(b.dataId).values,k=n(i.shape,s.shape,h,v,x,w),S=(0,f.Z)(k,3),E=S[0],C=S[1],N=S[2],T=u.makeTensorInfo(N,"float32",E),I=u.makeTensorInfo(N,"float32",C),O=Nh({inputs:{real:T,imag:I},backend:u});return u.disposeIntermediateTensorInfo(c),u.disposeIntermediateTensorInfo(m),u.disposeIntermediateTensorInfo(T),u.disposeIntermediateTensorInfo(I),O}var _=u.data.get(i.dataId).values,D=u.data.get(s.dataId).values,A=r||i.dtype,R=t(i.shape,s.shape,_,D,A),P=(0,f.Z)(R,2),M=P[0],F=P[1];return u.makeTensorInfo(F,A,M)}}function Ph(e){return function(t,n,r,a,o,i){var s=l.Wap.assertAndGetBroadcastShape(t,n),u=l.D5U.sizeFromShape(s),c=s.length,f=l.D5U.computeStrides(s),p=l.D5U.getTypedArrayFromDType("float32",u),d=l.D5U.getTypedArrayFromDType("float32",u),h=l.Wap.getBroadcastDims(t,s),v=l.Wap.getBroadcastDims(n,s),m=l.Wap.mergeRealAndImagArrays(r,a),g=l.Wap.mergeRealAndImagArrays(o,i),y=t.length,b=l.D5U.computeStrides(t),x=n.length,w=l.D5U.computeStrides(n);if(h.length+v.length===0)for(var k=0;k<p.length;k++){var S=k%m.length,E=k%g.length,C=e(m[2*S],m[2*S+1],g[2*E],g[2*E+1]);p[k]=C.real,d[k]=C.imag}else for(var N=function(t){var n=l.D5U.indexToLoc(t,c,f),r=n.slice(-y);h.forEach((function(e){return r[e]=0}));var a=l.D5U.locToIndex(r,y,b),o=n.slice(-x);v.forEach((function(e){return o[e]=0}));var i=l.D5U.locToIndex(o,x,w),s=e(m[2*a],m[2*a+1],g[2*i],g[2*i+1]);p[t]=s.real,d[t]=s.imag},T=0;T<p.length;T++)N(T);return[p,d,s]}}var Mh=dh((function(e,t){return e+t})),Fh=Ph((function(e,t,n,r){return{real:e+n,imag:t+r}})),Lh=Rh(l.mm_,Mh,Fh),jh={kernelName:l.mm_,backendName:"cpu",kernelFunc:Lh};function Zh(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.shape,i=l.D5U.sizeFromShape(a.shape),s=l.D5U.inferFromImplicitShape(o,i),u=l.D5U.sizeFromShape(s);l.D5U.assert(i===u,(function(){return"The new shape (".concat(s,") has ").concat(u," elements and the old ")+"shape (".concat(a.shape,") has ").concat(i," elements. The new shape and old ")+"shape must have the same number of elements."})),n.incRef(a.dataId);var c=n.data.get(a.dataId);if(null!=c.complexTensorInfos){var f=c.complexTensorInfos.real,p=c.complexTensorInfos.imag;f.shape=s,p.shape=s}return{dataId:a.dataId,shape:s,dtype:a.dtype}}var zh={kernelName:l.HZH,backendName:"cpu",kernelFunc:Zh};function Bh(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.a,o=t.b,i=r.transposeA,s=r.transposeB;nh([a,o],"matMul");var u=a.shape.length,c=o.shape.length,p=i?a.shape[u-2]:a.shape[u-1],d=s?o.shape[c-1]:o.shape[c-2],h=i?a.shape[u-1]:a.shape[u-2],v=s?o.shape[c-2]:o.shape[c-1],m=a.shape.slice(0,-2),g=o.shape.slice(0,-2),y=l.D5U.sizeFromShape(m),b=l.D5U.sizeFromShape(g),x=l.Jyw.assertAndGetBroadcastShape(a.shape.slice(0,-2),o.shape.slice(0,-2)).concat([h,v]);l.D5U.assert(p===d,(function(){return"Error in matMul: inner shapes (".concat(p,") and (")+"".concat(d,") of Tensors with shapes ").concat(a.shape," and ")+"".concat(o.shape," and transposeA=").concat(i)+" and transposeB=".concat(s," must match.")}));for(var w=s?[b,v,d]:[b,d,v],k=Zh({inputs:{x:a},backend:n,attrs:{shape:i?[y,p,h]:[y,h,p]}}),S=Zh({inputs:{x:o},backend:n,attrs:{shape:w}}),E=i?k.shape[1]:k.shape[2],C=i?k.shape[2]:k.shape[1],N=s?S.shape[1]:S.shape[2],T=Math.max(y,b),I=n.data.get(k.dataId).values,O=n.data.get(S.dataId).values,_=l.D5U.computeStrides(k.shape),D=l.D5U.computeStrides(S.shape),A=i?[_[0],1,_[1]]:[_[0],_[1],1],R=(0,f.Z)(A,3),P=R[0],M=R[1],F=R[2],L=s?[1,D[1],D[0]]:[D[1],1,D[0]],j=(0,f.Z)(L,3),Z=j[0],z=j[1],B=j[2],U=C*N,W=(0,l.f3b)([T,C,N],k.dtype),V=W.values,H=n.blockSize,G=0;G<T;G++)for(var q=0;q<C;q+=H)for(var X=0;X<N;X+=H)for(var K=0;K<E;K+=H)for(var Y=Math.min(q+H,C),Q=Math.min(X+H,N),$=Math.min(K+H,E),J=q;J<Y;J++)for(var ee=X;ee<Q;ee++){for(var te=0,ne=K;ne<$;ne++){var re=Math.min(G,y-1)*P,ae=Math.min(G,b-1)*B;te+=I[re+J*M+ne*F]*O[ne*Z+ee*z+ae]}V[G*U+(J*N+ee)]+=te}return n.disposeIntermediateTensorInfo(k),n.disposeIntermediateTensorInfo(S),n.makeTensorInfo(x,W.dtype,W.values)}var Uh={kernelName:l.XLW,backendName:"cpu",kernelFunc:Bh};var Wh={kernelName:l.usg,backendName:"cpu",kernelFunc:function(e){var t,n,r,a=e.inputs,o=e.backend,i=e.attrs,s=a.a,u=a.b,c=a.bias,l=a.preluActivationWeights,f=i.transposeA,p=i.transposeB,d=i.activation,h=i.leakyreluAlpha,v=[];t=Bh({inputs:{a:s,b:u},attrs:{transposeA:f,transposeB:p},backend:o}),c&&(n=Lh({inputs:{a:t,b:c},backend:o}),v.push(t),t=n),d&&(r=Ch(o,t,d,l,h),v.push(t),t=r);for(var m=0,g=v;m<g.length;m++){var y=g[m];o.disposeIntermediateTensorInfo(y)}return t}};function Vh(e){for(var t=new Float32Array(e.length),n=0;n<e.length;++n)t[n]=Math.abs(e[n]);return t}var Hh={kernelName:l.SYM,backendName:"cpu",kernelFunc:function(e){var t=e.inputs.x,n=e.backend;nh(t,"abs");var r=new Float32Array(l.D5U.sizeFromShape(t.shape));return r=Vh(n.data.get(t.dataId).values),n.makeOutput(r,t.shape,t.dtype)}},Gh=oh(l.VGw,(function(e){return Math.acos(e)})),qh={kernelName:l.VGw,backendName:"cpu",kernelFunc:Gh},Xh=oh(l.SpW,(function(e){return Math.acosh(e)})),Kh={kernelName:l.SpW,backendName:"cpu",kernelFunc:Xh};var Yh={kernelName:l.Xze,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t;nh(t,"addN");for(var a=r.map((function(e){return n.data.get(e.dataId).values})),o=(0,l.f3b)(r[0].shape,r[0].dtype),i=o.values,s=0;s<r.length;s++)for(var u=a[s],c=0;c<i.length;c++)i[c]+=u[c];return n.makeTensorInfo(o.shape,o.dtype,o.values)}};function Qh(e,t,n,r,a){for(var o=t.length,i=l.D5U.sizeFromShape(t),s=l.D5U.computeStrides(t),u=l.D5U.computeStrides(a),c=l.D5U.getTypedArrayFromDType(n,l.D5U.sizeFromShape(a)),f=0;f<i;++f){for(var p=l.D5U.indexToLoc(f,o,s),d=new Array(p.length),h=0;h<d.length;h++)d[h]=p[r[h]];c[l.D5U.locToIndex(d,o,u)]=e[f]}return c}function $h(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,o=n.perm;nh(a,"transpose");for(var i=a.shape.length,s=new Array(i),u=0;u<s.length;u++)s[u]=a.shape[o[u]];var c=Qh(r.data.get(a.dataId).values,a.shape,a.dtype,o,s);return{dataId:r.write(c,s,a.dtype),shape:s,dtype:a.dtype}}var Jh={kernelName:l.G3Y,backendName:"cpu",kernelFunc:$h};var ev={kernelName:l.oT6,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,i=r.keepDims;nh(a,"all");var s=l.D5U.parseAxisParam(o,a.shape),u=s,c=l.Wap.getAxesPermutation(u,a.shape.length),p=a;null!=c&&(p=$h({inputs:{x:a},backend:n,attrs:{perm:c}}),u=l.Wap.getInnerMostAxes(u.length,a.shape.length)),l.Wap.assertAxesAreInnerMostDims("all",u,p.shape.length);for(var d=l.Wap.computeOutAndReduceShapes(p.shape,u),h=(0,f.Z)(d,2),v=h[0],m=h[1],g=l.D5U.sizeFromShape(m),y=l.D5U.makeZerosTypedArray(l.D5U.sizeFromShape(v),p.dtype),b=n.data.get(p.dataId).values,x=0;x<y.length;++x){for(var w=x*g,k=b[w],S=0;S<g;++S){var E=b[w+S];k=k&&E}y[x]=k}null!=c&&n.disposeIntermediateTensorInfo(p);var C=n.makeTensorInfo(v,p.dtype,y);if(i){var N=Zh({inputs:{x:C},backend:n,attrs:{shape:l.Wap.expandShapeToKeepDim(v,s)}});return n.disposeIntermediateTensorInfo(C),N}return C}};var tv={kernelName:l.IKK,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,i=r.keepDims;nh(a,"any");var s=l.D5U.parseAxisParam(o,a.shape),u=s,c=l.Wap.getAxesPermutation(u,a.shape.length),p=a;null!=c&&(p=$h({inputs:{x:a},backend:n,attrs:{perm:c}}),u=l.Wap.getInnerMostAxes(u.length,a.shape.length)),l.Wap.assertAxesAreInnerMostDims("any",u,p.shape.length);for(var d=l.Wap.computeOutAndReduceShapes(p.shape,u),h=(0,f.Z)(d,2),v=h[0],m=h[1],g=l.D5U.sizeFromShape(m),y=l.D5U.makeZerosTypedArray(l.D5U.sizeFromShape(v),p.dtype),b=n.data.get(p.dataId).values,x=0;x<y.length;++x){for(var w=x*g,k=b[w],S=0;S<g;++S){var E=b[w+S];k=k||E}y[x]=k}null!=c&&n.disposeIntermediateTensorInfo(p);var C=n.makeTensorInfo(v,p.dtype,y);if(i){var N=Zh({inputs:{x:C},backend:n,attrs:{shape:l.Wap.expandShapeToKeepDim(v,s)}});return n.disposeIntermediateTensorInfo(C),N}return C}};var nv={kernelName:l.sJF,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis;nh(a,"argMax");var i=l.D5U.parseAxisParam(o,a.shape),s=l.Wap.getAxesPermutation(i,a.shape.length),u=a,c=[];null!=s&&(u=$h({inputs:{x:a},backend:n,attrs:{perm:s}}),c.push(u),i=l.Wap.getInnerMostAxes(i.length,u.shape.length)),i=[i[0]],l.Wap.assertAxesAreInnerMostDims("argMax",i,u.shape.length);for(var p=l.Wap.computeOutAndReduceShapes(u.shape,i),d=(0,f.Z)(p,2),h=d[0],v=d[1],m=l.D5U.sizeFromShape(h),g=l.D5U.makeZerosTypedArray(m,"int32"),y=l.D5U.sizeFromShape(v),b=n.data.get(u.dataId).values,x=0;x<g.length;++x){for(var w=x*y,k=b[w],S=0,E=0;E<y;++E){var C=b[w+E];C>k&&(k=C,S=E)}g[x]=S}return c.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.makeTensorInfo(h,"int32",g)}};var rv={kernelName:l.aJk,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis;nh(a,"argMin");var i=l.D5U.parseAxisParam(o,a.shape),s=l.Wap.getAxesPermutation(i,a.shape.length),u=a,c=[];null!=s&&(u=$h({inputs:{x:a},backend:n,attrs:{perm:s}}),c.push(u),i=l.Wap.getInnerMostAxes(i.length,u.shape.length)),i=[i[0]],l.Wap.assertAxesAreInnerMostDims("argMin",i,u.shape.length);for(var p=l.Wap.computeOutAndReduceShapes(u.shape,i),d=(0,f.Z)(p,2),h=d[0],v=d[1],m=l.D5U.sizeFromShape(h),g=l.D5U.makeZerosTypedArray(m,"int32"),y=l.D5U.sizeFromShape(v),b=n.data.get(u.dataId).values,x=0;x<g.length;++x){for(var w=x*y,k=b[w],S=0,E=0;E<y;++E){var C=b[w+E];C<k&&(k=C,S=E)}g[x]=S}return c.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.makeTensorInfo(h,"int32",g)}},av=oh(l.M2y,(function(e){return Math.asin(e)})),ov={kernelName:l.M2y,backendName:"cpu",kernelFunc:av},iv=oh(l.qw7,(function(e){return Math.asinh(e)})),sv={kernelName:l.qw7,backendName:"cpu",kernelFunc:iv},uv=oh(l.jMg,(function(e){return Math.atan(e)})),cv={kernelName:l.jMg,backendName:"cpu",kernelFunc:uv},lv=dh((function(e,t){return Math.atan2(e,t)})),fv=Rh(l.QCc,lv),pv={kernelName:l.QCc,backendName:"cpu",kernelFunc:fv},dv=oh(l.Oyi,(function(e){return Math.atanh(e)})),hv={kernelName:l.Oyi,backendName:"cpu",kernelFunc:dv};function vv(e,t,n,r,a,o){for(var i=a.strideHeight,s=a.strideWidth,u=a.dilationHeight,c=a.dilationWidth,f=a.effectiveFilterHeight,p=a.effectiveFilterWidth,d=a.padInfo.top,h=a.padInfo.left,v="max"===o?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,m=(0,l.f3b)(a.outShape,n),g=m.values,y=a.outShape[1]*a.outShape[2]*a.outShape[3],b=a.outShape[2]*a.outShape[3],x=a.outShape[3],w=0;w<a.batchSize;++w)for(var k=w*y,S=w*r[0],E=0;E<a.inChannels;++E)for(var C=0;C<a.outHeight;++C)for(var N=C*i-d,T=Math.max(0,N),I=Math.min(a.inHeight,f+N),O=k+C*b,_=0;_<a.outWidth;++_){for(var D=_*s-h,A=Math.max(0,D),R=Math.min(a.inWidth,p+D),P=v,M=0,F=0,L=T;L<I;L+=u){for(var j=S+L*r[1],Z=A;Z<R;Z+=c){var z=e[j+Z*r[2]+E];"max"===o&&z>P?P=z:"avg"===o&&(M+=z,F++)}if(isNaN(P))break}g[O+_*x+E]="avg"===o?M/F:P}return m}function mv(e,t,n,r){for(var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],i=(0,l.f3b)(r.outShape,"int32"),s=r.strideHeight,u=r.strideWidth,c=r.dilationHeight,f=r.dilationWidth,p=r.effectiveFilterHeight,d=r.effectiveFilterWidth,h=r.padInfo.top,v=r.padInfo.left,m=(0,l.f3b)(t,n,e),g=0;g<r.batchSize;++g)for(var y=0;y<r.inChannels;++y)for(var b=0;b<r.outHeight;++b){for(var x=b*s-h,w=x;w<0;)w+=c;for(var k=Math.min(r.inHeight,p+x),S=0;S<r.outWidth;++S){for(var E=S*u-v,C=E;C<0;)C+=f;for(var N=Math.min(r.inWidth,d+E),T=Number.NEGATIVE_INFINITY,I=-1,O=w;O<k;O+=c)for(var _=O-x,D=C;D<N;D+=f){var A=D-E,R=m.get(g,O,D,y);R>T&&(T=R,I=a?o?((g*r.inHeight+O)*r.inWidth+D)*r.inChannels+y:(O*r.inWidth+D)*r.inChannels+y:_*d+A)}i.set(I,g,b,S,y)}}return i}function gv(e,t,n,r,a,o){for(var i=a.strideDepth,s=a.strideHeight,u=a.strideWidth,c=a.dilationDepth,f=a.dilationHeight,p=a.dilationWidth,d=a.effectiveFilterDepth,h=a.effectiveFilterHeight,v=a.effectiveFilterWidth,m=a.padInfo.front,g=a.padInfo.top,y=a.padInfo.left,b="max"===o?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,x=(0,l.f3b)(a.outShape,n),w=x.values,k=a.outShape[1]*a.outShape[2]*a.outShape[3]*a.outShape[4],S=a.outShape[2]*a.outShape[3]*a.outShape[4],E=a.outShape[3]*a.outShape[4],C=a.outShape[4],N=0;N<a.batchSize;++N)for(var T=N*k,I=N*r[0],O=0;O<a.inChannels;++O)for(var _=0;_<a.outDepth;++_){for(var D=_*i-m,A=D;A<0;)A+=c;for(var R=Math.min(a.inDepth,d+D),P=T+_*S,M=0;M<a.outHeight;++M){for(var F=M*s-g,L=F;L<0;)L+=f;for(var j=Math.min(a.inHeight,h+F),Z=P+M*E,z=0;z<a.outWidth;++z){for(var B=z*u-y,U=B;U<0;)U+=p;for(var W=Math.min(a.inWidth,v+B),V=Z+z*C,H=b,G=0,q=0,X=A;X<R;X+=c){for(var K=I+X*r[1],Y=L;Y<j;Y+=f){for(var Q=K+Y*r[2],$=U;$<W;$+=p){var J=e[Q+$*r[3]+O];if("max"===o&&J>H?H=J:"avg"===o&&(G+=J,q++),isNaN(H))break}if(isNaN(H))break}if(isNaN(H))break}w[V+O]="avg"===o?G/q:H}}}return x}var yv={kernelName:l.JhU,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x;nh(a,"avgPool");var o=r.filterSize,i=r.strides,s=r.pad,u=r.dimRoundingMode;l.D5U.assert(l.Wap.eitherStridesOrDilationsAreOne(i,1),(function(){return"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(i," and dilations '").concat(1,"'")}));var c,f=l.Wap.computePool2DInfo(a.shape,o,i,1,s,u);if(1===f.filterWidth&&1===f.filterHeight&&l.D5U.arraysEqual(f.inShape,f.outShape))c=ch({inputs:{x:a},backend:n});else{var p=n.data.get(a.dataId).values,d=l.D5U.computeStrides(a.shape),h=vv(p,a.shape,a.dtype,d,f,"avg");c=n.makeTensorInfo(f.outShape,a.dtype,h.values)}return c}};var bv={kernelName:l._k9,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.filterSize,i=r.strides,s=r.pad,u=r.dimRoundingMode,c=r.dataFormat;nh(a,"avgPool3d");var f=l.Wap.computePool3DInfo(a.shape,o,i,1,s,u,c),p=gv(n.data.get(a.dataId).values,a.shape,a.dtype,l.D5U.computeStrides(a.shape),f,"avg");return n.makeTensorInfo(p.shape,"float32",p.values)}};var xv={kernelName:l.IMb,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.input,i=r.filterSize,s=r.strides,u=r.pad,c=r.dimRoundingMode;nh([a,o],"avgPool3DGrad");for(var f=l.Wap.computePool3DInfo(o.shape,i,s,1,u,c),p=f.strideDepth,d=f.strideHeight,h=f.strideWidth,v=f.filterDepth,m=f.filterHeight,g=f.filterWidth,y=f.dilationDepth,b=f.dilationHeight,x=f.dilationWidth,w=f.effectiveFilterDepth,k=f.effectiveFilterHeight,S=f.effectiveFilterWidth,E=w-1-f.padInfo.front,C=S-1-f.padInfo.left,N=k-1-f.padInfo.top,T=(0,l.f3b)(o.shape,"float32"),I=1/(v*m*g),O=n.bufferSync(a),_=0;_<f.batchSize;++_)for(var D=0;D<f.inChannels;++D)for(var A=0;A<f.inDepth;++A)for(var R=0;R<f.inHeight;++R)for(var P=0;P<f.inWidth;++P){for(var M=A-E,F=R-N,L=P-C,j=0,Z=0;Z<w;Z+=y){var z=(M+Z)/p;if(!(z<0||z>=f.outDepth||Math.floor(z)!==z))for(var B=0;B<k;B+=b){var U=(F+B)/d;if(!(U<0||U>=f.outHeight||Math.floor(U)!==U))for(var W=0;W<S;W+=x){var V=(L+W)/h;if(!(V<0||V>=f.outWidth||Math.floor(V)!==V))j+=O.get(_,z,U,V,D)}}}T.set(j*I,_,A,R,P,D)}return n.makeTensorInfo(T.shape,T.dtype,T.values)}};var wv={kernelName:l.ROF,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.input,i=o;nh([a,o],"avgPoolGrad");for(var s=r.filterSize,u=r.strides,c=r.pad,f=l.Wap.computePool2DInfo(i.shape,s,u,1,c),p=f.strideHeight,d=f.strideWidth,h=f.filterHeight,v=f.filterWidth,m=f.dilationHeight,g=f.dilationWidth,y=f.effectiveFilterHeight,b=f.effectiveFilterWidth,x=b-1-f.padInfo.left,w=y-1-f.padInfo.top,k=(0,l.f3b)(i.shape,"float32"),S=1/(h*v),E=n.data.get(a.dataId).values,C=(0,l.f3b)(a.shape,"float32",E),N=0;N<f.batchSize;++N)for(var T=0;T<f.inChannels;++T)for(var I=0;I<f.inHeight;++I)for(var O=0;O<f.inWidth;++O){for(var _=I-w,D=O-x,A=0,R=0;R<y;R+=m){var P=(_+R)/p;if(!(P<0||P>=f.outHeight||Math.floor(P)!==P))for(var M=0;M<b;M+=g){var F=(D+M)/d;if(!(F<0||F>=f.outWidth||Math.floor(F)!==F))A+=C.get(N,P,F,T)}}k.set(A*S,N,I,O,T)}return n.makeTensorInfo(k.shape,k.dtype,k.values)}};var kv={kernelName:l.sHE,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.scale,i=t.offset,s=t.mean,u=t.variance;l.D5U.assert(s.shape.length===u.shape.length,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),l.D5U.assert(null==i||s.shape.length===i.shape.length,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),l.D5U.assert(null==o||s.shape.length===o.shape.length,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."})),nh([a,s,u,o,i],"batchNorm");var c=r.varianceEpsilon;null==c&&(c=.001);for(var f=n.data.get(a.dataId).values,p=n.data.get(s.dataId).values,d=n.data.get(u.dataId).values,h=o?n.data.get(o.dataId).values:new Float32Array([1]),v=i?n.data.get(i.dataId).values:new Float32Array([0]),m=new Float32Array(f.length),g=v.length,y=h.length,b=d.length,x=p.length,w=0,k=0,S=0,E=0,C=0;C<f.length;++C)m[C]=v[w++]+(f[C]-p[k++])*h[S++]/Math.sqrt(d[E++]+c),w>=g&&(w=0),k>=x&&(k=0),S>=y&&(S=0),E>=b&&(E=0);return n.makeTensorInfo(a.shape,a.dtype,m)}};function Sv(e,t,n,r,a){var o=l.kuN.isSliceContinous(r,t,n),i=l.D5U.sizeFromShape(n),s=l.D5U.computeStrides(r);if(o){var u=l.kuN.computeFlatOffset(t,s);return"string"===a?e.slice(u,u+i):e.subarray(u,u+i)}for(var c="string"===a?l.Wap.fromUint8ToStringArray(e):e,f=(0,l.f3b)(r,a,c),p=(0,l.f3b)(n,a),d=0;d<p.size;++d){var h=p.indexToLoc(d),v=h.map((function(e,n){return e+t[n]}));p.set.apply(p,[f.get.apply(f,(0,Qn.Z)(v))].concat((0,Qn.Z)(h)))}return"string"===a?l.Wap.fromStringArrayToUint8(p.values):p.values}function Ev(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.begin,i=r.size;nh(a,"slice");var s=l.kuN.parseSliceParams(a,o,i),u=(0,f.Z)(s,2),c=u[0],p=u[1];l.kuN.assertParamsValid(a,c,p);var d=Sv(n.data.get(a.dataId).values,c,p,a.shape,a.dtype);return n.makeTensorInfo(p,a.dtype,d)}var Cv={kernelName:l.p2w,backendName:"cpu",kernelFunc:Ev};var Nv={kernelName:l.zws,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.blockShape,i=r.crops;nh([a],"batchToSpaceND");var s=o.reduce((function(e,t){return e*t})),u=l.Wap.getReshaped(a.shape,o,s),c=l.Wap.getPermuted(u.length,o.length),f=l.Wap.getReshapedPermuted(a.shape,o,s),p=l.Wap.getSliceBeginCoords(i,o.length),d=l.Wap.getSliceSize(f,i,o.length),h=Zh({inputs:{x:a},backend:n,attrs:{shape:u}}),v=$h({inputs:{x:h},backend:n,attrs:{perm:c}}),m=Zh({inputs:{x:v},backend:n,attrs:{shape:f}}),g=Ev({inputs:{x:m},backend:n,attrs:{begin:p,size:d}});return n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(m),g}};function Tv(e,t,n,r,a){for(var o=l.D5U.sizeFromShape(r),i=l.D5U.makeZerosTypedArray(a,n),s=0;s<e.length;s++){var u=e[s];if(u<0)throw new Error("Input x must be non-negative!");u>=a||(i[u]+=o>0?t[s]:1)}return i}function Iv(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e.shape[0],o=e.shape[1],i=(0,l.f3b)([a,n],t.dtype),s=0;s<a;s++)for(var u=0;u<o;u++){var c=e.get(s,u);if(c<0)throw new Error("Input x must be non-negative!");c>=n||(r?i.set(1,s,c):t.size>0?i.set(i.get(s,c)+t.get(s,u),s,c):i.set(i.get(s,c)+1,s,c))}return i}var Ov={kernelName:l.zvY,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.weights,i=r.size,s=Tv(n.data.get(a.dataId).values,n.data.get(o.dataId).values,o.dtype,o.shape,i);return n.makeTensorInfo([i],o.dtype,s)}};var _v={kernelName:l.eEB,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.s0,a=t.s1,o=n.data.get(r.dataId).values,i=n.data.get(a.dataId).values,s=l.Wap.assertAndGetBroadcastShape(Array.from(o),Array.from(i));return n.makeTensorInfo([s.length],"int32",Int32Array.from(s))}},Dv=wh((function(e){return Math.ceil(e)})),Av=ih(l.gJX,Dv),Rv={kernelName:l.gJX,backendName:"cpu",kernelFunc:Av},Pv=oh(l.xnO,(function(e,t){var n=t;return e>n.clipValueMax?n.clipValueMax:e<n.clipValueMin?n.clipValueMin:e})),Mv={kernelName:l.xnO,backendName:"cpu",kernelFunc:Pv},Fv={kernelName:l.yj2,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs.x,n=e.backend,r=new Float32Array(l.D5U.sizeFromShape(t.shape)),a=n.data.get(t.dataId),o=a.complexTensorInfos.real,i=a.complexTensorInfos.imag,s=n.data.get(o.dataId).values,u=n.data.get(i.dataId).values,c=0;c<s.length;c++){var f=s[c],p=u[c];r[c]=Math.hypot(f,p)}return n.makeOutput(r,t.shape,"float32")}};function Lv(e,t,n,r){var a=l.D5U.getArrayFromDType(n,l.D5U.sizeFromShape(t));if(r&&"string"!==n){var o=0;e.forEach((function(e){var t=l.D5U.sizeFromShape(e.shape);a.set(e.vals,o),o+=t}))}else{var i=0;e.forEach((function(e){for(var r="string"===n?l.Wap.fromUint8ToStringArray(e.vals):e.vals,o=0,s=0;s<e.shape[0];++s)for(var u=s*t[1]+i,c=0;c<e.shape[1];++c)a[u+c]=r[o++];i+=e.shape[1]}))}return a}function jv(e){var t=e.inputs,n=e.backend,r=t.input,a=n.data.get(r.dataId).complexTensorInfos.imag,o=n.data.get(a.dataId).values;return n.makeTensorInfo(a.shape,a.dtype,o)}var Zv={kernelName:l.J_u,backendName:"cpu",kernelFunc:jv};function zv(e){var t=e.inputs,n=e.backend,r=e.attrs.axis,a=l.D5U.parseAxisParam(r,t[0].shape)[0],o=l.Wap.computeOutShape(t.map((function(e){return e.shape})),a);if(0===l.D5U.sizeFromShape(o))return n.makeTensorInfo(o,t[0].dtype,[]);var i=t.filter((function(e){return l.D5U.sizeFromShape(e.shape)>0}));if(1===i.length)return ch({inputs:{x:i[0]},backend:n});var s=i.map((function(e){return e.shape}));if(l.Wap.assertParamsConsistent(s,a),"complex64"===i[0].dtype){var u=i.map((function(e){return Oh({inputs:{input:e},backend:n})})),c=i.map((function(e){return jv({inputs:{input:e},backend:n})})),f=zv({inputs:u,backend:n,attrs:{axis:a}}),p=zv({inputs:c,backend:n,attrs:{axis:a}}),d=Nh({inputs:{real:f,imag:p},backend:n});return u.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),c.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(p),d}var h=i.map((function(e){var t=l.D5U.sizeFromShape(e.shape.slice(a));return Zh({inputs:{x:e},backend:n,attrs:{shape:[-1,t]}})})),v=h.map((function(e){return{vals:n.data.get(e.dataId).values,shape:e.shape}}));o=l.Wap.computeOutShape(h.map((function(e){return e.shape})),1);var m=1===h[0].shape[0],g=Lv(v,o,t[0].dtype,m),y=l.Wap.computeOutShape(i.map((function(e){return e.shape})),a),b=n.makeTensorInfo(y,t[0].dtype,g);return h.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),b}var Bv={kernelName:l.Eh3,backendName:"cpu",kernelFunc:zv};function Uv(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,i=r.strides,s=r.pad,u=r.dataFormat,c=r.dilations,f=r.dimRoundingMode;nh([a,o],"conv2d");for(var p=l.Wap.convertConv2DDataFormat(u),d=l.Wap.computeConv2DInfo(a.shape,o.shape,i,c,s,f,!1,p),h=d.filterHeight,v=d.filterWidth,m=d.dilationHeight,g=d.dilationWidth,y=d.padInfo.left,b=d.padInfo.top,x="channelsLast"===d.dataFormat,w=new l.YDk(d.outShape,a.dtype),k=l.D5U.computeStrides(a.shape),S=l.D5U.computeStrides(o.shape),E=k[0],C=x?k[1]:k[2],N=x?k[2]:1,T=x?1:k[1],I=w.strides[0],O=x?w.strides[1]:w.strides[2],_=x?w.strides[2]:1,D=x?1:w.strides[1],A=n.data.get(a.dataId).values,R=n.data.get(o.dataId).values,P=w.values,M=0;M<d.batchSize;++M)for(var F=M*E,L=M*I,j=0;j<d.outHeight;++j)for(var Z=L+j*O,z=j*d.strideHeight-b,B=0;B<h;++B){var U=z+B*m;if(!(U<0||U>=d.inHeight))for(var W=B*S[0],V=F+U*C,H=0;H<d.outWidth;++H)for(var G=Z+H*_,q=H*d.strideWidth-y,X=0;X<v;++X){var K=q+X*g;if(!(K<0||K>=d.inWidth))for(var Y=V+K*N,Q=W+X*S[1],$=0;$<d.inChannels;++$){for(var J=A[Y+$*T],ee=0;ee<d.outChannels;++ee)P[G+ee*D]+=J*R[Q+ee];Q+=d.outChannels}}}return n.makeTensorInfo(w.shape,w.dtype,P)}var Wv={kernelName:l.mhS,backendName:"cpu",kernelFunc:Uv};var Vv={kernelName:l.wUP,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.dy,i=r.strides,s=r.pad,u=r.dataFormat,c=r.dimRoundingMode,f=r.filterShape;nh([a,o],"conv2dBackpropFilter");for(var p=l.Wap.convertConv2DDataFormat(u),d=l.Wap.computeConv2DInfo(a.shape,f,i,1,s,c,!1,p),h=d.strideHeight,v=d.strideWidth,m=d.filterHeight,g=d.filterWidth,y="channelsLast"===d.dataFormat,b=new l.YDk(d.filterShape,"float32"),x=d.padInfo.left,w=d.padInfo.top,k=n.data.get(a.dataId).values,S=n.data.get(o.dataId).values,E=new l.YDk(a.shape,a.dtype,k),C=new l.YDk(o.shape,o.dtype,S),N=0;N<m;++N)for(var T=Math.max(0,Math.ceil((w-N)/h)),I=Math.min(d.outHeight,(d.inHeight+w-N)/h),O=0;O<g;++O)for(var _=Math.max(0,Math.ceil((x-O)/v)),D=Math.min(d.outWidth,(d.inWidth+x-O)/v),A=0;A<d.inChannels;++A)for(var R=0;R<d.outChannels;++R){for(var P=0,M=0;M<d.batchSize;++M)for(var F=T;F<I;++F)for(var L=N+F*h-w,j=_;j<D;++j){var Z=O+j*v-x;P+=y?E.get(M,L,Z,A)*C.get(M,F,j,R):E.get(M,A,L,Z)*C.get(M,R,F,j)}b.set(P,N,O,A,R)}return n.makeTensorInfo(b.shape,b.dtype,b.values)}};var Hv={kernelName:l.wm,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.filter,i=r.inputShape,s=r.strides,u=r.pad,c=r.dataFormat,p=r.dimRoundingMode;nh([a,o],"conv2dBackpropInput");var d=l.D5U.computeStrides(o.shape),h=l.D5U.computeStrides(a.shape),v=l.Wap.convertConv2DDataFormat(c),m=l.Wap.computeConv2DInfo(i,o.shape,s,1,u,p,!1,v),g=new l.YDk(m.inShape,"float32"),y=g.values,b=n.data.get(a.dataId).values,x=n.data.get(o.dataId).values,w=(0,f.Z)(d,3),k=w[0],S=w[1],E=w[2],C=m.batchSize,N=m.filterHeight,T=m.filterWidth,I=m.inChannels,O=m.inHeight,_=m.inWidth,D=m.outChannels,A=m.outHeight,R=m.outWidth,P=m.strideHeight,M=m.strideWidth;v=m.dataFormat;for(var F=N-1-m.padInfo.top,L=T-1-m.padInfo.left,j="channelsLast"===v,Z=g.strides[0],z=j?g.strides[1]:g.strides[2],B=j?g.strides[2]:1,U=j?1:g.strides[1],W=h[0],V=j?h[1]:h[2],H=j?h[2]:1,G=j?1:h[1],q=0;q<C;++q)for(var X=0;X<I;++X)for(var K=0;K<O;++K)for(var Y=K-F,Q=Math.max(0,Math.ceil(Y/P)),$=Math.min(A,(N+Y)/P),J=0;J<_;++J){for(var ee=J-L,te=Math.max(0,Math.ceil(ee/M)),ne=Math.min(R,(T+ee)/M),re=0,ae=Q;ae<$;++ae)for(var oe=ae*P-Y,ie=te;ie<ne;++ie)for(var se=W*q+V*ae+H*ie,ue=k*(N-1-oe)+S*(T-1-(ie*M-ee))+E*X,ce=0;ce<D;++ce){re+=b[se+G*ce]*x[ue+ce]}y[Z*q+z*K+B*J+U*X]=re}return n.makeTensorInfo(g.shape,g.dtype,g.values)}};var Gv={kernelName:l.x12,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,i=r.strides,s=r.pad,u=r.dilations;nh([a,o],"conv3d");for(var c=l.Wap.computeConv3DInfo(a.shape,o.shape,i,u,s),f=c.filterDepth,p=c.filterHeight,d=c.filterWidth,h=c.dilationDepth,v=c.dilationHeight,m=c.dilationWidth,g=c.padInfo,y=g.front,b=g.left,x=g.top,w=new l.YDk(c.outShape,a.dtype),k=n.data.get(a.dataId).values,S=n.data.get(o.dataId).values,E=w.values,C=l.D5U.computeStrides(a.shape),N=l.D5U.computeStrides(o.shape),T=0;T<c.batchSize;++T)for(var I=T*C[0],O=T*w.strides[0],_=0;_<c.outDepth;++_)for(var D=O+_*w.strides[1],A=_*c.strideDepth-y,R=0;R<f;++R){var P=A+R*h;if(!(P<0||P>=c.inDepth))for(var M=R*N[0],F=I+P*C[1],L=0;L<c.outHeight;++L)for(var j=D+L*w.strides[2],Z=L*c.strideHeight-x,z=0;z<p;++z){var B=Z+z*v;if(!(B<0||B>=c.inHeight))for(var U=M+z*N[1],W=F+B*C[2],V=0;V<c.outWidth;++V)for(var H=j+V*c.outChannels,G=V*c.strideWidth-b,q=0;q<d;++q){var X=G+q*m;if(!(X<0||X>=c.inWidth))for(var K=U+q*N[2],Y=W+X*c.inChannels,Q=K,$=0;$<c.inChannels;++$){for(var J=k[Y+$],ee=0;ee<c.outChannels;++ee)E[H+ee]+=J*S[Q+ee];Q+=c.outChannels}}}}return n.makeTensorInfo(w.shape,w.dtype,w.values)}};var qv={kernelName:l.o2y,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.dy,i=r.strides,s=r.pad,u=r.filterShape;nh([a,o],"conv3dBackpropFilterV2");for(var c=l.D5U.computeStrides(a.shape),p=l.D5U.computeStrides(o.shape),d=l.Wap.computeConv3DInfo(a.shape,u,i,1,s),h=d.strideDepth,v=d.strideHeight,m=d.strideWidth,g=d.filterDepth,y=d.filterHeight,b=d.filterWidth,x=new l.YDk(d.filterShape,"float32"),w=x.values,k=(0,f.Z)(x.strides,4),S=k[0],E=k[1],C=k[2],N=k[3],T=n.data.get(o.dataId).values,I=(0,f.Z)(p,4),O=I[0],_=I[1],D=I[2],A=I[3],R=n.data.get(a.dataId).values,P=(0,f.Z)(c,4),M=P[0],F=P[1],L=P[2],j=P[3],Z=d.padInfo.front,z=d.padInfo.left,B=d.padInfo.top,U=0;U<g;++U)for(var W=Math.max(0,Math.ceil((Z-U)/h)),V=Math.min(d.outDepth,(d.inDepth+Z-U)/h),H=U*S,G=0;G<y;++G)for(var q=Math.max(0,Math.ceil((B-G)/v)),X=Math.min(d.outHeight,(d.inHeight+B-G)/v),K=G*E+H,Y=0;Y<b;++Y)for(var Q=Math.max(0,Math.ceil((z-Y)/m)),$=Math.min(d.outWidth,(d.inWidth+z-Y)/m),J=Y*C+K,ee=0;ee<d.inChannels;++ee)for(var te=ee*N+J,ne=0;ne<d.outChannels;++ne){for(var re=0,ae=0;ae<d.batchSize;++ae)for(var oe=ae*M,ie=ae*O,se=W;se<V;++se)for(var ue=(U+se*h-Z)*F+oe,ce=se*_+ie,le=q;le<X;++le)for(var fe=(G+le*v-B)*L+ue,pe=le*D+ce,de=Q;de<$;++de){var he=de*A+pe;re+=R[(Y+de*m-z)*j+fe+ee]*T[he+ne]}w[te+ne]=re}return n.makeTensorInfo(x.shape,x.dtype,x.values)}};var Xv={kernelName:l.ik2,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.filter,i=r.pad,s=r.strides,u=r.inputShape;nh([a],"conv3dBackpropInputV2");for(var c=l.D5U.computeStrides(a.shape),p=l.D5U.computeStrides(o.shape),d=l.Wap.computeConv3DInfo(u,o.shape,s,1,i),h=new l.YDk(d.inShape,"float32"),v=h.values,m=(0,f.Z)(h.strides,4),g=m[0],y=m[1],b=m[2],x=m[3],w=n.data.get(a.dataId).values,k=(0,f.Z)(c,4),S=k[0],E=k[1],C=k[2],N=k[3],T=n.data.get(o.dataId).values,I=(0,f.Z)(p,4),O=I[0],_=I[1],D=I[2],A=I[3],R=d.batchSize,P=d.filterDepth,M=d.filterHeight,F=d.filterWidth,L=d.inChannels,j=d.inDepth,Z=d.inHeight,z=d.inWidth,B=d.outChannels,U=d.outDepth,W=d.outHeight,V=d.outWidth,H=d.strideDepth,G=d.strideHeight,q=d.strideWidth,X=P-1-d.padInfo.front,K=M-1-d.padInfo.top,Y=F-1-d.padInfo.left,Q=0;Q<R;++Q)for(var $=0;$<L;++$)for(var J=0;J<j;++J)for(var ee=J-X,te=Math.max(0,Math.ceil(ee/H)),ne=Math.min(U,(P+ee)/H),re=0;re<Z;++re)for(var ae=re-K,oe=Math.max(0,Math.ceil(ae/G)),ie=Math.min(W,(M+ae)/G),se=0;se<z;++se){for(var ue=se-Y,ce=Math.max(0,Math.ceil(ue/q)),le=Math.min(V,(F+ue)/q),fe=0,pe=te;pe<ne;++pe)for(var de=pe*H-ee,he=oe;he<ie;++he)for(var ve=he*G-ae,me=ce;me<le;++me)for(var ge=S*Q+E*pe+C*he+N*me,ye=O*(P-1-de)+_*(M-1-ve)+D*(F-1-(me*q-ue))+A*$,be=0;be<B;++be){fe+=w[ge+be]*T[ye+be]}v[g*Q+y*J+b*re+x*se+$]=fe}return n.makeTensorInfo(h.shape,h.dtype,h.values)}},Kv=oh(l.mc4,(function(e){return Math.cos(e)})),Yv={kernelName:l.mc4,backendName:"cpu",kernelFunc:Kv},Qv=oh(l.TR1,(function(e){return Math.cosh(e)})),$v={kernelName:l.TR1,backendName:"cpu",kernelFunc:Qv};var Jv={kernelName:l.VcC,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.backend,r=e.attrs,a=t.image,o=t.boxes,i=t.boxInd,s=r.cropSize,u=r.method,c=r.extrapolationValue,p=(0,f.Z)(a.shape,4),d=p[0],h=p[1],v=p[2],m=p[3],g=o.shape[0],y=(0,f.Z)(s,2),b=y[0],x=y[1],w=(0,l.f3b)([g,b,x,m],"float32"),k=n.data.get(o.dataId).values,S=n.data.get(i.dataId).values,E=n.data.get(a.dataId).values,C=l.D5U.computeStrides(a.shape),N=l.D5U.computeStrides(w.shape),T=0;T<g;T++){var I=4*T,O=k[I],_=k[I+1],D=k[I+2],A=k[I+3],R=S[T];if(!(R>=d))for(var P=b>1?(D-O)*(h-1)/(b-1):0,M=x>1?(A-_)*(v-1)/(x-1):0,F=0;F<b;F++){var L=b>1?O*(h-1)+F*P:.5*(O+D)*(h-1);if(L<0||L>h-1)for(var j=0;j<x;j++)for(var Z=0;Z<m;Z++){var z=Z+j*N[2]+F*N[1]+T*N[0];w.values[z]=c}else if("bilinear"===u)for(var B=Math.floor(L),U=Math.ceil(L),W=L-B,V=0;V<x;V++){var H=x>1?_*(v-1)+V*M:.5*(_+A)*(v-1);if(H<0||H>v-1)for(var G=0;G<m;G++){var q=G+V*N[2]+F*N[1]+T*N[0];w.values[q]=c}else for(var X=Math.floor(H),K=Math.ceil(H),Y=H-X,Q=0;Q<m;Q++){var $=Q+X*C[2]+B*C[1]+R*C[0],J=E[$],ee=E[$=Q+K*C[2]+B*C[1]+R*C[0]],te=E[$=Q+X*C[2]+U*C[1]+R*C[0]],ne=J+(ee-J)*Y,re=te+(E[$=Q+K*C[2]+U*C[1]+R*C[0]]-te)*Y;$=Q+V*N[2]+F*N[1]+T*N[0],w.values[$]=ne+(re-ne)*W}}else for(var ae=0;ae<x;++ae){var oe=x>1?_*(v-1)+ae*M:.5*(_+A)*(v-1);if(oe<0||oe>v-1)for(var ie=0;ie<m;ie++){var se=ie+ae*N[2]+F*N[1]+T*N[0];w.values[se]=c}else for(var ue=Math.round(oe),ce=Math.round(L),le=0;le<m;le++){var fe=le+ue*C[2]+ce*C[1]+R*C[0],pe=le+ae*N[2]+F*N[1]+T*N[0];w.values[pe]=E[fe]}}}}return n.makeTensorInfo(w.shape,w.dtype,w.values)}};var em={kernelName:l.Byc,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,i=r.exclusive,s=r.reverse;nh(a,"cumprod");var u=l.Wap.getAxesPermutation([o],a.shape.length),c=a;null!=u&&(c=$h({inputs:{x:a},backend:n,attrs:{perm:u}}));var f=l.Wap.getInnerMostAxes(1,a.shape.length)[0];if(f!==c.shape.length-1)throw new Error("backend.cumprod in CPU expects an inner-most "+"axis=".concat(c.shape.length-1," but got axis=").concat(f));for(var p=(0,l.x8V)(c.dtype,"int32"),d=l.D5U.makeOnesTypedArray(l.D5U.sizeFromShape(c.shape),p),h=n.data.get(c.dataId).values,v=c.shape[c.shape.length-1],m=s?function(e,t){return e+v-t-1}:function(e,t){return e+t},g=0;g<h.length;g+=v)for(var y=0;y<v;y++){var b=m(g,y);if(0===y)d[b]=i?1:h[b];else{var x=m(g,y-1);d[b]=i?h[x]*d[x]:h[b]*d[x]}}var w=n.makeTensorInfo(c.shape,p,d);if(null!=u){var k=$h({inputs:{x:w},backend:n,attrs:{perm:l.Wap.getUndoAxesPermutation(u)}});return n.disposeIntermediateTensorInfo(w),n.disposeIntermediateTensorInfo(c),k}return w}};var tm={kernelName:l.iHb,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,i=r.exclusive,s=r.reverse;nh(a,"cumsum");var u=l.Wap.getAxesPermutation([o],a.shape.length),c=a;null!=u&&(c=$h({inputs:{x:a},backend:n,attrs:{perm:u}}));var f=l.Wap.getInnerMostAxes(1,a.shape.length)[0];if(f!==c.shape.length-1)throw new Error("backend.cumsum in CPU expects an inner-most "+"axis=".concat(c.shape.length-1," but got axis=").concat(f));for(var p=(0,l.x8V)(c.dtype,"int32"),d=l.D5U.makeZerosTypedArray(l.D5U.sizeFromShape(c.shape),p),h=n.data.get(c.dataId).values,v=c.shape[c.shape.length-1],m=s?function(e,t){return e+v-t-1}:function(e,t){return e+t},g=0;g<h.length;g+=v)for(var y=0;y<v;y++){var b=m(g,y);if(0===y)d[b]=i?0:h[b];else{var x=m(g,y-1);d[b]=i?h[x]+d[x]:h[b]+d[x]}}var w=n.makeTensorInfo(c.shape,p,d);if(null!=u){var k=$h({inputs:{x:w},backend:n,attrs:{perm:l.Wap.getUndoAxesPermutation(u)}});return n.disposeIntermediateTensorInfo(w),n.disposeIntermediateTensorInfo(c),k}return w}};var nm={kernelName:l.QRR,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.weights,i=r.size,s=r.binaryOutput;if(1===a.shape.length){var u=Tv(n.data.get(a.dataId).values,n.data.get(o.dataId).values,o.dtype,o.shape,i);return n.makeTensorInfo([i],o.dtype,u)}if(2===a.shape.length){var c=Iv(n.bufferSync(a),n.bufferSync(o),i,s);return n.makeTensorInfo(c.shape,o.dtype,c.values)}throw new Error("Error in denseBincount: input must be at most rank 2, but got rank"+"".concat(a.shape.length,"."))}};var rm={kernelName:l.T0n,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.blockSize,i=r.dataFormat;l.D5U.assert("NHWC"===i,(function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got ".concat(i)}));for(var s=a.shape[0],u=a.shape[1],c=a.shape[2],f=a.shape[3],p=u*o,d=c*o,h=f/(o*o),v=n.data.get(a.dataId).values,m=new Float32Array(s*p*d*h),g=0,y=0;y<s;++y)for(var b=0;b<p;++b)for(var x=Math.floor(b/o),w=b%o,k=0;k<d;++k)for(var S=Math.floor(k/o),E=(w*o+k%o)*h,C=0;C<h;++C){var N=C+E+f*(S+c*(x+u*y));m[g++]=v[N]}return n.makeTensorInfo([s,p,d,h],a.dtype,m)}};function am(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,i=r.strides,s=r.pad,u=r.dilations,c=r.dimRoundingMode;nh([a,o],"depthwiseConv2DNative");var f=l.D5U.computeStrides(a.shape),p=l.D5U.computeStrides(o.shape),d=u;null==d&&(d=[1,1]),l.D5U.assert(l.Wap.eitherStridesOrDilationsAreOne(i,d),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(i," and dilations '").concat(d,"'")}));for(var h=l.Wap.computeConv2DInfo(a.shape,o.shape,i,d,s,c,!0),v=h.filterHeight,m=h.filterWidth,g=h.dilationHeight,y=h.dilationWidth,b=h.padInfo,x=b.left,w=b.top,k=h.outChannels/h.inChannels,S=new l.YDk(h.outShape,a.dtype),E=n.data.get(a.dataId).values,C=n.data.get(o.dataId).values,N=S.values,T=0;T<h.batchSize;++T)for(var I=T*f[0],O=T*S.strides[0],_=0;_<h.outHeight;++_)for(var D=O+_*S.strides[1],A=_*h.strideHeight-w,R=0;R<v;++R){var P=A+R*g;if(!(P<0||P>=h.inHeight))for(var M=R*p[0],F=I+P*f[1],L=0;L<h.outWidth;++L)for(var j=D+L*S.strides[2],Z=L*h.strideWidth-x,z=0;z<m;++z){var B=Z+z*y;if(!(B<0||B>=h.inWidth))for(var U=M+z*p[1],W=F+B*h.inChannels,V=j,H=U,G=0;G<h.inChannels;++G){for(var q=E[W+G],X=0;X<k;++X)N[V+X]+=q*C[H+X];V+=k,H+=k}}}return n.makeTensorInfo(S.shape,S.dtype,S.values)}var om={kernelName:l.cie,backendName:"cpu",kernelFunc:am};var im={kernelName:l.sL$,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.dy,i=r.strides,s=r.dilations,u=r.pad,c=r.dimRoundingMode,f=r.filterShape;nh([a,o],"depthwiseConv2dNativeBackpropFilter");for(var p=l.Wap.computeConv2DInfo(a.shape,f,i,s,u,c,!0),d=p.strideHeight,h=p.strideWidth,v=p.filterHeight,m=p.filterWidth,g=new l.YDk(p.filterShape,"float32"),y=p.padInfo.left,b=p.padInfo.top,x=p.outChannels/p.inChannels,w=n.data.get(a.dataId).values,k=new l.YDk(a.shape,a.dtype,w),S=n.data.get(o.dataId).values,E=new l.YDk(o.shape,o.dtype,S),C=0;C<v;++C)for(var N=Math.max(0,Math.ceil((b-C)/d)),T=Math.min(p.outHeight,(p.inHeight+b-C)/d),I=0;I<m;++I)for(var O=Math.max(0,Math.ceil((y-I)/h)),_=Math.min(p.outWidth,(p.inWidth+y-I)/h),D=0;D<p.outChannels;++D){for(var A=Math.trunc(D/x),R=D%x,P=0,M=0;M<p.batchSize;++M)for(var F=N;F<T;++F)for(var L=C+F*d-b,j=O;j<_;++j){var Z=I+j*h-y;P+=k.get(M,L,Z,A)*E.get(M,F,j,D)}g.set(P,C,I,A,R)}return n.makeTensorInfo(g.shape,g.dtype,g.values)}};var sm={kernelName:l.y7R,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.filter,i=r.strides,s=r.dilations,u=r.pad,c=r.dimRoundingMode,p=r.inputShape;nh([a,o],"depthwiseConv2DNativeBackpropInput");for(var d=l.D5U.computeStrides(a.shape),h=l.D5U.computeStrides(o.shape),v=l.Wap.computeConv2DInfo(p,o.shape,i,s,u,c,!0),m=new l.YDk(v.inShape,"float32"),g=m.values,y=(0,f.Z)(m.strides,3),b=y[0],x=y[1],w=y[2],k=n.data.get(a.dataId).values,S=(0,f.Z)(d,3),E=S[0],C=S[1],N=S[2],T=n.data.get(o.dataId).values,I=(0,f.Z)(h,3),O=I[0],_=I[1],D=I[2],A=v.batchSize,R=v.filterHeight,P=v.filterWidth,M=v.inChannels,F=v.inHeight,L=v.inWidth,j=v.outChannels,Z=v.outHeight,z=v.outWidth,B=v.strideHeight,U=v.strideWidth,W=R-1-v.padInfo.top,V=P-1-v.padInfo.left,H=j/M,G=0;G<A;++G)for(var q=0;q<M;++q)for(var X=0;X<F;++X)for(var K=X-W,Y=Math.max(0,Math.ceil(K/B)),Q=Math.min(Z,(R+K)/B),$=0;$<L;++$){for(var J=$-V,ee=Math.max(0,Math.ceil(J/U)),te=Math.min(z,(P+J)/U),ne=0,re=Y;re<Q;++re)for(var ae=re*B-K,oe=ee;oe<te;++oe)for(var ie=E*G+C*re+N*oe,se=O*(R-1-ae)+_*(P-1-(oe*U-J))+D*q,ue=0;ue<H;++ue){ne+=k[ie+(q*H+ue)]*T[se+ue]}g[b*G+x*X+w*$+q]=ne}return n.makeTensorInfo(m.shape,m.dtype,m.values)}};var um={kernelName:l.$w,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.backend,r=t.x,a=l.D5U.sizeFromShape(r.shape),o=n.data.get(r.dataId).values,i=(0,l.f3b)([a,a],r.dtype),s=i.values,u=0;u<o.length;u++)s[u*a+u]=o[u];var c=[].concat((0,Qn.Z)(r.shape),(0,Qn.Z)(r.shape));return n.makeTensorInfo(c,i.dtype,i.values)}},cm={kernelName:l.p4S,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,i=r.strides,s=r.pad,u=r.dilations,c=n,f=c.data.get(a.dataId).values,p=a.shape.length,d=c.data.get(o.dataId).values,h=o.shape.length,v=l.Wap.computeDilation2DInfo(a.shape,o.shape,i,s,"NHWC",u),m=v.batchSize,g=v.inHeight,y=v.inWidth,b=v.inChannels,x=v.outHeight,w=v.outWidth,k=v.padInfo,S=v.strideHeight,E=v.strideWidth,C=v.filterHeight,N=v.filterWidth,T=v.dilationHeight,I=v.dilationWidth,O=v.outShape,_=l.D5U.sizeFromShape(O),D=O.length,A=l.D5U.getArrayFromDType(a.dtype,_),R=0;R<m;++R)for(var P=0;P<x;++P)for(var M=P*S-k.top,F=0;F<w;++F)for(var L=F*E-k.left,j=0;j<b;++j){for(var Z=Number.MIN_SAFE_INTEGER,z=0;z<C;++z){var B=M+z*T;if(B>=0&&B<g)for(var U=0;U<N;++U){var W=L+U*I;if(W>=0&&W<y){var V=l.D5U.locToIndex([R,B,W,j],p,l.D5U.computeStrides(a.shape)),H=l.D5U.locToIndex([z,U,j],h,l.D5U.computeStrides(o.shape)),G=f[V]+d[H];G>Z&&(Z=G)}}}A[l.D5U.locToIndex([R,P,F,j],D,l.D5U.computeStrides(O))]=Z}return{dataId:c.write(l.D5U.toTypedArray(A,a.dtype),O,a.dtype),shape:O,dtype:a.dtype}}},lm={kernelName:l.Vn9,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,i=t.dy,s=r.strides,u=r.pad,c=r.dilations,f=n,p=l.D5U.toNestedArray(a.shape,f.data.get(a.dataId).values),d=l.D5U.toNestedArray(o.shape,f.data.get(o.dataId).values),h=l.Wap.computeDilation2DInfo(a.shape,o.shape,s,u,"NHWC",c),v=h.batchSize,m=h.inHeight,g=h.inWidth,y=h.inChannels,b=h.outHeight,x=h.outWidth,w=h.padInfo,k=h.strideHeight,S=h.strideWidth,E=h.filterHeight,C=h.filterWidth,N=h.dilationHeight,T=h.dilationWidth,I=h.outShape;l.D5U.assert(i.rank===I.length,(function(){return"Error in ".concat(l.Vn9,", dy ")+"must have the same rank as output ".concat(I.length,", but got ")+"".concat(i.rank)}));for(var O=l.D5U.toNestedArray(I,f.data.get(i.dataId).values),_=l.D5U.makeZerosNestedTypedArray(o.shape,o.dtype),D=0;D<v;++D)for(var A=0;A<b;++A)for(var R=A*k-w.top,P=0;P<x;++P)for(var M=P*S-w.left,F=0;F<y;++F){for(var L=Number.MIN_SAFE_INTEGER,j=0,Z=0,z=0;z<E;++z){var B=R+z*N;if(B>=0&&B<m)for(var U=0;U<C;++U){var W=M+U*T;if(W>=0&&W<g){var V=p[D][B][W][F]+d[z][U][F];V>L&&(L=V,j=z,Z=U)}}}_[j][Z][F]+=O[D][A][P][F]}return{dataId:f.write(l.D5U.toTypedArray(_,a.dtype),o.shape,o.dtype),shape:o.shape,dtype:o.dtype}}},fm={kernelName:l.ekb,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,i=t.dy,s=r.strides,u=r.pad,c=r.dilations,f=n,p=l.D5U.toNestedArray(a.shape,f.data.get(a.dataId).values),d=l.D5U.toNestedArray(o.shape,f.data.get(o.dataId).values),h=l.Wap.computeDilation2DInfo(a.shape,o.shape,s,u,"NHWC",c),v=h.batchSize,m=h.inHeight,g=h.inWidth,y=h.inChannels,b=h.outHeight,x=h.outWidth,w=h.padInfo,k=h.strideHeight,S=h.strideWidth,E=h.filterHeight,C=h.filterWidth,N=h.dilationHeight,T=h.dilationWidth,I=h.outShape;l.D5U.assert(i.rank===I.length,(function(){return"Error in ".concat(l.ekb,", dy ")+"must have the same rank as output ".concat(I.length,", but got ")+"".concat(i.rank)}));for(var O=l.D5U.toNestedArray(I,f.data.get(i.dataId).values),_=l.D5U.makeZerosNestedTypedArray(a.shape,a.dtype),D=0;D<v;++D)for(var A=0;A<b;++A)for(var R=A*k-w.top,P=0;P<x;++P)for(var M=P*S-w.left,F=0;F<y;++F){for(var L=Number.MIN_SAFE_INTEGER,j=R<0?0:R,Z=M<0?0:M,z=0;z<E;++z){var B=R+z*N;if(B>=0&&B<m)for(var U=0;U<C;++U){var W=M+U*T;if(W>=0&&W<g){var V=p[D][B][W][F]+d[z][U][F];V>L&&(L=V,j=B,Z=W)}}}_[D][j][Z][F]+=O[D][A][P][F]}return{dataId:f.write(l.D5U.toTypedArray(_,a.dtype),a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}},pm=dh((function(e,t){return e*t})),dm=Ph((function(e,t,n,r){return{real:e*n-t*r,imag:e*r+t*n}})),hm=Rh(l.wYn,pm,dm),vm={kernelName:l.wYn,backendName:"cpu",kernelFunc:hm};function mm(e){var t,n=e.inputs,r=e.backend,a=e.attrs,o=n.x,i=a.axis,s=a.keepDims;nh(o,"sum");var u=(t="bool"===o.dtype?Dh({inputs:{x:o},backend:r,attrs:{dtype:"int32"}}):ch({inputs:{x:o},backend:r})).shape.length,c=l.D5U.parseAxisParam(i,t.shape),p=l.Wap.getAxesPermutation(c,u),d=c,h=t;null!=p&&(h=$h({inputs:{x:t},backend:r,attrs:{perm:p}}),d=l.Wap.getInnerMostAxes(d.length,u)),l.Wap.assertAxesAreInnerMostDims("sum",d,h.shape.length);for(var v=l.Wap.computeOutAndReduceShapes(h.shape,d),m=(0,f.Z)(v,2),g=m[0],y=m[1],b=Ih(r,g,l.Wap.upcastType(h.dtype,"int32")),x=l.D5U.sizeFromShape(y),w=r.data.get(b.dataId).values,k=r.data.get(h.dataId).values,S=0;S<w.length;++S){for(var E=S*x,C=0,N=0;N<x;++N)C+=k[E+N];w[S]=C}if(s){var T=b;b=Zh({inputs:{x:b},backend:r,attrs:{shape:l.Wap.expandShapeToKeepDim(b.shape,c)}}),r.disposeIntermediateTensorInfo(T)}return r.disposeIntermediateTensorInfo(t),null!=p&&r.disposeIntermediateTensorInfo(h),b}var gm={kernelName:l.GBy,backendName:"cpu",kernelFunc:mm};var ym={kernelName:l.$g6,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.equation,a=t,o=l.Wap.decodeEinsumEquation(r,a.length),i=o.allDims,s=o.summedDims,u=o.idDims;l.Wap.checkEinsumDimSizes(i.length,u,a);for(var c=l.Wap.getEinsumComputePath(s,u),f=c.path,p=c.steps,d=p.length,h=null,v=i.length,m=[],g=0;g<d;++g){var y,b=(0,ra.Z)(p[g]);try{for(b.s();!(y=b.n()).done;){var x=y.value,w=l.Wap.getEinsumPermutation(v,u[x]),k=w.permutationIndices,S=w.expandDims,E=void 0;l.Wap.isIdentityPermutation(k)?E=a[x]:(E=$h({inputs:{x:a[x]},backend:n,attrs:{perm:k}}),m.push(E));for(var C=E.shape.slice(),N=0;N<S.length;++N)C.splice(S[N],0,1);l.D5U.arraysEqual(E.shape,C)||(E=Zh({inputs:{x:E},backend:n,attrs:{shape:C}}),m.push(E)),null===h?h=E:(h=hm({inputs:{a:E,b:h},backend:n}),m.push(h))}}catch(_){b.e(_)}finally{b.f()}g<d-1&&(f[g]>=0&&(h=mm({inputs:{x:h},backend:n,attrs:{axis:f[g]-(i.length-v),keepDims:!1}}),m.push(h)),v--)}for(var T=0,I=m;T<I.length;T++){var O=I[T];O!==h&&n.disposeIntermediateTensorInfo(O)}return h}};var bm={kernelName:l.HEU,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.dy,a=t.y;nh([r,a],"eluGrad");for(var o=new Float32Array(l.D5U.sizeFromShape(a.shape)),i=n.data.get(a.dataId).values,s=n.data.get(r.dataId).values,u=0;u<i.length;++u){var c=i[u];o[u]=c>=1?s[u]:s[u]*(c+1)}return n.makeTensorInfo(a.shape,"float32",o)}},xm=dh((function(e,t){return e===t?1:0})),wm=Rh(l.hdR,xm,null,"bool"),km={kernelName:l.hdR,backendName:"cpu",kernelFunc:wm},Sm=l.Wap.ERF_P,Em=l.Wap.ERF_A1,Cm=l.Wap.ERF_A2,Nm=l.Wap.ERF_A3,Tm=l.Wap.ERF_A4,Im=l.Wap.ERF_A5,Om=oh(l.Omj,(function(e){var t=Math.sign(e),n=Math.abs(e),r=1/(1+Sm*n);return t*(1-((((Im*r+Tm)*r+Nm)*r+Cm)*r+Em)*r*Math.exp(-n*n))})),_m={kernelName:l.Omj,backendName:"cpu",kernelFunc:Om},Dm=wh((function(e){return Math.exp(e)})),Am=ih(l.NEP,Dm,"float32"),Rm={kernelName:l.NEP,backendName:"cpu",kernelFunc:Am};function Pm(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.input,o=r.dim,i=a.shape.length,s=a.shape.slice(),u=o;return o<0&&(l.D5U.assert(-(i+1)<=o,(function(){return"Axis must be in the interval [".concat(-(i+1),", ").concat(i,"]")})),u=i+o+1),s.splice(u,0,1),Zh({inputs:{x:a},backend:n,attrs:{shape:s}})}var Mm={kernelName:l.YFo,backendName:"cpu",kernelFunc:Pm},Fm=wh((function(e){return Math.expm1(e)})),Lm=ih(l.Y0y,Fm),jm={kernelName:l.Y0y,backendName:"cpu",kernelFunc:Lm},Zm=dh((function(e,t){return e/t})),zm=Rh(l.oHH,Zm),Bm={kernelName:l.oHH,backendName:"cpu",kernelFunc:zm},Um=dh((function(e,t){return e-t})),Wm=Ph((function(e,t,n,r){return{real:e-n,imag:t-r}})),Vm=Rh(l.Tr8,Um,Wm),Hm={kernelName:l.Tr8,backendName:"cpu",kernelFunc:Vm};function Gm(e,t,n){for(var r=e.shape,a=r[0],o=r[1],i=n.data.get(e.dataId),s=i.complexTensorInfos.real,u=i.complexTensorInfos.imag,c=[a,o],f=l.D5U.sizeFromShape(c),p=l.D5U.getTypedArrayFromDType("float32",f),d=l.D5U.getTypedArrayFromDType("float32",f),h=0;h<a;h++){for(var v=Ev({inputs:{x:s},backend:n,attrs:{begin:[h,0],size:[1,o]}}),m=Ev({inputs:{x:u},backend:n,attrs:{begin:[h,0],size:[1,o]}}),g=Nh({inputs:{real:v,imag:m},backend:n}),y=qm(g,t,n),b=y.real,x=y.imag,w=l.Wap.mergeRealAndImagArrays(b,x),k=0;k<o;k++){var S=l.Wap.getComplexWithIndex(w,k);p[h*o+k]=S.real,d[h*o+k]=S.imag}n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(g)}var E=n.makeTensorInfo(c,"float32",p),C=n.makeTensorInfo(c,"float32",d),N=Nh({inputs:{real:E,imag:C},backend:n});return n.disposeIntermediateTensorInfo(E),n.disposeIntermediateTensorInfo(C),N}function qm(e,t,n){var r=l.D5U.sizeFromShape(e.shape),a=n.data.get(e.dataId),o=n.data.get(a.complexTensorInfos.real.dataId).values,i=n.data.get(a.complexTensorInfos.imag.dataId).values;if(0===((y=r)&y-1)){var s=Xm(o,i,r,t,n),u=[e.shape[0],e.shape[1]];if(t){var c=n.makeTensorInfo(u,"float32",s.real),f=n.makeTensorInfo(u,"float32",s.imag),p=n.makeTensorInfo([],"float32",l.D5U.createScalarValue(r,"float32")),d=ch({inputs:{x:p},backend:n}),h=Bm.kernelFunc({inputs:{a:c,b:p},backend:n}),v=Bm.kernelFunc({inputs:{a:f,b:d},backend:n}),m=n.data.get(h.dataId).values,g=n.data.get(v.dataId).values;return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(v),{real:m,imag:g}}return s}var y,b=function(e,t,n){for(var r=new Float32Array(2*t),a=0;a<t;a++){for(var o=0,i=0,s=0;s<t;s++){var u=l.Wap.exponent(a*s,t,n),c=l.Wap.getComplexWithIndex(e,s);o+=c.real*u.real-c.imag*u.imag,i+=c.real*u.imag+c.imag*u.real}n&&(o/=t,i/=t),l.Wap.assignToTypedArray(r,o,i,a)}return r}(l.Wap.mergeRealAndImagArrays(o,i),r,t);return l.Wap.splitRealAndImagArrays(b)}function Xm(e,t,n,r,a){if(1===n)return{real:e,imag:t};var o=l.Wap.mergeRealAndImagArrays(e,t),i=n/2,s=l.Wap.complexWithEvenIndex(o),u=s.real,c=s.imag,f=[u.length],p=a.makeTensorInfo(f,"float32",u),d=a.makeTensorInfo(f,"float32",c),h=Nh({inputs:{real:p,imag:d},backend:a}),v=l.Wap.complexWithOddIndex(o),m=v.real,g=v.imag,y=[m.length],b=a.makeTensorInfo(y,"float32",m),x=a.makeTensorInfo(y,"float32",g),w=Nh({inputs:{real:b,imag:x},backend:a}),k=Xm(u,c,i,r,a),S=k.real,E=k.imag,C=[S.length],N=a.makeTensorInfo(C,"float32",S),T=a.makeTensorInfo(C,"float32",E),I=Nh({inputs:{real:N,imag:T},backend:a}),O=Xm(m,g,i,r,a),_=O.real,D=O.imag,A=[_.length],R=a.makeTensorInfo(A,"float32",_),P=a.makeTensorInfo(A,"float32",D),M=Nh({inputs:{real:R,imag:P},backend:a}),F=l.Wap.exponents(n,r),L=[F.real.length],j=a.makeTensorInfo(L,"float32",F.real),Z=a.makeTensorInfo(L,"float32",F.imag),z=Nh({inputs:{real:j,imag:Z},backend:a}),B=hm({inputs:{a:z,b:M},backend:a}),U=Lh({inputs:{a:I,b:B},backend:a}),W=Vm({inputs:{a:I,b:B},backend:a}),V=Oh({inputs:{input:U},backend:a}),H=Oh({inputs:{input:W},backend:a}),G=jv({inputs:{input:U},backend:a}),q=jv({inputs:{input:W},backend:a}),X=zv({inputs:[V,H],backend:a,attrs:{axis:0}}),K=zv({inputs:[G,q],backend:a,attrs:{axis:0}}),Y=a.data.get(X.dataId).values,Q=a.data.get(K.dataId).values;return a.disposeIntermediateTensorInfo(p),a.disposeIntermediateTensorInfo(d),a.disposeIntermediateTensorInfo(h),a.disposeIntermediateTensorInfo(b),a.disposeIntermediateTensorInfo(x),a.disposeIntermediateTensorInfo(w),a.disposeIntermediateTensorInfo(N),a.disposeIntermediateTensorInfo(T),a.disposeIntermediateTensorInfo(I),a.disposeIntermediateTensorInfo(R),a.disposeIntermediateTensorInfo(P),a.disposeIntermediateTensorInfo(M),a.disposeIntermediateTensorInfo(j),a.disposeIntermediateTensorInfo(Z),a.disposeIntermediateTensorInfo(z),a.disposeIntermediateTensorInfo(B),a.disposeIntermediateTensorInfo(U),a.disposeIntermediateTensorInfo(W),a.disposeIntermediateTensorInfo(V),a.disposeIntermediateTensorInfo(G),a.disposeIntermediateTensorInfo(H),a.disposeIntermediateTensorInfo(q),a.disposeIntermediateTensorInfo(X),a.disposeIntermediateTensorInfo(K),{real:Y,imag:Q}}var Km={kernelName:l.vwp,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.input,a=l.D5U.sizeFromShape(r.shape),o=r.shape[r.shape.length-1],i=Zh({inputs:{x:r},backend:n,attrs:{shape:[a/o,o]}}),s=Gm(i,!1,n),u=Zh({inputs:{x:s},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(s),u}};function Ym(e){var t=e.backend,n=e.attrs,r=n.shape,a=n.value,o=n.dtype||l.D5U.inferDtype(a),i=l.D5U.getArrayFromDType(o,l.D5U.sizeFromShape(r));return function(e,t,n){e.fill(t)}(i,a),t.makeTensorInfo(r,o,i)}var Qm={kernelName:l.deh,backendName:"cpu",kernelFunc:Ym};var $m={kernelName:l.Uyb,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=(e.attrs,e.backend),r=t.image,a=n,o=l.D5U.getTypedArrayFromDType(r.dtype,l.D5U.sizeFromShape(r.shape)),i=(0,f.Z)(r.shape,4),s=i[0],u=i[1],c=i[2],p=i[3],d=a.data.get(r.dataId).values,h=0;h<s;h++)for(var v=h*c*u*p,m=0;m<u;m++)for(var g=m*(c*p),y=0;y<c;y++)for(var b=y*p,x=0;x<p;x++){var w=Math.round(c-y-1),k=v+g+b+x,S=d[k];if(w>=0&&w<c)S=d[v+g+w*p+x];o[k]=S}return{dataId:a.write(o,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},Jm=wh((function(e){return Math.floor(e)})),eg=ih(l.OR,Jm),tg={kernelName:l.OR,backendName:"cpu",kernelFunc:eg},ng=dh((function(e,t){return Math.floor(e/t)})),rg=Rh(l.jeX,ng,null,"int32"),ag={kernelName:l.jeX,backendName:"cpu",kernelFunc:rg};var og={kernelName:l._V0,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,i=t.bias,s=t.preluActivationWeights,u=r.strides,c=r.pad,l=r.dataFormat,f=r.dilations,p=r.dimRoundingMode,d=r.activation,h=r.leakyreluAlpha,v=Uv({inputs:{x:a,filter:o},backend:n,attrs:{strides:u,pad:c,dataFormat:l,dilations:f,dimRoundingMode:p}});if(i){var m=v;if("NCHW"===l&&1===i.shape.length&&1!==i.shape[0]){var g=Zh({inputs:{x:i},backend:n,attrs:{shape:[i.shape[0],1,1]}});v=Lh({inputs:{a:v,b:g},backend:n}),n.disposeIntermediateTensorInfo(g)}else v=Lh({inputs:{a:v,b:i},backend:n});n.disposeIntermediateTensorInfo(m)}if(d){var y=v;v=Ch(n,v,d,s,h),n.disposeIntermediateTensorInfo(y)}return v}};var ig={kernelName:l.luS,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,i=t.bias,s=t.preluActivationWeights,u=r.strides,c=r.pad,l=r.dataFormat,f=r.dilations,p=r.dimRoundingMode,d=r.activation,h=r.leakyreluAlpha,v=am({inputs:{x:a,filter:o},backend:n,attrs:{strides:u,pad:c,dataFormat:l,dilations:f,dimRoundingMode:p}});if(i){var m=v;v=Lh({inputs:{a:v,b:i},backend:n}),n.disposeIntermediateTensorInfo(m)}if(d){var g=v;v=Ch(n,v,d,s,h),n.disposeIntermediateTensorInfo(g)}return v}};function sg(e,t,n,r,a,o,i,s,u){for(var c=(0,l.f3b)([r,o],n),f=0;f<r;f++){for(var p=[],d=0,h=0;h<a;h++){var v=e[f*a+h];d+=v*i[h],p.push(v)}if(d<0||d>=u/o)throw new Error("Invalid indices: ".concat(p," does not index into ").concat(s));for(var m=0;m<o;m++)c.values[f*o+m]=t.get.apply(t,(0,Qn.Z)(t.indexToLoc(d*o+m)))}return c}var ug={kernelName:l.q1x,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.params,a=t.indices,o=l.D5U.sizeFromShape(r.shape),i=a.shape,s=i[i.length-1],u=l.Wap.prepareAndValidate(r,a),c=(0,f.Z)(u,4),p=c[0],d=c[1],h=c[2],v=c[3];if(0===d)return n.makeTensorInfo(p,r.dtype,[]);var m=sg(n.data.get(a.dataId).values,n.bufferSync(r),r.dtype,d,s,h,v,r.shape,o);return n.makeTensorInfo(p,r.dtype,m.values)}};function cg(e,t,n){for(var r=(0,l.f3b)(n,e.dtype),a=0;a<r.size;++a){var o=r.indexToLoc(a).slice(),i=o[0],s=o[2],u=t.locToIndex([i,s]);o[2]=t.values[u];var c=e.locToIndex(o);0<=c&&c<e.values.length&&(r.values[a]=e.values[c])}return r}var lg={kernelName:l.qi_,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.indices,i=r.axis,s=r.batchDims;nh([a,o],"gatherV2");for(var u=l.D5U.parseAxisParam(i,a.shape)[0],c=n.data.get(o.dataId).values,f=a.shape[u],p=function(e){var t=c[e];l.D5U.assert(t<=f-1&&t>=0,(function(){return"GatherV2: the index value ".concat(t," is not in [0, ").concat(f-1,"]")}))},d=0;d<c.length;++d)p(d);var h=s;null==s&&(h=0);var v=l.D5U.sizeFromShape(o.shape),m=l.Wap.segment_util.collectGatherOpShapeInfo(a,o,u,h),g=Zh({inputs:{x:a},backend:n,attrs:{shape:[m.batchSize,m.outerSize,m.dimSize,m.sliceSize]}}),y=Zh({inputs:{x:o},backend:n,attrs:{shape:[m.batchSize,v/m.batchSize]}}),b=[m.batchSize,m.outerSize,v/m.batchSize,m.sliceSize],x=n.bufferSync(y),w=cg(n.bufferSync(g),x,b);return n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(y),n.makeTensorInfo(m.outputShape,w.dtype,w.values)}},fg=dh((function(e,t){return e>t?1:0})),pg=Rh(l.iZT,fg,null,"bool"),dg={kernelName:l.iZT,backendName:"cpu",kernelFunc:pg},hg=dh((function(e,t){return e>=t?1:0})),vg=Rh(l.Acj,hg,null,"bool"),mg={kernelName:l.Acj,backendName:"cpu",kernelFunc:vg};var gg={kernelName:l.Qg5,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.input,a=l.D5U.sizeFromShape(r.shape),o=r.shape[r.shape.length-1],i=Zh({inputs:{x:r},backend:n,attrs:{shape:[a/o,o]}}),s=Gm(i,!0,n),u=Zh({inputs:{x:s},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(s),u}},yg=oh(l.avt,(function(e){return Number.isFinite(e)?1:0}),"bool"),bg={kernelName:l.avt,backendName:"cpu",kernelFunc:yg},xg=oh(l.iWB,(function(e){return Math.abs(e)===1/0?1:0}),"bool"),wg={kernelName:l.iWB,backendName:"cpu",kernelFunc:xg},kg=oh(l.r7n,(function(e){return Number.isNaN(e)?1:0}),"bool"),Sg={kernelName:l.r7n,backendName:"cpu",kernelFunc:kg},Eg=dh((function(e,t){return e<t?1:0})),Cg=Rh(l.vtC,Eg,null,"bool"),Ng={kernelName:l.vtC,backendName:"cpu",kernelFunc:Cg},Tg=dh((function(e,t){return e<=t?1:0})),Ig=Rh(l.CAk,Tg,null,"bool"),Og={kernelName:l.CAk,backendName:"cpu",kernelFunc:Ig};function _g(e,t,n){var r=(t-e)/(n-1),a=l.D5U.makeZerosTypedArray(n,"float32");a[0]=e;for(var o=1;o<a.length;o++)a[o]=a[o-1]+r;return a}var Dg={kernelName:l.e7N,backendName:"cpu",kernelFunc:function(e){var t=e.backend,n=e.attrs,r=_g(n.start,n.stop,n.num);return t.makeTensorInfo([r.length],"float32",r)}},Ag=wh((function(e){return Math.log(e)})),Rg=ih(l.ZbH,Ag),Pg={kernelName:l.ZbH,backendName:"cpu",kernelFunc:Rg},Mg=oh(l.kU,(function(e){return Math.log1p(e)})),Fg={kernelName:l.kU,backendName:"cpu",kernelFunc:Mg},Lg=dh((function(e,t){return e&&t})),jg=Rh(l.PYm,Lg,null,"bool"),Zg={kernelName:l.PYm,backendName:"cpu",kernelFunc:jg},zg=oh(l.VfG,(function(e){return e?0:1}),"bool"),Bg={kernelName:l.VfG,backendName:"cpu",kernelFunc:zg},Ug=dh((function(e,t){return e||t})),Wg=Rh(l.MZg,Ug,null,"bool"),Vg={kernelName:l.MZg,backendName:"cpu",kernelFunc:Wg};var Hg={kernelName:l.eZ0,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.depthRadius,i=r.bias,s=r.alpha,u=r.beta;nh(a,"LRN");var c=a.shape[3],f=c-1,p=n.data.get(a.dataId).values,d=l.D5U.sizeFromShape(a.shape),h=new Float32Array(d);function v(e){for(var t=e%c,n=e-t+Math.max(0,t-o),r=e-t+Math.min(t+o,f),a=0;n<=r;n++){var i=p[n];a+=i*i}return a}for(var m=0;m<d;m++){var g=v(m),y=p[m]*Math.pow(i+s*g,-u);h[m]=y}return n.makeTensorInfo(a.shape,a.dtype,h)}};var Gg={kernelName:l.Hhh,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.y,i=t.dy,s=r.depthRadius,u=r.bias,c=r.alpha,f=r.beta;nh(i,"LRNGrad");for(var p=l.D5U.sizeFromShape(i.shape),d=i.shape[3],h=n.data.get(i.dataId).values,v=n.data.get(a.dataId).values,m=n.data.get(o.dataId).values,g=new Float32Array(p),y=p,b=0;b<y;b++){for(var x=b%d,w=b-x+Math.max(0,x-s),k=b-x+Math.min(d,x+s+1),S=0,E=w;E<k;E++)S+=Math.pow(v[E],2);S=c*S+u;for(var C=w;C<k;C++){var N=-2*c*f*v[C]*m[b]/S;b===C&&(N+=Math.pow(S,-f)),N*=h[b],g[C]+=N}}return n.makeTensorInfo(i.shape,a.dtype,g)}};function qg(e,t,n,r){for(var a=l.D5U.getTypedArrayFromDType(r,l.D5U.sizeFromShape(n)),o=0;o<a.length;++o){for(var i=o*t,s=e[i],u=0;u<t;++u){var c=e[i+u];(Number.isNaN(c)||c>s)&&(s=c)}a[o]=s}return a}function Xg(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.reductionIndices,i=r.keepDims,s=n,u=a.shape,c=u.length,p=l.D5U.parseAxisParam(o,u),d=p,h=l.Wap.getAxesPermutation(d,c),v=s.data.get(a.dataId).values;if(null!=h){for(var m=new Array(c),g=0;g<m.length;g++)m[g]=u[h[g]];v=Qh(v,u,a.dtype,h,m),d=l.Wap.getInnerMostAxes(d.length,c),u=m}nh(a,"max"),l.Wap.assertAxesAreInnerMostDims("max",d,c);var y=l.Wap.computeOutAndReduceShapes(u,d),b=(0,f.Z)(y,2),x=b[0],w=b[1],k=qg(v,l.D5U.sizeFromShape(w),x,a.dtype),S=s.write(k,x,a.dtype),E=x;i&&(E=l.Wap.expandShapeToKeepDim(x,p));return{dataId:S,shape:E,dtype:a.dtype}}var Kg={kernelName:l.YoZ,backendName:"cpu",kernelFunc:Xg},Yg=dh((function(e,t){return Math.max(e,t)})),Qg=Rh(l.BMI,Yg),$g={kernelName:l.BMI,backendName:"cpu",kernelFunc:Qg};var Jg={kernelName:l.mTV,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x;nh(a,"maxPool");var o=r.filterSize,i=r.strides,s=r.pad,u=r.dimRoundingMode;l.D5U.assert(l.Wap.eitherStridesOrDilationsAreOne(i,1),(function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(i," and dilations '").concat(1,"'")}));var c,f=l.Wap.computePool2DInfo(a.shape,o,i,1,s,u);if(1===f.filterWidth&&1===f.filterHeight&&l.D5U.arraysEqual(f.inShape,f.outShape))c=ch({inputs:{x:a},backend:n});else{var p=n.data.get(a.dataId).values,d=l.D5U.computeStrides(a.shape),h=vv(p,a.shape,a.dtype,d,f,"max");c=n.makeTensorInfo(f.outShape,a.dtype,h.values)}return c}};var ey={kernelName:l.OAf,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.filterSize,i=r.strides,s=r.pad,u=r.dimRoundingMode,c=r.dataFormat;nh(a,"maxPool3d");var f=l.Wap.computePool3DInfo(a.shape,o,i,1,s,u,c),p=gv(n.data.get(a.dataId).values,a.shape,a.dtype,l.D5U.computeStrides(a.shape),f,"max");return n.makeTensorInfo(p.shape,"float32",p.values)}};var ty={kernelName:l.OU7,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.input,i=r.filterSize,s=r.strides,u=r.pad,c=r.dimRoundingMode;nh([a,o],"maxPool3DGrad");for(var f=l.Wap.computePool3DInfo(o.shape,i,s,1,u,c),p=function(e,t){for(var n=(0,l.f3b)(t.outShape,"int32"),r=t.strideDepth,a=t.strideHeight,o=t.strideWidth,i=t.dilationDepth,s=t.dilationHeight,u=t.dilationWidth,c=t.effectiveFilterDepth,f=t.effectiveFilterHeight,p=t.effectiveFilterWidth,d=t.padInfo.front,h=t.padInfo.top,v=t.padInfo.left,m=0;m<t.batchSize;++m)for(var g=0;g<t.inChannels;++g)for(var y=0;y<t.outDepth;++y){for(var b=y*r-d,x=b;x<0;)x+=i;for(var w=Math.min(t.inDepth,c+b),k=0;k<t.outHeight;++k){for(var S=k*a-h,E=S;E<0;)E+=s;for(var C=Math.min(t.inHeight,f+S),N=0;N<t.outWidth;++N){for(var T=N*o-v,I=T;I<0;)I+=u;for(var O=Math.min(t.inWidth,p+T),_=Number.NEGATIVE_INFINITY,D=-1,A=x;A<w;A+=i)for(var R=A-b,P=E;P<C;P+=s)for(var M=P-S,F=I;F<O;F+=u){var L=F-T,j=e.get(m,A,P,F,g);j>=_&&(_=j,D=R*f*p+M*f+L)}n.set(D,m,y,k,N,g)}}}return n}(n.bufferSync(o),f),d=f.strideDepth,h=f.strideHeight,v=f.strideWidth,m=f.dilationDepth,g=f.dilationHeight,y=f.dilationWidth,b=f.effectiveFilterDepth,x=f.effectiveFilterHeight,w=f.effectiveFilterWidth,k=b-1-f.padInfo.front,S=w-1-f.padInfo.left,E=x-1-f.padInfo.top,C=(0,l.f3b)(o.shape,"float32"),N=n.bufferSync(a),T=0;T<f.batchSize;++T)for(var I=0;I<f.inChannels;++I)for(var O=0;O<f.inDepth;++O)for(var _=0;_<f.inHeight;++_)for(var D=0;D<f.inWidth;++D){for(var A=O-k,R=_-E,P=D-S,M=0,F=0;F<b;F+=m){var L=(A+F)/d;if(!(L<0||L>=f.outDepth||Math.floor(L)!==L))for(var j=0;j<x;j+=g){var Z=(R+j)/h;if(!(Z<0||Z>=f.outHeight||Math.floor(Z)!==Z))for(var z=0;z<w;z+=y){var B=(P+z)/v;if(!(B<0||B>=f.outWidth||Math.floor(B)!==B)){var U=b*x*w-1-p.get(T,L,Z,B,I)===F*x*w+j*w+z?1:0;if(0!==U)M+=N.get(T,L,Z,B,I)*U}}}}C.set(M,T,O,_,D,I)}return n.makeTensorInfo(C.shape,C.dtype,C.values)}};var ny={kernelName:l.OV7,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.input,i=o;nh([o,t.output],"maxPoolGrad");for(var s=r.filterSize,u=r.strides,c=r.pad,f=r.dimRoundingMode,p=l.Wap.computePool2DInfo(i.shape,s,u,1,c,f),d=n.data.get(i.dataId).values,h=(0,l.f3b)(p.outShape,i.dtype,mv(d,i.shape,i.dtype,p).values),v=p.strideHeight,m=p.strideWidth,g=p.dilationHeight,y=p.dilationWidth,b=p.effectiveFilterHeight,x=p.effectiveFilterWidth,w=x-1-p.padInfo.left,k=b-1-p.padInfo.top,S=(0,l.f3b)(i.shape,"float32"),E=n.data.get(a.dataId).values,C=(0,l.f3b)(a.shape,"float32",E),N=0;N<p.batchSize;++N)for(var T=0;T<p.inChannels;++T)for(var I=0;I<p.inHeight;++I)for(var O=0;O<p.inWidth;++O){for(var _=I-k,D=O-w,A=0,R=0;R<b;R+=g){var P=(_+R)/v;if(!(P<0||P>=p.outHeight||Math.floor(P)!==P))for(var M=0;M<x;M+=y){var F=(D+M)/m;if(!(F<0||F>=p.outWidth||Math.floor(F)!==F)){var L=b*x-1-h.get(N,P,F,T)===R*x+M?1:0;if(0!==L)A+=C.get(N,P,F,T)*L}}}S.set(A,N,I,O,T)}return n.makeTensorInfo(S.shape,S.dtype,S.values)}};var ry={kernelName:l.vFR,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,o=n.filterSize,i=n.strides,s=n.pad,u=n.includeBatchInIndex,c=r;nh(a,"MaxPoolWithArgmax");var p=c.data.get(a.dataId).values,d=l.Wap.computePool2DInfo(a.shape,o,i,[1,1],s),h=function(e,t,n,r,a){var o=vv(e,0,n,l.D5U.computeStrides(t),a,"max"),i=mv(e,t,n,a,!0,r);return[o.values,i.values]}(p,a.shape,a.dtype,u,d),v=(0,f.Z)(h,2),m=v[0],g=v[1],y=c.write(m,d.outShape,a.dtype),b=c.write(g,d.outShape,a.dtype);return[{dataId:y,shape:d.outShape,dtype:a.dtype},{dataId:b,shape:d.outShape,dtype:"int32"}]}};var ay={kernelName:l.q2K,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,i=r.keepDims,s=l.D5U.parseAxisParam(o,a.shape),u=l.Wap.computeOutAndReduceShapes(a.shape,s)[1],c=l.D5U.sizeFromShape(u),f=[],p=n.makeTensorInfo([],"float32",new Float32Array([c]));f.push(p);var d=Dh({inputs:{x:a},backend:n,attrs:{dtype:"float32"}});f.push(d);var h=zm({inputs:{a:d,b:p},backend:n});f.push(h);var v=mm({inputs:{x:h},backend:n,attrs:{axis:o,keepDims:i}});return f.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),v}};var oy={kernelName:l.c17,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,i=r.keepDims;nh(a,"min");var s=l.D5U.parseAxisParam(o,a.shape),u=s,c=l.Wap.getAxesPermutation(u,a.shape.length),p=a;null!=c&&(p=$h({inputs:{x:a},backend:n,attrs:{perm:c}}),u=l.Wap.getInnerMostAxes(u.length,a.shape.length)),l.Wap.assertAxesAreInnerMostDims("min",u,p.shape.length);for(var d=l.Wap.computeOutAndReduceShapes(p.shape,u),h=(0,f.Z)(d,2),v=h[0],m=h[1],g=l.D5U.sizeFromShape(m),y=l.D5U.makeZerosTypedArray(l.D5U.sizeFromShape(v),p.dtype),b=n.data.get(p.dataId).values,x=0;x<y.length;++x){for(var w=x*g,k=b[w],S=0;S<g;++S){var E=b[w+S];(Number.isNaN(E)||E<k)&&(k=E)}y[x]=k}null!=c&&n.disposeIntermediateTensorInfo(p);var C=n.makeTensorInfo(v,p.dtype,y);if(i){var N=Zh({inputs:{x:C},backend:n,attrs:{shape:l.Wap.expandShapeToKeepDim(v,s)}});return n.disposeIntermediateTensorInfo(C),N}return C}},iy=dh((function(e,t){return Math.min(e,t)})),sy=Rh(l.q8u,iy),uy={kernelName:l.q8u,backendName:"cpu",kernelFunc:sy};var cy={kernelName:l.jQs,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.paddings,i=r.mode;nh(a,"mirrorPad");for(var s=o.map((function(e,t){return e[0]+a.shape[t]+e[1]})),u=o.map((function(e){return e[0]})),c=o.map((function(e,t){return e[0]+a.shape[t]})),f="reflect"===i?0:1,p=n.data.get(a.dataId).values,d=a.shape.length,h=l.D5U.computeStrides(a.shape),v=l.D5U.sizeFromShape(s),m=s.length,g=l.D5U.computeStrides(s),y=l.D5U.getTypedArrayFromDType(a.dtype,v),b=0;b<v;b++){for(var x=l.D5U.indexToLoc(b,m,g),w=0;w<m;w++)x[w]<u[w]?x[w]=2*u[w]-x[w]-f:x[w]>=c[w]&&(x[w]=2*(c[w]-1)-x[w]+f);x=x.map((function(e,t){return e-u[t]}));var k=l.D5U.locToIndex(x,d,h);y[b]=p[k]}return{dataId:n.write(y,s,a.dtype),shape:s,dtype:a.dtype}}},ly=dh((function(e,t){var n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t})),fy=Rh(l.Vbg,ly),py={kernelName:l.Vbg,backendName:"cpu",kernelFunc:fy},dy=n(8598);function hy(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.logits,o=r.dim,i=a.shape.length,s=o;if(-1===s&&(s=i-1),s!==i-1)throw Error("Softmax along a non-last dimension is not yet supported. "+"Logits was rank ".concat(i," and dim was ").concat(s));var u=l.D5U.parseAxisParam([s],a.shape),c=Xg({inputs:{x:a},backend:n,attrs:{reductionIndices:u,keepDims:!1}}),f=l.Wap.expandShapeToKeepDim(c.shape,u),p=Zh({inputs:{x:c},backend:n,attrs:{shape:f}}),d=Vm({inputs:{a:a,b:p},backend:n}),h=Am({inputs:{x:d},backend:n}),v=mm({inputs:{x:h},backend:n,attrs:{axis:u,keepDims:!1}}),m=Zh({inputs:{x:v},backend:n,attrs:{shape:f}}),g=zm({inputs:{a:h,b:m},backend:n});return n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(m),g}var vy={kernelName:l.Gcp,backendName:"cpu",kernelFunc:hy};var my={kernelName:l.NZg,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.logits,o=r.numSamples,i=r.seed,s=r.normalized;nh(a,"multinomial");for(var u=s?a:hy({inputs:{logits:a},backend:n,attrs:{dim:-1}}),c=u.shape[0],f=u.shape[1],p=n.data.get(u.dataId).values,d=[c,o],h=l.D5U.makeZerosTypedArray(l.D5U.sizeFromShape(d),"int32"),v=0;v<c;++v){var m=v*f,g=new Float32Array(f-1);g[0]=p[m];for(var y=1;y<g.length;++y)g[y]=g[y-1]+p[m+y];for(var b=dy.alea(i.toString()),x=v*o,w=0;w<o;++w){var k=b();h[x+w]=g.length;for(var S=0;S<g.length;S++)if(k<g[S]){h[x+w]=S;break}}}return s||n.disposeIntermediateTensorInfo(u),n.makeTensorInfo(d,"int32",h)}};function gy(e,t,n){var r=l.D5U.createScalarValue(-1,n);return pm([],t,r,e,n)}var yy={kernelName:l.kuV,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x;nh(r,"neg");var a=gy(n.data.get(r.dataId).values,r.shape,r.dtype),o=(0,f.Z)(a,2),i=o[0],s=o[1];return n.makeTensorInfo(s,r.dtype,i)}},by=l.GDt.nonMaxSuppressionV3Impl;var xy={kernelName:l.uv1,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,o=t.scores,i=r.maxOutputSize,s=r.iouThreshold,u=r.scoreThreshold;nh(a,"NonMaxSuppression");var c=n.data.get(a.dataId).values,l=n.data.get(o.dataId).values,f=by(c,l,i,s,u).selectedIndices;return n.makeTensorInfo([f.length],"int32",new Int32Array(f))}},wy=l.GDt.nonMaxSuppressionV4Impl;var ky={kernelName:l.cye,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,o=t.scores,i=r.maxOutputSize,s=r.iouThreshold,u=r.scoreThreshold,c=r.padToMaxOutputSize;nh(a,"NonMaxSuppressionPadded");var l=n.data.get(a.dataId).values,f=n.data.get(o.dataId).values,p=wy(l,f,i,s,u,c),d=p.selectedIndices,h=p.validOutputs;return[n.makeTensorInfo([d.length],"int32",new Int32Array(d)),n.makeTensorInfo([],"int32",new Int32Array([h]))]}},Sy=l.GDt.nonMaxSuppressionV5Impl;var Ey={kernelName:l.W0H,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,o=t.scores,i=r.maxOutputSize,s=r.iouThreshold,u=r.scoreThreshold,c=r.softNmsSigma;nh(a,"NonMaxSuppressionWithScore");var l=n.data.get(a.dataId).values,f=n.data.get(o.dataId).values,p=Sy(l,f,i,s,u,c),d=p.selectedIndices,h=p.selectedScores;return[n.makeTensorInfo([d.length],"int32",new Int32Array(d)),n.makeTensorInfo([h.length],"float32",new Float32Array(h))]}},Cy=dh((function(e,t){return e!==t?1:0})),Ny=Rh(l.yQU,Cy,null,"bool"),Ty={kernelName:l.yQU,backendName:"cpu",kernelFunc:Ny};var Iy={kernelName:l.we_,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.indices,o=r.depth,i=r.onValue,s=r.offValue;nh(a,"oneHot");var u=l.D5U.sizeFromShape(a.shape),c=new Float32Array(u*o);c.fill(s);for(var f=n.data.get(a.dataId).values,p=0;p<u;++p)f[p]>=0&&f[p]<o&&(c[p*o+f[p]]=i);return n.makeTensorInfo([].concat((0,Qn.Z)(a.shape),[o]),"int32",c)}};function Oy(e){var t=e.inputs,n=e.backend,r=t.x;if("string"===r.dtype)throw new Error("zerosLike is not supported for string tensors");if("complex64"===r.dtype){var a=Oh({inputs:{input:r},backend:n}),o=Oy({inputs:{x:a},backend:n}),i=jv({inputs:{input:r},backend:n}),s=Oy({inputs:{x:i},backend:n}),u=Nh({inputs:{real:o,imag:s},backend:n});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(s),u}return Ym({backend:n,attrs:{shape:r.shape,value:0,dtype:r.dtype}})}var _y={kernelName:l.RuY,backendName:"cpu",kernelFunc:Oy};var Dy={kernelName:l.qWM,backendName:"cpu",kernelFunc:function e(t){var n=t.inputs,r=t.backend,a=n.x;if("string"===a.dtype)throw new Error("onesLike is not supported for string tensors");if("complex64"===a.dtype){var o=Oh({inputs:{input:a},backend:r}),i=e({inputs:{x:o},backend:r}),s=jv({inputs:{input:a},backend:r}),u=Oy({inputs:{x:s},backend:r}),c=Nh({inputs:{real:i,imag:u},backend:r});return r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(s),r.disposeIntermediateTensorInfo(u),c}return Ym({backend:r,attrs:{shape:a.shape,value:1,dtype:a.dtype}})}};function Ay(e){var t=e.inputs,n=e.backend,r=e.attrs.axis;if(1===t.length)return Pm({inputs:{input:t[0]},backend:n,attrs:{dim:r}});var a=t[0].shape,o=t[0].dtype;t.forEach((function(e){l.D5U.assertShapesMatch(a,e.shape,"All tensors passed to stack must have matching shapes"),l.D5U.assert(o===e.dtype,(function(){return"All tensors passed to stack must have matching dtypes"}))}));var i=[],s=zv({inputs:t.map((function(e){var t=Pm({inputs:{input:e},backend:n,attrs:{dim:r}});return i.push(t),t})),backend:n,attrs:{axis:r}});return i.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),s}var Ry={kernelName:l.QiL,backendName:"cpu",kernelFunc:Ay};var Py={kernelName:l.lyA,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.paddings,i=r.constantValue;nh(a,"pad");var s=o.map((function(e,t){return e[0]+a.shape[t]+e[1]})),u=o.map((function(e){return e[0]})),c=n.data.get(a.dataId).values,f=l.D5U.sizeFromShape(a.shape),p=a.shape.length,d=l.D5U.computeStrides(a.shape),h=l.D5U.sizeFromShape(s),v=s.length,m=l.D5U.computeStrides(s),g=l.D5U.getTypedArrayFromDType(a.dtype,h);0!==i&&g.fill(i);for(var y=0;y<f;y++){var b=l.D5U.indexToLoc(y,p,d).map((function(e,t){return e+u[t]}));g[l.D5U.locToIndex(b,v,m)]=c[y]}return{dataId:n.write(g,s,a.dtype),shape:s,dtype:a.dtype}}},My=dh((function(e,t){return Math.pow(e,t)})),Fy=Rh(l.pe_,My),Ly={kernelName:l.pe_,backendName:"cpu",kernelFunc:Fy};function jy(e,t,n,r){for(var a=l.Wap.computeOutAndReduceShapes(e,r),o=(0,f.Z)(a,2),i=o[0],s=o[1],u=(0,l.x8V)(t,"int32"),c=l.D5U.makeZerosTypedArray(l.D5U.sizeFromShape(i),u),p=l.D5U.sizeFromShape(s),d=0;d<c.length;++d){for(var h=d*p,v=1,m=0;m<p;++m)v*=n[h+m];c[d]=v}return{outVals:c,outShape:i,outDtype:u}}var Zy={kernelName:l.DlI,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,i=r.keepDims;nh(a,"prod");var s=a.shape.length,u=l.D5U.parseAxisParam(o,a.shape),c=l.Wap.getAxesPermutation(u,s),f=u,p=a,d=[];null!=c&&(p=$h({inputs:{x:a},backend:n,attrs:{perm:c}}),d.push(p),f=l.Wap.getInnerMostAxes(f.length,s));var h=n.data.get(p.dataId).values,v=jy(p.shape,p.dtype,h,f),m=v.outVals,g=v.outShape,y=v.outDtype,b=g;return i&&(b=l.Wap.expandShapeToKeepDim(g,u)),d.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.makeTensorInfo(b,y,m)}};function zy(e,t,n,r){if(e===t||e<t&&n<0||t<e&&n>1)return l.D5U.makeZerosTypedArray(0,r);var a=Math.abs(Math.ceil((t-e)/n)),o=l.D5U.makeZerosTypedArray(a,r);t<e&&1===n&&(n=-1),o[0]=e;for(var i=1;i<o.length;i++)o[i]=o[i-1]+n;return o}var By={kernelName:l.e6w,backendName:"cpu",kernelFunc:function(e){var t=e.backend,n=e.attrs,r=n.start,a=n.stop,o=n.dtype,i=zy(r,a,n.step,o);return t.makeTensorInfo([i.length],o,i)}},Uy=oh(l.$HU,(function(e){return 1/e})),Wy={kernelName:l.$HU,backendName:"cpu",kernelFunc:Uy};var Vy={kernelName:l._Yw,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,o=r.alignCorners,i=r.halfPixelCenters,s=r.size;nh(a,"resizeBilinear");for(var u=l.D5U.computeStrides(a.shape),c=(0,f.Z)(s,2),p=c[0],d=c[1],h=(0,f.Z)(a.shape,4),v=h[0],m=h[1],g=h[2],y=h[3],b=n.data.get(a.dataId).values,x=new Float32Array(l.D5U.sizeFromShape([v,p,d,y])),w=[o&&p>1?m-1:m,o&&d>1?g-1:g],k=[o&&p>1?p-1:p,o&&d>1?d-1:d],S=0,E=w[0]/k[0],C=w[1]/k[1],N=0;N<v;N++)for(var T=0;T<p;T++){var I=void 0;I=i?E*(T+.5)-.5:E*T;for(var O=Math.max(0,Math.floor(I)),_=I-O,D=Math.min(m-1,Math.ceil(I)),A=N*u[0]+O*u[1],R=N*u[0]+D*u[1],P=0;P<d;P++){var M=void 0;M=i?C*(P+.5)-.5:C*P;for(var F=Math.max(0,Math.floor(M)),L=M-F,j=Math.min(g-1,Math.ceil(M)),Z=A+F*u[2],z=R+F*u[2],B=A+j*u[2],U=R+j*u[2],W=0;W<y;W++){var V=b[Z+W],H=b[z+W],G=V+(b[B+W]-V)*L,q=G+(H+(b[U+W]-H)*L-G)*_;x[S++]=q}}}return n.makeTensorInfo([v,p,d,y],"float32",x)}};var Hy={kernelName:l.zbQ,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,o=t.dy,i=r.alignCorners;nh([o,a],"resizeBilinearGrad");for(var s=l.D5U.computeStrides(a.shape),u=(0,f.Z)(a.shape,4),c=u[0],p=u[1],d=u[2],h=u[3],v=(0,f.Z)(o.shape,3),m=v[1],g=v[2],y=new Float32Array(c*p*d*h),b=[i&&m>1?p-1:p,i&&g>1?d-1:d],x=[i&&m>1?m-1:m,i&&g>1?g-1:g],w=b[0]/x[0],k=b[1]/x[1],S=n.data.get(o.dataId).values,E=0,C=0;C<c;C++)for(var N=C*s[0],T=0;T<m;T++)for(var I=T*w,O=Math.floor(I),_=Math.min(Math.ceil(I),p-1),D=N+O*s[1],A=N+_*s[1],R=I-O,P=1-R,M=0;M<g;M++)for(var F=M*k,L=Math.floor(F),j=Math.min(Math.ceil(F),d-1),Z=F-L,z=1-Z,B=D+L*s[2],U=D+j*s[2],W=A+L*s[2],V=A+j*s[2],H=P*z,G=P*Z,q=R*z,X=R*Z,K=0;K<h;K++){var Y=S[E++];y[B+K]+=Y*H,y[U+K]+=Y*G,y[W+K]+=Y*q,y[V+K]+=Y*X}return n.makeTensorInfo([c,d,p,h],"float32",y)}};var Gy={kernelName:l.dpD,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,o=r.alignCorners,i=r.halfPixelCenters,s=r.size;nh(a,"resizeNearestNeighbor");for(var u=l.D5U.computeStrides(a.shape),c=(0,f.Z)(s,2),p=c[0],d=c[1],h=(0,f.Z)(a.shape,4),v=h[0],m=h[1],g=h[2],y=h[3],b=n.data.get(a.dataId).values,x=new Float32Array(v*p*d*y),w=[o&&p>1?m-1:m,o&&d>1?g-1:g],k=[o&&p>1?p-1:p,o&&d>1?d-1:d],S=w[0]/k[0],E=w[1]/k[1],C=0,N=0;N<v;N++)for(var T=N*u[0],I=0;I<p;I++){var O=i?S*(I+.5):S*I,_=Math.min(m-1,o?Math.round(O):Math.floor(O));i&&(_=Math.max(0,_));for(var D=T+_*u[1],A=0;A<d;A++){var R=i?E*(A+.5):E*A,P=Math.min(g-1,o?Math.round(R):Math.floor(R));i&&(P=Math.max(0,P));for(var M=D+P*u[2],F=0;F<y;F++){var L=b[M+F];x[C++]=L}}}return n.makeTensorInfo([v,p,d,y],a.dtype,x)}};var qy={kernelName:l.Hmb,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,o=t.dy,i=r.alignCorners;nh([o,a],"resizeNearestNeighborGrad");for(var s=l.D5U.computeStrides(a.shape),u=l.D5U.computeStrides(o.shape),c=(0,f.Z)(a.shape,4),p=c[0],d=c[1],h=c[2],v=c[3],m=(0,f.Z)(o.shape,3),g=m[1],y=m[2],b=new Float32Array(p*d*h*v),x=n.data.get(o.dataId).values,w=[i&&g>1?d-1:d,i&&y>1?h-1:h],k=[i&&g>1?g-1:g,i&&y>1?y-1:y],S=w[0]/k[0],E=w[1]/k[1],C=1/S,N=1/E,T=2*Math.ceil(C)+2,I=2*Math.ceil(N)+2,O=0;O<p;O++)for(var _=O*s[0],D=0;D<d;D++)for(var A=_+D*s[1],R=Math.floor(D*C),P=Math.floor(R-T/2),M=0;M<h;M++)for(var F=A+M*s[2],L=Math.floor(M*N),j=Math.floor(L-I/2),Z=0;Z<v;Z++){for(var z=0,B=0;B<T;B++){var U=B+P;if(!(U<0||U>=g)){var W=_+U*u[1],V=U*S;if(D===Math.min(d-1,i?Math.round(V):Math.floor(V)))for(var H=0;H<I;H++){var G=H+j;if(!(G<0||G>=y)){var q=W+G*u[2],X=G*E;M===Math.min(h-1,i?Math.round(X):Math.floor(X))&&(z+=x[q+Z])}}}}b[F+Z]=z}return n.makeTensorInfo(a.shape,a.dtype,b)}};var Xy={kernelName:l.mKl,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.dims;nh(a,"reverse");var i=a.shape.length,s=l.D5U.parseAxisParam(o,a.shape);if(0===i)return ch({inputs:{x:a},backend:n});for(var u=new l.YDk(a.shape,a.dtype),c=n.bufferSync(a),f=function(e){var t=u.indexToLoc(e),n=t.slice();s.forEach((function(e){return n[e]=a.shape[e]-1-n[e]})),u.set.apply(u,[c.get.apply(c,(0,Qn.Z)(n))].concat((0,Qn.Z)(t)))},p=0;p<u.size;p++)f(p);return n.makeTensorInfo(u.shape,u.dtype,u.values)}},Ky={kernelName:l.b9H,backendName:"cpu",kernelFunc:function(e){for(var t=e.inputs,n=e.attrs,r=e.backend,a=t.image,o=n.radians,i=n.fillValue,s=n.center,u=r,c=l.D5U.getTypedArrayFromDType(a.dtype,l.D5U.sizeFromShape(a.shape)),p=(0,f.Z)(a.shape,4),d=p[0],h=p[1],v=p[2],m=p[3],g=l.Wap.getImageCenter(s,h,v),y=(0,f.Z)(g,2),b=y[0],x=y[1],w=Math.sin(o),k=Math.cos(o),S=u.data.get(a.dataId).values,E=0;E<d;E++)for(var C=E*v*h*m,N=0;N<h;N++)for(var T=N*(v*m),I=0;I<v;I++)for(var O=I*m,_=0;_<m;_++){var D=[d,N,I,_],A=D[2],R=D[1],P=(A-b)*k-(R-x)*w,M=(A-b)*w+(R-x)*k;P=Math.round(P+b),M=Math.round(M+x);var F=i;if("number"!==typeof i&&(F=3===_?255:i[_]),P>=0&&P<v&&M>=0&&M<h)F=S[C+M*(v*m)+P*m+_];c[C+T+O+_]=F}return{dataId:u.write(c,a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}},Yy=oh(l.e07,(function(e){var t=Math.floor(e);return e-t<.5?Math.floor(e):e-t>.5?Math.ceil(e):t%2===0?t:t+1})),Qy={kernelName:l.e07,backendName:"cpu",kernelFunc:Yy},$y=wh((function(e){return 1/Math.sqrt(e)})),Jy=ih(l.bV0,$y),eb={kernelName:l.bV0,backendName:"cpu",kernelFunc:Jy};function tb(e,t,n,r,a,o,i,s,u,c){var f=[r/a,a],p=e.values,d=t.values;if(0===r)return(0,l.f3b)(n,t.dtype);var h=(0,l.f3b)(f,t.dtype);"string"===typeof u||"number"===typeof u?h.values.fill(u):"boolean"===typeof u&&h.values.fill(+u);for(var v=0;v<o;v++){for(var m=[],g=0,y=0;y<i;y++){var b=p[v*i+y];m.push(b),g+=b*s[y]}if(g<0||g>=r/a)throw new Error("Invalid indices: ".concat(m," does not index into ").concat(n));for(var x=0;x<a;x++)c?h.values[g*a+x]+=d[v*a+x]:h.values[g*a+x]=0===t.rank?d[0]:d[v*a+x]}return h}var nb={kernelName:l.xQA,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.indices,o=t.updates,i=r.shape,s=l.Wap.calculateShapes(o,a,i),u=s.sliceRank,c=s.numUpdates,f=s.sliceSize,p=s.strides,d=s.outputSize,h=tb(n.bufferSync(a),n.bufferSync(o),i,d,f,c,u,p,0,!0);return n.makeTensorInfo(i,h.dtype,h.values)}};function rb(e,t){for(var n=0,r=e.length,a=0;n<r;)e[a=Math.floor((n+r)/2)]<t?n=a+1:r=a;return r}function ab(e,t){for(var n=0,r=e.length,a=0;n<r;)e[a=Math.floor((n+r)/2)]<=t?n=a+1:r=a;return r}var ob={kernelName:l.nr8,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.sortedSequence,o=t.values,i=r.side,s=function(e,t,n,r,a,o){for(var i=l.D5U.getArrayFromDType("int32",n*a),s=0;s<n;++s)for(var u=e.slice(s*r,(s+1)*r),c=s*a,f=0;f<a;++f)i[c+f]="left"===o?rb(u,t[f+c]):ab(u,t[f+c]);return i}(n.data.get(a.dataId).values,n.data.get(o.dataId).values,a.shape[0],a.shape[1],o.shape[1],i);return n.makeTensorInfo(o.shape,"int32",s)}};var ib={kernelName:l.PhF,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.condition,a=t.t,o=t.e;nh([r,a,o],"select");for(var i=r.shape.length,s=n.data.get(r.dataId).values,u=n.data.get(a.dataId).values,c=n.data.get(o.dataId).values,f=(0,l.x8V)(a.dtype,o.dtype),p=l.D5U.makeZerosTypedArray(l.D5U.sizeFromShape(a.shape),f),d=0,h=0===i||i>1||1===a.shape.length?1:l.D5U.sizeFromShape(a.shape.slice(1)),v=0;v<s.length;v++)for(var m=0;m<h;m++)1===s[v]?p[d++]=u[v]:p[d++]=c[v];return n.makeTensorInfo(a.shape,f,p)}},sb=l.Wap.SELU_SCALEALPHA,ub=l.Wap.SELU_SCALE,cb=oh(l.oFR,(function(e){return e>=0?ub*e:sb*(Math.exp(e)-1)})),lb={kernelName:l.oFR,backendName:"cpu",kernelFunc:cb},fb=oh(l.i5y,(function(e){return e<0?-1:e>0?1:0})),pb={kernelName:l.i5y,backendName:"cpu",kernelFunc:fb},db=oh(l.RQH,(function(e){return Math.sin(e)})),hb={kernelName:l.RQH,backendName:"cpu",kernelFunc:db},vb=oh(l.wYB,(function(e){return Math.sinh(e)})),mb={kernelName:l.wYB,backendName:"cpu",kernelFunc:vb},gb=Math.log(1.1920928955078125e-7)+2,yb=oh(l.MRv,(function(e){var t=e>-gb,n=e<gb,r=Math.exp(e);return n?r:t?e:Math.log(1+r)})),bb={kernelName:l.MRv,backendName:"cpu",kernelFunc:yb};var xb={kernelName:l.TQc,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.blockShape,i=r.paddings;nh([a],"spaceToBatchND");var s=l.D5U.sizeFromShape(o),u=[[0,0]];u.push.apply(u,(0,Qn.Z)(i));for(var c=1+o.length;c<a.shape.length;++c)u.push([0,0]);var f=Py.kernelFunc({inputs:{x:a},backend:n,attrs:{paddings:u,constantValue:0}}),p=l.Wap.getReshaped(f.shape,o,s,!1),d=l.Wap.getPermuted(p.length,o.length,!1),h=l.Wap.getReshapedPermuted(f.shape,o,s,!1),v=Zh({inputs:{x:f},backend:n,attrs:{shape:p}}),m=$h({inputs:{x:v},backend:n,attrs:{perm:d}}),g=Zh({inputs:{x:m},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(m),g}};function wb(e,t,n,r,a,o,i){var s=t[0],u=o[0],c=new Array(u),f=new Array(s),p=t[1];if(0===u){if(0!==s)throw new Error(l.Wap.getSparseFillEmptyRowsIndicesDenseShapeMismatch(s));return[l.D5U.getArrayFromDType(n,0),[0,p],l.D5U.getArrayFromDType(a,0),c,f]}for(var d=!0,h=0,v=new Array(u).fill(0),m=0;m<s;++m){var g=e[m*p];if(g<0)throw new Error(l.Wap.getSparseFillEmptyRowsNegativeIndexErrorMessage(m,g));if(g>=u)throw new Error(l.Wap.getSparseFillEmptyRowsOutOfRangeIndexErrorMessage(m,g,u));++v[g],d=d&&g>=h,h=g}for(var y=!0,b=0;b<u;++b){var x=0===v[b];c[b]=x,y=y&&!x,v[b]=Math.max(v[b],1),b>0&&(v[b]+=v[b-1])}if(y&&d){for(var w=e,k=r,S=0;S<s;++S)f[S]=S;return[w,[s,p],k,c,f]}for(var E=v[u-1],C=l.D5U.getArrayFromDType(n,E*p),N=l.D5U.getArrayFromDType(a,E),T=new Array(u).fill(0),I=0;I<s;++I){var O=e[I*p],_=T[O],D=(0===O?0:v[O-1])+_;T[O]++;for(var A=0;A<p;++A)C[D*p+A]=e[I*p+A];N[D]=r[I],f[I]=D}for(var R=0;R<u;++R){if(0===T[R]){var P=0===R?0:v[R-1];C[P*p+0]=R;for(var M=1;M<p;++M)C[P*p+M]=0;N[P]=i}}return[C,[E,p],N,c,f]}var kb={kernelName:l.O3z,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.indices,a=t.values,o=t.denseShape,i=t.defaultValue;if(1!==o.shape.length)throw new Error("Dense shape must be a vector, saw:\n        ".concat(o.shape));if(2!==r.shape.length)throw new Error("Indices must be a matrix, saw:\n        ".concat(r.shape));if(1!==a.shape.length)throw new Error("Values must be a vector, saw:\n        ".concat(a.shape));if(0!==i.shape.length)throw new Error("Default value must be a scalar, saw:\n        ".concat(i.shape));var s=n.data.get(r.dataId).values,u=n.data.get(a.dataId).values,c=n.data.get(o.dataId).values,l=n.data.get(i.dataId).values[0],p=wb(s,r.shape,r.dtype,u,a.dtype,c,l),d=(0,f.Z)(p,5),h=d[0],v=d[1],m=d[2],g=d[3],y=d[4];return[n.makeTensorInfo(v,r.dtype,h),n.makeTensorInfo([v[0]],a.dtype,m),n.makeTensorInfo([g.length],"bool",new Uint8Array(g.map((function(e){return Number(e)})))),n.makeTensorInfo([y.length],r.dtype,new Int32Array(y))]}};function Sb(e,t,n,r,a){for(var o=l.D5U.sizeFromShape(r),i=t[0],s=a.length,u=[],c=1,f=-1,p=0;p<s;++p){var d=a[p];if(-1===d){if(-1!==f)throw new Error(l.Wap.getSparseReshapeMultipleNegativeOneOutputDimErrorMessage(f,p));f=p,u.push(1)}else{if(d<0)throw new Error(l.Wap.getSparseReshapeNegativeOutputDimErrorMessage(p,d));c*=d,u.push(d)}}if(-1!==f){if(c<=0)throw new Error(l.Wap.getSparseReshapeEmptyTensorZeroOutputDimErrorMessage());var h=Math.trunc(o/c);if(c*h!==o)throw new Error(l.Wap.getSparseReshapeInputOutputMultipleErrorMessage(r,u));u[f]=h}if(l.D5U.sizeFromShape(u)!==o)throw new Error(l.Wap.getSparseReshapeInputOutputMismatchErrorMessage(r,u));var v=r.length,m=[];if(v>0){m[v-1]=1;for(var g=v-2;g>=0;--g)m[g]=m[g+1]*r[g+1]}var y=[];if(s>0){y[s-1]=1;for(var b=s-2;b>=0;--b)y[b]=y[b+1]*u[b+1]}for(var x=l.D5U.getArrayFromDType(n,i*s),w=0;w<i;++w){for(var k=0,S=0;S<v;++S)k+=e[w*v+S]*m[S];for(var E=0;E<s;++E)x[w*s+E]=Math.trunc(k/y[E]),k%=y[E]}return[x,[i,s],u]}var Eb={kernelName:l.nhH,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.inputIndices,a=t.inputShape,o=t.newShape;if(2!==r.shape.length)throw new Error("Input indices should be a matrix but received shape\n        ".concat(r.shape));if(1!==a.shape.length)throw new Error("Input shape should be a vector but received shape\n        ".concat(a.shape));if(1!==o.shape.length)throw new Error("Target shape should be a vector but received shape ".concat(o.shape));var i=Array.from(n.data.get(a.dataId).values),s=n.data.get(r.dataId).values,u=Array.from(n.data.get(o.dataId).values),c=Sb(s,r.shape,r.dtype,i,u),l=(0,f.Z)(c,3),p=l[0],d=l[1],h=l[2];return[n.makeTensorInfo(d,r.dtype,p),n.makeTensorInfo([h.length],o.dtype,new Int32Array(h))]}};function Cb(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=r.length,u=[t[0],e.length/t[0]],c=u[1],f=s>0?a[s-1]+1:0,p=f;if(p<0)throw new Error(l.Wap.getSparseSegmentReductionNegativeSegmentIdsErrorMessage());var d=t.slice();d[0]=p;var h=d.reduce((function(e,t){return e*t}),1),v=l.D5U.getArrayFromDType(n,h);if(0===s)return p>0&&v.fill(i),[v,d];if(p<=0)throw new Error(l.Wap.getSparseSegmentReductionNegativeSegmentIdsErrorMessage());for(var m=0,g=1,y=0,b=a[m];;){var x=0;if(g<s){if(b===(x=a[g])){++g;continue}if(b>=x)throw new Error(l.Wap.getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage())}if(b<0||b>=p)throw new Error(l.Wap.getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage(b,p));b>y&&v.fill(i,y*c,b*c);for(var w=m;w<g;++w){var k=r[w];if(k<0||k>=u[0])throw new Error(l.Wap.getSparseSegmentReductionIndicesOutOfRangeErrorMessage(w,r[w],u[0]));for(var S=0;S<c;S++)v[b*c+S]+=e[k*c+S]}if(o)for(var E=0;E<c;E++)v[b*c+E]/=g-m;if(m=g,y=b+1,b=x,++g>s)break}return y<p&&v.fill(i,y*c,p*c),[v,d]}var Nb={kernelName:l.w3H,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.data,a=t.indices,o=t.segmentIds;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error("Indices should be a vector but received shape\n          ".concat(a.shape));if(1!==o.shape.length)throw new Error("Segment ids should be a vector but received shape\n          ".concat(o.shape));if(a.shape[0]!==o.shape[0])throw new Error("segmentIds and indices should have same size.");var i=n.data.get(r.dataId).values,s=n.data.get(a.dataId).values,u=n.data.get(o.dataId).values,c=Cb(i,r.shape,r.dtype,s,u,!0),l=(0,f.Z)(c,2),p=l[0],d=l[1];return n.makeTensorInfo(d,r.dtype,p)}};var Tb={kernelName:l.ZjV,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.data,a=t.indices,o=t.segmentIds;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error("Indices should be a vector but received shape\n         ".concat(a.shape));if(1!==o.shape.length)throw new Error("Segment ids should be a vector but received shape\n         ".concat(o.shape));if(a.shape[0]!==o.shape[0])throw new Error("segmentIds and indices should have same size.");var i=n.data.get(r.dataId).values,s=n.data.get(a.dataId).values,u=n.data.get(o.dataId).values,c=Cb(i,r.shape,r.dtype,s,u),l=(0,f.Z)(c,2),p=l[0],d=l[1];return n.makeTensorInfo(d,r.dtype,p)}};var Ib={kernelName:l.D2d,backendName:"cpu",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,o=n.sparseIndices,i=n.sparseValues,s=n.defaultValue,u=a.outputShape,c=l.Wap.calculateShapes(i,o,u),f=c.sliceRank,p=c.numUpdates,d=c.sliceSize,h=c.strides,v=c.outputSize,m=!1,g=r.bufferSync(o);switch(i.dtype){case"bool":t=tb(g,r.bufferSync(i),u,v,d,p,f,h,Boolean(r.data.get(s.dataId).values[0]),m);break;case"float32":t=tb(g,r.bufferSync(i),u,v,d,p,f,h,r.data.get(s.dataId).values[0],m);break;case"int32":t=tb(g,r.bufferSync(i),u,v,d,p,f,h,r.data.get(s.dataId).values[0],m);break;case"string":t=tb(g,r.bufferSync(i),u,v,d,p,f,h,l.D5U.decodeString(r.data.get(s.dataId).values[0]),m);break;default:throw new Error("Unsupported type ".concat(i.dtype))}return r.makeTensorInfo(u,t.dtype,t.values)}};var Ob={kernelName:l.L8s,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.numOrSizeSplits,i=r.axis,s=l.D5U.parseAxisParam(i,a.shape)[0],u=l.Wap.prepareSplitSize(a,o,s),c=new Array(a.shape.length).fill(0),f=a.shape.slice();return u.map((function(e){var t=(0,Qn.Z)(f);t[s]=e;var r=Ev({inputs:{x:a},backend:n,attrs:{begin:c,size:t}});return c[s]+=e,r}))}},_b=wh((function(e){return Math.sqrt(e)})),Db=oh(l.FKq,(function(e){return Math.sqrt(e)})),Ab={kernelName:l.FKq,backendName:"cpu",kernelFunc:Db},Rb={kernelName:l.bK0,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,a=n;nh(r,"square");for(var o=a.data.get(r.dataId).values,i=new Float32Array(o.length),s=0;s<o.length;++s){var u=o[s];i[s]=u*u}return{dataId:a.write(i,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},Pb=dh((function(e,t){var n=e-t;return n*n})),Mb=Rh(l._tC,Pb),Fb={kernelName:l._tC,backendName:"cpu",kernelFunc:Mb},Lb=oh(l.h8e,(function(e,t){var n=t;return isNaN(e)?NaN:e>0?1:n.alpha})),jb={kernelName:l.h8e,backendName:"cpu",kernelFunc:Lb};function Zb(e,t,n,r){for(var a=(0,l.f3b)(e,t.dtype),o=0;o<a.size;o++){for(var i=a.indexToLoc(o),s=new Array(i.length),u=0;u<s.length;u++)s[u]=i[u]*n[u]+r[u];a.set.apply(a,[t.get.apply(t,s)].concat((0,Qn.Z)(i)))}return a}var zb={kernelName:l.jQk,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.begin,i=r.end,s=r.strides,u=r.beginMask,c=r.endMask,f=r.ellipsisMask,p=r.newAxisMask,d=r.shrinkAxisMask;nh(a,"stridedSlice");var h,v=l.kuN.sliceInfo(a.shape,o,i,s,u,c,f,p,d),m=v.finalShapeSparse,g=v.finalShape,y=v.isIdentity,b=v.sliceDim0,x=v.isSimpleSlice,w=v.begin,k=v.end,S=v.strides;if(y)h=Zh({inputs:{x:a},backend:n,attrs:{shape:g}});else if(b||x){l.D5U.assert(a.shape.length>=1,(function(){return"Input must have rank at least 1, got: ".concat(a.shape.length)}));var E=l.kuN.computeOutShape(w,k,S),C=Ev({inputs:{x:a},backend:n,attrs:{begin:w,size:E}});h=Zh({inputs:{x:C},backend:n,attrs:{shape:g}}),n.disposeIntermediateTensorInfo(C)}else{var N=Zb(m,n.bufferSync(a),S,w);h=n.makeTensorInfo(g,N.dtype,N.values)}return h}},Bb=function(){function e(t,n,r,a,o,i){(0,aa.Z)(this,e),this.separator=l.D5U.encodeString(t),this.nGramWidths=n,this.leftPad=l.D5U.encodeString(r),this.rightPad=l.D5U.encodeString(a),this.padWidth=o,this.preserveShort=i}return(0,oa.Z)(e,[{key:"getPadWidth",value:function(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}},{key:"getNumNGrams",value:function(e,t){var n=this.getPadWidth(t);return Math.max(0,e+2*n-t+1)}},{key:"createNGrams",value:function(e,t,n,r,a,o){for(var i=this,s=function(s){var u=i.getPadWidth(o),c=Math.max(0,u-s),l=Math.max(0,u-(a-(s+1))),f=o-(c+l),p=t+(c>0?0:s-u),d=0;d+=c*i.leftPad.length;for(var h=0;h<f;++h)d+=e[p+h].length;d+=l*i.rightPad.length,d+=(c+l+f-1)*i.separator.length,n[r+s]=new Uint8Array(d);for(var v=n[r+s],m=0,g=function(e){return e.forEach((function(e){return v[m++]=e}))},y=0;y<c;++y)g(i.leftPad),g(i.separator);for(var b=0;b<f-1;++b)g(e[p+b]),g(i.separator);if(f>0){g(e[p+f-1]);for(var x=0;x<l;++x)g(i.separator),g(i.rightPad)}else{for(var w=0;w<l-1;++w)g(i.rightPad),g(i.separator);g(i.rightPad)}},u=0;u<a;++u)s(u)}},{key:"compute",value:function(e,t){var n=this,r=e.length,a=t.length;if(a>0){var o=t[0];if(0!==o)throw new Error("First split value must be 0, got ".concat(o));for(var i=1;i<a;++i){var s=t[i]>=o;if(!(s=s&&t[i]<=r))throw new Error("Invalid split value ".concat(t[i],", must be in [").concat(o,", ").concat(r,"]"));o=t[i]}if(o!==r)throw new Error("Last split value must be data size. Expected ".concat(r,", got ").concat(o))}var u=a-1,c=l.D5U.getArrayFromDType("int32",a);if(0===r||0===a){for(var f=new Array(r),p=0;p<=u;++p)c[p]=0;return[f,c]}c[0]=0;for(var d=function(e){var r=t[e]-t[e-1],a=0;n.nGramWidths.forEach((function(e){a+=n.getNumNGrams(r,e)})),n.preserveShort&&r>0&&0===a&&(a=1),c[e]=c[e-1]+a},h=1;h<=u;++h)d(h);for(var v=new Array(c[u]),m=function(r){var a=t[r],o=c[r];if(n.nGramWidths.forEach((function(i){var s=t[r+1]-t[r],u=n.getNumNGrams(s,i);n.createNGrams(e,a,v,o,u,i),o+=u})),n.preserveShort&&o===c[r]){var i=t[r+1]-t[r];if(0===i)return"continue";var s=i+2*n.padWidth;n.createNGrams(e,a,v,o,1,s)}},g=0;g<u;++g)m(g);return[v,c]}}]),e}();function Ub(e,t,n,r,a,o,i,s){return new Bb(n,r,a,o,i,s).compute(e,t)}var Wb={kernelName:l._JP,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=r.separator,o=r.nGramWidths,i=r.leftPad,s=r.rightPad,u=r.padWidth,c=r.preserveShortSequences,l=t.data,p=t.dataSplits,d=Ub(n.data.get(l.dataId).values,n.data.get(p.dataId).values,a,o,i,s,u,c),h=(0,f.Z)(d,2),v=h[0],m=h[1];return[n.makeTensorInfo([v.length],"string",v),n.makeTensorInfo(p.shape,"int32",m)]}};function Vb(e,t,n,r){if(e.length)if(0!==t.length)if(1!==t.length){for(var a=0,o=0;o<e.length+1;o++)if(o===e.length||-1!==t.indexOf(e[o])){var i=e.subarray(a,o);n&&0===i.length||r.push(i),a=o+1}}else{for(var s=t[0],u=e.indexOf(s);-1!==u;){var c=e.subarray(0,u);n&&0===c.length||r.push(c),u=(e=e.subarray(u+1)).indexOf(s)}n&&0===e.length||r.push(e)}else for(var l=0;l<e.length;++l)r.push(e.subarray(l,l+1))}function Hb(e,t,n){for(var r=e.length,a=[],o=0,i=0,s=new Array(r),u=0;u<r;++u){var c=a.length;Vb(e[u],t,n,a);var f=a.length-c;s[u]=f,o+=f,i=Math.max(i,f)}for(var p=l.D5U.getArrayFromDType("int32",2*o),d=new Array(o),h=[r,i],v=0,m=0;m<r;++m)for(var g=0;g<s[m];++g)p[2*v]=m,p[2*v+1]=g,d[v]=a[v],++v;return[p,d,h]}var Gb={kernelName:l.s1s,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.skipEmpty,a=t.input,o=t.delimiter;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(1!==a.shape.length)throw new Error("Input must be a vector, got shape: ".concat(a.shape));if(0!==o.shape.length)throw new Error("Delimiter must be a scalar, got shape: ".concat(o.shape));var i=Hb(n.data.get(a.dataId).values,n.data.get(o.dataId).values[0],r),s=(0,f.Z)(i,3),u=s[0],c=s[1],l=s[2],p=c.length;return[n.makeTensorInfo([p,2],"int32",u),n.makeTensorInfo([p],"string",c),n.makeTensorInfo([2],"int32",new Int32Array(l))]}};function qb(e,t){for(var n=l.D5U.getArrayFromDType("int32",e.length),r=0;r<e.length;++r)n[r]=l.D5U.fingerPrint64(e[r]).modulo(t).getLowBitsUnsigned();return n}var Xb={kernelName:l.XkS,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.numBuckets,a=t.input;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");var o=qb(n.data.get(a.dataId).values,r);return n.makeTensorInfo(a.shape,"int32",o)}},Kb=oh(l.sEM,(function(e){return Math.tan(e)})),Yb={kernelName:l.sEM,backendName:"cpu",kernelFunc:Kb},Qb=oh(l.MIZ,(function(e){return Math.tanh(e)})),$b={kernelName:l.MIZ,backendName:"cpu",kernelFunc:Qb};function Jb(e,t){for(var n=new Array(e.rank),r=0;r<n.length;r++)n[r]=e.shape[r]*t[r];for(var a=(0,l.f3b)(n,e.dtype),o=0;o<a.values.length;++o){for(var i=a.indexToLoc(o),s=new Array(e.rank),u=0;u<s.length;u++)s[u]=i[u]%e.shape[u];var c=e.locToIndex(s);a.values[o]=e.values[c]}return a}var ex={kernelName:l.n9L,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.reps;nh(a,"tile");var i=Jb(n.bufferSync(a),o);return n.makeTensorInfo(i.shape,i.dtype,i.values)}},tx=function(e,t){var n=t.value-e.value;return 0===n?e.index-t.index:n};function nx(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length-1;r>n;){if(r-n>600){var a=r-n+1,o=t-n+1,i=Math.log(a),s=.5*Math.exp(2*i/3),u=.5*Math.sqrt(i*s*(a-s)/a)*Math.sign(o-a/2),c=Math.max(n,Math.floor(t-o*s/a+u)),f=Math.min(r,Math.floor(t+(a-o)*s/a+u));nx(e,t,c,f)}var p=e[t],d=n,h=r;for(l.D5U.swap(e,n,t),tx(e[r],p)>0&&l.D5U.swap(e,n,r);d<h;){for(l.D5U.swap(e,d,h),d++,h--;tx(e[d],p)<0;)d+=1;for(;tx(e[h],p)>0;)h-=1}0===tx(e[n],p)?l.D5U.swap(e,n,h):(h+=1,l.D5U.swap(e,h,r)),h<=t&&(n=h+1),t<=h&&(r=h-1)}}function rx(e,t,n,r,a){for(var o=t[t.length-1],i=e.length/o,s=o,u=l.D5U.getTypedArrayFromDType(n,i*r),c=l.D5U.getTypedArrayFromDType("int32",i*r),f=function(t){var n=t*s,o=e.subarray(n,n+s),i=new Array(o.length);o.forEach((function(e,t){return i[t]={value:e,index:t}})),r<i.length&&(nx(i,r),i=i.slice(0,r)),a&&i.sort(tx);for(var l=t*r,f=u.subarray(l,l+r),p=c.subarray(l,l+r),d=0;d<r;d++)f[d]=i[d].value,p[d]=i[d].index},p=0;p<i;p++)f(p);var d=t.slice();return d[d.length-1]=r,[(0,l.f3b)(d,n,u),(0,l.f3b)(d,"int32",c)]}var ax={kernelName:l.cWu,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.k,i=r.sorted;nh(a,"topk");var s=rx(n.data.get(a.dataId).values,a.shape,a.dtype,o,i),u=(0,f.Z)(s,2),c=u[0],l=u[1];return[n.makeTensorInfo(c.shape,c.dtype,c.values),n.makeTensorInfo(l.shape,l.dtype,l.values)]}};var ox={kernelName:l.wx7,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.image,o=t.transforms,i=n.interpolation,s=n.fillMode,u=n.fillValue,c=n.outputShape,p=(0,f.Z)(a.shape,4),d=p[0],h=p[1],v=p[2],m=p[3],g=null!=c?c:[h,v],y=(0,f.Z)(g,2),b=y[0],x=y[1],w=[d,b,x,m],k=l.D5U.computeStrides(a.shape),S=k[0],E=k[1],C=k[2],N=l.D5U.getTypedArrayFromDType(a.dtype,l.D5U.sizeFromShape(w));N.fill(u);for(var T=r.data.get(a.dataId).values,I=r.data.get(o.dataId).values,O=0;O<d;++O){for(var _=1===o.shape[0]?I:I.subarray(8*O,8*O+8),D=0;D<b;++D)for(var A=0;A<x;++A)for(var R=0;R<m;++R){var P=void 0,M=_[6]*A+_[7]*D+1;if(0!==M){var F=(_[0]*A+_[1]*D+_[2])/M,L=(_[3]*A+_[4]*D+_[5])/M,j=ix(F,v,s),Z=ix(L,h,s);switch(i){case"nearest":P=ux(T,h,v,S,E,C,O,Z,j,R,u);break;case"bilinear":P=cx(T,h,v,S,E,C,O,Z,j,R,u);break;default:throw new Error("Error in Transform: Expect 'nearest' or "+"'bilinear', but got ".concat(i))}N[O*S+D*E+A*C+R]=P}}return r.makeTensorInfo(w,a.dtype,N)}return{dataId:r.write(N,w,a.dtype),shape:a.shape,dtype:a.dtype}}};function ix(e,t,n){switch(n){case"reflect":return function(e,t){var n=e;if(n<0)if(t<=1)n=0;else{var r=2*t;n<r&&(n=r*Math.trunc(-n/r)+n),n=n<-t?n+r:-n-1}else if(n>t-1)if(t<=1)n=0;else{var a=2*t;(n-=a*Math.trunc(n/a))>=t&&(n=a-n-1)}return l.D5U.clamp(0,n,t-1)}(e,t);case"wrap":return function(e,t){var n=e;if(n<0)if(t<=1)n=0;else{var r=t-1;n+=t*(Math.trunc(-n/r)+1)}else if(n>t-1)if(t<=1)n=0;else{var a=t-1;n-=t*Math.trunc(n/a)}return l.D5U.clamp(0,n,t-1)}(e,t);case"nearest":return function(e,t){return l.D5U.clamp(0,e,t-1)}(e,t);default:return function(e,t){return e}(e)}}function sx(e,t,n,r,a,o,i,s,u,c,l){return 0<=s&&s<t&&0<=u&&u<n?e[i*r+s*a+u*o+c]:l}function ux(e,t,n,r,a,o,i,s,u,c,l){return sx(e,t,n,r,a,o,i,Math.round(s),Math.round(u),c,l)}function cx(e,t,n,r,a,o,i,s,u,c,l){var f=Math.floor(s),p=Math.floor(u),d=f+1,h=p+1;return(d-s)*((h-u)*sx(e,t,n,r,a,o,i,f,p,c,l)+(u-p)*sx(e,t,n,r,a,o,i,f,h,c,l))+(s-f)*((h-u)*sx(e,t,n,r,a,o,i,d,p,c,l)+(u-p)*sx(e,t,n,r,a,o,i,d,h,c,l))}function lx(e,t,n,r){for(var a=l.D5U.parseAxisParam(t,n)[0],o=[1,n[0],1],i=0;i<a;i++)o[0]*=n[i];o[1]=n[a];for(var s=a+1;s<n.length;s++)o[2]*=n[s];for(var u={},c=new Int32Array(n[a]),f=new l.YDk(o,r,e),p=[],d=1===o[0]&&1===o[2],h=0;h<n[a];h++){var v=void 0;if(d)v=e[h].toString();else{for(var m=[],g=0;g<o[0];g++)for(var y=0;y<o[2];y++)m.push(f.get(g,h,y));v=m.join(",")}if(void 0!==u[v])c[h]=u[v];else{var b=Object.keys(u).length;u[v]=b,c[h]=b,p.push(h)}}var x=o.slice();x[1]=Object.keys(u).length;var w=new l.YDk(x,r);p.forEach((function(e,t){for(var n=0;n<o[0];n++)for(var r=0;r<o[2];r++)w.set(f.get(n,e,r),n,t,r)}));var k=n.slice();return k[a]=x[1],{outputValues:w.values,outputShape:k,indices:c}}var fx={kernelName:l.kpP,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=n.axis,o=t.x;nh(o,"unique");var i=lx(r.data.get(o.dataId).values,a,o.shape,o.dtype),s=i.outputValues,u=i.outputShape,c=i.indices;return[r.makeTensorInfo(u,o.dtype,s),r.makeTensorInfo([c.length],"int32",c)]}};var px={kernelName:l.ToN,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.value,o=r.axis;o<0&&(o+=a.shape.length);for(var i=a.shape.length,s=a.shape[o],u=new Array(i-1),c=0,l=0;l<i;l++)l!==o&&(u[c++]=a.shape[l]);var f=new Array(i).fill(0),p=a.shape.slice();p[o]=1;for(var d=new Array(s),h=0;h<d.length;h++){f[o]=h;var v=Ev({inputs:{x:a},backend:n,attrs:{begin:f,size:p}});d[h]=Zh({inputs:{x:v},backend:n,attrs:{shape:u}}),n.disposeIntermediateTensorInfo(v)}return d}};for(var dx={kernelName:l.Qvg,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.segmentIds,i=r.numSegments;nh(a,"unsortedSegmentSum");for(var s=[],u=[],c=a.shape.length-o.shape.length,f=o,p=0;p<c;++p){var d=Pm({inputs:{input:f},backend:n,attrs:{dim:p+1}});f=d,u.push(d)}for(var h=0;h<i;++h){var v=l.D5U.createScalarValue(h,"int32"),m=n.makeTensorInfo([],"int32",v),g=wm({inputs:{a:m,b:f},backend:n}),y=Dh({inputs:{x:g},backend:n,attrs:{dtype:"float32"}}),b=hm({inputs:{a:y,b:a},backend:n}),x=mm({inputs:{x:b},backend:n,attrs:{axis:0,keepDims:!1}});s.push(x),u.push(m),u.push(g),u.push(y),u.push(b),u.push(x)}var w=Ay({inputs:s,backend:n,attrs:{axis:0}});return u.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),w}},hx=0,vx=[Wh,Hh,qh,Kh,jh,Yh,ev,tv,nv,rv,ov,sv,cv,pv,hv,yv,bv,xv,wv,Uh,kv,Nv,Ov,_v,Ah,Rv,Mv,Th,Fv,Bv,Wv,Vv,Hv,Gv,qv,Xv,Yv,$v,Jv,em,tm,nm,rm,om,im,sm,um,cm,lm,fm,ym,uh,bm,km,_m,Rm,Mm,jm,Km,Qm,$m,tg,ag,og,ig,ug,lg,dg,mg,lh,gg,Zv,bg,wg,Sg,ph,Ng,Og,Dg,Pg,Fg,Zg,Bg,Vg,Hg,Gg,Kg,$g,Jg,ey,ty,ny,ry,ay,oy,uy,cy,py,my,vm,yy,xy,ky,Ey,Ty,Iy,Dy,Ry,Py,Ly,mh,Zy,By,_h,Bm,Wy,yh,xh,zh,Vy,Hy,Gy,qy,Xy,Ky,Qy,eb,nb,ob,ib,lb,Eh,pb,hb,mb,Cv,vy,bb,xb,kb,Eb,Nb,Tb,Ib,Ob,Ab,Rb,Fb,jb,zb,Wb,Gb,Xb,Hm,gm,Yb,$b,ex,ax,ox,Jh,fx,px,dx,_y];hx<vx.length;hx++){var mx=vx[hx];(0,l.wCN)(mx)}var gx,yx,bx,xx={},wx={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function kx(e,t){if(!(e in xx)||null!=t){var n=function(e,t){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var n=null==t?function(e){if("undefined"!==typeof OffscreenCanvas&&2===e)return new OffscreenCanvas(300,150);if("undefined"!==typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(e):t;if(n.addEventListener("webglcontextlost",(function(t){t.preventDefault(),delete xx[e]}),!1),1===e)return n.getContext("webgl",wx)||n.getContext("experimental-webgl",wx);return n.getContext("webgl2",wx)}(e,t);if(null===n)return console.log("Could not get context for WebGL version",e),null;xx[e]=n}var r=xx[e];return null==r||r.isContextLost()?(delete xx[e],kx(e)):(r.disable(r.DEPTH_TEST),r.disable(r.STENCIL_TEST),r.disable(r.BLEND),r.disable(r.DITHER),r.disable(r.POLYGON_OFFSET_FILL),r.disable(r.SAMPLE_COVERAGE),r.enable(r.SCISSOR_TEST),r.enable(r.CULL_FACE),r.cullFace(r.BACK),xx[e])}function Sx(e,t){return[t,e]}function Ex(e){var t=l.D5U.sizeFromShape(e),n=Math.ceil(t/4);return l.D5U.sizeToSquarishShape(n)}function Cx(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function Nx(e,t){var n,r,a,o,i,s,u,c,f,p,d=e;return 2===(0,l.OBj)().getNumber("WEBGL_VERSION")?(n=d.R32F,r=d.R16F,a=d.RGBA16F,o=d.RGBA32F,i=d.RED,u=4,c=1,f=d.HALF_FLOAT,p=d.FLOAT,s=d.RGBA8):(n=e.RGBA,r=e.RGBA,a=e.RGBA,o=d.RGBA,i=e.RGBA,u=4,c=4,f=null!=t?t.HALF_FLOAT_OES:null,p=e.FLOAT,s=e.RGBA),{internalFormatFloat:n,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:a,internalFormatPackedFloat:o,textureFormatFloat:i,downloadTextureFormat:s,downloadUnpackNumChannels:u,defaultNumChannels:c,textureTypeHalfFloat:f,textureTypeFloat:p}}function Tx(e,t){var n=t();return(0,l.OBj)().getBool("DEBUG")&&function(e){var t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+function(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code ".concat(t)}}(e,t))}(e),n}!function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"}(gx||(gx={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(yx||(yx={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(bx||(bx={}));function Ix(e){return!!((0,l.OBj)().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||5.96e-8<Math.abs(e)&&Math.abs(e)<65504)}function Ox(e,t){return Ux(e,(function(){return e.getExtension(t)}),'Extension "'+t+'" not supported on this browser.')}var _x,Dx,Ax=/ERROR: [0-9]+:([0-9]+):/g;function Rx(e,t){var n=Ax.exec(t);if(null==n)return console.log("Couldn't parse line number in error: ".concat(t)),void console.log(e);for(var r=+n[1],a=e.split("\n"),o=a.length.toString().length+2,i=a.map((function(e,t){return l.D5U.rightPad((t+1).toString(),o)+e})),s=0,u=0;u<i.length;u++)s=Math.max(i[u].length,s);var c=i.slice(0,r-1),f=i.slice(r-1,r),p=i.slice(r);console.log(c.join("\n")),console.log(t.split("\n")[0]),console.log("%c ".concat(l.D5U.rightPad(f[0],s)),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(p.join("\n"))}function Px(e,t){if(Tx(e,(function(){return e.validateProgram(t)})),!1===e.getProgramParameter(t,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Shader program validation failed.")}function Mx(e,t,n,r,a,o,i){var s=e.getAttribLocation(t,n);return-1!==s&&(Tx(e,(function(){return e.bindBuffer(e.ARRAY_BUFFER,r)})),Tx(e,(function(){return e.vertexAttribPointer(s,a,e.FLOAT,!1,o,i)})),Tx(e,(function(){return e.enableVertexAttribArray(s)})),!0)}function Fx(e,t,n){return Ux(e,(function(){return e.getUniformLocation(t,n)}),'uniform "'+n+'" not present in program.')}function Lx(e,t,n){return e.getUniformLocation(t,n)}function jx(e,t,n,r){Tx(e,(function(){return function(e,t,n){Wx(e,n),Tx(e,(function(){return e.activeTexture(e.TEXTURE0+n)})),Tx(e,(function(){return e.bindTexture(e.TEXTURE_2D,t)}))}(e,t,r)})),Tx(e,(function(){return e.uniform1i(n,r)}))}function Zx(e,t,n){Tx(e,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,n)})),Tx(e,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)}))}function zx(e,t){Tx(e,(function(){return e.bindFramebuffer(e.FRAMEBUFFER,t)})),Tx(e,(function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)}))}function Bx(e){var t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+function(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error ".concat(t)}}(e,t))}function Ux(e,t,n){var r=Tx(e,(function(){return t()}));if(null==r)throw new Error(n);return r}function Wx(e,t){var n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n){var a="[gl.TEXTURE0, gl.TEXTURE".concat(n,"]");throw new Error("textureUnit must be in ".concat(a,"."))}}function Vx(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return l.D5U.sizeFromShape(e.slice(0,e.length-t))}function Hx(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function Gx(e){var t=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(t=[Vx(e)].concat((0,Qn.Z)(Hx(e)))),t}function qx(e){return e%2===0}function Xx(e,t){if(e=e.slice(-2),t=t.slice(-2),l.D5U.arraysEqual(e,t))return!0;if(!e.length||!t.length)return!0;if(0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){var n=e.slice(-1)[0],r=t.slice(-1)[0];if(n===r)return!0;if(qx(n)&&qx(r)&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&qx(e[0])&&qx(t[0])}function Kx(e,t){return null!=e.getExtension(t)}function Yx(e){try{if(null!=kx(e))return!0}catch(t){return console.log("Error when getting WebGL context: ",t),!1}return!1}function Qx(e){if(0===e)return!1;var t=kx(e);if(1!==e){if(Kx(t,"EXT_color_buffer_float"))return $x(t);var n="EXT_color_buffer_half_float";if(Kx(t,n)){var r=t.getExtension(n);return function(e,t){var n=Nx(e,t),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r);var a=1,o=1;e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,a,o,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);var i=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,i),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);var s=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(i),s}(t,r)}return!1}return!!Kx(t,"OES_texture_float")&&(!!Kx(t,"WEBGL_color_buffer_float")&&$x(t))}function $x(e){var t=Nx(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);var r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);var a=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(r),a}function Jx(e,t){Array.isArray(e)||(e=[e]),e.forEach((function(e){null!=e&&l.D5U.assert("complex64"!==e.dtype,(function(){return"".concat(t," does not support complex64 tensors ")+"in the WebGL backend."}))}))}var ew=(0,l.OBj)();function tw(){var e,t,n,r,a,o,i,s,u,c;return 2===(0,l.OBj)().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",n="out",r="in",a="texture",o="outputColor",i="out vec4 outputColor;",s="\n      bool isnan_custom(float val) {\n        uint floatToUint = floatBitsToUint(val);\n        return (floatToUint & 0x7fffffffu) > 0x7f800000u;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ",u="",c="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",t="attribute",n="varying",r="varying",a="texture2D",o="gl_FragColor",i="",s="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",u="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",c="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:a,output:o,defineOutput:i,defineSpecialNaN:s,defineSpecialInf:u,defineRound:c}}function nw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index",r=l.D5U.computeStrides(t);return r.map((function(t,a){var o="int ".concat(e[a]," = ").concat(n," / ").concat(t),i=a===r.length-1?"int ".concat(e[a+1]," = ").concat(n," - ").concat(e[a]," * ").concat(t):"index -= ".concat(e[a]," * ").concat(t);return"".concat(o,"; ").concat(i,";")})).join("")}function rw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index",r=l.D5U.computeStrides(t);return r.map((function(t,a){var o="int ".concat(e[a]," = ").concat(n," / outShapeStrides[").concat(a,"]"),i=a===r.length-1?"int ".concat(e[a+1]," = ").concat(n," - ").concat(e[a]," * outShapeStrides[").concat(a,"]"):"index -= ".concat(e[a]," * outShapeStrides[").concat(a,"]");return"".concat(o,"; ").concat(i,";")})).join("")}function aw(e,t){var n=e.length,r=e.map((function(e){return"".concat(t,"[").concat(e,"]")})),a=new Array(n-1);a[n-2]=r[n-1];for(var o=n-3;o>=0;--o)a[o]="(".concat(a[o+1]," * ").concat(r[o+1],")");return a}function ow(e){var t=l.D5U.computeStrides(e).map((function(e){return e.toString()}));return"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * ".concat(t[0]," + coords.y * ").concat(t[1]," + coords.z;\n  }\n")}ew.registerFlag("HAS_WEBGL",(function(){return ew.getNumber("WEBGL_VERSION")>0})),ew.registerFlag("WEBGL_VERSION",(function(){return Yx(2)?2:Yx(1)?1:0})),ew.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",(function(){return!1})),ew.registerFlag("WEBGL_BUFFER_SUPPORTED",(function(){return 2===ew.get("WEBGL_VERSION")})),ew.registerFlag("WEBGL_CPU_FORWARD",(function(){return!0})),ew.registerFlag("WEBGL_FORCE_F16_TEXTURES",(function(){return!1})),ew.registerFlag("WEBGL_PACK",(function(){return ew.getBool("HAS_WEBGL")})),ew.registerFlag("WEBGL_PACK_NORMALIZATION",(function(){return ew.getBool("WEBGL_PACK")})),ew.registerFlag("WEBGL_PACK_CLIP",(function(){return ew.getBool("WEBGL_PACK")})),ew.registerFlag("WEBGL_PACK_DEPTHWISECONV",(function(){return ew.getBool("WEBGL_PACK")})),ew.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",(function(){return ew.getBool("WEBGL_PACK")})),ew.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",(function(){return ew.getBool("WEBGL_PACK")})),ew.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",(function(){return ew.getBool("WEBGL_PACK")})),ew.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",(function(){return ew.getBool("WEBGL_PACK")})),ew.registerFlag("WEBGL_PACK_REDUCE",(function(){return ew.getBool("WEBGL_PACK")})),ew.registerFlag("WEBGL_LAZILY_UNPACK",(function(){return ew.getBool("WEBGL_PACK")})),ew.registerFlag("WEBGL_CONV_IM2COL",(function(){return ew.getBool("WEBGL_PACK")})),ew.registerFlag("WEBGL_MAX_TEXTURE_SIZE",(function(){return function(e){if(null==_x){var t=kx(e);_x=t.getParameter(t.MAX_TEXTURE_SIZE)}return _x}(ew.getNumber("WEBGL_VERSION"))})),ew.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",(function(){return function(e){if(null==Dx){var t=kx(e);Dx=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,Dx)}(ew.getNumber("WEBGL_VERSION"))})),ew.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",(function(){var e=ew.getNumber("WEBGL_VERSION");return 0===e?0:function(e){if(0===e)return 0;var t=kx(e);return Kx(t,"EXT_disjoint_timer_query_webgl2")&&2===e?2:Kx(t,"EXT_disjoint_timer_query")?1:0}(e)})),ew.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",(function(){return ew.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!l.C2$.isMobile()})),ew.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",(function(){return function(e){if(0===e)return!1;var t=kx(e);if(1===e){if(!Kx(t,"OES_texture_float"))return!1}else if(!Kx(t,"EXT_color_buffer_float"))return!1;return $x(t)}(ew.getNumber("WEBGL_VERSION"))})),ew.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",(function(){return!ew.getBool("WEBGL_FORCE_F16_TEXTURES")&&ew.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")})),ew.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",(function(){return Qx(ew.getNumber("WEBGL_VERSION"))})),ew.registerFlag("WEBGL_FENCE_API_ENABLED",(function(){return 2===(e=ew.getNumber("WEBGL_VERSION"))&&null!=kx(e).fenceSync;var e})),ew.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",(function(){return ew.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0})),ew.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",(function(){return-1}),(function(e){if(e<0&&-1!==e)throw new Error("WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never "+"delete) or at least 0, but got ".concat(e,"."))})),ew.registerFlag("WEBGL_FLUSH_THRESHOLD",(function(){return l.C2$.isMobile()?1:-1}),(function(e){if(e<0&&-1!==e)throw new Error("WEBGL_FLUSH_THRESHOLD must be -1 (indicating never "+"manual flush) or at least 0, but got ".concat(e,"."))})),ew.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",(function(){return 128})),ew.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",(function(){return!1})),ew.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",(function(){return 1e5})),ew.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",(function(){return 128}));var iw="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n",sw=l.Wap.getBroadcastDims;function uw(e,t,n){var r=[];if(e.forEach((function(e){var t=l.D5U.sizeFromShape(e.shapeInfo.logicalShape);if(e.shapeInfo.isUniform?r.push("uniform float ".concat(e.name).concat(t>1?"[".concat(t,"]"):"",";")):(r.push("uniform sampler2D ".concat(e.name,";")),r.push("uniform int offset".concat(e.name,";"))),n.enableShapeUniforms){switch(Tw(n.packedInputs,e.shapeInfo.logicalShape,e.shapeInfo.texShape).uniformShape.length){case 1:r.push("uniform int ".concat(e.name,"Shape;"));break;case 2:r.push("uniform ivec2 ".concat(e.name,"Shape;"));break;case 3:r.push("uniform ivec3 ".concat(e.name,"Shape;"));break;case 4:r.push("uniform ivec4 ".concat(e.name,"Shape;"))}r.push("uniform ivec2 ".concat(e.name,"TexShape;"))}})),n.enableShapeUniforms){switch(t.logicalShape.length){case 1:r.push("uniform int outShape;");break;case 2:r.push("uniform ivec2 outShape;"),r.push("uniform int outShapeStrides;");break;case 3:r.push("uniform ivec3 outShape;"),r.push("uniform ivec2 outShapeStrides;");break;case 4:r.push("uniform ivec4 outShape;"),r.push("uniform ivec3 outShapeStrides;")}r.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach((function(e){r.push("uniform ".concat(e.type," ").concat(e.name).concat(e.arrayIndex?"[".concat(e.arrayIndex,"]"):"",";"))}));var a,o,i=r.join("\n"),s=e.map((function(e){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,a="";a+=n?lw(e,r):cw(e,r);var o=e.shapeInfo.logicalShape,i=t.logicalShape;o.length<=i.length&&(a+=n?Ew(e,t):Cw(e,t));return a}(e,t,n.packedInputs,n.enableShapeUniforms)})).join("\n"),u=t.texShape,c=tw(),f=function(e){return"\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return ".concat(e.texture2D,"(textureSampler, uv).r;\n    }\n  ")}(c),p=function(e){return"".concat(e.version,"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ").concat(e.varyingFs," vec2 resultUV;\n    ").concat(e.defineOutput,"\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    ").concat(e.defineSpecialNaN,"\n    ").concat(e.defineSpecialInf,"\n    ").concat(e.defineRound,"\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    ").concat(fw,"\n    ").concat(pw,"\n    ").concat(dw,"\n  ")}(c);return t.isPacked?(a=function(e,t,n){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t,n){var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(1===r[0])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));\n      }\n    ":"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ".concat(r[1],".0);\n      }\n    ");if(1===r[1])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));\n      }\n    ":"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ".concat(r[0],".0);\n      }\n    ");if(n)return"\n    int getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);\n    }\n  ";return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(r[0],", ").concat(r[1],"));\n      return 2 * (resTexRC.x * ").concat(r[1]," + resTexRC.y);\n    }\n  ")}(0,t,n);case 2:return function(e,t,n){var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(l.D5U.arraysEqual(e,t))return n?"\n      ivec2 getOutputCoords() {\n        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2(".concat(r[0],", ").concat(r[1],"));\n      }\n    ");var a=Math.ceil(e[1]/2);if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec2(r, c);\n    }\n  ";return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(r[0],", ").concat(r[1],"));\n\n      int index = resTexRC.x * ").concat(r[1]," + resTexRC.y;\n      int r = 2 * (index / ").concat(a,");\n      int c = imod(index, ").concat(a,") * 2;\n\n      return ivec2(r, c);\n    }\n  ")}(e,t,n);case 3:return function(e,t,n){if(n)return"\n    ivec3 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],a=Math.ceil(e[2]/2),o=a*Math.ceil(e[1]/2);return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(r[0],", ").concat(r[1],"));\n      int index = resTexRC.x * ").concat(r[1]," + resTexRC.y;\n\n      int b = index / ").concat(o,";\n      index -= b * ").concat(o,";\n\n      int r = 2 * (index / ").concat(a,");\n      int c = imod(index, ").concat(a,") * 2;\n\n      return ivec3(b, r, c);\n    }\n  ")}(e,t,n);default:return function(e,t,n){if(n)return"\n    ivec4 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatchN = texelsInBatch * outShape[1];\n\n      int b2 = index / texelsInBatchN;\n      index -= b2 * texelsInBatchN;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec4(b2, b, r, c);\n    }\n  ";for(var r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],a=Math.ceil(e[e.length-1]/2),o=a*Math.ceil(e[e.length-2]/2),i=o,s="",u="b, r, c",c=2;c<e.length-1;c++)i*=e[e.length-c-1],s="\n      int b".concat(c," = index / ").concat(i,";\n      index -= b").concat(c," * ").concat(i,";\n    ")+s,u="b".concat(c,", ")+u;return"\n    ivec".concat(e.length," getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(").concat(r[0],", ").concat(r[1],"));\n      int index = resTexRC.x * ").concat(r[1]," + resTexRC.y;\n\n      ").concat(s,"\n\n      int b = index / ").concat(o,";\n      index -= b * ").concat(o,";\n\n      int r = 2 * (index / ").concat(a,");\n      int c = imod(index, ").concat(a,") * 2;\n\n      return ivec").concat(e.length,"(").concat(u,");\n    }\n  ")}(e,t,n)}}(t.logicalShape,u,n.enableShapeUniforms),o=function(e){return"\n    void setOutput(vec4 val) {\n      ".concat(e.output," = val;\n    }\n  ")}(c)):(a=function(e,t,n){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t,n){if(1===t[0])return n?"\n      int getOutputCoords() {\n        return int(resultUV.x * float(outTexShape[1]));\n      }\n    ":"\n      int getOutputCoords() {\n        return int(resultUV.x * ".concat(t[1],".0);\n      }\n    ");if(1===t[1])return n?"\n      int getOutputCoords() {\n        return int(resultUV.y * float(outTexShape[0]));\n      }\n    ":"\n      int getOutputCoords() {\n        return int(resultUV.y * ".concat(t[0],".0);\n      }\n    ");if(n)return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      return resTexRC.x * outTexShape[1] + resTexRC.y;\n    }\n  ";return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      return resTexRC.x * ").concat(t[1]," + resTexRC.y;\n    }\n  ")}(0,t,n);case 2:return function(e,t,n){if(l.D5U.arraysEqual(e,t))return n?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(".concat(t[0],", ").concat(t[1],"));\n      }\n    ");if(1===e[1])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(".concat(t[0],", ").concat(t[1],"));\n        int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ");if(1===e[0])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(".concat(t[0],", ").concat(t[1],"));\n        int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ");if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      int r = index / outShape[1];\n      int c = index - r * outShape[1];\n      return ivec2(r, c);\n    }\n  ";return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      int r = index / ").concat(e[1],";\n      int c = index - r * ").concat(e[1],";\n      return ivec2(r, c);\n    }\n  ")}(e,t,n);case 3:return function(e,t,n){if(n){var r=rw(["r","c","d"],e);return"\n  ivec3 getOutputCoords() {\n    ivec2 resTexRC = ivec2(resultUV.yx *\n                           vec2(outTexShape[0], outTexShape[1]));\n    int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n    ".concat(r,"\n    return ivec3(r, c, d);\n  }\n")}var a=nw(["r","c","d"],e);return"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      ").concat(a,"\n      return ivec3(r, c, d);\n    }\n  ")}(e,t,n);case 4:return function(e,t,n){if(n){var r=rw(["r","c","d","d2"],e);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      ".concat(r,"\n      return ivec4(r, c, d, d2);\n    }\n  ")}var a=nw(["r","c","d","d2"],e);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n      ").concat(a,"\n      return ivec4(r, c, d, d2);\n    }\n  ")}(e,t,n);case 5:return function(e,t){var n=nw(["r","c","d","d2","d3"],e);return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2(".concat(t[0],",\n                             ").concat(t[1],"));\n\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n\n      ").concat(n,"\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  ")}(e,t);case 6:return function(e,t){var n=nw(["r","c","d","d2","d3","d4"],e);return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(".concat(t[0],", ").concat(t[1],"));\n      int index = resTexRC.x * ").concat(t[1]," + resTexRC.y;\n\n      ").concat(n,"\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  ")}(e,t);default:throw new Error("".concat(e.length,"-D output sampling is not yet supported"))}}(t.logicalShape,u,n.enableShapeUniforms),o=function(e){return"\n    void setOutput(float val) {\n      ".concat(e.output," = vec4(val, 0, 0, 0);\n    }\n  ")}(c)),n.packedInputs&&(p+=hw),[p,f,o,i,a,s,n.userCode].join("\n")}function cw(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.shapeInfo.logicalShape;switch(n.length){case 0:return mw(e,t);case 1:return gw(e,t);case 2:return yw(e,t);case 3:return bw(e,t);case 4:return xw(e,t);case 5:return ww(e);case 6:return kw(e);default:throw new Error("".concat(n.length,"-D input sampling")+" is not yet supported")}}function lw(e,t){switch(e.shapeInfo.logicalShape.length){case 0:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=tw();return"\n    vec4 ".concat(n,"() {\n      return ").concat(r.texture2D,"(").concat(t,", halfCR);\n    }\n  ")}(e);case 1:return function(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=e.shapeInfo.texShape,o=tw();if(t)return"\n    vec4 ".concat(r,"(int index) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(n,"TexShape[0]) / 2.0), ceil(float(").concat(n,"TexShape[1]) / 2.0));\n      vec2 uv = packedUVfrom1D(\n        packedTexShape[0], packedTexShape[1], index);\n      return ").concat(o.texture2D,"(").concat(n,", uv);\n    }\n  ");var i=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];return"\n    vec4 ".concat(r,"(int index) {\n      vec2 uv = packedUVfrom1D(\n        ").concat(i[0],", ").concat(i[1],", index);\n      return ").concat(o.texture2D,"(").concat(n,", uv);\n    }\n  ")}(e,t);case 2:return function(e,t){var n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),o=e.shapeInfo.texShape,i=o[0],s=o[1],u=tw();if(null!=o&&l.D5U.arraysEqual(n,o))return t?"\n      vec4 ".concat(a,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n\n        return ").concat(u.texture2D,"(").concat(r,", uv);\n      }\n    "):"\n      vec4 ".concat(a,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(s,".0, ").concat(i,".0);\n\n        return ").concat(u.texture2D,"(").concat(r,", uv);\n      }\n    ");if(t)return"\n    vec4 ".concat(a,"(int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(r,"TexShape[0]) / 2.0), ceil(float(").concat(r,"TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(").concat(r,"Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);\n      return ").concat(u.texture2D,"(").concat(r,", uv);\n    }\n  ");var c=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)],f=Math.ceil(n[1]/2);return"\n    vec4 ".concat(a,"(int row, int col) {\n      vec2 uv = packedUVfrom2D(").concat(f,", ").concat(c[0],", ").concat(c[1],", row, col);\n      return ").concat(u.texture2D,"(").concat(r,", uv);\n    }\n  ")}(e,t);case 3:return function(e,t){var n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),o=e.shapeInfo.texShape,i=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)];if(1===n[0]){var s=[1,2],u=Iw(e,n.slice(1)),c=["b","row","col"];return"\n        ".concat(lw(u,t),"\n        vec4 ").concat(a,"(int b, int row, int col) {\n          return ").concat(a,"(").concat(Ow(c,s),");\n        }\n      ")}var l=tw();if(t)return"\n    vec4 ".concat(a,"(int b, int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(r,"TexShape[0]) / 2.0), ceil(float(").concat(r,"TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(").concat(r,"Shape[2]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(").concat(r,"Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom3D(\n        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);\n      return ").concat(l.texture2D,"(").concat(r,", uv);\n    }\n  ");var f=i[0],p=i[1],d=Math.ceil(n[2]/2),h=d*Math.ceil(n[1]/2);return"\n    vec4 ".concat(a,"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ").concat(f,", ").concat(p,", ").concat(h,", ").concat(d,", b, row, col);\n      return ").concat(l.texture2D,"(").concat(r,", uv);\n    }\n  ")}(e,t);default:return function(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=tw();if(t)return"\n    vec4 ".concat(r,"(int b2, int b, int row, int col) {\n      int valuesPerRow = int(ceil(float(").concat(n,"Shape[3]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(").concat(n,"Shape[2]) / 2.0));\n      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);\n      texelsInBatch *= ").concat(n,"Shape[1];\n      index = b2 * texelsInBatch + index;\n      ivec2 packedTexShape = ivec2(ceil(float(").concat(n,"TexShape[0]) / 2.0), ceil(float(").concat(n,"TexShape[1]) / 2.0));\n      int texR = index / packedTexShape[1];\n      int texC = index - texR * packedTexShape[1];\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ").concat(a.texture2D,"(").concat(n,", uv);\n    }\n  ");for(var o=e.shapeInfo.logicalShape,i=o.length,s=e.shapeInfo.texShape,u=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)],c=u[0],l=u[1],f=Math.ceil(o[i-1]/2),p=f*Math.ceil(o[i-2]/2),d="int b, int row, int col",h="b * ".concat(p," + (row / 2) * ").concat(f," + (col / 2)"),v=2;v<i-1;v++)d="int b".concat(v,", ")+d,p*=o[i-v-1],h="b".concat(v," * ").concat(p," + ")+h;return"\n    vec4 ".concat(r,"(").concat(d,") {\n      int index = ").concat(h,";\n      int texR = index / ").concat(l,";\n      int texC = index - texR * ").concat(l,";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(l,", ").concat(c,");\n      return ").concat(a.texture2D,"(").concat(n,", uv);\n    }\n  ")}(e,t)}}var fw="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",pw="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",dw="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",hw="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function vw(e){return"offset".concat(e)}function mw(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return"float ".concat(r,"() {return ").concat(n,";}");var a=(0,f.Z)(e.shapeInfo.texShape,2),o=a[0],i=a[1];if(1===o&&1===i)return"\n      float ".concat(r,"() {\n        return sampleTexture(").concat(n,", halfCR);\n      }\n    ");var s=vw(n);if(t)return"\n    float ".concat(r,"() {\n      vec2 uv = uvFromFlat(").concat(n,"TexShape[0], ").concat(n,"TexShape[1], ").concat(s,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ");var u=(0,f.Z)(e.shapeInfo.texShape,2),c=u[0],l=u[1];return"\n    float ".concat(r,"() {\n      vec2 uv = uvFromFlat(").concat(c,", ").concat(l,", ").concat(s,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}function gw(e,t){var n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int index) {\n        ").concat(Sw(e),"\n      }\n    ");var a=e.shapeInfo.texShape,o=a[0],i=a[1];if(1===i&&1===o)return"\n      float ".concat(r,"(int index) {\n        return sampleTexture(").concat(n,", halfCR);\n      }\n    ");var s=vw(n);return 1===i?t?"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2(0.5, (float(index + ").concat(s,") + 0.5) / float(").concat(n,"TexShape[0]));\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2(0.5, (float(index + ").concat(s,") + 0.5) / ").concat(o,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):1===o?t?"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2((float(index + ").concat(s,") + 0.5) / float(").concat(n,"TexShape[1]), 0.5);\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):"\n      float ".concat(r,"(int index) {\n        vec2 uv = vec2((float(index + ").concat(s,") + 0.5) / ").concat(i,".0, 0.5);\n        return sampleTexture(").concat(n,", uv);\n      }\n    "):t?"\n    float ".concat(r,"(int index) {\n      vec2 uv = uvFromFlat(").concat(n,"TexShape[0], ").concat(n,"TexShape[1], index + ").concat(s,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  "):"\n    float ".concat(r,"(int index) {\n      vec2 uv = uvFromFlat(").concat(o,", ").concat(i,", index + ").concat(s,");\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}function yw(e,t){var n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),o=e.shapeInfo.texShape;if(null!=o&&l.D5U.arraysEqual(n,o)){if(t)return"\n      float ".concat(a,"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    ");var i=o[0],s=o[1];return"\n    float ".concat(a,"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2(").concat(s,".0, ").concat(i,".0);\n      return sampleTexture(").concat(r,", uv);\n    }\n  ")}var u=l.D5U.squeezeShape(n),c=u.newShape,f=u.keptDims,p=c;if(p.length<n.length){var d=Iw(e,p);return"\n      ".concat(cw(d,t),"\n      float ").concat(a,"(int row, int col) {\n        return ").concat(a,"(").concat(Ow(["row","col"],f),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(a,"(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2(").concat(n[1],", 1)));\n        ").concat(Sw(e),"\n      }\n    ");var h=o[0],v=o[1],m=vw(r);return 1===v?t?"\n      float ".concat(a,"(int row, int col) {\n        float index = dot(vec3(row, col, ").concat(m,"), vec3(").concat(r,"Shape[1], 1, 1));\n        vec2 uv = vec2(0.5, (index + 0.5) / float(").concat(r,"TexShape[0]));\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n    float ".concat(a,"(int row, int col) {\n      float index = dot(vec3(row, col, ").concat(m,"), vec3(").concat(n[1],", 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / ").concat(h,".0);\n      return sampleTexture(").concat(r,", uv);\n    }\n  "):1===h?t?"\n      float ".concat(a,"(int row, int col) {\n        float index = dot(vec3(row, col, ").concat(m,"), vec3(").concat(r,"Shape[1], 1, 1));\n        vec2 uv = vec2((index + 0.5) / float(").concat(r,"TexShape[1]), 0.5);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n    float ".concat(a,"(int row, int col) {\n      float index = dot(vec3(row, col, ").concat(m,"), vec3(").concat(n[1],", 1, 1));\n      vec2 uv = vec2((index + 0.5) / ").concat(v,".0, 0.5);\n      return sampleTexture(").concat(r,", uv);\n    }\n  "):t?"\n      float ".concat(a,"(int row, int col) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ").concat(r,"Shape[1] + col + ").concat(m,";\n        vec2 uv = uvFromFlat(").concat(r,"TexShape[0], ").concat(r,"TexShape[1], index);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n  float ".concat(a,"(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * ").concat(n[1]," + col + ").concat(m,";\n    vec2 uv = uvFromFlat(").concat(h,", ").concat(v,", index);\n    return sampleTexture(").concat(r,", uv);\n  }\n")}function bw(e,t){var n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),o=n[1]*n[2],i=n[2],s=l.D5U.squeezeShape(n),u=s.newShape,c=s.keptDims,f=u;if(f.length<n.length){var p=Iw(e,f);return"\n        ".concat(cw(p,t),"\n        float ").concat(a,"(int row, int col, int depth) {\n          return ").concat(a,"(").concat(Ow(["row","col","depth"],c),");\n        }\n      ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(a,"(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3(").concat(o,", ").concat(i,", 1)));\n        ").concat(Sw(e),"\n      }\n    ");var d=e.shapeInfo.texShape,h=d[0],v=d[1],m=e.shapeInfo.flatOffset;if(v===o&&null==m)return t?"\n      float ".concat(a,"(int row, int col, int depth) {\n        int stride1 = ").concat(r,"Shape[2];\n        float texR = float(row);\n        float texC = dot(vec2(col, depth), vec2(stride1, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n        float ".concat(a,"(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2(").concat(i,", 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2(").concat(v,".0, ").concat(h,".0);\n          return sampleTexture(").concat(r,", uv);\n        }\n      ");if(v===i&&null==m)return t?"\n      float ".concat(a,"(int row, int col, int depth) {\n        float texR = dot(vec2(row, col), vec2(").concat(r,"Shape[1], 1));\n        float texC = float(depth);\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n    float ".concat(a,"(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2(").concat(n[1],", 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(").concat(v,".0, ").concat(h,".0);\n      return sampleTexture(").concat(r,", uv);\n    }\n  ");var g=vw(r);return t?"\n    float ".concat(a,"(int row, int col, int depth) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int stride0 = ").concat(r,"Shape[1] * ").concat(r,"Shape[2];\n      int stride1 = ").concat(r,"Shape[2];\n      int index = row * ").concat(o," + col * ").concat(i," + depth + ").concat(g,";\n      vec2 uv = uvFromFlat(").concat(r,"TexShape[0], ").concat(r,"TexShape[1], index);\n      return sampleTexture(").concat(r,", uv);\n    }\n    "):"\n      float ".concat(a,"(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ").concat(o," + col * ").concat(i," + depth + ").concat(g,";\n        vec2 uv = uvFromFlat(").concat(h,", ").concat(v,", index);\n        return sampleTexture(").concat(r,", uv);\n      }\n  ")}function xw(e,t){var n=e.shapeInfo.logicalShape,r=e.name,a="get"+r.charAt(0).toUpperCase()+r.slice(1),o=n[3],i=n[2]*o,s=n[1]*i,u=l.D5U.squeezeShape(n),c=u.newShape,f=u.keptDims;if(c.length<n.length){var p=Iw(e,c);return"\n      ".concat(cw(p,t),"\n      float ").concat(a,"(int row, int col, int depth, int depth2) {\n        return ").concat(a,"(").concat(Ow(["row","col","depth","depth2"],f),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(a,"(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4(").concat(s,", ").concat(i,", ").concat(o,", 1)));\n        ").concat(Sw(e),"\n      }\n    ");var d=e.shapeInfo.flatOffset,h=e.shapeInfo.texShape,v=h[0],m=h[1],g="int stride2 = ".concat(r,"Shape[3];"),y="int stride1 = ".concat(r,"Shape[2] * stride2;"),b="int stride0 = ".concat(r,"Shape[1] * stride1;");if(m===s&&null==d)return t?"\n      float ".concat(a,"(int row, int col, int depth, int depth2) {\n        ").concat(g,"\n        ").concat(y,"\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(stride1, stride2, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n      float ".concat(a,"(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(").concat(i,", ").concat(o,", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(m,".0, ").concat(v,".0);\n        return sampleTexture(").concat(r,", uv);\n      }\n    ");if(m===o&&null==d)return t?"\n      float ".concat(a,"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(").concat(r,"Shape[1] * ").concat(r,"Shape[2], ").concat(r,"Shape[2], 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(r,"TexShape[1], ").concat(r,"TexShape[0]);\n        return sampleTexture(").concat(r,", uv);\n      }\n    "):"\n      float ".concat(a,"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(").concat(n[1]*n[2],", ").concat(n[2],", 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(m,".0, ").concat(v,".0);\n        return sampleTexture(").concat(r,", uv);\n      }\n    ");var x=vw(r);return t?"\n    float ".concat(a,"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      ").concat(g,"\n      ").concat(y,"\n      ").concat(b,"\n      int index = row * stride0 + col * stride1 +\n          depth * stride2 + depth2;\n      vec2 uv = uvFromFlat(").concat(r,"TexShape[0], ").concat(r,"TexShape[1], index + ").concat(x,");\n      return sampleTexture(").concat(r,", uv);\n    }\n  "):"\n    float ".concat(a,"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(s," + col * ").concat(i," +\n          depth * ").concat(o," + depth2;\n      vec2 uv = uvFromFlat(").concat(v,", ").concat(m,", index + ").concat(x,");\n      return sampleTexture(").concat(r,", uv);\n    }\n  ")}function ww(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=t[4],o=t[3]*a,i=t[2]*o,s=t[1]*i,u=l.D5U.squeezeShape(t),c=u.newShape,f=u.keptDims;if(c.length<t.length){var p=Iw(e,c);return"\n      ".concat(cw(p),"\n      float ").concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        return ").concat(r,"(").concat(Ow(["row","col","depth","depth2","depth3"],f),");\n      }\n    ")}if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(s,", ").concat(i,", ").concat(o,", ").concat(a,")) +\n          depth3;\n        ").concat(Sw(e),"\n      }\n    ");var d=e.shapeInfo.flatOffset,h=e.shapeInfo.texShape,v=h[0],m=h[1];if(m===s&&null==d)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4(").concat(i,", ").concat(o,", ").concat(a,", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(m,".0, ").concat(v,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(m===a&&null==d)return"\n      float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(t[1]*t[2]*t[3],",\n               ").concat(t[2]*t[3],", ").concat(t[3],", 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(m,".0, ").concat(v,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");var g=vw(n);return"\n    float ".concat(r,"(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(s," + col * ").concat(i," + depth * ").concat(o," +\n          depth2 * ").concat(a," + depth3 + ").concat(g,";\n      vec2 uv = uvFromFlat(").concat(v,", ").concat(m,", index);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}function kw(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),a=l.D5U.squeezeShape(t),o=a.newShape,i=a.keptDims;if(o.length<t.length){var s=Iw(e,o);return"\n      ".concat(cw(s),"\n      float ").concat(r,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return ").concat(r,"(").concat(Ow(["row","col","depth","depth2","depth3","depth4"],i),");\n      }\n    ")}var u=t[5],c=t[4]*u,f=t[3]*c,p=t[2]*f,d=t[1]*p;if(e.shapeInfo.isUniform)return"\n      float ".concat(r,"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4(").concat(d,", ").concat(p,", ").concat(f,", ").concat(c,")) +\n          dot(\n            vec2(depth3, depth4),\n            vec2(").concat(u,", 1)));\n        ").concat(Sw(e),"\n      }\n    ");var h=e.shapeInfo.flatOffset,v=e.shapeInfo.texShape,m=v[0],g=v[1];if(g===d&&null==h)return"\n      float ".concat(r,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4(").concat(p,", ").concat(f,", ").concat(c,", ").concat(u,")) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(").concat(g,".0, ").concat(m,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");if(g===u&&null==h)return"\n      float ".concat(r,"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4(").concat(t[1]*t[2]*t[3]*t[4],",\n               ").concat(t[2]*t[3]*t[4],",\n               ").concat(t[3]*t[4],",\n               ").concat(t[4],")) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(").concat(g,".0, ").concat(m,".0);\n        return sampleTexture(").concat(n,", uv);\n      }\n    ");var y=vw(n);return"\n    float ".concat(r,"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ").concat(d," + col * ").concat(p," + depth * ").concat(f," +\n          depth2 * ").concat(c," + depth3 * ").concat(u," + depth4 + ").concat(y,";\n      vec2 uv = uvFromFlat(").concat(m,", ").concat(g,", index);\n      return sampleTexture(").concat(n,", uv);\n    }\n  ")}function Sw(e){var t=e.name,n=l.D5U.sizeFromShape(e.shapeInfo.logicalShape);return n<2?"return ".concat(t,";"):"\n    for (int i = 0; i < ".concat(n,"; i++) {\n      if (i == index) {\n        return ").concat(t,"[i];\n      }\n    }\n  ")}function Ew(e,t){var n,r=e.name,a=r.charAt(0).toUpperCase()+r.slice(1),o="get"+a+"AtOutCoords",i=e.shapeInfo.logicalShape.length,s=t.logicalShape.length,u=sw(e.shapeInfo.logicalShape,t.logicalShape),c=Nw(s),f=s-i,p=["x","y","z","w","u","v"];n=0===i?"":s<2&&u.length>=1?"coords = 0;":u.map((function(e){return"coords.".concat(p[e+f]," = 0;")})).join("\n");var d="";d=s<2&&i>0?"coords":e.shapeInfo.logicalShape.map((function(e,t){return"coords.".concat(p[t+f])})).join(", ");var h="return outputValue;",v=1===l.D5U.sizeFromShape(e.shapeInfo.logicalShape),m=1===l.D5U.sizeFromShape(t.logicalShape);if(1!==i||v||m){if(v&&!m)h=1===s?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(u.length){var g=i-2,y=i-1;u.indexOf(g)>-1&&u.indexOf(y)>-1?h="return vec4(outputValue.x);":u.indexOf(g)>-1?h="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":u.indexOf(y)>-1&&(h="return vec4(outputValue.xx, outputValue.zz);")}}else h="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return"\n    vec4 ".concat(o,"() {\n      ").concat(c," coords = getOutputCoords();\n      ").concat(n,"\n      vec4 outputValue = get").concat(a,"(").concat(d,");\n      ").concat(h,"\n    }\n  ")}function Cw(e,t){var n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),a="get"+r+"AtOutCoords",o=t.texShape,i=e.shapeInfo.texShape,s=e.shapeInfo.logicalShape.length,u=t.logicalShape.length;if(!e.shapeInfo.isUniform&&s===u&&null==e.shapeInfo.flatOffset&&l.D5U.arraysEqual(i,o))return"\n      float ".concat(a,"() {\n        return sampleTexture(").concat(n,", resultUV);\n      }\n    ");var c,f=Nw(u),p=sw(e.shapeInfo.logicalShape,t.logicalShape),d=u-s,h=["x","y","z","w","u","v"];c=0===s?"":u<2&&p.length>=1?"coords = 0;":p.map((function(e){return"coords.".concat(h[e+d]," = 0;")})).join("\n");var v="";return v=u<2&&s>0?"coords":e.shapeInfo.logicalShape.map((function(e,t){return"coords.".concat(h[t+d])})).join(", "),"\n    float ".concat(a,"() {\n      ").concat(f," coords = getOutputCoords();\n      ").concat(c,"\n      return get").concat(r,"(").concat(v,");\n    }\n  ")}function Nw(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error("GPU for rank ".concat(e," is not yet supported"))}function Tw(e,t,n){var r=l.D5U.squeezeShape(t),a=r.newShape,o=r.keptDims,i=t.length,s=e&&3===i&&1===t[0],u=s?t.slice(1):a,c=!e&&i>1&&!l.D5U.arraysEqual(t,n)&&a.length<i||s;return{useSqueezeShape:c,uniformShape:c?u:t,keptDims:o}}function Iw(e,t){var n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function Ow(e,t){return t.map((function(t){return e[t]})).join(", ")}function _w(e,t,n,r){var a=n.map((function(e,n){var r={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(r.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[n],shapeInfo:r}})),o=a.map((function(e){return e.shapeInfo})),i={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},s=uw(a,i,t),u=function(e,t){var n=Ux(e,(function(){return e.createShader(e.FRAGMENT_SHADER)}),"Unable to create fragment WebGLShader.");if(Tx(e,(function(){return e.shaderSource(n,t)})),Tx(e,(function(){return e.compileShader(n)})),(0,l.OBj)().get("ENGINE_COMPILE_ONLY"))return n;if(!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw Rx(t,e.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}(e.gl,s),c=e.createProgram(u);return(0,l.OBj)().get("ENGINE_COMPILE_ONLY")?{program:t,fragmentShader:u,source:s,webGLProgram:c,inShapeInfos:o,outShapeInfo:i,uniformLocations:null,customUniformLocations:null,infLoc:null,nanLoc:null,inShapesLocations:null,inTexShapesLocations:null,outShapeLocation:null,outShapeStridesLocation:null,outTexShapeLocation:null}:Object.assign({program:t,fragmentShader:u,source:s,webGLProgram:c,inShapeInfos:o,outShapeInfo:i},Dw(e,t,c))}function Dw(e,t,n){var r,a,o,i,s={},u={},c={},f=[],p=null;i=e.getUniformLocation(n,"NAN",!1),1===(0,l.OBj)().getNumber("WEBGL_VERSION")&&(p=e.getUniformLocation(n,"INFINITY",!1));for(var d=!1,h=0;h<t.variableNames.length;h++){var v=t.variableNames[h];s[v]=e.getUniformLocation(n,v,d),s["offset".concat(v)]=e.getUniformLocation(n,"offset".concat(v),d),t.enableShapeUniforms&&(u["".concat(v,"Shape")]=e.getUniformLocation(n,"".concat(v,"Shape"),d),c["".concat(v,"TexShape")]=e.getUniformLocation(n,"".concat(v,"TexShape"),d))}return t.enableShapeUniforms&&(r=e.getUniformLocation(n,"outShape",d),o=e.getUniformLocation(n,"outShapeStrides",d),a=e.getUniformLocation(n,"outTexShape",d)),t.customUniforms&&t.customUniforms.forEach((function(t,r){f[r]=e.getUniformLocation(n,t.name,d)})),{uniformLocations:s,customUniformLocations:f,infLoc:p,nanLoc:i,inShapesLocations:u,inTexShapesLocations:c,outShapeLocation:r,outShapeStridesLocation:o,outTexShapeLocation:a}}function Aw(e,t){if(e.length!==t.length)throw Error("Binary was compiled with ".concat(e.length," inputs, but ")+"was executed with ".concat(t.length," inputs"));e.forEach((function(e,n){var r=e.logicalShape,a=t[n],o=a.shape;if(!l.D5U.arraysEqual(r,o))throw Error("Binary was compiled with different shapes than "+"the current args. Shapes ".concat(r," and ").concat(o," must match"));if(!e.isUniform||!a.isUniform){var i=e.texShape,s=a.isUniform?null:a.texData.texShape;if(!l.D5U.arraysEqual(i,s))throw Error("Binary was compiled with different texture shapes than the"+" current args. Shape ".concat(i," and ").concat(s," must match"))}}))}function Rw(e,t,n,r,a){t.program.enableShapeUniforms||(Aw(t.inShapeInfos,n),Aw([t.outShapeInfo],[r]));var o=r.texData.texture,i=r.texData.texShape;r.texData.isPacked?e.setOutputPackedMatrixTexture(o.texture,i[0],i[1]):e.setOutputMatrixTexture(o.texture,i[0],i[1]),e.setProgram(t.webGLProgram),1===(0,l.OBj)().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN),n.forEach((function(n,r){var a=t.program.variableNames[r],o=t.uniformLocations[a],i=t.uniformLocations["offset".concat(a)],s=t.inShapesLocations["".concat(a,"Shape")],u=t.inTexShapesLocations["".concat(a,"TexShape")];if(s){var c=Tw(t.program.packedInputs,n.shape,n.texData.texShape).uniformShape;switch(c.length){case 1:e.gl.uniform1iv(s,new Int32Array(c));break;case 2:e.gl.uniform2iv(s,new Int32Array(c));break;case 3:e.gl.uniform3iv(s,new Int32Array(c));break;case 4:e.gl.uniform4iv(s,new Int32Array(c))}}if(u&&e.gl.uniform2i(u,n.texData.texShape[0],n.texData.texShape[1]),null!=o)if(n.isUniform)if(l.D5U.sizeFromShape(n.shape)<2)e.gl.uniform1f(o,n.uniformValues[0]);else{var f=n.uniformValues;f instanceof Float32Array||(f=new Float32Array(f)),e.gl.uniform1fv(o,f)}else null!=n.texData.slice&&null!=i&&e.gl.uniform1i(i,n.texData.slice.flatOffset),e.setInputMatrixTexture(n.texData.texture.texture,o,r)}));var s=t.outShapeLocation;if(s)switch(r.shape.length){case 1:e.gl.uniform1iv(s,new Int32Array(r.shape));break;case 2:e.gl.uniform2iv(s,new Int32Array(r.shape));break;case 3:e.gl.uniform3iv(s,new Int32Array(r.shape));break;case 4:e.gl.uniform4iv(s,new Int32Array(r.shape))}if(t.outShapeStridesLocation){var u=l.D5U.computeStrides(r.shape);switch(r.shape.length){case 2:e.gl.uniform1iv(t.outShapeStridesLocation,new Int32Array(u));break;case 3:e.gl.uniform2iv(t.outShapeStridesLocation,new Int32Array(u));break;case 4:e.gl.uniform3iv(t.outShapeStridesLocation,new Int32Array(u))}}t.outTexShapeLocation&&e.gl.uniform2i(t.outTexShapeLocation,r.texData.texShape[0],r.texData.texShape[1]),t.program.customUniforms&&a&&t.program.customUniforms.forEach((function(n,r){var o=t.customUniformLocations[r],i=a[r];if("float"===n.type)e.gl.uniform1fv(o,i);else if("vec2"===n.type)e.gl.uniform2fv(o,i);else if("vec3"===n.type)e.gl.uniform3fv(o,i);else if("vec4"===n.type)e.gl.uniform4fv(o,i);else if("int"===n.type)e.gl.uniform1iv(o,i);else if("ivec2"===n.type)e.gl.uniform2iv(o,i);else if("ivec3"===n.type)e.gl.uniform3iv(o,i);else{if("ivec4"!==n.type)throw Error("uniform type ".concat(n.type," is not supported yet."));e.gl.uniform4iv(o,i)}})),e.executeProgram()}function Pw(e,t,n){var r="";t.concat(n).forEach((function(t){var a=null!=t.texData&&null!=t.texData.slice&&t.texData.slice.flatOffset>0;if(e.enableShapeUniforms&&!t.isUniform){var o=t.texData.texShape,i=Tw(e.packedInputs,t.shape,o),s=i.useSqueezeShape,u=i.uniformShape,c=i.keptDims,f="",p="",d="";if(1===u.length&&e.packedInputs){var h=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)];f="".concat(h[0]>1,"_").concat(h[1]>1)}else if(2!==u.length||e.packedInputs){if(u.length>2&&!e.packedInputs){var v=l.D5U.computeStrides(u);d="".concat(v[0]===o[1],"_").concat(v[v.length-1]===o[1])}}else p="".concat(u[0]>1,"_").concat(u[1]>1);var m=t.shape.length,g=2===u.length&&l.D5U.arraysEqual(t.shape,o),y=1===l.D5U.sizeFromShape(t.shape),b=l.Wap.getBroadcastDims(t.shape,n.shape),x=!e.packedInputs&&m===n.shape.length&&l.D5U.arraysEqual(o,n.texData.texShape),w=e.packedInputs||u.length>2?"":"".concat(o[0]>1,"_").concat(o[1]>1);r+="".concat(m,"_").concat(x,"_").concat(s?c:"","_").concat(u.length,"_").concat(y,"_").concat(b,"_").concat(g,"_").concat(f,"_").concat(p,"_").concat(d,"_").concat(w,"_").concat(a)}else{var k=t.isUniform?"uniform":t.texData.texShape;r+="".concat(t.shape,"_").concat(k,"_").concat(a)}}));var a=e.userCode,o=e.constructor.name;return o+="_"+r+"_"+a+"".concat((0,l.OBj)().getNumber("WEBGL_VERSION"))}function Mw(e){return(0,l.OBj)().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&e<=4}var Fw=(0,oa.Z)((function e(t){(0,aa.Z)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=gx.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];var n=tw();this.outputShape=t,this.enableShapeUniforms=Mw(this.outputShape.length),this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ".concat(this.enableShapeUniforms?rw(["r","c","d"],t):nw(["r","c","d"],t),"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        ").concat(n.output," = result;\n      }\n    ")})),Lw=(0,oa.Z)((function e(t){(0,aa.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=gx.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];var n=tw();this.outputShape=t,this.enableShapeUniforms=Mw(this.outputShape.length),this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ".concat(this.enableShapeUniforms?rw(["r","c","d"],t):nw(["r","c","d"],t),"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        ").concat(n.output," = result;\n      }\n    ")})),jw=(0,oa.Z)((function e(t){(0,aa.Z)(this,e),this.variableNames=["A"],this.outTexUsage=yx.DOWNLOAD;var n=tw();this.outputShape=t,this.userCode="\n      ".concat(iw,"\n\n      void main() {\n        float x = getAAtOutCoords();\n        ").concat(n.output," = encode_float(x);\n      }\n    ")})),Zw=(0,oa.Z)((function e(t){(0,aa.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=yx.DOWNLOAD;var n=tw();this.outputShape=t,this.userCode="\n      ".concat(iw,"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        ").concat(n.output," = encode_float(x);\n      }\n    ")})),zw=(0,oa.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,aa.Z)(this,e),this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];var r=tw();this.outputShape=t,this.enableShapeUniforms=Mw(this.outputShape.length);var a="result";n&&(a="floor(result * 255. + 0.5)"),this.userCode="\n      ".concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":ow(t),"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        int flatIndex = getFlatIndex(coords);\n        int offset = imod(flatIndex, 4);\n\n        flatIndex = idiv(flatIndex, 4, 1.);\n\n        int r = flatIndex / texShape[1];\n        int c = imod(flatIndex, texShape[1]);\n        vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n        vec4 values = ").concat(r.texture2D,"(A, uv);\n\n        float result;\n\n        if(offset == 0) {\n          result = values[0];\n        } else if(offset == 1) {\n          result = values[1];\n        } else if(offset == 2) {\n          result = values[2];\n        } else {\n          result = values[3];\n        }\n\n        ").concat(r.output," = vec4(").concat(a,", 0., 0., 0.);\n      }\n    ")})),Bw=(0,oa.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,aa.Z)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];var r=tw();this.outputShape=t,this.enableShapeUniforms=Mw(this.outputShape.length);var a="",o="result";n&&(o="floor(result * 255. + 0.5)");for(var i=0;i<=1;i++)for(var s=0;s<=1;s++){var u=2*i+s;a+="\n          localCoords = coords;\n          if(localCoords[2] + ".concat(s," < ").concat(this.enableShapeUniforms?"outShape[2]":"".concat(t[2]),") {\n          localCoords[2] += ").concat(s,";\n          if (localCoords[1] + ").concat(i," < ").concat(this.enableShapeUniforms?"outShape[1]":"".concat(t[1]),") {\n            localCoords[1] += ").concat(i,";\n\n            flatIndex = getFlatIndex(localCoords);\n            offset = imod(flatIndex, 4);\n\n            flatIndex = idiv(flatIndex, 4, 1.);\n\n            int r = flatIndex / texShape[1];\n            int c = imod(flatIndex, texShape[1]);\n            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n            values = ").concat(r.texture2D,"(A, uv);\n\n            if (offset == 0) {\n              result[").concat(u,"] = values[0];\n            } else if (offset == 1) {\n              result[").concat(u,"] = values[1];\n            } else if (offset == 2) {\n              result[").concat(u,"] = values[2];\n            } else {\n              result[").concat(u,"] = values[3];\n            }\n          }\n        }\n        ")}this.userCode="\n        ".concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":ow(t),"\n\n        void main() {\n          ivec3 coords = getOutputCoords();\n\n          vec4 result = vec4(0.);\n          int flatIndex, r, c, offset;\n          ivec3 localCoords;\n          vec2 uv;\n          vec4 values;\n\n          ").concat(a,"\n\n          ").concat(r.output," = ").concat(o,";\n        }\n    ")}));function Uw(e){var t=tw();return function(e,t){var n=Ux(e,(function(){return e.createShader(e.VERTEX_SHADER)}),"Unable to create vertex WebGLShader.");if(Tx(e,(function(){return e.shaderSource(n,t)})),Tx(e,(function(){return e.compileShader(n)})),!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}(e,"".concat(t.version,"\n    precision highp float;\n    ").concat(t.attribute," vec3 clipSpacePos;\n    ").concat(t.attribute," vec2 uv;\n    ").concat(t.varyingVs," vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }"))}function Ww(e){return function(e,t){var n=Ux(e,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return Tx(e,(function(){return e.bindBuffer(e.ARRAY_BUFFER,n)})),Tx(e,(function(){return e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW)})),n}(e,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function Vw(e){return function(e,t){var n=Ux(e,(function(){return e.createBuffer()}),"Unable to create WebGLBuffer");return Tx(e,(function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n)})),Tx(e,(function(){return e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW)})),n}(e,new Uint16Array([0,1,2,2,1,3]))}function Hw(e,t,n,r,a,o){!function(e,t){var n=(0,l.OBj)().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0){var r="[".concat(e,"x").concat(t,"]");throw new Error("Requested texture size "+r+" is invalid.")}if(e>n||t>n){var a="[".concat(e,"x").concat(t,"]"),o="[".concat(n,"x").concat(n,"]");throw new Error("Requested texture size "+a+" greater than WebGL maximum on this browser / GPU "+o+".")}}(t,n);var i=function(e){return Ux(e,(function(){return e.createTexture()}),"Unable to create WebGLTexture.")}(e),s=e.TEXTURE_2D;return Tx(e,(function(){return e.bindTexture(s,i)})),Tx(e,(function(){return e.texParameteri(s,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)})),Tx(e,(function(){return e.texParameteri(s,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)})),Tx(e,(function(){return e.texParameteri(s,e.TEXTURE_MIN_FILTER,e.NEAREST)})),Tx(e,(function(){return e.texParameteri(s,e.TEXTURE_MAG_FILTER,e.NEAREST)})),1===(0,l.OBj)().getNumber("WEBGL_VERSION")?Tx(e,(function(){return e.texImage2D(s,0,r,t,n,0,a,o,null)})):Tx(e,(function(){return e.texStorage2D(s,1,r,t,n)})),Tx(e,(function(){return e.bindTexture(e.TEXTURE_2D,null)})),{texture:i,texShape:[n,t]}}function Gw(e){return e.internalFormatFloat}function qw(e){return e.internalFormatHalfFloat}function Xw(e){return e.downloadTextureFormat}function Kw(e){return e.internalFormatPackedFloat}function Yw(e){return e.internalFormatPackedHalfFloat}function Qw(e,t,n,r,a,o,i,s){var u=e,c=new Float32Array(function(e,t){var n=Cx(e,t),r=(0,f.Z)(n,2);return r[0]*r[1]*4}(o,i));return u.bindBuffer(u.PIXEL_PACK_BUFFER,t),u.getBufferSubData(u.PIXEL_PACK_BUFFER,0,c),u.bindBuffer(u.PIXEL_PACK_BUFFER,null),c}var $w=function(){function e(t){(0,aa.Z)(this,e),this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];var n=(0,l.OBj)().getNumber("WEBGL_VERSION");null!=t?(this.gl=t,function(e,t){xx[e]=t}(n,t)):this.gl=kx(n);var r="WEBGL_color_buffer_float",a="EXT_color_buffer_half_float";if(this.parallelCompilationExtension=this.gl.getExtension("KHR_parallel_shader_compile"),1===(0,l.OBj)().getNumber("WEBGL_VERSION")){var o="OES_texture_half_float";if(this.textureFloatExtension=Ox(this.gl,"OES_texture_float"),Kx(this.gl,o))this.textureHalfFloatExtension=Ox(this.gl,o);else if((0,l.OBj)().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(r),Kx(this.gl,a))this.colorBufferHalfFloatExtension=Ox(this.gl,a);else if((0,l.OBj)().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(r="EXT_color_buffer_float",Kx(this.gl,r))this.colorBufferFloatExtension=this.gl.getExtension(r);else{if(!Kx(this.gl,a))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension(a)}this.vertexBuffer=Ww(this.gl),this.indexBuffer=Vw(this.gl),this.framebuffer=function(e){return Ux(e,(function(){return e.createFramebuffer()}),"Unable to create WebGLFramebuffer.")}(this.gl),this.textureConfig=Nx(this.gl,this.textureHalfFloatExtension)}return(0,oa.Z)(e,[{key:"debug",get:function(){return(0,l.OBj)().getBool("DEBUG")}},{key:"dispose",value:function(){var e=this;if(!this.disposed){null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var t=this.gl;Tx(t,(function(){return t.finish()})),Tx(t,(function(){return t.bindFramebuffer(t.FRAMEBUFFER,null)})),Tx(t,(function(){return t.deleteFramebuffer(e.framebuffer)})),Tx(t,(function(){return t.bindBuffer(t.ARRAY_BUFFER,null)})),Tx(t,(function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)})),Tx(t,(function(){return t.deleteBuffer(e.indexBuffer)})),this.disposed=!0}}},{key:"createFloat32MatrixTexture",value:function(e,t){return this.throwIfDisposed(),function(e,t,n,r){var a=Sx(t,n),o=(0,f.Z)(a,2);return Hw(e,o[0],o[1],Gw(r),r.textureFormatFloat,e.FLOAT)}(this.gl,e,t,this.textureConfig)}},{key:"createFloat16MatrixTexture",value:function(e,t){return this.throwIfDisposed(),function(e,t,n,r){var a=Sx(t,n),o=(0,f.Z)(a,2);return Hw(e,o[0],o[1],qw(r),r.textureFormatFloat,r.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}},{key:"createUnsignedBytesMatrixTexture",value:function(e,t){return this.throwIfDisposed(),function(e,t,n,r){var a=Sx(t,n),o=(0,f.Z)(a,2);return Hw(e,o[0],o[1],Xw(r),e.RGBA,e.UNSIGNED_BYTE)}(this.gl,e,t,this.textureConfig)}},{key:"uploadPixelDataToTexture",value:function(e,t){this.throwIfDisposed(),function(e,t,n){Tx(e,(function(){return e.bindTexture(e.TEXTURE_2D,t)})),n.data instanceof Uint8Array?2===(0,l.OBj)().getNumber("WEBGL_VERSION")?Tx(e,(function(){return e.texSubImage2D(e.TEXTURE_2D,0,0,0,n.width,n.height,e.RGBA,e.UNSIGNED_BYTE,n.data)})):Tx(e,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,n.data)})):2===(0,l.OBj)().getNumber("WEBGL_VERSION")?Tx(e,(function(){return e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,n)})):Tx(e,(function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n)})),Tx(e,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}(this.gl,e,t)}},{key:"uploadDenseMatrixToTexture",value:function(e,t,n,r){this.throwIfDisposed(),function(e,t,n,r,a,o){var i,s,u;Tx(e,(function(){return e.bindTexture(e.TEXTURE_2D,t)})),a instanceof Uint8Array?(i=new Uint8Array(n*r*4),s=e.UNSIGNED_BYTE,u=e.RGBA):(i=new Float32Array(n*r*4),s=e.FLOAT,u=o.internalFormatPackedFloat),i.set(a),2===(0,l.OBj)().getNumber("WEBGL_VERSION")?Tx(e,(function(){return e.texSubImage2D(e.TEXTURE_2D,0,0,0,n,r,e.RGBA,s,i)})):Tx(e,(function(){return e.texImage2D(e.TEXTURE_2D,0,u,n,r,0,e.RGBA,s,i)})),Tx(e,(function(){return e.bindTexture(e.TEXTURE_2D,null)}))}(this.gl,e,t,n,r,this.textureConfig)}},{key:"createFloat16PackedMatrixTexture",value:function(e,t){return this.throwIfDisposed(),function(e,t,n,r){var a=Cx(t,n),o=(0,f.Z)(a,2);return Hw(e,o[0],o[1],Yw(r),e.RGBA,r.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}},{key:"createPackedMatrixTexture",value:function(e,t){return this.throwIfDisposed(),function(e,t,n,r){var a=Cx(t,n),o=(0,f.Z)(a,2);return Hw(e,o[0],o[1],Kw(r),e.RGBA,e.FLOAT)}(this.gl,e,t,this.textureConfig)}},{key:"deleteMatrixTexture",value:function(e){var t=this;this.throwIfDisposed(),this.outputTexture===e&&(zx(this.gl,this.framebuffer),this.outputTexture=null),Tx(this.gl,(function(){return t.gl.deleteTexture(e)}))}},{key:"downloadByteEncodedFloatMatrixFromOutputTexture",value:function(e,t,n){var r=this;return this.downloadMatrixDriver(e,(function(){return function(e,t,n,r){var a=Sx(t,n),o=(0,f.Z)(a,2),i=o[0],s=o[1],u=new Uint8Array(t*n*4);return Tx(e,(function(){return e.readPixels(0,0,i,s,r.downloadTextureFormat,e.UNSIGNED_BYTE,u)})),new Float32Array(u.buffer)}(r.gl,t,n,r.textureConfig)}))}},{key:"downloadPackedMatrixFromBuffer",value:function(e,t,n,r,a,o){return Qw(this.gl,e,0,0,0,a,o,this.textureConfig)}},{key:"downloadFloat32MatrixFromBuffer",value:function(e,t){return function(e,t,n){var r=e,a=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,a),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),a}(this.gl,e,t)}},{key:"createBufferFromTexture",value:function(e,t,n){this.bindTextureToFrameBuffer(e);var r=function(e,t,n,r){var a=e.createBuffer();Tx(e,(function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,a)}));var o=16*t*n;return Tx(e,(function(){return e.bufferData(e.PIXEL_PACK_BUFFER,o,e.STREAM_READ)})),Tx(e,(function(){return e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,0)})),Tx(e,(function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,null)})),a}(this.gl,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r}},{key:"createAndWaitForFence",value:function(){var e=this.createFence(this.gl);return this.pollFence(e)}},{key:"createFence",value:function(e){var t,n,r=this;if((0,l.OBj)().getBool("WEBGL_FENCE_API_ENABLED")){var a=e,o=a.fenceSync(a.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=function(){var e=a.clientWaitSync(o,0,0);return e===a.ALREADY_SIGNALED||e===a.CONDITION_SATISFIED},t=o}else(0,l.OBj)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=function(){return r.isQueryAvailable(t,(0,l.OBj)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):n=function(){return!0};return{query:t,isFencePassed:n}}},{key:"downloadMatrixFromPackedTexture",value:function(e,t,n){var r=this;return this.downloadMatrixDriver(e,(function(){return function(e,t,n){var r=new Float32Array(t*n*4);return Tx(e,(function(){return e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,r)})),r}(r.gl,t,n)}))}},{key:"createProgram",value:function(e){var t=this;this.throwIfDisposed();var n=this.gl;null==this.vertexShader&&(this.vertexShader=Uw(n));var r=function(e){return Ux(e,(function(){return e.createProgram()}),"Unable to create WebGLProgram.")}(n);return Tx(n,(function(){return n.attachShader(r,t.vertexShader)})),Tx(n,(function(){return n.attachShader(r,e)})),function(e,t){if(Tx(e,(function(){return e.linkProgram(t)})),!(0,l.OBj)().get("ENGINE_COMPILE_ONLY")&&!1===e.getProgramParameter(t,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.")}(n,r),this.debug&&Px(n,r),this.vertexAttrsAreBound||(this.setProgram(r),this.vertexAttrsAreBound=function(e,t,n){return Tx(e,(function(){return e.bindBuffer(e.ARRAY_BUFFER,n)})),Mx(e,t,"clipSpacePos",n,3,20,0)&&Mx(e,t,"uv",n,2,20,12)}(n,this.program,this.vertexBuffer)),r}},{key:"deleteProgram",value:function(e){var t=this;this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&Tx(this.gl,(function(){return t.gl.deleteProgram(e)}))}},{key:"setProgram",value:function(e){var t=this;this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&Px(this.gl,this.program),Tx(this.gl,(function(){return t.gl.useProgram(e)}))}},{key:"getUniformLocation",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.throwIfDisposed(),n?Fx(this.gl,e,t):Lx(this.gl,e,t)}},{key:"getAttributeLocation",value:function(e,t){var n=this;return this.throwIfDisposed(),Tx(this.gl,(function(){return n.gl.getAttribLocation(e,t)}))}},{key:"getUniformLocationNoThrow",value:function(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)}},{key:"setInputMatrixTexture",value:function(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),jx(this.gl,e,t,n)}},{key:"setOutputMatrixTexture",value:function(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)}},{key:"setOutputPackedMatrixTexture",value:function(e,t,n){this.throwIfDisposed();var r=Cx(t,n),a=(0,f.Z)(r,2),o=a[0],i=a[1];this.setOutputMatrixTextureDriver(e,o,i)}},{key:"setOutputMatrixWriteRegion",value:function(e,t,n,r){this.setOutputMatrixWriteRegionDriver(n,e,r,t)}},{key:"setOutputPackedMatrixWriteRegion",value:function(e,t,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}},{key:"debugValidate",value:function(){null!=this.program&&Px(this.gl,this.program),Bx(this.gl)}},{key:"executeProgram",value:function(){this.throwIfDisposed(),this.throwIfNoProgram();var e=this.gl;this.debug&&this.debugValidate(),Tx(e,(function(){return e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)}))}},{key:"blockUntilAllProgramsCompleted",value:function(){var e=this;this.throwIfDisposed(),Tx(this.gl,(function(){return e.gl.finish()}))}},{key:"getQueryTimerExtension",value:function(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=Ox(this.gl,2===(0,l.OBj)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}},{key:"getQueryTimerExtensionWebGL2",value:function(){return this.getQueryTimerExtension()}},{key:"getQueryTimerExtensionWebGL1",value:function(){return this.getQueryTimerExtension()}},{key:"beginQuery",value:function(){if(2===(0,l.OBj)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}var r=this.getQueryTimerExtensionWebGL1(),a=r.createQueryEXT();return r.beginQueryEXT(r.TIME_ELAPSED_EXT,a),a}},{key:"endQuery",value:function(){if(2!==(0,l.OBj)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}else{var t=this.gl,n=this.getQueryTimerExtensionWebGL2();t.endQuery(n.TIME_ELAPSED_EXT)}}},{key:"waitForQueryAndGetTime",value:function(){var e=(0,$i.Z)(es().mark((function e(t){var n=this;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.D5U.repeatedTry((function(){return n.disposed||n.isQueryAvailable(t,(0,l.OBj)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}));case 2:return e.abrupt("return",this.getQueryTime(t,(0,l.OBj)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getQueryTime",value:function(e,t){if(0===t)return null;if(2===t){var n=this.gl;return n.getQueryParameter(e,n.QUERY_RESULT)/1e6}var r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(e,r.QUERY_RESULT_EXT)/1e6}},{key:"isQueryAvailable",value:function(e,t){if(0===t)return!0;if(2===t){var n=this.gl,r=this.getQueryTimerExtensionWebGL2(),a=n.getQueryParameter(e,n.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),a&&!this.disjoint}var o=this.getQueryTimerExtensionWebGL1(),i=o.getQueryObjectEXT(e,o.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(o.GPU_DISJOINT_EXT)),i&&!this.disjoint}},{key:"pollFence",value:function(e){var t=this;return new Promise((function(n){t.addItemToPoll((function(){return e.isFencePassed()}),(function(){return n()}))}))}},{key:"pollItems",value:function(){for(var e=function(e){for(var t=0;t<e.length;++t){if(!e[t]())break}return t-1}(this.itemsToPoll.map((function(e){return e.isDoneFn}))),t=0;t<=e;++t){(0,this.itemsToPoll[t].resolveFn)()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}},{key:"addItemToPoll",value:function(e,t){var n=this;this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1||l.D5U.repeatedTry((function(){return n.pollItems(),0===n.itemsToPoll.length}))}},{key:"bindTextureToFrameBuffer",value:function(e){this.throwIfDisposed(),Zx(this.gl,e,this.framebuffer),this.debug&&Bx(this.gl)}},{key:"unbindTextureToFrameBuffer",value:function(){null!=this.outputTexture?(Zx(this.gl,this.outputTexture,this.framebuffer),this.debug&&Bx(this.gl)):zx(this.gl,this.framebuffer)}},{key:"downloadMatrixDriver",value:function(e,t){this.bindTextureToFrameBuffer(e);var n=t();return this.unbindTextureToFrameBuffer(),n}},{key:"setOutputMatrixTextureDriver",value:function(e,t,n){this.throwIfDisposed();var r=this.gl;Zx(r,e,this.framebuffer),this.debug&&Bx(r),this.outputTexture=e,Tx(r,(function(){return r.viewport(0,0,t,n)})),Tx(r,(function(){return r.scissor(0,0,t,n)}))}},{key:"setOutputMatrixWriteRegionDriver",value:function(e,t,n,r){var a=this;this.throwIfDisposed(),Tx(this.gl,(function(){return a.gl.scissor(e,t,n,r)}))}},{key:"throwIfDisposed",value:function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}},{key:"throwIfNoProgram",value:function(){if(null==this.program)throw new Error("No GPU program is currently set.")}}]),e}();var Jw=Mh,ek=Tv,tk=Iv,nk=Dv,rk=Lv,ak=xm,ok=Dm,ik=Fm,sk=Jm,uk=sg,ck=cg,lk=fg,fk=hg,pk=Eg,dk=Tg,hk=_g,vk=Ag,mk=qg,gk=Yg,yk=iy,bk=pm,xk=gy,wk=Cy,kk=jy,Sk=zy,Ek=$y,Ck=tb,Nk=kh,Tk=Vh,Ik=Sv,Ok=wb,_k=Sb,Dk=Cb,Ak=_b,Rk=Zb,Pk=Ub,Mk=Hb,Fk=qb,Lk=Um,jk=Jb,Zk=rx,zk=Qh,Bk=lx;function Uk(e,t){return["x","y","z","w","u","v"].slice(0,t).map((function(t){return"".concat(e,".").concat(t)}))}function Wk(e,t){return 1===t?[e]:Uk(e,t)}var Vk=function(){function e(t){if((0,aa.Z)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=t,this.rank=t.length,this.enableShapeUniforms=Mw(this.outputShape.length),0===this.rank)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{var n=Wk("rc",this.rank),r=Nw(this.rank),a=this.getOutOfBoundsCondition(n),o=this.getSetup(n),i=this.getOutput(n);this.userCode="\n        void main() {\n          ".concat(r," rc = getOutputCoords();\n\n          if(").concat(a,") {\n            setOutput(vec4(0));\n          } else {\n            ").concat(o,"\n\n            setOutput(vec4(").concat(i,"));\n          }\n        }\n      ")}}return(0,oa.Z)(e,[{key:"getSourceCoordsArr",value:function(e){for(var t=[],n=0;n<=1;n++)for(var r=0;r<=1;r++){for(var a="".concat(0===n?"r":"rp1",", ").concat(0===r?"c":"cp1"),o=2;o<this.rank;o++)a="".concat(e[e.length-1-o],",")+a;t.push(a)}return t}},{key:"getOutOfBoundsCondition",value:function(e){if(1===this.rank)return"rc > ".concat(this.enableShapeUniforms?"outShape":this.outputShape[0]);for(var t="",n=this.rank-2;n<this.rank;n++)t+="".concat(e[n]," >= ").concat(this.enableShapeUniforms?"outShape[".concat(n,"]"):this.outputShape[n]),n<this.rank-1&&(t+="||");return t}},{key:"getSetup",value:function(e){if(1===this.rank)return"";var t=e.slice(-2),n=this.enableShapeUniforms?"outShape[".concat(this.rank," - 1]"):this.outputShape[this.rank-1],r=this.enableShapeUniforms?"outShape[".concat(this.rank," - 2]"):this.outputShape[this.rank-2];return"\n      int r = ".concat(t[0],";\n      int c = ").concat(t[1],";\n      int rp1 = r + 1;\n      int cp1 = c + 1;\n\n      bool cEdge = cp1 >= ").concat(n,";\n      bool rEdge = rp1 >= ").concat(r,";\n    ")}},{key:"getOutput",value:function(e){var t=this.getSourceCoordsArr(e);if(1===this.rank){var n=this.enableShapeUniforms?"outShape":this.outputShape[0];return"getA(rc), (rc + 1 >= ".concat(n," ? 0. : getA(rc + 1)), 0, 0")}return"getA(".concat(t[0],"),\n            cEdge ? 0. : getA(").concat(t[1],"),\n            rEdge ? 0. : getA(").concat(t[2],"),\n            rEdge || cEdge ? 0. : getA(").concat(t[3],")")}}]),e}(),Hk=(0,oa.Z)((function e(t,n){(0,aa.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=t,this.enableShapeUniforms=Mw(this.outputShape.length);for(var r="",a=0;a<4;a++){var o="thisRC = rc;";a%2===1&&(o+="thisRC.z += 1;"),a>1&&(o+="thisRC.y += 1;"),r+="\n        ".concat(o,"\n        ").concat(a>0?"if(thisRC.y < rows && thisRC.z < cols){":"","\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[").concat(a,"] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        ").concat(a>0?"}":"","\n      ")}this.userCode="\n      ".concat(function(e,t){var n=t?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"index",r=e.map((function(e,t){return t})),a=aw(r,t);return a.map((function(t,r){var o="int ".concat(e[r]," = ").concat(n," / ").concat(a[r]),i=r===a.length-1?"int ".concat(e[r+1]," = ").concat(n," - ").concat(e[r]," * ").concat(a[r]):"index -= ".concat(e[r]," * ").concat(a[r]);return"".concat(o,"; ").concat(i,";")})).join("")}(["r","c","d"],"inputShape"):nw(["r","c","d"],e);return"\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ".concat(n,"\n      return ivec3(r, c, d);\n    }\n  ")}(n,this.enableShapeUniforms),"\n      ").concat(this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":ow(t),"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = ").concat(this.enableShapeUniforms?"outShape[1]":t[1],";\n        int cols = ").concat(this.enableShapeUniforms?"outShape[2]":t[2],";\n\n        ").concat(r,"\n\n        setOutput(result);\n      }\n    ")}));var Gk=function(){function e(t){(0,aa.Z)(this,e),this.gpgpu=t,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return(0,oa.Z)(e,[{key:"acquireTexture",value:function(e,t,n){var r=Xk(t,n),a=Kk(e,r,n);a in this.freeTextures||(this.freeTextures[a]=[]),a in this.usedTextures||(this.usedTextures[a]=[]);var o,i=qk(e,r,this.gpgpu.gl,this.gpgpu.textureConfig,n);if(this.freeTextures[a].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=i,this.log();var s=this.freeTextures[a].shift();return this.usedTextures[a].push(s),s}return r===bx.PACKED_2X2_FLOAT32?o=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):r===bx.PACKED_2X2_FLOAT16?o=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):r===bx.UNPACKED_FLOAT32?o=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):r===bx.UNPACKED_FLOAT16?o=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):r===bx.PACKED_4X1_UNSIGNED_BYTE&&(o=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[a].push(o),this.numUsedTextures++,this._numBytesAllocated+=i,this.log(),o}},{key:"releaseTexture",value:function(e,t,n,r){if(null!=this.freeTextures){var a=Xk(n,r),o=Kk(t,a,r);o in this.freeTextures||(this.freeTextures[o]=[]);var i=qk(t,a,this.gpgpu.gl,this.gpgpu.textureConfig,r),s=(0,l.OBj)().get("WEBGL_DELETE_TEXTURE_THRESHOLD");-1!==s&&this._numBytesAllocated>s?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=i):(this.freeTextures[o].push(e),this.numFreeTextures++,this._numBytesFree+=i),this.numUsedTextures--;var u=this.usedTextures[o],c=u.indexOf(e);if(c<0)throw new Error("Cannot release a texture that was never provided by this texture manager");u.splice(c,1),this.log()}}},{key:"log",value:function(){if(this.logEnabled){var e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used","".concat(this.numFreeTextures," / ").concat(this.numUsedTextures),"(".concat(e,")"));var t=this._numBytesFree/this._numBytesAllocated;console.log("Bytes allocated: ".concat(this._numBytesAllocated)),console.log("Bytes unused: ".concat(this._numBytesFree," (").concat(Math.round(100*t),"%)"))}}},{key:"numBytesAllocated",get:function(){return this._numBytesAllocated}},{key:"numBytesFree",get:function(){return this._numBytesFree}},{key:"getNumUsedTextures",value:function(){return this.numUsedTextures}},{key:"getNumFreeTextures",value:function(){return this.numFreeTextures}},{key:"dispose",value:function(){var e=this;if(null!=this.freeTextures){for(var t in this.freeTextures)this.freeTextures[t].forEach((function(t){e.gpgpu.deleteMatrixTexture(t.texture)}));for(var n in this.usedTextures)this.usedTextures[n].forEach((function(t){e.gpgpu.deleteMatrixTexture(t.texture)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}]),e}();function qk(e,t,n,r,a){var o,i=function(e,t){switch(e){case bx.PACKED_2X2_FLOAT32:return Kw(t);case bx.PACKED_2X2_FLOAT16:return Yw(t);case bx.UNPACKED_FLOAT32:return Gw(t);case bx.UNPACKED_FLOAT16:return qw(t);case bx.PACKED_4X1_UNSIGNED_BYTE:return Xw(t);default:throw new Error("Unknown physical texture type ".concat(e))}}(t,r);if(a){var s=Cx(e[0],e[1]),u=(0,f.Z)(s,2);o=u[0]*u[1]}else{var c=Sx(e[0],e[1]),l=(0,f.Z)(c,2);o=l[0]*l[1]}var p=function(e,t){var n=e;if(t===n.R32F)return 4;if(t===n.R16F)return 2;if(t===n.RGBA32F)return 16;if(t===e.RGBA)return 16;if(t===n.RGBA16F)return 8;if(t===n.RGBA8)return 4;throw new Error("Unknown internal format ".concat(t))}(n,i);return o*p}function Xk(e,t){if(e===yx.UPLOAD)return bx.PACKED_2X2_FLOAT32;if(e===yx.RENDER||null==e)return function(e){return(0,l.OBj)().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?bx.PACKED_2X2_FLOAT32:bx.UNPACKED_FLOAT32:e?bx.PACKED_2X2_FLOAT16:bx.UNPACKED_FLOAT16}(t);if(e===yx.DOWNLOAD||e===yx.PIXELS)return bx.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type ".concat(e))}function Kk(e,t,n){return"".concat(e[0],"_").concat(e[1],"_").concat(t,"_").concat(n)}var Yk=(0,oa.Z)((function e(t,n){(0,aa.Z)(this,e),this.variableNames=["A"],this.outputShape=t,this.enableShapeUniforms=Mw(this.outputShape.length),this.userCode="\n      float unaryOperation(float x) {\n        ".concat(n,"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    ")})),Qk="if (isnan(x)) return x;",$k="return x;",Jk="return abs(x);";var eS="return (x >= 0.0) ? x : (exp(x) - 1.0);",tS=Qk+"\n  return (x < 0.0) ? 0.0 : x;\n",nS=Qk+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",rS="return x;",aS="return 1.0 / (1.0 + exp(-1.0 * x));",oS="return x;",iS="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",sS="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",uS="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cS="return 1.0 / (1.0 + exp(-1.0 * x));",lS=(0,oa.Z)((function e(t,n){(0,aa.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.enableShapeUniforms=Mw(this.outputShape.length),this.userCode="\n      vec4 unaryOperation(vec4 x) {\n        ".concat(n,"\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    ")})),fS=(0,oa.Z)((function e(t){(0,aa.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=t,this.enableShapeUniforms=Mw(this.outputShape.length);var n=t.length,r=Wk("rc",n),a=Nw(n),o=function(e,t){if(1===e)return"rc";for(var n="",r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}(n,r),i=r.slice(-2),s=n<=1?"rc":"vec2(".concat(i.join(","),")");this.userCode="\n      void main() {\n        ".concat(a," rc = getOutputCoords();\n        vec4 packedInput = getA(").concat(o,");\n\n        setOutput(getChannel(packedInput, ").concat(s,"));\n      }\n    ")})),pS=l.GDt.whereImpl,dS={};var hS=(0,l.OBj)().getNumber("CPU_HANDOFF_SIZE_THRESHOLD");var vS=function(e){(0,sa.Z)(n,e);var t=(0,ua.Z)(n);function n(e){var r,a,o;if((0,aa.Z)(this,n),(r=t.call(this)).pendingRead=new WeakMap,r.pendingDisposal=new WeakSet,r.dataRefCount=new WeakMap,r.numBytesInGPU=0,r.uploadWaitMs=0,r.downloadWaitMs=0,r.lastGlFlushTime=0,r.warnedAboutMemory=!1,r.pendingDeletes=0,r.disposed=!1,!(0,l.OBj)().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(null!=e){if(e instanceof $w)a=e;else{var i=kx((0,l.OBj)().getNumber("WEBGL_VERSION"),e);a=new $w(i)}r.binaryCache={},r.gpgpuCreatedLocally=!1}else{var s=kx((0,l.OBj)().getNumber("WEBGL_VERSION"));a=new $w(s),r.binaryCache=((o=(0,l.OBj)().getNumber("WEBGL_VERSION"))in dS||(dS[o]={}),dS[o]),r.gpgpuCreatedLocally=!0}return r.gpgpu=a,r.canvas=r.gpgpu.gl.canvas,r.textureManager=new Gk(r.gpgpu),r.numMBBeforeWarning=null==(0,l.OBj)().global.screen?1024:(0,l.OBj)().global.screen.height*(0,l.OBj)().global.screen.width*window.devicePixelRatio*600/1024/1024,r.texData=new l.JLz((0,ia.Z)(r),(0,l.SRH)()),r}return(0,oa.Z)(n,[{key:"nextDataId",value:function(){return n.nextDataId++}},{key:"numDataIds",value:function(){return this.texData.numDataIds()-this.pendingDeletes}},{key:"write",value:function(e,t,n){if(((0,l.OBj)().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||(0,l.OBj)().getBool("DEBUG"))&&this.checkNumericalProblems(e),"complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var r={id:this.nextDataId()};return this.texData.set(r,{shape:t,dtype:n,values:e,usage:yx.UPLOAD,refCount:1}),r}},{key:"refCount",value:function(e){return this.texData.has(e)?this.texData.get(e).refCount:0}},{key:"incRef",value:function(e){this.texData.get(e).refCount++}},{key:"decRef",value:function(e){this.texData.has(e)&&this.texData.get(e).refCount--}},{key:"move",value:function(e,t,n,r,a){if((0,l.OBj)().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===r)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:n,dtype:r,values:t,usage:yx.UPLOAD,refCount:a})}},{key:"disposeIntermediateTensorInfo",value:function(e){this.disposeData(e.dataId)}},{key:"readSync",value:function(e){var t=this.texData.get(e),n=t.values,r=t.dtype,a=t.complexTensorInfos,o=t.slice,i=t.shape,s=t.isPacked;if(null!=o){var u;u=s?new lS(i,rS):new Yk(i,rS);var c=this.runWebGLProgram(u,[{dataId:e,shape:i,dtype:r}],r),f=this.readSync(c.dataId);return this.disposeIntermediateTensorInfo(c),f}if(null!=n)return this.convertAndCacheOnCPU(e);if("string"===r)return n;var p,d,h=null!=this.activeTimers;if(h&&(p=l.D5U.now()),"complex64"===r){var v=this.readSync(a.real.dataId),m=this.readSync(a.imag.dataId);d=l.Wap.mergeRealAndImagArrays(v,m)}else d=this.getValuesFromTexture(e);return h&&(this.downloadWaitMs+=l.D5U.now()-p),this.convertAndCacheOnCPU(e,d)}},{key:"read",value:function(){var e=(0,$i.Z)(es().mark((function e(t){var n,r,a,o,i,s,u,c,f,p,d,h,v,m,g,y,b,x,w,k,S,E,C;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.pendingRead.has(t)){e.next=3;break}return n=this.pendingRead.get(t),e.abrupt("return",new Promise((function(e){return n.push(e)})));case 3:if(r=this.texData.get(t),a=r.values,o=r.shape,i=r.slice,s=r.dtype,u=r.complexTensorInfos,c=r.isPacked,null==i){e.next=11;break}return f=c?new lS(o,rS):new Yk(o,rS),p=this.runWebGLProgram(f,[{dataId:t,shape:o,dtype:s}],s),d=this.read(p.dataId),this.disposeIntermediateTensorInfo(p),e.abrupt("return",d);case 11:if(null==a){e.next=13;break}return e.abrupt("return",this.convertAndCacheOnCPU(t));case 13:if(!(0,l.OBj)().getBool("DEBUG")){e.next=16;break}if((0,l.OBj)().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")||2!==(0,l.OBj)().getNumber("WEBGL_VERSION")){e.next=16;break}throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");case 16:if(h=null,"complex64"!==s&&(0,l.OBj)().get("WEBGL_BUFFER_SUPPORTED")&&(v=this.decode(t),g=this.texData.get(v.dataId),h=(m=this.gpgpu).createBufferFromTexture.apply(m,[g.texture.texture].concat((0,Qn.Z)(Ex(o))))),this.pendingRead.set(t,[]),"complex64"===s){e.next=22;break}return e.next=22,this.gpgpu.createAndWaitForFence();case 22:if("complex64"!==s){e.next=31;break}return e.next=25,Promise.all([this.read(u.real.dataId),this.read(u.imag.dataId)]);case 25:b=e.sent,x=b[0],w=b[1],y=l.Wap.mergeRealAndImagArrays(x,w),e.next=32;break;case 31:null==h?y=this.getValuesFromTexture(t):(k=l.D5U.sizeFromShape(o),y=this.gpgpu.downloadFloat32MatrixFromBuffer(h,k));case 32:return null!=v&&this.disposeIntermediateTensorInfo(v),null!=h&&Tx(S=this.gpgpu.gl,(function(){return S.deleteBuffer(h)})),E=this.convertAndCacheOnCPU(t,y),C=this.pendingRead.get(t),this.pendingRead.delete(t),C.forEach((function(e){return e(E)})),this.pendingDisposal.has(t)&&(this.pendingDisposal.delete(t),this.disposeData(t)&&(0,l.SRH)().removeDataId(t,this),this.pendingDeletes--),e.abrupt("return",E);case 40:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"readToGPU",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.texData.get(e),r=n.values,a=n.shape,o=n.slice,i=n.dtype,s=n.isPacked,u=n.texture;if("complex64"===i)throw new Error("Does not support reading texture for complex64 dtype.");if(null!=o){var c;c=s?new lS(a,rS):new Yk(a,rS);var f=this.runWebGLProgram(c,[{dataId:e,shape:a,dtype:i}],i),p=this.readToGPU(f,t);return this.disposeIntermediateTensorInfo(f),p}if(null==u)throw null!=r?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");var d=this.decode(e,t.customTexShape),h=(0,l.SRH)().makeTensorFromTensorInfo(d),v=this.texData.get(d.dataId);return Object.assign({tensorRef:h},v.texture)}},{key:"bufferSync",value:function(e){var t=this.readSync(e.dataId);if("string"===e.dtype)try{var n=t.map((function(e){return l.D5U.decodeString(e)}));return(0,l.f3b)(e.shape,e.dtype,n)}catch(r){throw new Error("Failed to decode encoded string bytes into utf-8")}return(0,l.f3b)(e.shape,e.dtype,t)}},{key:"checkNumericalProblems",value:function(e){if(null!=e)for(var t=0;t<e.length;t++){var n=e[t];if(!Ix(n)){if((0,l.OBj)().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error("The value ".concat(n," cannot be represented with your ")+"current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'");throw Error("The value ".concat(n," cannot be represented on this device."))}}}},{key:"getValuesFromTexture",value:function(e){var t=this.texData.get(e),n=t.shape,r=t.dtype,a=t.isPacked,o=l.D5U.sizeFromShape(n);if((0,l.OBj)().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var i,s=this.decode(e),u=this.texData.get(s.dataId),c=(i=this.gpgpu).downloadMatrixFromPackedTexture.apply(i,[u.texture.texture].concat((0,Qn.Z)(Ex(n)))).subarray(0,o);return this.disposeIntermediateTensorInfo(s),c}var f=(0,l.OBj)().getBool("WEBGL_PACK")&&!0===a,p=f?Gx(n):n,d=f?new Zw(p):new jw(p),h=this.runWebGLProgram(d,[{shape:p,dtype:r,dataId:e}],"float32"),v=this.texData.get(h.dataId),m=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(v.texture.texture,v.texShape[0],v.texShape[1]).subarray(0,o);return this.disposeIntermediateTensorInfo(h),m}},{key:"timerAvailable",value:function(){return(0,l.OBj)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}},{key:"time",value:function(e){var t=this,n=this.activeTimers,r=[],a=!1;null==this.programTimersStack?(this.programTimersStack=r,a=!0):this.activeTimers.push(r),this.activeTimers=r,e();var o=l.D5U.flatten(this.activeTimers.map((function(e){return e.query}))).filter((function(e){return null!=e})),i=l.D5U.flatten(this.activeTimers.map((function(e){return e.name}))).filter((function(e){return null!=e}));this.activeTimers=n,a&&(this.programTimersStack=null);var s={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(0,$i.Z)(es().mark((function e(){var n;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((0,l.OBj)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)){e.next=8;break}return e.next=3,Promise.all(o);case 3:n=e.sent,s.kernelMs=l.D5U.sum(n),s.getExtraProfileInfo=function(){return n.map((function(e,t){return{name:i[t],ms:e}})).map((function(e){return"".concat(e.name,": ").concat(e.ms)})).join(", ")},e.next=9;break;case 8:s.kernelMs={error:"WebGL query timers are not supported in this environment."};case 9:return t.uploadWaitMs=0,t.downloadWaitMs=0,e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})))()}},{key:"memory",value:function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}},{key:"startTimer",value:function(){return(0,l.OBj)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:l.D5U.now(),endMs:null}}},{key:"endTimer",value:function(e){return(0,l.OBj)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=l.D5U.now(),e)}},{key:"getQueryTime",value:function(){var e=(0,$i.Z)(es().mark((function e(t){var n;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((0,l.OBj)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)){e.next=2;break}return e.abrupt("return",this.gpgpu.waitForQueryAndGetTime(t));case 2:return n=t,e.abrupt("return",n.endMs-n.startMs);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"disposeData",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(t?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!t&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);var n=this.texData.get(e),r=n.complexTensorInfos;return null!=r&&(this.disposeData(r.real.dataId,t),this.disposeData(r.imag.dataId,t)),this.texData.delete(e),!0}},{key:"releaseGPUData",value:function(e){var t=this.texData.get(e),n=t.texture,r=t.dtype,a=t.texShape,o=t.usage,i=t.isPacked,s=t.slice,u=s&&s.origDataId||e,c=this.dataRefCount.get(u);c>1?this.dataRefCount.set(u,c-1):(this.dataRefCount.delete(u),null!=n&&(this.numBytesInGPU-=this.computeBytes(a,r),this.textureManager.releaseTexture(n,a,o,i)));var l=this.texData.get(e);l.texture=null,l.texShape=null,l.isPacked=!1,l.slice=null}},{key:"getTexture",value:function(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}},{key:"getDataInfo",value:function(e){return this.texData.get(e)}},{key:"shouldExecuteOnCPU",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hS;return(0,l.OBj)().getBool("WEBGL_CPU_FORWARD")&&e.every((function(e){return null==t.texData.get(e.dataId).texture&&l.D5U.sizeFromShape(e.shape)<n}))}},{key:"getGPGPUContext",value:function(){return this.gpgpu}},{key:"where",value:function(e){l.Wap.warn("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var t=e.dataSync();return pS(e.shape,t)}},{key:"packedUnaryOp",value:function(e,t,n){var r=new lS(e.shape,t),a=this.compileAndRun(r,[e],n);return(0,l.SRH)().makeTensorFromTensorInfo(a)}},{key:"abs",value:function(e){if(this.shouldExecuteOnCPU([e])&&"complex64"!==e.dtype){var t=Tk(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,t)}if((0,l.OBj)().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,Jk,e.dtype);var n=new Yk(e.shape,Jk),r=this.compileAndRun(n,[e]);return(0,l.SRH)().makeTensorFromTensorInfo(r)}},{key:"makeTensorInfo",value:function(e,t,n){var r;if("string"===t&&null!=n&&n.length>0&&l.D5U.isString(n[0])){var a=n.map((function(e){return l.D5U.encodeString(e)}));r=this.write(a,e,t)}else r=this.write(n,e,t);return this.texData.get(r).usage=null,{dataId:r,shape:e,dtype:t}}},{key:"makeOutput",value:function(e,t,n){return(0,l.SRH)().makeTensorFromTensorInfo(this.makeTensorInfo(e,t,n),this)}},{key:"unpackTensor",value:function(e){var t=new fS(e.shape);return this.runWebGLProgram(t,[e],e.dtype)}},{key:"packTensor",value:function(e){var t=new Vk(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)}},{key:"packedReshape",value:function(e,t){var n=[Vx(e.shape)].concat((0,Qn.Z)(Hx(e.shape))),r={dtype:e.dtype,shape:n,dataId:e.dataId},a=[Vx(t)].concat((0,Qn.Z)(Hx(t))),o=new Hk(a,n),i=[n],s=this.runWebGLProgram(o,[r],e.dtype,i,!0);return{dataId:s.dataId,shape:t,dtype:s.dtype}}},{key:"decode",value:function(e,t){var n=this.texData.get(e),r=n.isPacked,a=n.shape,o=n.dtype;if(null!=t){var i=l.D5U.sizeFromShape(a),s=t[0]*t[1]*4;l.D5U.assert(i<=s,(function(){return"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data."}))}var u,c=Gx(a);u=r?new Lw(c):new Fw(c);var f=[null!=t?t:Ex(c)];return{dtype:o,shape:a,dataId:this.runWebGLProgram(u,[{shape:c,dtype:o,dataId:e}],o,f,!0,t).dataId}}},{key:"runWebGLProgram",value:function(e,t,n,r){var a=this,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5?arguments[5]:void 0,s=this.makeTensorInfo(e.outputShape,n),u=this.texData.get(s.dataId);if(e.packedOutput&&(u.isPacked=!0),e.outPackingScheme===gx.DENSE){var c=null!=i?i:Ex(e.outputShape);u.texShape=c.map((function(e){return 2*e}))}if(null!=e.outTexUsage&&(u.usage=e.outTexUsage),0===l.D5U.sizeFromShape(s.shape))return u.values=l.D5U.getTypedArrayFromDType(s.dtype,0),s;var f=[],p=t.map((function(t){if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var n=a.texData.get(t.dataId);if(null==n.texture){if(!e.packedInputs&&l.D5U.sizeFromShape(t.shape)<=(0,l.OBj)().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:n.values};e.packedInputs&&(n.isPacked=!0,n.shape=t.shape)}if(a.uploadToGPU(t.dataId),!!n.isPacked!==!!e.packedInputs)t=n.isPacked?a.unpackTensor(t):a.packTensor(t),f.push(t),n=a.texData.get(t.dataId);else if(n.isPacked&&!Xx(n.shape,t.shape)){var r=t,o=t.shape;t.shape=n.shape,t=a.packedReshape(t,o),f.push(t),n=a.texData.get(t.dataId),r.shape=o}return{shape:t.shape,texData:n,isUniform:!1}}));this.uploadToGPU(s.dataId);var d,h={shape:s.shape,texData:u,isUniform:!1},v=Pw(e,p,h),m=this.getAndSaveBinary(v,(function(){return _w(a.gpgpu,e,p,h)})),g=null!=this.activeTimers;g&&(d=this.startTimer()),(0,l.OBj)().get("ENGINE_COMPILE_ONLY")||Rw(this.gpgpu,m,p,h,r),f.forEach((function(e){return a.disposeIntermediateTensorInfo(e)})),g&&(d=this.endTimer(d),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(d)}));var y=(0,l.OBj)().get("WEBGL_FLUSH_THRESHOLD");if(y>0){var b=l.D5U.now();b-this.lastGlFlushTime>y&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=b)}if(!(0,l.OBj)().getBool("WEBGL_LAZILY_UNPACK")&&u.isPacked&&!1===o){var x=this.unpackTensor(s);return this.disposeIntermediateTensorInfo(s),x}return s}},{key:"compileAndRun",value:function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];n=n||t[0].dtype;var o=this.runWebGLProgram(e,t,n,r,a);return o}},{key:"getAndSaveBinary",value:function(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]}},{key:"getTextureManager",value:function(){return this.textureManager}},{key:"dispose",value:function(){var e=this;if(!this.disposed){if(!(0,l.OBj)().getBool("IS_TEST"))Object.keys(this.binaryCache).forEach((function(t){e.gpgpu.deleteProgram(e.binaryCache[t].webGLProgram),delete e.binaryCache[t]}));this.textureManager.dispose(),null!=this.canvas&&"undefined"!==typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0}}},{key:"floatPrecision",value:function(){var e=this;return null==this.floatPrecisionValue&&(this.floatPrecisionValue=(0,l.lub)((function(){if(!(0,l.OBj)().get("WEBGL_RENDER_FLOAT32_ENABLED")){var t=(0,l.OBj)().getBool("DEBUG");(0,l.OBj)().set("DEBUG",!1);var n=e.abs((0,l.iD$)(1e-8)).dataSync()[0];if((0,l.OBj)().set("DEBUG",t),n>0)return 32}return 16}))),this.floatPrecisionValue}},{key:"epsilon",value:function(){return 32===this.floatPrecision()?1e-7:1e-4}},{key:"uploadToGPU",value:function(e){var t=this.texData.get(e),n=t.shape,r=t.dtype,a=t.values,o=t.texture,i=t.usage,s=t.isPacked;if(null==o){var u,c=null!=this.activeTimers;c&&(u=l.D5U.now());var p=t.texShape;if(null==p&&(p=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,l.OBj)().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t&&(n*=2,1===(e=e.map((function(t,n){return n>=e.length-2?l.D5U.nearestLargerEven(e[n]):e[n]}))).length&&(e=[2,e[0]])),2!==e.length){var r=l.D5U.squeezeShape(e);e=r.newShape}var a=l.D5U.sizeFromShape(e);if(e.length<=1&&a<=n)return[1,a];if(2===e.length&&e[0]<=n&&e[1]<=n)return e;if(3===e.length&&e[0]*e[1]<=n&&e[2]<=n)return[e[0]*e[1],e[2]];if(3===e.length&&e[0]<=n&&e[1]*e[2]<=n)return[e[0],e[1]*e[2]];if(4===e.length&&e[0]*e[1]*e[2]<=n&&e[3]<=n)return[e[0]*e[1]*e[2],e[3]];if(4===e.length&&e[0]<=n&&e[1]*e[2]*e[3]<=n)return[e[0],e[1]*e[2]*e[3]];if(t){var o=Vx(e),i=2,s=2;if(e.length){var u=Hx(e),c=(0,f.Z)(u,2);i=c[0],s=c[1]}return a=o*(i/2)*(s/2),l.D5U.sizeToSquarishShape(a).map((function(e){return 2*e}))}return l.D5U.sizeToSquarishShape(a)}(n,s),t.texShape=p),null!=a){var d,h=Gx(n),v=p[1],m=p[0],g=a instanceof Uint8Array||a instanceof Uint8ClampedArray;if(s||!g){var y=Cx(p[0],p[1]),b=(0,f.Z)(y,2);v=b[0],m=b[1]}d=s?new Bw(h,g):new zw(h,g);var x=g?[m,v]:p,w=this.makeTensorInfo(x,r),k=this.texData.get(w.dataId);k.usage=g?yx.PIXELS:yx.UPLOAD,k.texShape=x,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(w.dataId),v,m,a);var S=[[m,v]],E=this.runWebGLProgram(d,[w],r,S,!0),C=this.texData.get(E.dataId);t.texShape=C.texShape,t.isPacked=C.isPacked,t.usage=C.usage,(0,l.OBj)().get("ENGINE_COMPILE_ONLY")?this.disposeData(E.dataId):(t.texture=C.texture,t.values=null,this.texData.delete(E.dataId)),this.disposeIntermediateTensorInfo(w),c&&(this.uploadWaitMs+=l.D5U.now()-u)}else{var N=this.acquireTexture(p,i,r,s);t.texture=N}}}},{key:"convertAndCacheOnCPU",value:function(e,t){var n=this.texData.get(e),r=n.dtype;return this.releaseGPUData(e),null!=t&&(n.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){for(var n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length),r=0;r<n.length;++r)n[r]=Math.round(e[r]);return n}throw new Error("Unknown dtype ".concat(t))}(t,r)),n.values}},{key:"acquireTexture",value:function(e,t,n,r){if(this.numBytesInGPU+=this.computeBytes(e,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var a=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: ".concat(a," MB, ")+"most likely due to a memory leak")}return this.textureManager.acquireTexture(e,t,r)}},{key:"computeBytes",value:function(e,t){return e[0]*e[1]*l.D5U.bytesPerElement(t)}},{key:"checkCompileCompletion",value:function(){for(var e=0,t=Object.entries(this.binaryCache);e<t.length;e++){var n=(0,f.Z)(t[e],2)[1];this.checkCompletion_(n)}}},{key:"checkCompileCompletionAsync",value:function(){var e=(0,$i.Z)(es().mark((function e(){var t,n,r,a,o,i,s,u,c=this;return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],!this.gpgpu.parallelCompilationExtension){e.next=6;break}for(n=0,r=Object.entries(this.binaryCache);n<r.length;n++)a=(0,f.Z)(r[n],2),o=a[1],t.push(this.checkCompletionAsync_(o));return e.abrupt("return",Promise.all(t));case 6:for(i=function(){var e=(0,f.Z)(u[s],2)[1],n=new Promise((function(t){try{c.checkCompletion_(e),t(!0)}catch(n){throw n}}));t.push(n)},s=0,u=Object.entries(this.binaryCache);s<u.length;s++)i();return e.abrupt("return",Promise.all(t));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"checkCompletionAsync_",value:function(){var e=(0,$i.Z)(es().mark((function e(t){return es().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.gpgpu.gl.getProgramParameter(t.webGLProgram,this.gpgpu.parallelCompilationExtension.COMPLETION_STATUS_KHR)){e.next=4;break}return e.abrupt("return",this.checkCompletion_(t));case 4:return e.next=6,(0,l.glt)();case 6:return e.abrupt("return",this.checkCompletionAsync_(t));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"checkCompletion_",value:function(e){if(!1===this.gpgpu.gl.getProgramParameter(e.webGLProgram,this.gpgpu.gl.LINK_STATUS)){if(console.log(this.gpgpu.gl.getProgramInfoLog(e.webGLProgram)),!1===this.gpgpu.gl.getShaderParameter(e.fragmentShader,this.gpgpu.gl.COMPILE_STATUS))throw Rx(e.source,this.gpgpu.gl.getShaderInfoLog(e.fragmentShader)),new Error("Failed to compile fragment shader.");throw new Error("Failed to link vertex and fragment shaders.")}return!0}},{key:"getUniformLocations",value:function(){for(var e=0,t=Object.entries(this.binaryCache);e<t.length;e++){var n=(0,f.Z)(t[e],2)[1],r=Dw(this.gpgpu,n.program,n.webGLProgram),a=r.uniformLocations,o=r.customUniformLocations,i=r.infLoc,s=r.nanLoc,u=r.inShapesLocations,c=r.inTexShapesLocations,l=r.outShapeLocation,p=r.outShapeStridesLocation,d=r.outTexShapeLocation;n.uniformLocations=a,n.customUniformLocations=o,n.infLoc=i,n.nanLoc=s,n.inShapesLocations=u,n.inTexShapesLocations=c,n.outShapeLocation=l,n.outShapeStridesLocation=p,n.outTexShapeLocation=d}}}]),n}(l.Zuw);vS.nextDataId=0;l.C2$.isBrowser()&&(0,l.jqO)("webgl",(function(){return new vS}),2);var mS=(0,oa.Z)((function e(t,n,r){(0,aa.Z)(this,e),this.variableNames=["A","B"],this.outputShape=l.Wap.assertAndGetBroadcastShape(n,r),this.enableShapeUniforms=Mw(this.outputShape.length),this.userCode="\n      float binaryOperation(float a, float b) {\n        ".concat(t,"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    ")})),gS=(0,oa.Z)((function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(0,aa.Z)(this,e),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=l.Wap.assertAndGetBroadcastShape(n,r);var o=this.outputShape.length;this.enableShapeUniforms=Mw(o);var i="";if(a)if(0===o||1===l.D5U.sizeFromShape(this.outputShape))i="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else{var s=Nw(o);if(i="\n          ".concat(s," coords = getOutputCoords();\n        "),1===o)this.enableShapeUniforms?i+="\n            result.y = (coords + 1) >= outShape ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ":i+="\n            result.y = (coords + 1) >= ".concat(this.outputShape[0]," ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ");else{var u=Wk("coords",o);this.enableShapeUniforms?i+="\n            bool nextRowOutOfBounds =\n              (".concat(u[o-2]," + 1) >= outShape[").concat(o," - 2];\n            bool nextColOutOfBounds =\n              (").concat(u[o-1]," + 1) >= outShape[").concat(o," - 1];\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          "):i+="\n            bool nextRowOutOfBounds =\n              (".concat(u[o-2]," + 1) >= ").concat(this.outputShape[o-2],";\n            bool nextColOutOfBounds =\n              (").concat(u[o-1]," + 1) >= ").concat(this.outputShape[o-1],";\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          ")}}this.userCode="\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        ".concat(t,"\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        ").concat(i,"\n\n        setOutput(result);\n      }\n    ")}));function yS(e){var t=e.inputs,n=e.backend,r=t.x;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}var bS={kernelName:l.iJz,backendName:"webgl",kernelFunc:yS};function xS(e){var t=e.inputs,n=e.backend,r=t.real,a=t.imag,o=n.makeTensorInfo(r.shape,"complex64"),i=n.texData.get(o.dataId),s=yS({inputs:{x:r},backend:n}),u=yS({inputs:{x:a},backend:n});return i.complexTensorInfos={real:s,imag:u},o}var wS={kernelName:l.Zz9,backendName:"webgl",kernelFunc:xS},kS="return (a < 0.) ? b * a : a;",SS="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";var ES={kernelName:l.J$2,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.alpha,i=n.makeTensorInfo([],"float32",l.D5U.createScalarValue(o,"float32")),s=(0,l.OBj)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new gS(SS,a.shape,i.shape):new mS(kS,a.shape,i.shape),u=n.runWebGLProgram(s,[a,i],"float32");return n.disposeIntermediateTensorInfo(i),u}},CS="return (a < 0.) ? b * a : a;",NS="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n";var TS={kernelName:l.o0g,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,a=t.alpha,o=(0,l.OBj)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new gS(NS,r.shape,a.shape):new mS(CS,r.shape,a.shape);return n.runWebGLProgram(o,[r,a],"float32")}};function IS(e){var t=e.opSnippet,n=e.packedOpSnippet,r=e.cpuKernelImpl,a=e.dtype;return function(e){var o,i=e.inputs,s=e.backend,u=i.x,c=s,f=a||u.dtype;if(c.shouldExecuteOnCPU([u])&&null!=r){var p=c.texData.get(u.dataId),d=r(p.values,f);return c.makeTensorInfo(u.shape,f,d)}return o=(0,l.OBj)().getBool("WEBGL_PACK_UNARY_OPERATIONS")&&null!=n?new lS(u.shape,n):new Yk(u.shape,t),c.runWebGLProgram(o,[u],f)}}function OS(e){var t=e.opSnippet,n=e.packedOpSnippet,r=e.checkOutOfBounds,a=void 0!==r&&r,o=e.supportsComplex,i=void 0!==o&&o,s=e.cpuKernelImpl,u=e.dtype;return function(e){var r=e.inputs,o=e.backend,c=r.a,p=r.b,d=o;if(i&&"complex64"===c.dtype){var h=d.texData.get(c.dataId),v=d.texData.get(p.dataId),m=[[h.complexTensorInfos.real,v.complexTensorInfos.real],[h.complexTensorInfos.imag,v.complexTensorInfos.imag]].map((function(e){var n=(0,f.Z)(e,2),r=n[0],a=n[1],o={dataId:r.dataId,dtype:r.dtype,shape:c.shape},i={dataId:a.dataId,dtype:a.dtype,shape:p.shape},s=new mS(t,c.shape,p.shape);return d.runWebGLProgram(s,[o,i],(0,l.x8V)(r.dtype,a.dtype))})),g=(0,f.Z)(m,2),y=g[0],b=g[1],x=xS({inputs:{real:y,imag:b},backend:d});return d.disposeIntermediateTensorInfo(y),d.disposeIntermediateTensorInfo(b),x}var w,k=u||(0,l.x8V)(c.dtype,p.dtype);if(("string"===c.dtype||"string"===p.dtype||d.shouldExecuteOnCPU([c,p]))&&null!=s){var S=d.texData.get(c.dataId).values,E=d.texData.get(p.dataId).values,C="string"===c.dtype?l.Wap.fromUint8ToStringArray(S):S,N="string"===c.dtype?l.Wap.fromUint8ToStringArray(E):E,T=s(c.shape,p.shape,C,N,k),I=(0,f.Z)(T,2),O=I[0],_=I[1],D=d.makeTensorInfo(_,k);return d.texData.get(D.dataId).values=O,D}return w=(0,l.OBj)().getBool("WEBGL_PACK_BINARY_OPERATIONS")&&null!=n?new gS(n,c.shape,p.shape,a):new mS(t,c.shape,p.shape),d.runWebGLProgram(w,[c,p],k)}}function _S(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("linear"===e)return t?oS:$k;if("relu"===e)return t?sS:tS;if("elu"===e)return t?iS:eS;if("relu6"===e)return t?uS:nS;if("prelu"===e)return t?NS:CS;if("leakyrelu"===e)return t?SS:kS;if("sigmoid"===e)return t?cS:aS;throw new Error("Activation ".concat(e," has not been implemented for the WebGL backend."))}var DS=(0,oa.Z)((function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]&&arguments[7],c=arguments.length>8&&void 0!==arguments[8]&&arguments[8];(0,aa.Z)(this,e),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=r,this.enableShapeUniforms=Mw(this.outputShape.length);var l=a?t[1]:t[2],f=Math.ceil(l/2),p=a?"i * 2, rc.y":"rc.y, i * 2",d=o?"rc.z, i * 2":"i * 2, rc.z",h=a?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],v=o?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],m="",g="";s&&(m=u?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ".concat(s,"\n        }"):c?"vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ".concat(s,"\n        }"):"vec4 activation(vec4 x) {\n          ".concat(s,"\n        }"),g="result = activation(result);");var y=i?"result += getBiasAtOutCoords();":"";i&&this.variableNames.push("bias"),u&&this.variableNames.push("preluActivationWeights"),c&&this.variableNames.push("leakyreluAlpha");var b="rc.x",x="rc.x";t[0]<n[0]?b="int(min(float(rc.x), ".concat(t[0]-1,".))"):n[0]<t[0]&&(x="int(min(float(rc.x), ".concat(n[0]-1,".))")),this.userCode="\n      ".concat(m,"\n      // Don't use uniform for sharedDimensionPacked for performance.\n      const float sharedDimension = ").concat(f,".0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        for (int i = 0; i < ").concat(f,"; i++) {\n          int batchA = ").concat(b,";\n          int batchB = ").concat(x,";\n          vec4 a = getMatrixA(batchA, ").concat(p,");\n          vec4 b = getMatrixB(batchB, ").concat(d,");\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += (").concat(h[0]," * ").concat(v[0],");\n          result += (").concat(h[1]," * ").concat(v[1],");\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        ").concat(y,"\n\n        ").concat(g,"\n\n        setOutput(result);\n      }\n    ")})),AS="return areal * breal - aimag * bimag;",RS="return areal * bimag + aimag * breal;",PS=(0,oa.Z)((function e(t,n,r){(0,aa.Z)(this,e),this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=l.Wap.assertAndGetBroadcastShape(n,r),this.userCode="\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        ".concat(t,"\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    ")})),MS="return a * b;";function FS(e){var t,n=e.inputs,r=e.backend,a=n.a,o=n.b,i=l.Wap.upcastType(a.dtype,o.dtype);if("complex64"===a.dtype){var s=r.texData.get(a.dataId),u=r.texData.get(o.dataId),c=new PS(AS,a.shape,o.shape),p=new PS(RS,a.shape,o.shape),d=[{dataId:s.complexTensorInfos.real.dataId,dtype:s.complexTensorInfos.real.dtype,shape:a.shape},{dataId:s.complexTensorInfos.imag.dataId,dtype:s.complexTensorInfos.imag.dtype,shape:a.shape},{dataId:u.complexTensorInfos.real.dataId,dtype:u.complexTensorInfos.real.dtype,shape:o.shape},{dataId:u.complexTensorInfos.imag.dataId,dtype:u.complexTensorInfos.imag.dtype,shape:o.shape}],h=r.runWebGLProgram(c,d,"float32"),v=r.runWebGLProgram(p,d,"float32"),m=xS({inputs:{real:h,imag:v},backend:r});return r.disposeIntermediateTensorInfo(h),r.disposeIntermediateTensorInfo(v),m}if(r.shouldExecuteOnCPU([a,o])){var g=r.texData.get(a.dataId),y=r.texData.get(o.dataId),b=bk(a.shape,o.shape,g.values,y.values,i),x=(0,f.Z)(b,2),w=x[0],k=x[1],S=r.makeTensorInfo(k,i);return r.texData.get(S.dataId).values=w,S}return t=(0,l.OBj)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new gS(MS,a.shape,o.shape):new mS(MS,a.shape,o.shape),r.runWebGLProgram(t,[a,o],i)}var LS={kernelName:l.wYn,backendName:"webgl",kernelFunc:FS};function jS(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.shape,i=n,s=l.D5U.sizeFromShape(a.shape),u=l.D5U.inferFromImplicitShape(o,s),c=l.D5U.sizeFromShape(u);l.D5U.assert(s===c,(function(){return"The new shape (".concat(u,") has ").concat(c," elements and the old ")+"shape (".concat(a.shape,") has ").concat(s," elements. The new shape and old ")+"shape must have the same number of elements."}));var f=i.texData.get(a.dataId);return!f.isPacked||Xx(a.shape,u)||null!==f.texture&&Xx(f.shape,u)?(i.incRef(a.dataId),{dataId:a.dataId,shape:u,dtype:a.dtype}):function(e,t,n){var r=[Vx(e.shape)].concat((0,Qn.Z)(Hx(e.shape))),a={dtype:e.dtype,shape:r,dataId:e.dataId},o=[Vx(t)].concat((0,Qn.Z)(Hx(t))),i=new Hk(o,r),s=[r],u=n.runWebGLProgram(i,[a],e.dtype,s,!0);return{dataId:u.dataId,shape:t,dtype:u.dtype}}(a,u,i)}var ZS={kernelName:l.HZH,backendName:"webgl",kernelFunc:jS},zS=(0,oa.Z)((function e(t,n){(0,aa.Z)(this,e),this.variableNames=["x"];var r=t.windowSize,a=t.batchSize,o=t.inSize,i=t.outSize;this.outputShape=[a,i];var s=4*Math.floor(r/4),u=r%4,c="sumValue += dot(values, ones);";if(null!=n){var f=1/n;c="sumValue += dot(values * ".concat(l.D5U.isInt(f)?f.toPrecision(2):f,", ones);")}var p="";o%r>0&&(p="\n        if (inIdx < 0 || inIdx >= ".concat(o,") {\n          return 0.0;\n        }\n      ")),this.userCode="\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ".concat(p,"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ").concat(r,";\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ").concat(s,"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ").concat(c,"\n        }\n\n        int inIdx = inOffset + ").concat(s,";\n        if (").concat(1===u,") {\n          vec4 values = vec4(getValue(batch, inIdx), 0.0, 0.0, 0.0);\n\n          ").concat(c,"\n        } else if (").concat(2===u,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1), 0.0, 0.0);\n\n          ").concat(c,"\n        } else if (").concat(3===u,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2), 0.0);\n\n          ").concat(c,"\n        }\n        setOutput(sumValue);\n      }\n    ")})),BS=(0,oa.Z)((function e(t,n){(0,aa.Z)(this,e),this.variableNames=["x"];var r=t.windowSize,a=t.batchSize,o=t.inSize,i=t.outSize;this.outputShape=[a,i];var s="0.0",u="";"prod"===n?s="1.0":"min"===n?(s="1.0 / 1e-20",u="min"):"max"===n&&(s="-1.0 / 1e-20",u="max");var c="".concat(n,"(").concat(n,"(").concat(n,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===n?c="sumValue":"prod"===n?c="prodValue":"all"===n?c="allValue":"any"===n&&(c="anyValue");var l=4*Math.floor(r/4),f=r%4,p="\n      if (".concat("sum"===n,") {\n        sumValue += dot(values, ones);\n      } else if (").concat("prod"===n,") {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = ").concat(u,"(values, minMaxValue);\n        if (").concat("min"===n," || ").concat("max"===n,") {\n          minMaxValue = ").concat(u,"(values, minMaxValue);\n          bvec4 isNaN = isnan(values);\n          if (isNaN.r || isNaN.g || isNaN.b || isNaN.a) {\n            minMaxValue = vec4(NAN);\n          }\n        }\n      }\n    "),d="vec4";"all"===n?(s="1.0",p="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",d="bvec4"):"any"===n&&(s="0.0",p="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",d="bvec4");var h="";o%r>0&&(h="\n        if (inIdx < 0 || inIdx >= ".concat(o,") {\n          return initializationValue;\n        }\n      ")),this.userCode="\n      const float initializationValue = ".concat(s,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        ").concat(h,"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ").concat(r,";\n\n        vec4 minMaxValue = vec4(").concat(s,");\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < ").concat(l,"; i += 4) {\n          int inIdx = inOffset + i;\n          ").concat(d," values = ").concat(d,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          ").concat(p,"\n        }\n\n        int inIdx = inOffset + ").concat(l,";\n        if (").concat(1===f,") {\n          ").concat(d," values = ").concat(d,"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          ").concat(p,"\n        } else if (").concat(2===f,") {\n          ").concat(d," values = ").concat(d,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          ").concat(p,"\n        } else if (").concat(3===f,") {\n          ").concat(d," values = ").concat(d,"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          ").concat(p,"\n        }\n        setOutput(").concat(c,");\n      }\n    ")}));function US(e,t,n,r){for(var a=function(e){for(var t=[];0===t.length||1!==t[t.length-1].outSize;){var n=t.length?t[t.length-1].outSize:e[1],r=l.Wap.computeOptimalWindowSize(n);t.push({inSize:n,windowSize:r,outSize:Math.ceil(n/r)})}return t}(e.shape),o=e,i=0;i<a.length;i++){var s,u=a[i],c=u.inSize,f=u.windowSize,p=u.outSize,d=void 0;d="mean"===n?0===i?new zS({windowSize:f,inSize:c,batchSize:e.shape[0],outSize:p},c):new zS({windowSize:f,inSize:c,batchSize:e.shape[0],outSize:p}):new BS({windowSize:f,inSize:c,batchSize:e.shape[0],outSize:p},n),s=o,o=r.runWebGLProgram(d,[o],t),s.dataId!==e.dataId&&r.disposeIntermediateTensorInfo(s)}return o}var WS=(0,oa.Z)((function e(t,n){(0,aa.Z)(this,e),this.variableNames=["A"];for(var r=new Array(t.length),a=0;a<r.length;a++)r[a]=t[n[a]];this.outputShape=r,this.rank=r.length;var o=Nw(this.rank),i=function(e){var t=e.length;if(t>6)throw Error("Transpose for rank ".concat(t," is not yet supported"));for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(t),a=0;a<e.length;a++)r[e[a]]=n[a];return r.join()}(n);this.userCode="\n    void main() {\n      ".concat(o," resRC = getOutputCoords();\n      setOutput(getA(").concat(i,"));\n    }\n    ")}));var VS=(0,oa.Z)((function e(t,n){(0,aa.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var r=new Array(t.length),a=0;a<r.length;a++)r[a]=t[n[a]];if(this.outputShape=r,this.rank=r.length,this.rank>6)throw Error("Packed transpose for rank ".concat(this.rank," is not yet supported."));for(var o=Nw(this.rank),i=Uk("rc",this.rank),s=new Array(this.rank),u=0;u<n.length;u++)s[n[u]]=i[u];var c="vec2(".concat(s.slice(-2).join(),")"),l="++".concat(i[this.rank-1]," < ").concat(r[this.rank-1]),f="getChannel(getA(".concat(s.join(),"), ").concat(c,")");this.userCode="\n    void main() {\n      ".concat(o," rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = ").concat(f,";\n      if(").concat(l,") {\n        result[1] = ").concat(f,";\n      }\n      --").concat(i[this.rank-1],";\n      if(++").concat(i[this.rank-2]," < ").concat(r[this.rank-2],") {\n        result[2] = ").concat(f,";\n        if(").concat(l,") {\n          result[3] = ").concat(f,";\n        }\n      }\n      setOutput(result);\n    }\n    ")}));function HS(e,t,n){var r=(0,l.OBj)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new VS(e.shape,t):new WS(e.shape,t);return n.runWebGLProgram(r,[e],e.dtype)}function GS(e){var t=e.inputs,n=e.backend,r=e.attrs;return function(e,t,n,r){var a=t,o=e.shape.length,i=l.D5U.parseAxisParam(a,e.shape),s=i,u=l.Wap.getAxesPermutation(s,o),c=null!=u,p=e;c&&(p=HS(e,u,r),s=l.Wap.getInnerMostAxes(s.length,o)),l.Wap.assertAxesAreInnerMostDims("sum",s,o);var d=l.Wap.computeOutAndReduceShapes(p.shape,s),h=(0,f.Z)(d,2),v=h[0],m=h[1],g=v;n&&(g=l.Wap.expandShapeToKeepDim(v,i));var y=l.D5U.sizeFromShape(m),b=jS({inputs:{x:p},attrs:{shape:[l.D5U.sizeFromShape(e.shape)/y,y]},backend:r}),x=US(b,(0,l.z4k)(e.dtype),"sum",r),w=jS({inputs:{x:x},attrs:{shape:g},backend:r});return r.disposeIntermediateTensorInfo(b),r.disposeIntermediateTensorInfo(x),c&&r.disposeIntermediateTensorInfo(p),w}(t.x,r.axis,r.keepDims,n)}var qS={kernelName:l.GBy,backendName:"webgl",kernelFunc:GS};function XS(e){for(var t,n=e.inputs,r=e.backend,a=e.attrs,o=n.x,i=a.perm,s=r,u=o.shape.length,c=new Array(u),l=0;l<c.length;l++)c[l]=o.shape[i[l]];if(s.shouldExecuteOnCPU([o])){var f=s.texData.get(o.dataId).values,p=zk(f,o.shape,o.dtype,i,c);t=s.makeTensorInfo(c,o.dtype),s.texData.get(t.dataId).values=p}else t=HS(o,i,s);return t}var KS={kernelName:l.G3Y,backendName:"webgl",kernelFunc:XS};function YS(e){var t=e.a,n=e.b,r=e.transposeA,a=e.transposeB,o=e.backend,i=e.bias,s=void 0===i?null:i,u=e.preluActivationWeights,c=void 0===u?null:u,f=e.leakyreluAlpha,p=void 0===f?0:f,d=e.activation,h=void 0===d?null:d,v=t.shape.length,m=n.shape.length,g=r?t.shape[v-2]:t.shape[v-1],y=a?n.shape[m-1]:n.shape[m-2],b=r?t.shape[v-1]:t.shape[v-2],x=a?n.shape[m-2]:n.shape[m-1],w=t.shape.slice(0,-2),k=n.shape.slice(0,-2),S=l.D5U.sizeFromShape(w),E=l.D5U.sizeFromShape(k),C=l.Jyw.assertAndGetBroadcastShape(t.shape.slice(0,-2),n.shape.slice(0,-2)).concat([b,x]);l.D5U.assert(g===y,(function(){return"Error in matMul: inner shapes (".concat(g,") and (")+"".concat(y,") of Tensors with shapes ").concat(t.shape," and ")+"".concat(n.shape," and transposeA=").concat(r)+" and transposeB=".concat(a," must match.")}));var N,T=r?[S,g,b]:[S,b,g],I=a?[E,x,y]:[E,y,x],O=jS({inputs:{x:t},backend:o,attrs:{shape:T}}),_=jS({inputs:{x:n},backend:o,attrs:{shape:I}}),D=[O,_],A=Math.max(S,E),R=r?O.shape[1]:O.shape[2],P=null!=s,M=null!=c,F="leakyrelu"===h,L=null!=h?_S(h,!0):null;if((1===b||1===x)&&R>1e3&&!1===(P||M||F||null!=L)){var j=O,Z=_;r&&(j=XS({inputs:{x:O},backend:o,attrs:{perm:[0,2,1]}}),D.push(j)),a&&(Z=XS({inputs:{x:_},backend:o,attrs:{perm:[0,2,1]}}),D.push(Z));var z=1===x,B=j;1!==x&&(B=jS({inputs:{x:j},backend:o,attrs:{shape:[A,R,1]}}),D.push(B));var U=1===x?2:1,W=Z;z&&(W=jS({inputs:{x:Z},backend:o,attrs:{shape:[A,1,R]}}),D.push(W));var V=FS({inputs:{a:B,b:W},backend:o});N=GS({inputs:{x:V},backend:o,attrs:{axis:U,keepDims:!0}}),D.push(V)}else{var H=(0,l.x8V)(t.dtype,n.dtype),G=new DS(T,I,[A,b,x],r,a,P,L,M,F),q=[O,_];if(null!=s&&q.push(s),M&&q.push(c),F){var X=o.makeTensorInfo([],"float32",l.D5U.createScalarValue(p,"float32"));q.push(X),D.push(X)}N=o.runWebGLProgram(G,q,H)}var K=jS({inputs:{x:N},backend:o,attrs:{shape:C}});D.push(N);for(var Y=0,Q=D;Y<Q.length;Y++){var $=Q[Y];o.disposeIntermediateTensorInfo($)}return K}var QS={kernelName:l.usg,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.a,o=t.b,i=t.bias,s=t.preluActivationWeights,u=r.transposeA,c=r.transposeB,l=r.activation;return YS({a:a,b:o,transposeA:u,transposeB:c,backend:n,bias:i,preluActivationWeights:s,leakyreluAlpha:r.leakyreluAlpha,activation:l})}},$S="return abs(x);";var JS={kernelName:l.SYM,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=n.x;if(r.shouldExecuteOnCPU([a])&&"complex64"!==a.dtype){var o=r.texData.get(a.dataId),i=Tk(o.values);return r.makeTensorInfo(a.shape,a.dtype,i)}return t=(0,l.OBj)().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new lS(a.shape,$S):new Yk(a.shape,$S),r.runWebGLProgram(t,[a],a.dtype)}},eE=IS({opSnippet:"if (isnan(x)) return x;\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n"}),tE={kernelName:l.VGw,backendName:"webgl",kernelFunc:eE},nE=IS({opSnippet:"if (isnan(x)) return x;\n  if (x < 1.0) return NAN;\nreturn log(x + sqrt(x * x - 1.0));"}),rE={kernelName:l.SpW,backendName:"webgl",kernelFunc:nE},aE="return a + b;",oE=OS({opSnippet:aE,packedOpSnippet:aE,supportsComplex:!0,cpuKernelImpl:Jw}),iE={kernelName:l.mm_,backendName:"webgl",kernelFunc:oE},sE=(0,oa.Z)((function e(t,n){(0,aa.Z)(this,e),this.outputShape=[],this.outputShape=t,this.variableNames=n.map((function(e,t){return"T".concat(t)}));var r=[];this.variableNames.forEach((function(e){r.push("float v".concat(e," = get").concat(e,"AtOutCoords();"))}));var a=this.variableNames.map((function(e){return"v".concat(e)})).join(" + ");this.userCode="\n      void main() {\n        ".concat(r.join("\n        "),"\n\n        float result = ").concat(a,";\n        setOutput(result);\n      }\n    ")})),uE=(0,oa.Z)((function e(t,n){(0,aa.Z)(this,e),this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.variableNames=n.map((function(e,t){return"T".concat(t)}));var r=[];this.variableNames.forEach((function(e){r.push("vec4 v".concat(e," = get").concat(e,"AtOutCoords();"))}));var a=this.variableNames.map((function(e){return"v".concat(e)})).join(" + ");this.userCode="\n      void main() {\n        ".concat(r.join("\n        "),"\n\n        vec4 result = ").concat(a,";\n        setOutput(result);\n      }\n    ")}));var cE={kernelName:l.Xze,backendName:"webgl",kernelFunc:function e(t){var n=t.inputs,r=t.backend,a=n;if(1===a.length)return yS({inputs:{x:a[0]},backend:r});if(a.length>(0,l.OBj)().get("WEBGL_MAX_TEXTURES_IN_SHADER")){var o=Math.floor(a.length/2),i=e({inputs:a.slice(0,o),backend:r}),s=e({inputs:a.slice(o),backend:r});return e({inputs:[i,s],backend:r})}var u=a.map((function(e){return e.dtype})).reduce((function(e,t){return(0,l.x8V)(e,t)})),c=a.map((function(e){return e.shape})),f=(0,l.OBj)().getBool("WEBGL_PACK")?new uE(a[0].shape,c):new sE(a[0].shape,c);return r.runWebGLProgram(f,a,u)}};var lE={kernelName:l.oT6,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,i=r.keepDims,s=a.shape.length,u=l.D5U.parseAxisParam(o,a.shape),c=u,p=l.Wap.getAxesPermutation(c,s),d=a;null!=p&&(d=XS({inputs:{x:a},backend:n,attrs:{perm:p}}),c=l.Wap.getInnerMostAxes(c.length,s)),l.Wap.assertAxesAreInnerMostDims("all",c,s);var h,v=l.Wap.computeOutAndReduceShapes(d.shape,c),m=(0,f.Z)(v,2),g=m[0],y=m[1],b=jS({inputs:{x:d},backend:n,attrs:{shape:[-1,l.D5U.sizeFromShape(y)]}}),x=US(b,b.dtype,"all",n);return h=jS(i?{inputs:{x:x},backend:n,attrs:{shape:l.Wap.expandShapeToKeepDim(g,u)}}:{inputs:{x:x},backend:n,attrs:{shape:g}}),n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(x),null!=p&&n.disposeIntermediateTensorInfo(d),h}};var fE={kernelName:l.IKK,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,i=r.keepDims,s=a.shape.length,u=l.D5U.parseAxisParam(o,a.shape),c=u,p=l.Wap.getAxesPermutation(c,s),d=a;null!=p&&(d=XS({inputs:{x:a},backend:n,attrs:{perm:p}}),c=l.Wap.getInnerMostAxes(c.length,s)),l.Wap.assertAxesAreInnerMostDims("any",c,s);var h,v=l.Wap.computeOutAndReduceShapes(d.shape,c),m=(0,f.Z)(v,2),g=m[0],y=m[1],b=jS({inputs:{x:d},backend:n,attrs:{shape:[-1,l.D5U.sizeFromShape(y)]}}),x=US(b,b.dtype,"any",n);return h=jS(i?{inputs:{x:x},backend:n,attrs:{shape:l.Wap.expandShapeToKeepDim(g,u)}}:{inputs:{x:x},backend:n,attrs:{shape:g}}),n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(x),null!=p&&n.disposeIntermediateTensorInfo(d),h}},pE=(0,oa.Z)((function e(t,n,r){(0,aa.Z)(this,e),this.variableNames=["A"];var a=t.windowSize,o=t.batchSize,i=t.outSize;r||this.variableNames.push("bestIndicesA"),this.outputShape=[o,i];var s="max"===n?">":"<",u=r?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * ".concat(a,";\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < ").concat(a,"; i++) {\n          int inIdx = ").concat(u,";\n          float candidate = getA(batch, inIdx);\n          if (candidate ").concat(s," bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    ")})),dE=(0,oa.Z)((function e(t,n,r,a){(0,aa.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,l.D5U.assert(t.length>2,(function(){return"Packed arg".concat(r.charAt(0).toUpperCase()+r.slice(1)," supports only inputs with rank above 2.")}));var o=t[t.length-1],i=Math.ceil(o/n);this.outputShape=t.slice(0,-1),i>1&&this.outputShape.push(i),a||this.variableNames.push("bestIndicesA");var s,u,c=this.outputShape,f=c.length,p=Nw(f),d=Wk("coords",f);if(1===i){var h=Nw(u=f+1);s="\n        ".concat(h," sourceLocR = ").concat(h,"(").concat(d.join(),", 0);\n        ++").concat(d[f-1],";\n        ").concat(h," sourceLocG = ").concat(h,"(").concat(d.join(),", 0);\n        ++").concat(d[f-2],";\n        ").concat(h," sourceLocA = ").concat(h,"(").concat(d.join(),", 0);\n        --").concat(d[f-1],";\n        ").concat(h," sourceLocB = ").concat(h,"(").concat(d.join(),", 0);\n        --").concat(d[f-2],";")}else u=f,s="\n        ".concat(p," sourceLocR = coords;\n        ++").concat(d[f-1],";\n        ").concat(p," sourceLocG = coords;\n        ++").concat(d[f-2],";\n        ").concat(p," sourceLocA = coords;\n        --").concat(d[f-1],";\n        ").concat(p," sourceLocB = coords;\n        --").concat(d[f-2],";");var v=["x","y","z","w","u","v"].slice(0,u),m="."+v[u-1],g=v.map((function(e){return"int "+e})),y=Wk("sourceLocR",u-1).concat("inIdx.r"),b=Wk("sourceLocG",u-1).concat("inIdx.g"),x=Wk("sourceLocB",u-1).concat("inIdx.b"),w=Wk("sourceLocA",u-1).concat("inIdx.a"),k="max"===r?"greaterThan":"lessThan",S=a?"":"\n          inIdx = round(vec4(getBestIndicesAChannel(".concat(y.join(),"),\n                             getBestIndicesAChannel(").concat(b.join(),"),\n                             getBestIndicesAChannel(").concat(x.join(),"),\n                             getBestIndicesAChannel(").concat(w.join(),")));"),E="vec4(\n            getAChannel(".concat(y.join(),"),\n            hasNextCol ? getAChannel(").concat(b.join(),") : 0.,\n            hasNextRow ? getAChannel(").concat(x.join(),") : 0.,\n            hasNextRow && hasNextCol ? getAChannel(").concat(w.join(),") : 0.)"),C=a?"":"\n      float getBestIndicesAChannel(".concat(g.join(),") {\n        return getChannel(getBestIndicesA(").concat(v.join(),"),\n                                          vec2(").concat(v.slice(-2).join(),"));\n      }");this.userCode="\n      float getAChannel(".concat(g.join(),") {\n        return getChannel(getA(").concat(v.join(),"),\n                               vec2(").concat(v.slice(-2).join(),"));\n      }\n      ").concat(C,"\n      void main() {\n        ").concat(p," coords = getOutputCoords();\n        bool hasNextCol = ").concat(d[f-1]," < ").concat(c[f-1]-1,";\n        bool hasNextRow = ").concat(d[f-2]," < ").concat(c[f-2]-1,";\n        ").concat(s,"\n        ivec4 srcIdx = ivec4(sourceLocR").concat(m,", sourceLocG").concat(m,",\n          sourceLocB").concat(m,", sourceLocA").concat(m,") * ").concat(n,";\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = ").concat(E,";\n\n        for (int i = 0; i < ").concat(n,"; i++) {\n          inIdx = srcIdx;\n          ").concat(S,"\n          vec4 candidate = ").concat(E,";\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4(").concat(k,"(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    ")}));function hE(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=t.shape[0],o=t.shape[1];null!=r&&(a=r.shape[0],o=r.shape[1]);var i=l.Wap.computeOptimalWindowSize(o),s={windowSize:i,inSize:o,batchSize:a,outSize:Math.ceil(o/i)},u=new pE(s,n,null==r),c=[t];null!=r&&c.push(r);var f=e.runWebGLProgram(u,c,"int32");if(1===f.shape[1])return f;var p=hE(e,t,n,f);return e.disposeIntermediateTensorInfo(f),p}function vE(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=null!=r?r.shape:t.shape,o=a[a.length-1],i=l.Wap.computeOptimalWindowSize(o),s=new dE(a,i,n,null==r),u=null==r?[t]:[t,r],c=e.runWebGLProgram(s,u,"int32");if(c.shape.length===t.shape.length){var f=vE(e,t,n,c);return e.disposeIntermediateTensorInfo(c),f}return c}function mE(e,t,n,r){var a=[n];if(l.Wap.assertAxesAreInnerMostDims("arg"+r.charAt(0).toUpperCase()+r.slice(1),a,t.shape.length),!(0,l.OBj)().getBool("WEBGL_PACK_REDUCE")||t.shape.length<=2){var o=[],i=e.texData.get(t.dataId),s=t;null!==i&&i.isPacked&&(s=e.unpackTensor(t),o.push(s));var u=l.Wap.computeOutAndReduceShapes(s.shape,a),c=(0,f.Z)(u,2),p=c[0],d=c[1],h=l.D5U.sizeFromShape(d),v=jS({inputs:{x:s},backend:e,attrs:{shape:[-1,h]}});o.push(v);var m=hE(e,v,r);o.push(m);var g=jS({inputs:{x:m},backend:e,attrs:{shape:p}});return o.forEach((function(t){return e.disposeIntermediateTensorInfo(t)})),g}return vE(e,t,r)}var gE={kernelName:l.sJF,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,i=l.D5U.parseAxisParam(o,a.shape),s=l.Wap.getAxesPermutation(i,a.shape.length),u=a,c=[];null!=s&&(u=XS({inputs:{x:a},backend:n,attrs:{perm:s}}),c.push(u),i=l.Wap.getInnerMostAxes(i.length,u.shape.length)),l.Wap.assertAxesAreInnerMostDims("argMax",[i[0]],u.shape.length);var f=mE(n,u,i[0],"max");return c.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),f}};var yE={kernelName:l.aJk,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,i=l.D5U.parseAxisParam(o,a.shape),s=l.Wap.getAxesPermutation(i,a.shape.length),u=a,c=[];null!=s&&(u=XS({inputs:{x:a},backend:n,attrs:{perm:s}}),c.push(u),i=l.Wap.getInnerMostAxes(i.length,u.shape.length)),l.Wap.assertAxesAreInnerMostDims("argMin",[i[0]],u.shape.length);var f=mE(n,u,i[0],"min");return c.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),f}},bE=IS({opSnippet:"if (isnan(x)) return x;\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n"}),xE={kernelName:l.M2y,backendName:"webgl",kernelFunc:bE},wE=IS({opSnippet:"if (isnan(x)) return x;return log(x + sqrt(x * x + 1.0));"}),kE={kernelName:l.qw7,backendName:"webgl",kernelFunc:wE},SE=IS({opSnippet:"if (isnan(x)) return x;\n  return atan(x);\n"}),EE={kernelName:l.jMg,backendName:"webgl",kernelFunc:SE},CE=OS({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return atan(a, b);\n",packedOpSnippet:"\n  vec4 result = atan(a, b);\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n"}),NE={kernelName:l.QCc,backendName:"webgl",kernelFunc:CE},TE=IS({opSnippet:"if (isnan(x)) return x;\n  if ((x < -1.0) || (x > 1.0)) return NAN;\nreturn (log(1.0 + x) - log(1.0 - x)) / 2.0;"}),IE={kernelName:l.Oyi,backendName:"webgl",kernelFunc:TE},OE=(0,oa.Z)((function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if((0,aa.Z)(this,e),this.variableNames=["x"],"avg"===n&&r)throw new Error("Cannot compute positions for average pool.");var i=t.filterWidth,s=t.strideHeight,u=t.strideWidth,c=t.dilationHeight,l=t.dilationWidth,f=t.effectiveFilterHeight,p=t.effectiveFilterWidth,d=t.padInfo.top,h=t.padInfo.left;this.outputShape=t.outShape;var v="avg"===n,m="((batch  * ".concat(t.inHeight," + xR) * ").concat(t.inWidth," + xC) * ").concat(t.inChannels," + d"),g="(xR * ".concat(t.inWidth," + xC) * ").concat(t.inChannels," + d"),y="0.0";if(v||(y="-1.0 / 1e-20"),r){var b=">=";this.userCode="\n        const ivec2 strides = ivec2(".concat(s,", ").concat(u,");\n        const ivec2 pads = ivec2(").concat(d,", ").concat(h,");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < ").concat(f,";\n              wR += ").concat(c,") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(p,";\n                wC += ").concat(l,") {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value ").concat(b," currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = ").concat(a?o?m:g:"wR * ".concat(p," + wC"),";\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ")}else{var x="max",w="".concat(n,"(").concat(n,"(").concat(n,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===n&&(w="avgValue / count");var k=4*Math.floor(i/4),S=i%4,E="\n      if (".concat(v,") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = ").concat(x,"(values, minMaxValue);\n      }\n    ");this.userCode="\n      const ivec2 strides = ivec2(".concat(s,", ").concat(u,");\n      const ivec2 pads = ivec2(").concat(d,", ").concat(h,");\n      const float initializationValue = ").concat(y,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= ").concat(t.inWidth,") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(").concat(y,");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < ").concat(f,";\n            wR += ").concat(c,") {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= ").concat(t.inHeight,") {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(k,"; wC += 4) {\n            int xC = xCCorner + wC * ").concat(l,";\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(l,", d),\n              getValue(batch, xR, xC + 2 * ").concat(l,", d),\n              getValue(batch, xR, xC + 3 * ").concat(l,", d)\n            );\n\n            ").concat(E,"\n          }\n\n          int xC = xCCorner + ").concat(k,";\n          if (").concat(1===S,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            ").concat(E,"\n          } else if (").concat(2===S,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(l,", d),\n              initializationValue,\n              initializationValue\n            );\n\n            ").concat(E,"\n          } else if (").concat(3===S,") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + ").concat(l,", d),\n              getValue(batch, xR, xC + 2 * ").concat(l,", d),\n              initializationValue\n            );\n\n            ").concat(E,"\n          }\n        }\n        setOutput(").concat(w,");\n      }\n    ")}})),_E=(0,oa.Z)((function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if((0,aa.Z)(this,e),this.variableNames=["x"],"avg"===n&&r)throw new Error("Cannot compute positions for average pool.");var i=t.filterWidth,s=t.strideDepth,u=t.strideHeight,c=t.strideWidth,l=t.dilationDepth,f=t.dilationHeight,p=t.dilationWidth,d=t.effectiveFilterDepth,h=t.effectiveFilterHeight,v=t.effectiveFilterWidth,m=t.padInfo.front,g=t.padInfo.top,y=t.padInfo.left;this.outputShape=t.outShape;var b="avg"===n,x="0.0";if(b||(x="-1.0 / 1e-20"),r){var w=">=";this.userCode="\n        const ivec3 strides =\n            ivec3(".concat(s,", ").concat(u,", ").concat(c,");\n        const ivec3 pads = ivec3(").concat(m,", ").concat(g,", ").concat(y,");\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < ").concat(d,";\n              wD += ").concat(l,") {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= ").concat(t.inDepth,") {\n              continue;\n            }\n\n            for (int wR = 0; wR < ").concat(h,";\n                wR += ").concat(f,") {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= ").concat(t.inHeight,") {\n                continue;\n              }\n\n              for (int wC = 0; wC < ").concat(v,";\n                  wC += ").concat(p,") {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value ").concat(w," currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition = ").concat(a?o?"(((batch * ".concat(t.inDepth," + xD) * ").concat(t.inHeight," + xR) * ").concat(t.inWidth," + xC) * ").concat(t.inChannels," + ch"):"((xD * ".concat(t.inHeight," + xR) * ").concat(t.inWidth," + xC) * ").concat(t.inChannels," + ch"):"wD * ".concat(h," * ").concat(v," +\n                      wR * ").concat(v," + wC"),";\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ")}else{var k="max",S="".concat(n,"(").concat(n,"(").concat(n,"(")+"minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===n&&(S="avgValue / count");var E=4*Math.floor(i/4),C=i%4,N="\n      if (".concat(b,") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = ").concat(k,"(values, minMaxValue);\n      }\n    ");this.userCode="\n      const ivec3 strides =\n        ivec3(".concat(s,", ").concat(u,", ").concat(c,");\n      const ivec3 pads = ivec3(").concat(m,", ").concat(g,", ").concat(y,");\n      const float initializationValue = ").concat(x,";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= ").concat(t.inWidth,") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4(").concat(x,");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < ").concat(d,";\n            wD += ").concat(l,") {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= ").concat(t.inDepth,") {\n            continue;\n          }\n\n          for (int wR = 0; wR < ").concat(h,";\n            wR += ").concat(f,") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(E,"; wC += 4) {\n              int xC = xCCorner + wC * ").concat(p,";\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(p,", ch),\n                getValue(batch, xD, xR, xC + 2 * ").concat(p,", ch),\n                getValue(batch, xD, xR, xC + 3 * ").concat(p,", ch)\n              );\n\n              ").concat(N,"\n            }\n\n            int xC = xCCorner + ").concat(E,";\n            if (").concat(1===C,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              ").concat(N,"\n            } else if (").concat(2===C,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(p,", ch),\n                initializationValue,\n                initializationValue\n              );\n\n              ").concat(N,"\n            } else if (").concat(3===C,") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + ").concat(p,", ch),\n                getValue(batch, xD, xR, xC + 2 * ").concat(p,", ch),\n                initializationValue\n              );\n\n              ").concat(N,"\n            }\n          }\n          setOutput(").concat(S,");\n        }\n      }\n    ")}}));var DE={kernelName:l.JhU,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x;Jx(a,"avgPool");var o=r.filterSize,i=r.strides,s=r.pad,u=r.dimRoundingMode;l.D5U.assert(l.Wap.eitherStridesOrDilationsAreOne(i,1),(function(){return"Error in avgPool: Either strides or dilations must be 1. "+"Got strides ".concat(i," and dilations '").concat(1,"'")}));var c=l.Wap.computePool2DInfo(a.shape,o,i,1,s,u);if(1===c.filterWidth&&1===c.filterHeight&&l.D5U.arraysEqual(c.inShape,c.outShape))return yS({inputs:{x:a},backend:n});var f=new OE(c,"avg",!1);return n.runWebGLProgram(f,[a],"float32")}};var AE={kernelName:l._k9,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.filterSize,i=r.strides,s=r.pad,u=r.dimRoundingMode,c=r.dataFormat,f=l.Wap.computePool3DInfo(a.shape,o,i,[1,1,1],s,u,c),p=new _E(f,"avg",!1);return n.runWebGLProgram(p,[a],"float32")}},RE=(0,oa.Z)((function e(t){(0,aa.Z)(this,e),this.variableNames=["dy"],this.outputShape=t.inShape;var n=t.filterHeight,r=t.filterWidth,a=t.strideHeight,o=t.strideWidth,i=t.dilationHeight,s=t.dilationWidth,u=t.effectiveFilterHeight,c=t.effectiveFilterWidth,l=u-1-t.padInfo.top,f=c-1-t.padInfo.left,p=1/(n*r);this.userCode="\n      const ivec2 pads = ivec2(".concat(l,", ").concat(f,");\n      const float avgMultiplier = float(").concat(p,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(u,";\n            wR += ").concat(i,") {\n          float dyR = float(dyRCorner + wR) / ").concat(a,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ").concat(c,";\n            wC+= ").concat(s,") {\n            float dyC = float(dyCCorner + wC) / ").concat(o,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),PE=(0,oa.Z)((function e(t){(0,aa.Z)(this,e),this.variableNames=["dy"],this.outputShape=t.inShape;var n=t.filterDepth,r=t.filterHeight,a=t.filterWidth,o=t.strideDepth,i=t.strideHeight,s=t.strideWidth,u=t.dilationDepth,c=t.dilationHeight,l=t.dilationWidth,f=t.effectiveFilterDepth,p=t.effectiveFilterHeight,d=t.effectiveFilterWidth,h=f-1-t.padInfo.front,v=p-1-t.padInfo.top,m=d-1-t.padInfo.left,g=1/(n*r*a);this.userCode="\n      const ivec3 pads = ivec3(".concat(h,", ").concat(v,", ").concat(m,");\n      const float avgMultiplier = float(").concat(g,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ").concat(f,";\n            wD += ").concat(u,") {\n          float dyD = float(dyDCorner + wD) / ").concat(o,".0;\n\n          if (dyD < 0.0 || dyD >= ").concat(t.outDepth,".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ").concat(p,";\n              wR += ").concat(c,") {\n            float dyR = float(dyRCorner + wR) / ").concat(i,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ").concat(d,";\n                wC += ").concat(l,") {\n              float dyC = float(dyCCorner + wC) / ").concat(s,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}));var ME={kernelName:l.IMb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.input,i=r.filterSize,s=r.strides,u=r.pad,c=r.dimRoundingMode,f=l.Wap.computePool3DInfo(o.shape,i,s,[1,1,1],u,c),p=new PE(f);return n.runWebGLProgram(p,[a],o.dtype)}};var FE={kernelName:l.ROF,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.input,i=o;Jx([a,o],"avgPoolGrad");var s=r.filterSize,u=r.strides,c=r.pad,f=l.Wap.computePool2DInfo(i.shape,s,u,1,c),p=new RE(f);return n.runWebGLProgram(p,[a],i.dtype)}};var LE={kernelName:l.XLW,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs;return YS({a:t.a,b:t.b,transposeA:r.transposeA,transposeB:r.transposeB,backend:n})}},jE=(0,oa.Z)((function e(t,n,r,a,o,i){(0,aa.Z)(this,e),this.outputShape=[],this.variableNames=["x","mean","variance"],l.Wap.assertAndGetBroadcastShape(t,n),l.Wap.assertAndGetBroadcastShape(t,r);var s="0.0";null!=a&&(l.Wap.assertAndGetBroadcastShape(t,a),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");var u="1.0";null!=o&&(l.Wap.assertAndGetBroadcastShape(t,o),this.variableNames.push("scale"),u="getScaleAtOutCoords()"),this.outputShape=t,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = ".concat(s,";\n        float scale = ").concat(u,";\n        float inv = scale * inversesqrt(variance + float(").concat(i,"));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    ")})),ZE=(0,oa.Z)((function e(t,n,r,a,o,i){(0,aa.Z)(this,e),this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],l.Wap.assertAndGetBroadcastShape(t,n),l.Wap.assertAndGetBroadcastShape(t,r);var s="vec4(0.0)";null!=a&&(l.Wap.assertAndGetBroadcastShape(t,a),this.variableNames.push("offset"),s="getOffsetAtOutCoords()");var u="vec4(1.0)";null!=o&&(l.Wap.assertAndGetBroadcastShape(t,o),this.variableNames.push("scale"),u="getScaleAtOutCoords()"),this.outputShape=t,this.userCode="\n      void main() {\n        vec4 offset = ".concat(s,";\n        vec4 scale = ").concat(u,";\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4(").concat(i,"));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    ")})),zE={kernelName:l.sHE,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.mean,i=t.variance,s=t.offset,u=t.scale;l.D5U.assert(o.shape.length===i.shape.length,(function(){return"Batch normalization gradient requires mean and variance to have equal ranks."})),l.D5U.assert(null==s||o.shape.length===s.shape.length,(function(){return"Batch normalization gradient requires mean and offset to have equal ranks."})),l.D5U.assert(null==u||o.shape.length===u.shape.length,(function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}));var c=r.varianceEpsilon;null==c&&(c=.001);var f=[a,o,i],p=null;null!=s&&(p=s.shape,f.push(s));var d=null;null!=u&&(d=u.shape,f.push(u));var h=(0,l.OBj)().getBool("WEBGL_PACK_NORMALIZATION")?new ZE(a.shape,o.shape,i.shape,p,d,c):new jE(a.shape,o.shape,i.shape,p,d,c);return n.runWebGLProgram(h,f,f[0].dtype)}},BE=(0,oa.Z)((function e(t){(0,aa.Z)(this,e),this.variableNames=["source"],this.outputShape=t,this.rank=t.length;var n=Nw(this.rank);this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];var r,a=function(e){if(1===e)return"sourceLoc";if(e<=6)return UE.slice(0,e).map((function(e){return"sourceLoc."+e})).join(",");throw Error("Slicing for rank ".concat(e," is not yet supported"))}(this.rank),o=t.map((function(e,t){return"sourceLoc.".concat(UE[t]," = start[").concat(t,"] + coords.").concat(UE[t],";")}));r="\n        ".concat(n," sourceLoc;\n        ").concat(n," coords = getOutputCoords();\n        ").concat(o.join("\n"),"\n      "),this.userCode="\n      void main() {\n        ".concat(r,"\n        setOutput(getSource(").concat(a,"));\n      }\n    ")})),UE=["x","y","z","w","u","v"];var WE=(0,oa.Z)((function e(t){(0,aa.Z)(this,e),this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t,this.rank=t.length,this.customUniforms=[{name:"start",arrayIndex:this.rank,type:"int"}];var n=Nw(this.rank),r=Wk("coords",this.rank),a=Wk("sourceLoc",this.rank),o=1===this.rank?"sourceLoc":"vec2(".concat(a.slice(-2).join(),")"),i="getChannel(getSource(".concat(a.join(),"), ").concat(o,")"),s="\n      result.x = ".concat(i,";\n      if (++").concat(r[this.rank-1]," < ").concat(t[this.rank-1],") {\n        ++").concat(a[this.rank-1],";\n        result.y = ").concat(i,";\n        --").concat(a[this.rank-1],";\n      }\n    "),u=1===this.rank?"":"\n      --".concat(r[this.rank-1],";\n      if (++").concat(r[this.rank-2]," < ").concat(t[this.rank-2],") {\n        ++").concat(a[this.rank-2],";\n        result.z = ").concat(i,";\n        if (++").concat(r[this.rank-1]," < ").concat(t[this.rank-1],") {\n          ++").concat(a[this.rank-1],";\n          result.w = ").concat(i,";\n        }\n      }\n    "),c=this.rank<=4?"sourceLoc = coords +\n            ".concat(n,"(").concat(t.map((function(e,t){return"start[".concat(t,"]")})).join(),");"):t.map((function(e,t){return"".concat(a[t]," = ").concat(r[t]," + start[").concat(t,"];")})).join("\n");this.userCode="\n      void main() {\n        ".concat(n," coords = getOutputCoords();\n        ").concat(n," sourceLoc;\n        ").concat(c,"\n        vec4 result = vec4(0.);\n        ").concat(s,"\n        ").concat(u,"\n        setOutput(result);\n      }\n    ")}));function VE(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.begin,i=r.size,s=l.kuN.parseSliceParams(a,o,i),u=(0,f.Z)(s,2),c=u[0],p=u[1];if(l.kuN.assertParamsValid(a,c,p),0===l.D5U.sizeFromShape(p))return n.makeTensorInfo(p,a.dtype,[]);if(n.shouldExecuteOnCPU([a])||"string"===a.dtype){var d=n.texData.get(a.dataId),h=Ik(d.values,c,p,a.shape,a.dtype);return n.makeTensorInfo(p,a.dtype,h)}var v=n.texData.get(a.dataId).isPacked,m=l.kuN.isSliceContinous(a.shape,c,p);if(v||!m){var g=(0,l.OBj)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new WE(p):new BE(p),y=[c];return n.runWebGLProgram(g,[a],a.dtype,y)}return n.uploadToGPU(a.dataId),function(e,t,n,r){var a=r.texData.get(e.dataId),o=r.makeTensorInfo(n,e.dtype),i=r.texData.get(o.dataId);Object.assign(i,a),i.refCount=1,i.shape=n,i.dtype=e.dtype;var s=l.kuN.computeFlatOffset(t,l.D5U.computeStrides(e.shape));a.slice&&(s+=a.slice.flatOffset),i.slice={flatOffset:s,origDataId:a.slice&&a.slice.origDataId||e.dataId};var u=r.dataRefCount.get(i.slice.origDataId)||1;return r.dataRefCount.set(i.slice.origDataId,u+1),o}(a,c,p,n)}var HE={kernelName:l.p2w,backendName:"webgl",kernelFunc:VE},GE={kernelName:l.zws,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.blockShape,i=r.crops;l.D5U.assert(a.shape.length<=4,(function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"}));var s=o.reduce((function(e,t){return e*t})),u=l.Wap.getReshaped(a.shape,o,s),c=l.Wap.getPermuted(u.length,o.length),f=l.Wap.getReshapedPermuted(a.shape,o,s),p=l.Wap.getSliceBeginCoords(i,o.length),d=l.Wap.getSliceSize(f,i,o.length),h=[],v=jS({inputs:{x:a},backend:n,attrs:{shape:u}}),m=XS({inputs:{x:v},backend:n,attrs:{perm:c}}),g=jS({inputs:{x:m},backend:n,attrs:{shape:f}}),y=VE({inputs:{x:g},backend:n,attrs:{begin:p,size:d}});return h.push(v),h.push(m),h.push(g),h.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),y}};var qE={kernelName:l.zvY,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.weights,i=r.size,s=n.readSync(a.dataId),u=n.readSync(o.dataId),c=ek(s,u,o.dtype,o.shape,i);return n.makeTensorInfo([i],o.dtype,c)}};var XE={kernelName:l.eEB,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.s0,a=t.s1,o=n.readSync(r.dataId),i=n.readSync(a.dataId),s=l.Wap.assertAndGetBroadcastShape(Array.from(o),Array.from(i));return n.makeTensorInfo([s.length],"int32",Int32Array.from(s))}},KE=OS({opSnippet:"return float(a != b);",cpuKernelImpl:wk,dtype:"bool"}),YE={kernelName:l.yQU,backendName:"webgl",kernelFunc:KE};function QE(e){var t=e.inputs,n=e.backend,r=t.input;return yS({inputs:{x:n.texData.get(r.dataId).complexTensorInfos.real},backend:n})}var $E={kernelName:l.xJR,backendName:"webgl",kernelFunc:QE};var JE={kernelName:l.RFZ,backendName:"webgl",kernelFunc:function e(t){var n=t.inputs,r=t.backend,a=t.attrs,o=n.x,i=a.dtype;if("complex64"===i){if("complex64"===o.dtype)return yS({inputs:{x:o},backend:r});var s=l.lls(o.shape),u=e({inputs:{x:o},backend:r,attrs:{dtype:"float32"}}),c=xS({inputs:{real:u,imag:s},backend:r});return s.dispose(),r.disposeIntermediateTensorInfo(u),c}if("complex64"===o.dtype){var f=QE({inputs:{input:o},backend:r}),p=e({inputs:{x:f},backend:r,attrs:{dtype:i}});return r.disposeIntermediateTensorInfo(f),p}if(!l.D5U.hasEncodingLoss(o.dtype,i)){var d=yS({inputs:{x:o},backend:r});return{dataId:d.dataId,shape:d.shape,dtype:i}}if("int32"===i)return function(e,t){var n=new Yk(e.shape,"return float(int(x));"),r=t.runWebGLProgram(n,[e],"int32");return{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}(o,r);if("bool"===i){var h=r.makeTensorInfo([],"bool",l.D5U.getTypedArrayFromDType("bool",1)),v=KE({inputs:{a:o,b:h},backend:r});return r.disposeIntermediateTensorInfo(h),v}throw new Error("Error in Cast: failed to cast ".concat(o.dtype," to ").concat(i))}},eC="return ceil(x);",tC=IS({opSnippet:eC,packedOpSnippet:eC,cpuKernelImpl:nk}),nC={kernelName:l.gJX,backendName:"webgl",kernelFunc:tC},rC=(0,oa.Z)((function e(t){(0,aa.Z)(this,e),this.variableNames=["A"],this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=t,this.userCode="\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "})),aC=(0,oa.Z)((function e(t){(0,aa.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"minVal",type:"float"},{name:"maxVal",type:"float"}],this.outputShape=t,this.userCode="\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}));var oC={kernelName:l.xnO,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,o=n.x,i=a.clipValueMin,s=a.clipValueMax;t=(0,l.OBj)().getBool("WEBGL_PACK_CLIP")?new aC(o.shape):new rC(o.shape);var u=[[i],[s]];return r.runWebGLProgram(t,[o],o.dtype,u)}},iC=(0,oa.Z)((function e(t){(0,aa.Z)(this,e),this.variableNames=["real","imag"],this.outputShape=t,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "}));function sC(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}}var uC={kernelName:l.yj2,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,a=n.texData.get(r.dataId),o=new iC(r.shape),i=[sC(r,a.complexTensorInfos.real),sC(r,a.complexTensorInfos.imag)];return n.runWebGLProgram(o,i,i[0].dtype)}},cC=(0,oa.Z)((function e(t){(0,aa.Z)(this,e),this.outputShape=[],this.outputShape=l.Wap.computeOutShape(t,1),this.variableNames=t.map((function(e,t){return"T".concat(t)}));var n=new Array(t.length-1);n[0]=t[0][1];for(var r=1;r<n.length;r++)n[r]=n[r-1]+t[r][1];for(var a=["if (yC < ".concat(n[0],") setOutput(getT0(yR, yC));")],o=1;o<n.length;o++){var i=n[o-1];a.push("else if (yC < ".concat(n[o],") ")+"setOutput(getT".concat(o,"(yR, yC-").concat(i,"));"))}var s=n.length,u=n[n.length-1];a.push("else setOutput(getT".concat(s,"(yR, yC-").concat(u,"));")),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        ".concat(a.join("\n        "),"\n      }\n    ")})),lC=(0,oa.Z)((function e(t,n){(0,aa.Z)(this,e),this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=l.Wap.computeOutShape(t,n);var r=this.outputShape,a=r.length,o=Nw(a),i=Wk("coords",a),s=["x","y","z","w","u","v"].slice(0,a);this.variableNames=t.map((function(e,t){return"T".concat(t)}));var u=new Array(t.length-1);u[0]=t[0][n];for(var c=1;c<u.length;c++)u[c]=u[c-1]+t[c][n];for(var f=s[n],p=s.slice(-2),d=s.join(),h="if (".concat(f," < ").concat(u[0],") {\n        return getChannel(\n            getT0(").concat(d,"), vec2(").concat(p.join(),"));\n        }"),v=1;v<u.length;v++){var m=u[v-1];h+="\n        if (".concat(f," < ").concat(u[v],"  && ").concat(f," >= ").concat(u[v-1],") {\n          return getChannel(\n            getT").concat(v,"(").concat(fC(s,f,m),"),\n            vec2(").concat(fC(p,f,m),"));\n        }")}var g=u.length,y=u[u.length-1];h+="\n        return getChannel(\n          getT".concat(g,"(").concat(fC(s,f,y),"),\n          vec2(").concat(fC(p,f,y),"));"),this.userCode="\n      float getValue(".concat(s.map((function(e){return"int "+e})),") {\n        ").concat(h,"\n      }\n\n      void main() {\n        ").concat(o," coords = getOutputCoords();\n        vec4 result = vec4(getValue(").concat(i,"), 0., 0., 0.);\n\n        ").concat(i[a-1]," = ").concat(i[a-1]," + 1;\n        if (").concat(i[a-1]," < ").concat(r[a-1],") {\n          result.g = getValue(").concat(i,");\n        }\n\n        ").concat(i[a-2]," = ").concat(i[a-2]," + 1;\n        if (").concat(i[a-2]," < ").concat(r[a-2],") {\n          result.a = getValue(").concat(i,");\n        }\n\n        ").concat(i[a-1]," = ").concat(i[a-1]," - 1;\n        if (").concat(i[a-2]," < ").concat(r[a-2]," &&\n            ").concat(i[a-1]," < ").concat(r[a-1],") {\n          result.b = getValue(").concat(i,");\n        }\n        setOutput(result);\n      }\n    ")}));function fC(e,t,n){var r=e.indexOf(t);return e.map((function(e,t){return t===r?"".concat(e," - ").concat(n):e})).join()}function pC(e){var t=e.inputs,n=e.backend,r=t.input;return yS({inputs:{x:n.texData.get(r.dataId).complexTensorInfos.imag},backend:n})}var dC={kernelName:l.J_u,backendName:"webgl",kernelFunc:pC};function hC(e,t,n){var r=e[0].dtype;if("complex64"===r){var a=e.map((function(e){return QE({inputs:{input:e},backend:n})})),o=e.map((function(e){return pC({inputs:{input:e},backend:n})})),i=hC(a,t,n),s=hC(o,t,n),u=xS({inputs:{real:i,imag:s},backend:n});return a.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),o.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(s),u}var c=n.shouldExecuteOnCPU(e);if("string"===r&&(c=!0),c){var f=e.map((function(e){var r=l.D5U.sizeFromShape(e.shape.slice(t));return jS({inputs:{x:e},backend:n,attrs:{shape:[-1,r]}})})),p=f.map((function(e){return{vals:n.readSync(e.dataId),shape:e.shape}})),d=l.Wap.computeOutShape(f.map((function(e){return e.shape})),1),h=1===f[0].shape[0],v=rk(p,d,r,h),m=l.Wap.computeOutShape(e.map((function(e){return e.shape})),t),g=n.makeTensorInfo(m,r,v);return f.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),g}if(e.length>(0,l.OBj)().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){var y=Math.floor(e.length/2),b=hC(e.slice(0,y),t,n),x=hC(e.slice(y),t,n),w=hC([b,x],t,n);return n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(x),w}if((0,l.OBj)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&e[0].shape.length>1){var k=new lC(e.map((function(e){return e.shape})),t);return n.runWebGLProgram(k,e,r)}var S=function(e,t,n){var r=l.Wap.computeOutShape(e.map((function(e){return e.shape})),t);return{tensors2D:e.map((function(e){return jS({inputs:{x:e},attrs:{shape:[-1,l.D5U.sizeFromShape(e.shape.slice(t))]},backend:n})})),outShape:r}}(e,t,n),E=S.tensors2D,C=S.outShape,N=new cC(E.map((function(e){return e.shape}))),T=n.runWebGLProgram(N,E,r);E.forEach((function(e){return n.disposeIntermediateTensorInfo(e)}));var I=jS({inputs:{x:T},attrs:{shape:C},backend:n});return n.disposeIntermediateTensorInfo(T),I}function vC(e){var t=e.inputs,n=e.backend,r=e.attrs.axis,a=l.D5U.parseAxisParam(r,t[0].shape)[0],o=l.Wap.computeOutShape(t.map((function(e){return e.shape})),a);if(0===l.D5U.sizeFromShape(o))return n.makeTensorInfo(o,t[0].dtype,[]);var i=t.filter((function(e){return l.D5U.sizeFromShape(e.shape)>0}));if(1===i.length)return yS({inputs:{x:i[0]},backend:n});var s=i.map((function(e){return e.shape}));return l.Wap.assertParamsConsistent(s,a),hC(i,a,n)}var mC={kernelName:l.Eh3,backendName:"webgl",kernelFunc:vC},gC=(0,oa.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,aa.Z)(this,e),this.variableNames=["x","W"],this.outputShape=t.outShape;var i=t.padInfo.top,s=t.padInfo.left,u=t.strideHeight,c=t.strideWidth,l=t.dilationHeight,f=t.dilationWidth,p=t.filterHeight,d=t.filterWidth,h=4*Math.floor(t.inChannels/4),v=t.inChannels%4,m="channelsLast"===t.dataFormat,g=m?1:2,y=m?2:3,b=m?3:1,x="",w="";r&&(x=a?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ".concat(r,"\n        }"):o?"float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ".concat(r,"\n        }"):"\n          float activation(float x) {\n            ".concat(r,"\n          }\n        "),w="result = activation(result);");var k=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(x,"\n\n      const ivec2 strides = ivec2(").concat(u,", ").concat(c,");\n      const ivec2 pads = ivec2(").concat(i,", ").concat(s,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords[").concat(b,"];\n\n        ivec2 xRCCorner =\n            ivec2(coords[").concat(g,"], coords[").concat(y,"]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(p,"; wR++) {\n          int xR = xRCorner + wR * ").concat(l,";\n\n          if (xR < 0 || xR >= ").concat(t.inHeight,") {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(d,"; wC++) {\n            int xC = xCCorner + wC * ").concat(f,";\n\n            if (xC < 0 || xC >= ").concat(t.inWidth,") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < ").concat(h,"; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if (").concat(m,") {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if (").concat(1===v,") {\n\n              if (").concat(m,") {\n                dotProd +=\n                    getX(batch, xR, xC, ").concat(h,") *\n                    getW(wR, wC, ").concat(h,", d2);\n              } else {\n                dotProd +=\n                    getX(batch, ").concat(h,", xR, xC) *\n                    getW(wR, wC, ").concat(h,", d2);\n              }\n\n            } else if (").concat(2===v,") {\n              vec2 wValues = vec2(\n                getW(wR, wC, ").concat(h,", d2),\n                getW(wR, wC, ").concat(h," + 1, d2)\n              );\n\n              if (").concat(m,") {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, ").concat(h,"),\n                  getX(batch, xR, xC, ").concat(h," + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, ").concat(h,", xR, xC),\n                  getX(batch, ").concat(h," + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if (").concat(3===v,") {\n              vec3 wValues = vec3(\n                getW(wR, wC, ").concat(h,", d2),\n                getW(wR, wC, ").concat(h," + 1, d2),\n                getW(wR, wC, ").concat(h," + 2, d2)\n              );\n\n              if (").concat(m,") {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, ").concat(h,"),\n                  getX(batch, xR, xC, ").concat(h," + 1),\n                  getX(batch, xR, xC, ").concat(h," + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, ").concat(h,", xR, xC),\n                  getX(batch, ").concat(h," + 1, xR, xC),\n                  getX(batch, ").concat(h," + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        ").concat(k,"\n        ").concat(w,"\n        setOutput(result);\n      }\n    ")})),yC=(0,oa.Z)((function e(t){(0,aa.Z)(this,e),this.variableNames=["x","W"],this.outputShape=t.outShape;var n=t.padInfo.front,r=t.padInfo.top,a=t.padInfo.left,o=t.strideDepth,i=t.strideHeight,s=t.strideWidth,u=t.dilationDepth,c=t.dilationHeight,l=t.dilationWidth,f=t.filterDepth,p=t.filterHeight,d=t.filterWidth,h=4*Math.floor(t.inChannels/4),v=t.inChannels%4;this.userCode="\n      const ivec3 strides = ivec3(".concat(o,", ").concat(i,", ").concat(s,");\n      const ivec3 pads = ivec3(").concat(n,", ").concat(r,", ").concat(a,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ").concat(f,"; wF++) {\n          int xF = xFCorner + wF * ").concat(u,";\n\n          if (xF < 0 || xF >= ").concat(t.inDepth,") {\n            continue;\n          }\n\n          for (int wR = 0; wR < ").concat(p,"; wR++) {\n            int xR = xRCorner + wR * ").concat(c,";\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int wC = 0; wC < ").concat(d,"; wC++) {\n              int xC = xCCorner + wC * ").concat(l,";\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < ").concat(h,"; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if (").concat(1===v,") {\n                dotProd +=\n                  getX(batch, xF, xR, xC, ").concat(h,") *\n                  getW(wF, wR, wC, ").concat(h,", d2);\n              } else if (").concat(2===v,") {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, ").concat(h,"),\n                  getX(batch, xF, xR, xC, ").concat(h," + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, ").concat(h,", d2),\n                  getW(wF, wR, wC, ").concat(h," + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if (").concat(3===v,") {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, ").concat(h,"),\n                  getX(batch, xF, xR, xC, ").concat(h," + 1),\n                  getX(batch, xF, xR, xC, ").concat(h," + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, ").concat(h,", d2),\n                  getW(wF, wR, wC, ").concat(h," + 1, d2),\n                  getW(wF, wR, wC, ").concat(h," + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),bC=(0,oa.Z)((function e(t,n){(0,aa.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"},{name:"pad",type:"ivec2"},{name:"stride",type:"ivec2"},{name:"dilation",type:"ivec2"},{name:"inChannels",type:"int"},{name:"itemsPerBlockRow",type:"int"},{name:"outWidth",type:"int"}],this.outputShape=t,this.enableShapeUniforms=Mw(this.outputShape.length);for(var r=n.dataFormat,a=tw(),o="channelsLast"===r,i=o?0:1,s=o?1:2,u=this.enableShapeUniforms?"if(blockIndex < outShape[1] && pos < outShape[0]) {":"if(blockIndex < ".concat(t[1]," && pos < ").concat(t[0],") {"),c="",l=0;l<=1;l++)for(var f=0;f<=1;f++)c+="\n          blockIndex = rc.y + ".concat(f,";\n          pos = rc.x + ").concat(l,";\n\n          ").concat(u,"\n            offsetY = int(blockIndex / outWidth) * stride[0] - pad[0];\n            d0 = offsetY + dilation[0] * (pos / itemsPerBlockRow);\n\n            if(d0 < inputShape[").concat(i,"] && d0 >= 0) {\n              // Use custom imod instead mod. On Intel GPU, mod may generate\n              // unexpected value.\n              // https://github.com/tensorflow/tfjs/issues/5447\n              offsetX = imod(blockIndex, outWidth) * stride[1] - pad[1];\n              d1 = offsetX + dilation[1] * (imod(pos, itemsPerBlockRow) /\n                  inChannels);\n\n              if(d1 < inputShape[").concat(s,"] && d1 >= 0) {\n\n                ch = imod(pos, inChannels);\n\n                if (").concat(o,") {\n                  innerDims = vec2(d1, ch);\n                  result[").concat(2*l+f,"] = getChannel(\n                    getA(d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result[").concat(2*l+f,"] = getChannel(\n                    getA(ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        ");this.userCode="\n      void main() {\n        ivec2 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        ".concat(c,"\n\n        ").concat(a.output," = result;\n      }\n    ")}));function xC(e,t,n,r){var a=e.shape;if(l.D5U.assert(a.length<=1||3===a.length,(function(){return"WebGL conv2d only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of "+"rank-".concat(a.length,".")})),1===a.length){var o=n?t[3]:t[1];l.D5U.assert(1===a[0]||a[0]===o,(function(){return"WebGL conv2d PReLU activation weights (".concat(a,") is ")+"not compatible with the number of output channels "+"(".concat(o,").")}))}else if(3===a.length){try{l.Jyw.assertAndGetBroadcastShape(a,t)}catch(s){var i="WebGL conv2d PReLU activation weights (".concat(a,") ")+"is not compatible with the output shape of the conv2d "+"(".concat(t,").");throw Error(i)}if(!n)return XS({inputs:{x:e},backend:r,attrs:{perm:[1,2,0]}})}return e}function wC(e){var t,n=e.x,r=e.filter,a=e.convInfo,o=e.backend,i=e.bias,s=void 0===i?null:i,u=e.preluActivationWeights,c=void 0===u?null:u,f=e.leakyreluAlpha,p=void 0===f?0:f,d=e.activation,h=void 0===d?null:d,v=n.shape,m=o.texData.get(n.dataId),g=a.inChannels,y=v[0]*v[1]*v[2],b=a.outChannels,x="channelsLast"===a.dataFormat,w=[];if(null!=c){var k=xC(c,a.outShape,x,o);k.dataId!==c.dataId&&(w.push(k),c=k)}if(!((1===y||1===b)&&g>1e3)&&m.isPacked&&x&&null!=m.texture&&v[2]%2!==0&&l.D5U.arraysEqual(m.shape.slice(-3),v.slice(-3))){var S=v[0]*v[1]*(v[2]+1),E={dataId:n.dataId,shape:[1,S,a.inChannels],dtype:n.dtype},C=m.shape;m.shape=m.shape.slice(),m.shape[m.shape.length-2]++,l.D5U.assert(Xx(m.shape,E.shape),(function(){return"packed reshape ".concat(m.shape," to ").concat(E.shape," isn't free")}));var N=jS({inputs:{x:r},backend:o,attrs:{shape:[1,a.inChannels,a.outChannels]}});w.push(N);var T=YS({a:E,b:N,backend:o,transposeA:false,transposeB:false,bias:s,activation:h,preluActivationWeights:c,leakyreluAlpha:p}),I=o.texData.get(T.dataId);l.D5U.assert(I.isPacked,(function(){return"batchMatMul result is expected to be packed"})),m.shape=C,I.shape=a.outShape,(t=yS({inputs:{x:T},backend:o})).shape=a.outShape,w.push(T)}else{var O=x?n:XS({inputs:{x:n},backend:o,attrs:{perm:[0,2,3,1]}}),_=O.shape,D=jS({inputs:{x:O},backend:o,attrs:{shape:[1,_[0]*_[1]*_[2],a.inChannels]}}),A=jS({inputs:{x:r},backend:o,attrs:{shape:[1,a.inChannels,a.outChannels]}}),R=YS({a:D,b:A,transposeA:false,transposeB:false,backend:o,bias:s,activation:h,preluActivationWeights:c,leakyreluAlpha:p}),P=jS({inputs:{x:R},backend:o,attrs:{shape:[a.batchSize,a.outHeight,a.outWidth,a.outChannels]}});t=x?P:XS({inputs:{x:P},backend:o,attrs:{perm:[0,3,1,2]}}),x||(w.push(O),w.push(P)),w.push(D),w.push(A),w.push(R)}for(var M=0,F=w;M<F.length;M++){var L=F[M];o.disposeIntermediateTensorInfo(L)}return t}function kC(e){var t=e.x,n=e.filter,r=e.convInfo,a=e.backend,o=e.bias,i=void 0===o?null:o,s=e.preluActivationWeights,u=void 0===s?null:s,c=e.leakyreluAlpha,f=void 0===c?0:c,p=e.activation,d=void 0===p?null:p,h=r.filterWidth,v=r.filterHeight,m=r.inChannels,g=r.outWidth,y=r.outHeight,b="channelsLast"===r.dataFormat,x=h*v*m,w=y*g,k=[x,w],S=[];if(null!=u){var E=xC(u,r.outShape,b,a);E.dataId!==u.dataId&&(S.push(E),u=E)}var C=jS({inputs:{x:t},backend:a,attrs:{shape:t.shape.slice(1)}}),N=jS({inputs:{x:n},backend:a,attrs:{shape:[1,x,l.D5U.sizeFromShape(n.shape)/x]}});S.push(C),S.push(N);var T=new bC(k,r),I=[C.shape,[r.padInfo.top,r.padInfo.left],[r.strideHeight,r.strideWidth],[r.dilationHeight,r.dilationWidth],[r.inChannels],[r.filterWidth*r.inChannels],[r.outWidth]],O=a.runWebGLProgram(T,[C],"float32",I),_=jS({inputs:{x:O},backend:a,attrs:{shape:[1,k[0],k[1]]}});S.push(O),S.push(_);var D=null!=i,A=null!=u,R="leakyrelu"===d,P=d?_S(d,!0):null,M=new DS(_.shape,N.shape,[1,w,r.outChannels],!0,!1,D,P,A,R),F=[_,N];if(i&&F.push(i),A&&F.push(u),R){var L=a.makeTensorInfo([],"float32",l.D5U.createScalarValue(f,"float32"));F.push(L),S.push(L)}var j=a.runWebGLProgram(M,F,"float32"),Z=jS({inputs:{x:j},backend:a,attrs:{shape:[1,y,g,r.outChannels]}}),z=b?Z:XS({inputs:{x:Z},backend:a,attrs:{perm:[0,3,1,2]}});b||S.push(Z),S.push(j);for(var B=0,U=S;B<U.length;B++){var W=U[B];a.disposeIntermediateTensorInfo(W)}return z}var SC={kernelName:l.mhS,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,o=n.x,i=n.filter,s=a.strides,u=a.pad,c=a.dataFormat,f=a.dilations,p=a.dimRoundingMode,d=l.Wap.convertConv2DDataFormat(c),h=l.Wap.computeConv2DInfo(o.shape,i.shape,s,f,u,p,!1,d);if(1!==h.filterHeight||1!==h.filterWidth||1!==h.dilationHeight||1!==h.dilationWidth||1!==h.strideHeight||1!==h.strideWidth||"SAME"!==h.padInfo.type&&"VALID"!==h.padInfo.type)if((0,l.OBj)().getBool("WEBGL_CONV_IM2COL")&&1===o.shape[0])t=kC({x:o,filter:i,convInfo:h,backend:r});else{var v=new gC(h);t=r.runWebGLProgram(v,[o,i],"float32")}else t=wC({x:o,filter:i,convInfo:h,backend:r});var m=jS({inputs:{x:t},backend:r,attrs:{shape:h.outShape}});return r.disposeIntermediateTensorInfo(t),m}},EC=(0,oa.Z)((function e(t){(0,aa.Z)(this,e),this.variableNames=["x","dy"],this.outputShape=t.filterShape;var n=t.strideHeight,r=t.strideWidth,a=t.padInfo.top,o=t.padInfo.left,i="channelsLast"===t.dataFormat;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ".concat(t.batchSize,"; b++) {\n          for (int yR = 0; yR < ").concat(t.outHeight,"; yR++) {\n            int xR = wR + yR * ").concat(n," - ").concat(a,";\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int yC = 0; yC < ").concat(t.outWidth,"; yC++) {\n              int xC = wC + yC * ").concat(r," - ").concat(o,";\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              if (").concat(i,") {\n                float dyValue = getDy(b, yR, yC, d2);\n                float xValue = getX(b, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              } else {\n                float dyValue = getDy(b, d2, yR, yC);\n                float xValue = getX(b, d1, xR, xC);\n                dotProd += (xValue * dyValue);\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),CC=(0,oa.Z)((function e(t){(0,aa.Z)(this,e),this.variableNames=["dy","W"],this.outputShape=t.inShape;var n=t.filterHeight,r=t.filterWidth,a=t.strideHeight,o=t.strideWidth,i="channelsLast"===t.dataFormat,s=n-1-t.padInfo.top,u=r-1-t.padInfo.left,c=i?1:2,l=i?2:3,f=i?3:1;this.userCode="\n      const ivec2 pads = ivec2(".concat(s,", ").concat(u,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[").concat(f,"];\n\n        ivec2 dyCorner = ivec2(coords[").concat(c,"], coords[").concat(l,"]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(n,"; wR++) {\n          float dyR = float(dyRCorner + wR) / ").concat(a,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ").concat(n," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(r,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(o,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ").concat(r," - 1 - wC;\n\n            for (int d2 = 0; d2 < ").concat(t.outChannels,"; d2++) {\n\n              if (").concat(i,") {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),NC=(0,oa.Z)((function e(t){(0,aa.Z)(this,e),this.variableNames=["x","dy"],this.outputShape=t.filterShape;var n=t.strideDepth,r=t.strideHeight,a=t.strideWidth,o=t.padInfo.front,i=t.padInfo.top,s=t.padInfo.left;this.userCode="\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < ".concat(t.batchSize,"; b++) {\n          for (int yF = 0; yF < ").concat(t.outDepth,"; yF++) {\n            int xF = wF + yF * ").concat(n," - ").concat(o,";\n\n            if (xF < 0 || xF >= ").concat(t.inDepth,") {\n              continue;\n            }\n\n            for (int yR = 0; yR < ").concat(t.outHeight,"; yR++) {\n              int xR = wR + yR * ").concat(r," - ").concat(i,";\n\n              if (xR < 0 || xR >= ").concat(t.inHeight,") {\n                continue;\n              }\n\n              for (int yC = 0; yC < ").concat(t.outWidth,"; yC++) {\n                int xC = wC + yC * ").concat(a," - ").concat(s,";\n\n                if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),TC=(0,oa.Z)((function e(t){(0,aa.Z)(this,e),this.variableNames=["dy","W"],this.outputShape=t.inShape;var n=t.filterDepth,r=t.filterHeight,a=t.filterWidth,o=t.strideDepth,i=t.strideHeight,s=t.strideWidth,u=n-1-t.padInfo.front,c=r-1-t.padInfo.top,l=a-1-t.padInfo.left;this.userCode="\n      const ivec3 pads = ivec3(".concat(u,", ").concat(c,", ").concat(l,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < ").concat(n,"; wF++) {\n          float dyF = float(dyFCorner + wF) / ").concat(o,".0;\n\n          if (dyF < 0.0 || dyF >= ").concat(t.outDepth,".0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = ").concat(n," - 1 - wF;\n\n          for (int wR = 0; wR < ").concat(r,"; wR++) {\n            float dyR = float(dyRCorner + wR) / ").concat(i,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = ").concat(r," - 1 - wR;\n\n            for (int wC = 0; wC < ").concat(a,"; wC++) {\n              float dyC = float(dyCCorner + wC) / ").concat(s,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = ").concat(a," - 1 - wC;\n\n              for (int d2 = 0; d2 < ").concat(t.outChannels,"; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}));var IC={kernelName:l.wUP,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.dy,i=r.strides,s=r.pad,u=r.dataFormat,c=r.dimRoundingMode,f=r.filterShape,p=l.Wap.convertConv2DDataFormat(u),d=l.Wap.computeConv2DInfo(a.shape,f,i,1,s,c,!1,p),h=new EC(d);return n.runWebGLProgram(h,[a,o],"float32")}};var OC={kernelName:l.wm,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.filter,i=r.inputShape,s=r.strides,u=r.pad,c=r.dataFormat,f=r.dimRoundingMode,p=l.Wap.convertConv2DDataFormat(c),d=l.Wap.computeConv2DInfo(i,o.shape,s,1,u,f,!1,p),h=new CC(d);return n.runWebGLProgram(h,[a,o],"float32")}};var _C={kernelName:l.x12,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,i=r.strides,s=r.pad,u=r.dilations,c=l.Wap.computeConv3DInfo(a.shape,o.shape,i,u,s),f=new yC(c);return n.runWebGLProgram(f,[a,o],"float32")}};var DC={kernelName:l.o2y,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.dy,i=r.strides,s=r.pad,u=r.filterShape,c=l.Wap.computeConv3DInfo(a.shape,u,i,1,s),f=new NC(c);return n.runWebGLProgram(f,[a,o],"float32")}};var AC,RC={kernelName:l.ik2,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.filter,i=r.pad,s=r.strides,u=r.inputShape,c=l.Wap.computeConv3DInfo(u,o.shape,s,1,i),f=new TC(c);return n.runWebGLProgram(f,[a,o],"float32")}},PC=IS({opSnippet:"if (isnan(x)) return x;\n  return cos(x);\n"}),MC={kernelName:l.mc4,backendName:"webgl",kernelFunc:PC},FC=IS({opSnippet:"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n"}),LC={kernelName:l.TR1,backendName:"webgl",kernelFunc:FC},jC=(0,oa.Z)((function e(t,n,r,a,o){(0,aa.Z)(this,e),this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var i=(0,f.Z)(t,4),s=i[0],u=i[1],c=i[2],l=i[3],p=(0,f.Z)(n,1)[0],d=(0,f.Z)(r,2),h=d[0],v=d[1];this.outputShape=[p,h,v,l];var m="bilinear"===a?1:0,g="".concat(u-1,".0"),y="".concat(c-1,".0"),b=h>1?["".concat((u-1)/(h-1)),"(y2-y1) * height_ratio","y1*".concat(g," + float(y)*(height_scale)")]:["0.0","0.0","0.5 * (y1+y2) * ".concat(g)],x=(0,f.Z)(b,3),w=x[0],k=x[1],S=x[2],E=v>1?["".concat((c-1)/(v-1)),"(x2-x1) * width_ratio","x1*".concat(y," + float(x)*(width_scale)")]:["0.0","0.0","0.5 * (x1+x2) * ".concat(y)],C=(0,f.Z)(E,3),N=C[0],T=C[1],I=C[2];this.userCode="\n      const float height_ratio = float(".concat(w,");\n      const float width_ratio = float(").concat(N,");\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= ").concat(s,") {\n          return;\n        }\n\n        float height_scale = ").concat(k,";\n        float width_scale = ").concat(T,";\n\n        float in_y = ").concat(S,";\n        if( in_y < 0.0 || in_y > ").concat(g," ) {\n          setOutput(float(").concat(o,"));\n          return;\n        }\n        float in_x = ").concat(I,";\n        if( in_x < 0.0 || in_x > ").concat(y," ) {\n          setOutput(float(").concat(o,"));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if(").concat(m," == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    ")})),ZC={kernelName:l.VcC,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.image,o=t.boxes,i=t.boxInd,s=r.cropSize,u=r.method,c=r.extrapolationValue,l=new jC(a.shape,o.shape,s,u,c);return n.runWebGLProgram(l,[a,o,i],"float32")}};!function(e){e.Prod="*",e.Sum="+"}(AC||(AC={}));var zC=(0,oa.Z)((function e(t,n,r,a){(0,aa.Z)(this,e),this.variableNames=["x"],this.customUniforms=[{name:"index",type:"float"}],this.op=t,this.outputShape=n;var o=n.length,i=this.op===AC.Prod?"1.0":"0.0",s=r?i:"getX(".concat(BC(o,"coords",this.op),")"),u=n[n.length-1],c="",l="";r?(c=a?"end != ".concat(u-1):"end != 0",l=a?"end + 1":"end - 1"):(c=a?"end + pow2 < ".concat(u):"end >= pow2",l=a?"end + pow2":"end - pow2"),this.userCode="\n      void main() {\n        ".concat(Nw(o)," coords = getOutputCoords();\n        int end = ").concat(UC(o,"coords",this.op),";\n        float val = ").concat(s,";\n        int pow2 = int(pow(2.0, index));\n        if (").concat(c,") {\n          int idx = ").concat(l,";\n          ").concat(UC(o,"coords",this.op)," = idx;\n          val ").concat(this.op,"= getX(").concat(BC(o,"coords",this.op),");\n        }\n        setOutput(val);\n      }\n    ")}));function BC(e,t,n){if(1===e)return"".concat(t);if(2===e)return"".concat(t,".x, ").concat(t,".y");if(3===e)return"".concat(t,".x, ").concat(t,".y, ").concat(t,".z");if(4===e)return"".concat(t,".x, ").concat(t,".y, ").concat(t,".z, ").concat(t,".w");throw Error("Cumulative ".concat(n," for rank ").concat(e," is not yet supported"))}function UC(e,t,n){if(1===e)return"".concat(t);if(2===e)return"".concat(t,".y");if(3===e)return"".concat(t,".z");if(4===e)return"".concat(t,".w");throw Error("Cumulative ".concat(n," for rank ").concat(e," is not yet supported"))}function WC(e,t,n,r,a,o){var i=t.shape.length,s=l.Wap.getAxesPermutation([r],i),u=t;null!=s&&(u=XS({inputs:{x:t},backend:n,attrs:{perm:s}}));var c=l.Wap.getInnerMostAxes(1,i)[0];if(c!==i-1)throw new Error("WebGL cumprod shader expects an inner-most axis=".concat(t.shape.length-1," ")+"but got axis=".concat(r));for(var f=u.shape[c],p=yS({inputs:{x:u},backend:n}),d=0;d<=Math.ceil(Math.log2(f))-1;d++){var h=new zC(e,u.shape,!1,o),v=[[d]],m=p;p=n.runWebGLProgram(h,[p],p.dtype,v),n.disposeIntermediateTensorInfo(m)}if(a){var g=new zC(e,u.shape,a,o),y=p;p=n.runWebGLProgram(g,[p],p.dtype),n.disposeIntermediateTensorInfo(y)}if(null!=s){var b=XS({inputs:{x:p},backend:n,attrs:{perm:l.Wap.getUndoAxesPermutation(s)}});return n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(u),b}return p}var VC={kernelName:l.Byc,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,i=r.exclusive,s=r.reverse;return WC(AC.Prod,a,n,o,i,s)}};var HC={kernelName:l.iHb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,i=r.exclusive,s=r.reverse;return WC(AC.Sum,a,n,o,i,s)}};var GC={kernelName:l.QRR,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.weights,i=r.size,s=r.binaryOutput;if(1===a.shape.length){var u=n.readSync(a.dataId),c=n.readSync(o.dataId),l=ek(u,c,o.dtype,o.shape,i);return n.makeTensorInfo([i],o.dtype,l)}if(2===a.shape.length){var f=n.bufferSync(a),p=n.bufferSync(o),d=tk(f,p,i,s);return n.makeTensorInfo(d.shape,o.dtype,d.values)}throw new Error("Error in denseBincount: input must be at most rank 2, but got rank"+"".concat(a.shape.length,"."))}},qC=function(){function e(t,n,r){(0,aa.Z)(this,e),this.variableNames=["x"],this.outputShape=[],this.outputShape=t,this.blockSize=n,this.dataFormat=r,this.userCode="\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = ".concat(this.getHeightCoordString(),";\n      int w = ").concat(this.getWidthCoordString(),";\n      int d = ").concat(this.getDepthCoordString(),";\n\n      int in_h = h / ").concat(n,";\n      int offset_h = imod(h, ").concat(n,");\n      int in_w = w / ").concat(n,";\n      int offset_w = imod(w, ").concat(n,");\n      int offset_d = (offset_h * ").concat(n," + offset_w) *\n        ").concat(this.getOutputDepthSize(),";\n      int in_d = d + offset_d;\n\n      float result = ").concat(this.getInputSamplingString(),";\n      setOutput(result);\n    }\n  ")}return(0,oa.Z)(e,[{key:"getHeightCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"}},{key:"getWidthCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"}},{key:"getDepthCoordString",value:function(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"}},{key:"getOutputDepthSize",value:function(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]}},{key:"getInputSamplingString",value:function(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"}}]),e}();var XC={kernelName:l.T0n,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.blockSize,i=r.dataFormat,s=a.shape[0],u=("NHWC"===i?a.shape[1]:a.shape[2])*o,c=("NHWC"===i?a.shape[2]:a.shape[3])*o,l=("NHWC"===i?a.shape[3]:a.shape[1])/(o*o),f=new qC("NHWC"===i?[s,u,c,l]:[s,l,u,c],o,i);return n.runWebGLProgram(f,[a],a.dtype)}},KC=(0,oa.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,aa.Z)(this,e),this.variableNames=["x","W"],this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=Mw(this.outputShape.length);var i=t.filterHeight,s=t.filterWidth,u=t.outChannels/t.inChannels,c="",l="";r&&(c=a?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          ".concat(r,"\n        }"):o?"float activation(float a) {\n          float b = getLeakyreluAlphaAtOutCoords();\n          ".concat(r,"\n        }"):"\n          float activation(float x) {\n            ".concat(r,"\n          }\n        "),l="result = activation(result);");var f=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(c,"\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ").concat(u,";\n        int q = d2 - d1 * ").concat(u,";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < ").concat(i,"; wR++) {\n          int xR = xRCorner + wR * dilations[0];\n\n          if (xR < 0 || xR >= inDims[0]) {\n            continue;\n          }\n\n          for (int wC = 0; wC < ").concat(s,"; wC++) {\n            int xC = xCCorner + wC * dilations[1];\n\n            if (xC < 0 || xC >= inDims[1]) {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        ").concat(f,"\n        ").concat(l,"\n        setOutput(result);\n      }\n    ")})),YC=(0,oa.Z)((function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];(0,aa.Z)(this,e),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"pads",type:"ivec2"},{name:"strides",type:"ivec2"},{name:"dilations",type:"ivec2"},{name:"inDims",type:"ivec2"}],this.outputShape=t.outShape,this.enableShapeUniforms=Mw(this.outputShape.length);for(var i=t.outChannels/t.inChannels,s=t.padInfo.left,u=t.strideWidth,c=t.dilationWidth,f=t.filterHeight,p=t.filterWidth,d=p,h="\n      int xR; int xC; int xCOffset;\n      vec4 wTexel; vec4 previous; vec4 final;",v=0;v<p;v++)h+="\n          vec4 xTexelC".concat(2*v,";\n          int xTexelC").concat(2*v,"Ready;\n          vec4 xTexelC").concat(2*v+1,";\n          int xTexelC").concat(2*v+1,"Ready;\n          vec4 xC").concat(v,";");h+="\n    for (int r = 0; r < ".concat(f,"; r++) {\n      ");for(var m=0;m<p;m++)h+="\n          xTexelC".concat(2*m," = vec4(0.0);\n          xTexelC").concat(2*m,"Ready = 0;\n          xTexelC").concat(2*m+1," = vec4(0.0);\n          xTexelC").concat(2*m+1,"Ready = 0;\n          xC").concat(m," = vec4(0.0);");h+="\n        xR = xRCorner + r * dilations[0];\n        if (xR >=0 && xR < inDims[0]) {\n      ";for(var g=0;g<(d+1)/2;g++){var y=2*g;if(h+="\n          xC = xCCorner + ".concat(y*c,";\n          "),1===u){if(y<p&&(s%2===1?(h+="\n                xCOffset = xC + 1;\n                if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(y,"Ready == 0) {\n                  xTexelC").concat(y," = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(y,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(y,"Ready = 1;\n                }\n              "),h+=1===c&&y>0?"\n                xC".concat(y," = vec4(xTexelC").concat(y-2,".zw, xTexelC").concat(y,".xy);\n                "):"\n                  xCOffset = xC + 1 - 2;\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1]) {\n                    previous = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      previous.zw = vec2(0.0);\n                    }\n\n                    xC".concat(y," = vec4(previous.zw, xTexelC").concat(y,".xy);\n                  } else {\n                    xC").concat(y," = vec4(0.0, 0.0, xTexelC").concat(y,".xy);\n                  }\n                  ")):h+="\n                if (xC >= 0 && xC < inDims[1] && xTexelC".concat(y,"Ready == 0) {\n                  xTexelC").concat(y," = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC").concat(y,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(y,"Ready = 1;\n                }\n\n                xC").concat(y," = xTexelC").concat(y,";\n                "),y+1<p)){var b=s%2===0?l.D5U.nearestLargerEven(c):c;c%2===0&&s%2===1||c%2!==0&&s%2!==1?(h+="\n                  xCOffset = xC + imod(pads[1], 2) + ".concat(b,";\n\n                  if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(y+1,"Ready == 0) {\n                    xTexelC").concat(y+1," = getX(batch, xR, xCOffset, d1);\n\n                    // Need to manually clear unused channels in case\n                    // we're reading from recycled texture.\n                    if (xCOffset + 1 >= inDims[1]) {\n                      xTexelC").concat(y+1,".zw = vec2(0.0);\n                    }\n                    xTexelC").concat(y+1,"Ready = 1;\n                  }\n                  "),c>1&&(h+="\n                    xCOffset -= 2;\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(y,"Ready == 0) {\n                      xTexelC").concat(y," = getX(batch, xR, xCOffset, d1);\n                      xTexelC").concat(y,"Ready = 1;\n                    }\n                    ")),h+="\n                  xC".concat(y+1," = vec4(xTexelC").concat(y,".zw, xTexelC").concat(y+1,".xy);\n                  ")):h+=1===b?"\n                    xC".concat(y+1," = xTexelC").concat(y,";\n                    "):"\n                    xCOffset = xC + ".concat(b,";\n\n                    if (xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(y+1,"Ready == 0) {\n                      xTexelC").concat(y+1," = getX(batch, xR, xCOffset, d1);\n                      if (xCOffset + 1 >= inDims[1]) {\n                        xTexelC").concat(y+1,".zw = vec2(0.0);\n                      }\n                      xTexelC").concat(y+1,"Ready = 1;\n                    }\n\n                    xC").concat(y+1," = xTexelC").concat(y+1,";\n                    ")}}else y<p&&(s%2===1?(h+="\n                xCOffset = xC + 1 - strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC".concat(y,"Ready == 0) {\n                  xTexelC").concat(y," = getX(batch, xR, xCOffset, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(y,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(y,"Ready = 1;\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < inDims[1] && xTexelC").concat(y+1,"Ready == 0) {\n                  xTexelC").concat(y+1," = getX(batch, xR, xC + 1, d1);\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if (xC + 2 >= inDims[1]) {\n                    xTexelC").concat(y+1,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(y+1,"Ready = 1;\n                }\n\n                xC").concat(y," = vec4(xTexelC").concat(y,".zw, xTexelC").concat(y+1,".zw);\n              "),y+1<p&&(h+="\n                  final = vec4(0.0);\n                  xCOffset = xC + 1 + strides[1];\n                  if(xCOffset >= 0 && xCOffset < inDims[1]) {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xC".concat(y+1," = vec4(xTexelC").concat(y+1,".xy, final.xy);\n                "))):(h+="\n                if(xC >= 0 && xC < inDims[1] && xTexelC".concat(y,"Ready == 0) {\n                  xTexelC").concat(y," = getX(batch, xR, xC, d1);\n                  if (xC + 1 >= inDims[1]) {\n                    xTexelC").concat(y,".zw = vec2(0.0);\n                  }\n                  xTexelC").concat(y,"Ready = 1;\n                }\n\n                xCOffset = xC + strides[1];\n                if(xCOffset >= 0 && xCOffset < inDims[1] && xTexelC").concat(y+1,"Ready == 0) {\n                  xTexelC").concat(y+1," = getX(batch, xR, xCOffset, d1);\n                  if (xCOffset + 1 >= inDims[1]) {\n                    xTexelC").concat(y+1,".zw = vec2(0.);\n                  }\n                  xTexelC").concat(y+1,"Ready = 1;\n                }\n\n                xC").concat(y," = vec4(\n                  xTexelC").concat(y,".xy, xTexelC").concat(y+1,".xy);\n              "),y+1<p&&(h+="\n                  xC".concat(y+1," = vec4(xTexelC").concat(y,".zw, xTexelC").concat(y+1,".zw);\n                "))));y<p&&(h+="\n            wTexel = getW(r, ".concat(y,", d1, q);\n            dotProd += xC").concat(y," * vec4(wTexel.xz, wTexel.xz);\n          "),y+1<p&&(h+="\n              wTexel = getW(r, ".concat(y+1,", d1, q);\n              dotProd += xC").concat(y+1," * vec4(wTexel.xz, wTexel.xz);\n            ")))}h+="\n    }\n  ",h+="\n      }\n    ";var x="",w="";r&&(x=a?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          ".concat(r,"\n        }"):o?"vec4 activation(vec4 a) {\n          vec4 b = getLeakyreluAlphaAtOutCoords();\n          ".concat(r,"\n        }"):"vec4 activation(vec4 x) {\n          ".concat(r,"\n        }"),w="result = activation(result);");var k=n?"result += getBiasAtOutCoords();":"";n&&this.variableNames.push("bias"),a&&this.variableNames.push("preluActivationWeights"),o&&this.variableNames.push("leakyreluAlpha"),this.userCode="\n      ".concat(x,"\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / ").concat(i,";\n        int q = d2 - d1 * ").concat(i,";\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        //intialize dotProd with a small epsilon seems to reduce GPU accuracy loss.\n        vec4 dotProd = vec4(0.000000000000001);\n\n        ").concat(h,"\n\n        vec4 result = dotProd - vec4(0.000000000000001);\n        ").concat(k,"\n        ").concat(w,"\n        setOutput(result);\n      }\n    ")}));var QC={kernelName:l.cie,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,i=r.strides,s=r.pad,u=r.dilations,c=r.dimRoundingMode,f=u;null==f&&(f=[1,1]),l.D5U.assert(l.Wap.eitherStridesOrDilationsAreOne(i,f),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(i," and dilations '").concat(f,"'")}));var p,d=l.Wap.computeConv2DInfo(a.shape,o.shape,i,f,s,c,!0);p=(0,l.OBj)().getBool("WEBGL_PACK_DEPTHWISECONV")&&d.strideWidth<=2&&d.outChannels/d.inChannels===1?new YC(d):new KC(d);var h=[[d.padInfo.top,d.padInfo.left],[d.strideHeight,d.strideWidth],[d.dilationHeight,d.dilationWidth],[d.inHeight,d.inWidth]];return n.runWebGLProgram(p,[a,o],"float32",h)}},$C=(0,oa.Z)((function e(t){(0,aa.Z)(this,e),this.variableNames=["x","dy"],this.outputShape=t.filterShape;var n=t.strideHeight,r=t.strideWidth,a=t.padInfo.top,o=t.padInfo.left,i=t.outChannels/t.inChannels;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * ".concat(i," + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < ").concat(t.batchSize,"; b++) {\n          for (int yR = 0; yR < ").concat(t.outHeight,"; yR++) {\n            int xR = wR + yR * ").concat(n," - ").concat(a,";\n\n            if (xR < 0 || xR >= ").concat(t.inHeight,") {\n              continue;\n            }\n\n            for (int yC = 0; yC < ").concat(t.outWidth,"; yC++) {\n              int xC = wC + yC * ").concat(r," - ").concat(o,";\n\n              if (xC < 0 || xC >= ").concat(t.inWidth,") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),JC=(0,oa.Z)((function e(t){(0,aa.Z)(this,e),this.variableNames=["dy","W"],this.outputShape=t.inShape;var n=t.filterHeight,r=t.filterWidth,a=t.strideHeight,o=t.strideWidth,i=n-1-t.padInfo.top,s=r-1-t.padInfo.left,u=t.outChannels/t.inChannels;this.userCode="\n      const ivec2 pads = ivec2(".concat(i,", ").concat(s,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < ").concat(n,"; wR++) {\n          float dyR = float(dyRCorner + wR) / ").concat(a,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = ").concat(n," - 1 - wR;\n\n          for (int wC = 0; wC < ").concat(r,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(o,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = ").concat(r," - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < ").concat(u,"; dm++) {\n              int d2 = d1 * ").concat(u," + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}));var eN={kernelName:l.sL$,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.dy,i=r.strides,s=r.dilations,u=r.pad,c=r.dimRoundingMode,f=r.filterShape,p=l.Wap.computeConv2DInfo(a.shape,f,i,s,u,c,!0),d=new $C(p);return n.runWebGLProgram(d,[a,o],"float32")}};var tN={kernelName:l.y7R,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.filter,i=r.strides,s=r.dilations,u=r.pad,c=r.dimRoundingMode,f=r.inputShape,p=l.Wap.computeConv2DInfo(f,o.shape,i,s,u,c,!0),d=new JC(p);return n.runWebGLProgram(d,[a,o],"float32")}},nN=(0,oa.Z)((function e(t){(0,aa.Z)(this,e),this.variableNames=["X"],this.outputShape=[t,t],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "}));var rN={kernelName:l.$w,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,a=[].concat((0,Qn.Z)(r.shape),(0,Qn.Z)(r.shape)),o=l.D5U.sizeFromShape(r.shape),i=jS({inputs:{x:r},backend:n,attrs:{shape:[o]}}),s=new nN(o),u=n.runWebGLProgram(s,[i],i.dtype),c=jS({inputs:{x:u},backend:n,attrs:{shape:a}});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(u),c}},aN=(0,oa.Z)((function e(t){(0,aa.Z)(this,e),this.variableNames=["x","W"],this.outputShape=t.outShape;var n=t.inHeight,r=t.inWidth,a=t.padInfo,o=t.strideHeight,i=t.strideWidth,s=t.filterHeight,u=t.filterWidth,c=t.dilationHeight,l=t.dilationWidth,f=a.top,p=a.left;this.userCode="\n      const ivec2 strides = ivec2(".concat(o,", ").concat(i,");\n      const ivec2 pads = ivec2(").concat(f,", ").concat(p,");\n      const float neg_infinity = -3.4e38;\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.w;\n        ivec2 outTopLeftCorner =\n            coords.yz * strides - pads;\n        int hBeg = outTopLeftCorner.x;\n        int wBeg = outTopLeftCorner.y;\n\n        float curVal = neg_infinity;\n        for (int h = 0; h < ").concat(s,"; h++) {\n          int hIn = hBeg + h * ").concat(c,";\n\n          if (hIn >= 0 && hIn < ").concat(n,") {\n            for (int w = 0; w < ").concat(u,"; w++) {\n              int wIn = wBeg + w * ").concat(l,";\n\n              if (wIn >= 0 && wIn < ").concat(r,") {\n                float xVal = getX(batch, hIn, wIn, d1);\n                float wVal = getW(h, w, d1);\n\n                float val = xVal + wVal;\n                if (val > curVal) {\n                  curVal = val;\n                }\n              }\n            }\n          }\n        }\n\n        float result = curVal;\n        setOutput(result);\n      }\n    ")}));var oN={kernelName:l.p4S,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,o=n.x,i=n.filter,s=a.strides,u=a.pad,c=a.dilations,f=l.Wap.computeDilation2DInfo(o.shape,i.shape,s,u,"NHWC",c),p=new aN(f),d=jS({inputs:{x:t=r.runWebGLProgram(p,[o,i],"float32")},backend:r,attrs:{shape:f.outShape}});return r.disposeIntermediateTensorInfo(t),d}};var iN={kernelName:l.$g6,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.equation,a=t,o=l.Wap.decodeEinsumEquation(r,a.length),i=o.allDims,s=o.summedDims,u=o.idDims;l.Wap.checkEinsumDimSizes(i.length,u,a);for(var c=l.Wap.getEinsumComputePath(s,u),f=c.path,p=c.steps,d=p.length,h=null,v=i.length,m=[],g=0;g<d;++g){var y,b=(0,ra.Z)(p[g]);try{for(b.s();!(y=b.n()).done;){var x=y.value,w=l.Wap.getEinsumPermutation(v,u[x]),k=w.permutationIndices,S=w.expandDims,E=void 0;l.Wap.isIdentityPermutation(k)?E=a[x]:(E=XS({inputs:{x:a[x]},backend:n,attrs:{perm:k}}),m.push(E));for(var C=E.shape.slice(),N=0;N<S.length;++N)C.splice(S[N],0,1);l.D5U.arraysEqual(E.shape,C)||(E=jS({inputs:{x:E},backend:n,attrs:{shape:C}}),m.push(E)),null===h?h=E:(h=FS({inputs:{a:E,b:h},backend:n}),m.push(h))}}catch(_){b.e(_)}finally{b.f()}g<d-1&&(f[g]>=0&&(h=GS({inputs:{x:h},backend:n,attrs:{axis:f[g]-(i.length-v),keepDims:!1}}),m.push(h)),v--)}for(var T=0,I=m;T<I.length;T++){var O=I[T];O!==h&&n.disposeIntermediateTensorInfo(O)}return h}},sN=IS({opSnippet:"return (x >= 0.0) ? x : (exp(x) - 1.0);",packedOpSnippet:"\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n"}),uN={kernelName:l.SX0,backendName:"webgl",kernelFunc:sN},cN={kernelName:l.HEU,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.dy,a=t.y,o=(0,l.OBj)().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new gS("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",r.shape,a.shape):new mS("return (b >= 1.0) ? a : a * (b + 1.0);",r.shape,a.shape);return n.runWebGLProgram(o,[r,a],r.dtype)}},lN=OS({opSnippet:"return float(a == b);",packedOpSnippet:"\n  return vec4(equal(a, b));\n",dtype:"bool",cpuKernelImpl:ak}),fN={kernelName:l.hdR,backendName:"webgl",kernelFunc:lN},pN=IS({opSnippet:'\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = '.concat(l.Wap.ERF_P,";\n  float a1 = ").concat(l.Wap.ERF_A1,";\n  float a2 = ").concat(l.Wap.ERF_A2,";\n  float a3 = ").concat(l.Wap.ERF_A3,";\n  float a4 = ").concat(l.Wap.ERF_A4,";\n  float a5 = ").concat(l.Wap.ERF_A5,";\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n")}),dN={kernelName:l.Omj,backendName:"webgl",kernelFunc:pN},hN=IS({opSnippet:"if (isnan(x)) return x;\n  return exp(x);\n",packedOpSnippet:"\n  vec4 result = exp(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:ok,dtype:"float32"}),vN={kernelName:l.NEP,backendName:"webgl",kernelFunc:hN};function mN(e){var t=e.inputs,n=e.attrs,r=e.backend,a=n.dim,o=t.input,i=o.shape.length,s=o.shape.slice(),u=a;return a<0&&(l.D5U.assert(-(i+1)<=a,(function(){return"Axis must be in the interval [".concat(-(i+1),", ").concat(i,"]")})),u=i+a+1),s.splice(u,0,1),jS({inputs:{x:o},backend:r,attrs:{shape:s}})}var gN={kernelName:l.YFo,backendName:"webgl",kernelFunc:mN},yN="return exp(x) - 1.0;",bN=IS({opSnippet:yN,packedOpSnippet:yN,cpuKernelImpl:ik}),xN={kernelName:l.Y0y,backendName:"webgl",kernelFunc:bN},wN=(0,oa.Z)((function e(t,n,r){(0,aa.Z)(this,e),this.variableNames=["real","imag"];var a=n[1];this.outputShape=n;var o,i=r?"2.0 * ".concat(Math.PI):"-2.0 * ".concat(Math.PI),s=r?"".concat(a,".0"):"1.0";if("real"===t)o="return real * expR - imag * expI;";else{if("imag"!==t)throw new Error('FFT component must be either "real" or "imag", got '.concat(t,"."));o="return real * expI + imag * expR;"}this.userCode="\n      const float exponentMultiplier = ".concat(i,";\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        ").concat(o,"\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float(").concat(a,");\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < ").concat(a,"; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / ").concat(s,";\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    ")}));function kN(e,t,n){var r=n.texData.get(e.dataId),a=l.D5U.sizeFromShape(e.shape),o=e.shape[e.shape.length-1],i=jS({inputs:{x:e},backend:n,attrs:{shape:[a/o,o]}}),s=i.shape,u=new wN("real",s,t),c=new wN("imag",s,t),f=[{dataId:r.complexTensorInfos.real.dataId,dtype:r.complexTensorInfos.real.dtype,shape:s},{dataId:r.complexTensorInfos.imag.dataId,dtype:r.complexTensorInfos.imag.dtype,shape:s}],p=n.runWebGLProgram(u,f,"float32"),d=n.runWebGLProgram(c,f,"float32"),h=xS({inputs:{real:p,imag:d},backend:n});n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(d);var v=jS({inputs:{x:h},backend:n,attrs:{shape:e.shape}});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(h),v}var SN={kernelName:l.vwp,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend;return kN(t.input,!1,n)}},EN=(0,oa.Z)((function e(t,n){(0,aa.Z)(this,e),this.outputShape=[],this.customUniforms=[{name:"value",type:"float"}],this.variableNames=["x"],this.outputShape=t,this.userCode="\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}));function CN(e){var t=e.backend,n=e.attrs,r=n.shape,a=n.value,o=n.dtype;if("string"===(o=o||l.D5U.inferDtype(a))){var i=l.D5U.getArrayFromDType(o,l.D5U.sizeFromShape(r));return i.fill(a),t.makeTensorInfo(r,o,i)}var s=new EN(r,a),u=[[a]];return t.runWebGLProgram(s,[],o,u)}var NN,TN={kernelName:l.deh,backendName:"webgl",kernelFunc:CN},IN=(0,oa.Z)((function e(t){(0,aa.Z)(this,e),this.variableNames=["Image"],this.outputShape=[];var n=t[2];this.outputShape=t,this.userCode="\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n\n          int coordX = ".concat(n," - x - 1;\n          float outputValue;\n          if(coordX >= 0 && coordX < ").concat(n,") {\n            outputValue = getImage(coords[0], coords[1], coordX, coords[3]);\n          } else {\n            outputValue = getImage(coords[0], coords[1], coords[2], coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    ")})),ON={kernelName:l.Uyb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.image,a=n,o=new IN(r.shape);return a.runWebGLProgram(o,[r],r.dtype)}},_N="return floor(x);",DN=IS({opSnippet:_N,packedOpSnippet:_N,cpuKernelImpl:sk}),AN={kernelName:l.OR,backendName:"webgl",kernelFunc:DN},RN=OS({opSnippet:"\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",packedOpSnippet:"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n",dtype:"int32"}),PN={kernelName:l.jeX,backendName:"webgl",kernelFunc:RN},MN=(0,oa.Z)((function e(t){(0,aa.Z)(this,e),this.variableNames=["A"];var n=tw(),r=(0,f.Z)(t,2),a=r[0],o=r[1];this.outputShape=t,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(".concat(o,".0, ").concat(a,".0);\n\n        vec4 values = ").concat(n.texture2D,"(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    ")})),FN=(0,oa.Z)((function e(t){(0,aa.Z)(this,e),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var n=tw(),r=(0,f.Z)(t,2),a=r[0],o=r[1];this.outputShape=t,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2(".concat(o,".0, ").concat(a,".0);\n            vec4 values = ").concat(n.texture2D,"(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        ").concat(n.output," = result;\n      }\n    ")})),LN={kernelName:l.eBW,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.pixels,o=r.numChannels,i="undefined"!==typeof HTMLVideoElement&&a instanceof HTMLVideoElement,s="undefined"!==typeof HTMLImageElement&&a instanceof HTMLImageElement,u=i?[a.videoWidth,a.videoHeight]:[a.width,a.height],c=(0,f.Z)(u,2),p=c[0],d=c[1],h=[d,p],v=[d,p,o];(s||i)&&(null==NN&&(NN=document.createElement("canvas").getContext("2d")),NN.canvas.width=p,NN.canvas.height=d,NN.drawImage(a,0,0,p,d),a=NN.canvas);var m=n.makeTensorInfo(h,"int32");n.texData.get(m.dataId).usage=yx.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(m.dataId),a);var g=(0,l.OBj)().getBool("WEBGL_PACK")?new FN(v):new MN(v),y=n.runWebGLProgram(g,[m],"int32");return n.disposeData(m.dataId),y}};var jN={kernelName:l._V0,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,o=n.x,i=n.filter,s=n.bias,u=n.preluActivationWeights,c=a.strides,f=a.pad,p=a.dataFormat,d=a.dilations,h=a.dimRoundingMode,v=a.activation,m=a.leakyreluAlpha,g=l.Wap.convertConv2DDataFormat(p),y=l.Wap.computeConv2DInfo(o.shape,i.shape,c,d,f,h,!1,g),b=[];if(1!==y.filterHeight||1!==y.filterWidth||1!==y.dilationHeight||1!==y.dilationWidth||1!==y.strideHeight||1!==y.strideWidth||"SAME"!==y.padInfo.type&&"VALID"!==y.padInfo.type)if((0,l.OBj)().getBool("WEBGL_CONV_IM2COL")&&1===o.shape[0])t=kC({x:o,filter:i,convInfo:y,backend:r,bias:s,activation:v,preluActivationWeights:u,leakyreluAlpha:m});else{var x=null!=s,w=null!=u,k="leakyrelu"===v,S=v?_S(v,!1):null,E=new gC(y,x,S,w,k),C=[o,i];if(s&&C.push(s),u&&C.push(u),k){var N=r.makeTensorInfo([],"float32",l.D5U.createScalarValue(m,"float32"));C.push(N),b.push(N)}t=r.runWebGLProgram(E,C,"float32")}else t=wC({x:o,filter:i,convInfo:y,backend:r,bias:s,activation:v,preluActivationWeights:u,leakyreluAlpha:m});var T=jS({inputs:{x:t},backend:r,attrs:{shape:y.outShape}});return b.push(t),b.forEach((function(e){return r.disposeIntermediateTensorInfo(e)})),T}};var ZN={kernelName:l.luS,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.filter,i=t.bias,s=t.preluActivationWeights,u=r.strides,c=r.pad,f=r.dilations,p=r.dimRoundingMode,d=r.activation,h=r.leakyreluAlpha,v=[],m=f;null==m&&(m=[1,1]),l.D5U.assert(l.Wap.eitherStridesOrDilationsAreOne(u,m),(function(){return"Error in depthwiseConv2d: Either strides or dilations must be "+"1. Got strides ".concat(u," and dilations '").concat(m,"'")}));var g,y=l.Wap.computeConv2DInfo(a.shape,o.shape,u,m,c,p,!0),b=(0,l.OBj)().getBool("WEBGL_PACK_DEPTHWISECONV")&&y.strideWidth<=2&&y.outChannels/y.inChannels===1,x=d?_S(d,b):null,w=[a,o],k=null!=i,S=null!=s,E="leakyrelu"===d;if(k&&w.push(i),S&&w.push(s),E){var C=n.makeTensorInfo([],"float32",l.D5U.createScalarValue(h,"float32"));w.push(C),v.push(C)}g=b?new YC(y,k,x,S,E):new KC(y,k,x,S,E);var N=[[y.padInfo.top,y.padInfo.left],[y.strideHeight,y.strideWidth],[y.dilationHeight,y.dilationWidth],[y.inHeight,y.inWidth]],T=n.runWebGLProgram(g,w,"float32",N);return v.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),T}},zN=(0,oa.Z)((function e(t,n,r){(0,aa.Z)(this,e),this.sliceDim=t,this.strides=n,this.variableNames=["x","indices"],this.outputShape=r;var a=Nw(n.length),o=Nw(r.length),i=this.sliceDim>1?"strides[j]":"strides";this.userCode="\n        ".concat(a," strides = ").concat(a,"(").concat(this.strides,");\n         void main() {\n          ").concat(o," coords = getOutputCoords();\n          int flattenIndex = 0;\n          for (int j = 0; j < ").concat(this.sliceDim,"; j++) {\n            int index = round(getIndices(coords[0], j));\n            flattenIndex += index * ").concat(i,";\n          }\n          setOutput(getX(flattenIndex, coords[1]));\n        }\n      ")}));var BN={kernelName:l.q1x,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.params,a=t.indices,o=a.shape,i=o[o.length-1],s=l.D5U.sizeFromShape(r.shape),u=l.Wap.prepareAndValidate(r,a),c=(0,f.Z)(u,4),p=c[0],d=c[1],h=c[2],v=c[3],m=jS({inputs:{x:a},backend:n,attrs:{shape:[d,i]}}),g=jS({inputs:{x:r},backend:n,attrs:{shape:[l.D5U.sizeFromShape(r.shape)/h,h]}});if(n.shouldExecuteOnCPU([r,a])||"string"===r.dtype){var y=n.readSync(a.dataId),b=n.bufferSync(r),x=uk(y,b,r.dtype,d,i,h,v,r.shape,s);return n.makeTensorInfo(p,r.dtype,x.values)}var w=new zN(i,v,[d,h]),k=n.runWebGLProgram(w,[g,m],g.dtype),S=jS({inputs:{x:k},backend:n,attrs:{shape:p}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(g),n.disposeIntermediateTensorInfo(k),S}},UN=(0,oa.Z)((function e(t,n){(0,aa.Z)(this,e),this.variableNames=["A","indices"],this.outputShape=n,this.rank=n.length;var r=Nw(this.rank),a=function(e,t){for(var n=["resRC.x","resRC.y","resRC.z","resRC.w"],r=[],a=0;a<e.length;a++)2===a?r.push("index"):r.push("".concat(n[a]));return r.join()}(t);this.userCode="\n      void main() {\n        ".concat(r," resRC = getOutputCoords();\n        int index = int(getIndices(resRC.x, resRC.z));\n        float inBounds = (index >= 0) && (index < ").concat(t[2],") ? 1.0 : 0.0;\n        setOutput(inBounds * getA(").concat(a,"));\n      }\n    ")}));function WN(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.indices,i=r.axis,s=r.batchDims,u=l.D5U.parseAxisParam(i,a.shape)[0];(0,l.OBj)().get("DEBUG")&&function(){for(var e=n.readSync(o.dataId),t=a.shape[u],r=function(n){var r=e[n];l.D5U.assert(r<=t-1&&r>=0,(function(){return"GatherV2: the index value ".concat(r," is not in [0, ").concat(t-1,"]")}))},i=0;i<e.length;++i)r(i)}();var c=l.Wap.segment_util.collectGatherOpShapeInfo(a,o,u,s),f=l.D5U.sizeFromShape(o.shape),p=[],d=jS({inputs:{x:a},backend:n,attrs:{shape:[c.batchSize,c.outerSize,c.dimSize,c.sliceSize]}}),h=jS({inputs:{x:o},backend:n,attrs:{shape:[c.batchSize,f/c.batchSize]}});p.push(d),p.push(h);var v=[c.batchSize,c.outerSize,f/c.batchSize,c.sliceSize];if(n.shouldExecuteOnCPU([a,o])||"string"===a.dtype){var m=n.bufferSync(h),g=n.bufferSync(d),y=ck(g,m,v);return p.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),n.makeTensorInfo(c.outputShape,y.dtype,y.values)}var b=new UN(d.shape,v),x=n.runWebGLProgram(b,[d,h],d.dtype);p.push(x);var w=jS({inputs:{x:x},backend:n,attrs:{shape:c.outputShape}});return p.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),w}var VN={kernelName:l.qi_,backendName:"webgl",kernelFunc:WN},HN=OS({opSnippet:"return float(a > b);",packedOpSnippet:"\n  return vec4(greaterThan(a, b));\n",cpuKernelImpl:lk,dtype:"bool"}),GN={kernelName:l.iZT,backendName:"webgl",kernelFunc:HN},qN=OS({opSnippet:"return float(a >= b);",packedOpSnippet:"\n  return vec4(greaterThanEqual(a, b));\n",dtype:"bool",cpuKernelImpl:fk}),XN={kernelName:l.Acj,backendName:"webgl",kernelFunc:qN};var KN={kernelName:l.Qg5,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend;return kN(t.input,!0,n)}},YN=IS({opSnippet:"return float(!isnan(x) && !isinf(x));",dtype:"bool"}),QN={kernelName:l.avt,backendName:"webgl",kernelFunc:YN},$N=IS({opSnippet:"return float(isinf(x));",dtype:"bool"}),JN={kernelName:l.iWB,backendName:"webgl",kernelFunc:$N},eT=IS({opSnippet:"return float(isnan(x));",dtype:"bool"}),tT={kernelName:l.r7n,backendName:"webgl",kernelFunc:eT},nT=OS({opSnippet:"return float(a < b);",packedOpSnippet:"\n  return vec4(lessThan(a, b));\n",cpuKernelImpl:pk,dtype:"bool"}),rT={kernelName:l.vtC,backendName:"webgl",kernelFunc:nT},aT=OS({opSnippet:"return float(a <= b);",packedOpSnippet:"\n  return vec4(lessThanEqual(a, b));\n",cpuKernelImpl:dk,dtype:"bool"}),oT={kernelName:l.CAk,backendName:"webgl",kernelFunc:aT};var iT={kernelName:l.e7N,backendName:"webgl",kernelFunc:function(e){var t=e.backend,n=e.attrs,r=n.start,a=n.stop,o=n.num,i=hk(r,a,o);return t.makeTensorInfo([i.length],"float32",i)}},sT=IS({opSnippet:"if (isnan(x)) return x;\n  return x < 0.0 ? 0./0. : log(x);\n",packedOpSnippet:"\n  vec4 result = log(x);\n  bvec4 isNaN = isnan(x);\n  result.r = isNaN.r ? x.r : (x.r < 0.0 ? 0./0. : result.r);\n  result.g = isNaN.g ? x.g : (x.g < 0.0 ? 0./0. : result.g);\n  result.b = isNaN.b ? x.b : (x.b < 0.0 ? 0./0. : result.b);\n  result.a = isNaN.a ? x.a : (x.a < 0.0 ? 0./0. : result.a);\n  return result;\n",cpuKernelImpl:vk}),uT={kernelName:l.ZbH,backendName:"webgl",kernelFunc:sT},cT=IS({opSnippet:"if (isnan(x)) return x;\n  return log(1.0 + x);\n"}),lT={kernelName:l.kU,backendName:"webgl",kernelFunc:cT},fT=OS({opSnippet:"return float(a >= 1.0 && b >= 1.0);",packedOpSnippet:"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n",dtype:"bool"}),pT={kernelName:l.PYm,backendName:"webgl",kernelFunc:fT},dT=IS({opSnippet:"return float(!(x >= 1.0));"}),hT={kernelName:l.VfG,backendName:"webgl",kernelFunc:dT},vT=OS({opSnippet:"return float(a >= 1.0 || b >= 1.0);",packedOpSnippet:"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n",dtype:"bool"}),mT={kernelName:l.MZg,backendName:"webgl",kernelFunc:vT},gT=(0,oa.Z)((function e(t,n,r,a,o){(0,aa.Z)(this,e),this.variableNames=["x"],this.outputShape=[];var i,s=n,u=t[3]-1;this.outputShape=t;var c="float(".concat(r,") + float(").concat(a,") * sum");i=.5===o?"inversesqrt(".concat(c,")"):1===o?"1.0/(".concat(c,")"):"exp(log(".concat(c,") * float(-").concat(o,"));"),this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -".concat(s,"; j <= ").concat(s,"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  ").concat(u,") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * ").concat(i,";\n        setOutput(val);\n      }\n    ")})),yT=(0,oa.Z)((function e(t,n,r,a,o){(0,aa.Z)(this,e),this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var i,s=n,u=t[3]-1;this.outputShape=t;var c="float(".concat(r,") + float(").concat(a,") * sum");i=.5===o?"inversesqrt(".concat(c,")"):1===o?"1.0/(".concat(c,")"):"exp(log(".concat(c,") * float(-").concat(o,"));"),this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < ".concat(this.outputShape[3],";\n        bool hasNextRow = c < ").concat(this.outputShape[2],";\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - ").concat(s,";\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - ").concat(s,"; j <= ").concat(s,"; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2(").concat(u,"));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * ").concat(i,";\n        setOutput(result);\n      }\n    ")})),bT={kernelName:l.eZ0,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.depthRadius,i=r.bias,s=r.alpha,u=r.beta,c=(0,l.OBj)().getBool("WEBGL_PACK_NORMALIZATION")?new yT(a.shape,o,i,s,u):new gT(a.shape,o,i,s,u);return n.runWebGLProgram(c,[a],a.dtype)}},xT=(0,oa.Z)((function e(t,n,r,a,o){(0,aa.Z)(this,e),this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=t,this.depth=t[3],this.depthRadius=n,this.bias=r,this.alpha=a,this.beta=o,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < ".concat(this.depth,"; ++d) {\n          int depthBegin = int(max(0.0, float(d - ").concat(n,")));\n          int depthEnd = int(min(float(").concat(this.depth,"),\n              float(d + ").concat(n," + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = ").concat(this.depth,";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float(").concat(a,") * norm + float(").concat(r,");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float(").concat(a,")\n                * float(").concat(o,")\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * ").concat(o,");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    ")})),wT={kernelName:l.Hhh,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.y,i=t.dy,s=r.depthRadius,u=r.bias,c=r.alpha,l=r.beta,f=new xT(a.shape,s,u,c,l);return n.runWebGLProgram(f,[a,o,i],a.dtype)}};function kT(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.reductionIndices,i=r.keepDims,s=a.shape.length,u=l.D5U.parseAxisParam(o,a.shape),c=u,p=l.Wap.getAxesPermutation(c,s),d=null!=p,h=n.shouldExecuteOnCPU([a]),v=a;if(d){if(h){for(var m=n.texData.get(v.dataId).values,g=new Array(s),y=0;y<g.length;y++)g[y]=a.shape[p[y]];var b=zk(m,a.shape,a.dtype,p,g);v=n.makeTensorInfo(g,a.dtype),n.texData.get(v.dataId).values=b}else v=HS(a,p,n);c=l.Wap.getInnerMostAxes(c.length,s)}l.Wap.assertAxesAreInnerMostDims("max",c,s);var x,w=l.Wap.computeOutAndReduceShapes(v.shape,c),k=(0,f.Z)(w,2),S=k[0],E=k[1],C=S;if(i&&(C=l.Wap.expandShapeToKeepDim(S,u)),h){var N=n.texData.get(v.dataId).values,T=mk(N,l.D5U.sizeFromShape(E),C,a.dtype);x=n.makeTensorInfo(C,a.dtype),n.texData.get(x.dataId).values=T}else x=function(e,t,n,r){var a=l.D5U.sizeFromShape(t),o=jS({inputs:{x:e},attrs:{shape:[l.D5U.sizeFromShape(e.shape)/a,a]},backend:r}),i=US(o,e.dtype,"max",r),s=jS({inputs:{x:i},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(i),s}(v,E,C,n);return d&&n.disposeIntermediateTensorInfo(v),x}var ST={kernelName:l.YoZ,backendName:"webgl",kernelFunc:kT},ET=OS({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return max(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(max(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",cpuKernelImpl:gk}),CT={kernelName:l.BMI,backendName:"webgl",kernelFunc:ET};var NT={kernelName:l.mTV,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x;Jx(a,"maxPool");var o=r.filterSize,i=r.strides,s=r.pad,u=r.dimRoundingMode;l.D5U.assert(l.Wap.eitherStridesOrDilationsAreOne(i,1),(function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(i," and dilations '").concat(1,"'")}));var c=l.Wap.computePool2DInfo(a.shape,o,i,1,s,u);if(1===c.filterWidth&&1===c.filterHeight&&l.D5U.arraysEqual(c.inShape,c.outShape))return yS({inputs:{x:a},backend:n});var f=new OE(c,"max",!1);return n.runWebGLProgram(f,[a],a.dtype)}};var TT={kernelName:l.OAf,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.filterSize,i=r.strides,s=r.pad,u=r.dataFormat,c=r.dimRoundingMode,f=l.Wap.computePool3DInfo(a.shape,o,i,[1,1,1],s,c,u),p=new _E(f,"max",!1);return n.runWebGLProgram(p,[a],a.dtype)}},IT=(0,oa.Z)((function e(t){(0,aa.Z)(this,e),this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;var n=t.strideHeight,r=t.strideWidth,a=t.dilationHeight,o=t.effectiveFilterHeight,i=t.effectiveFilterWidth,s=o-1-t.padInfo.top,u=i-1-t.padInfo.left,c=o*i-1;this.userCode="\n      const ivec2 pads = ivec2(".concat(s,", ").concat(u,");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < ").concat(o,";\n          wR += ").concat(a,") {\n          float dyR = float(dyRCorner + wR) / ").concat(n,".0;\n\n          if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < ").concat(i,"; wC++) {\n            float dyC = float(dyCCorner + wC) / ").concat(r,".0;\n\n            if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = ").concat(c," - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * ").concat(i," + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")})),OT=(0,oa.Z)((function e(t){(0,aa.Z)(this,e),this.variableNames=["dy","maxPos"],this.outputShape=t.inShape;var n=t.strideDepth,r=t.strideHeight,a=t.strideWidth,o=t.dilationDepth,i=t.dilationHeight,s=t.dilationWidth,u=t.effectiveFilterDepth,c=t.effectiveFilterHeight,l=t.effectiveFilterWidth,f=u-1-t.padInfo.front,p=c-1-t.padInfo.top,d=l-1-t.padInfo.left,h=u*c*l-1;this.userCode="\n      const ivec3 pads = ivec3(".concat(f,", ").concat(p,", ").concat(d,");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < ").concat(u,";\n           wD += ").concat(o,") {\n          float dyD = float(dyDCorner + wD) / ").concat(n,".0;\n\n          if (dyD < 0.0 || dyD >= ").concat(t.outDepth,".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < ").concat(c,";\n              wR += ").concat(i,") {\n            float dyR = float(dyRCorner + wR) / ").concat(r,".0;\n\n            if (dyR < 0.0 || dyR >= ").concat(t.outHeight,".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < ").concat(l,";\n                wC += ").concat(s,") {\n              float dyC = float(dyCCorner + wC) / ").concat(a,".0;\n\n              if (dyC < 0.0 || dyC >= ").concat(t.outWidth,".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = ").concat(h," -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * ").concat(c," * ").concat(l," +\n                  wR * ").concat(l," + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    ")}));var _T={kernelName:l.OU7,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.input,i=r.filterSize,s=r.strides,u=r.pad,c=r.dimRoundingMode,f=l.Wap.computePool3DInfo(o.shape,i,s,[1,1,1],u,c),p=new _E(f,"max",!0),d=n.runWebGLProgram(p,[o],o.dtype),h=new OT(f),v=n.runWebGLProgram(h,[a,d],o.dtype);return n.disposeIntermediateTensorInfo(d),v}};var DT={kernelName:l.OV7,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.dy,o=t.input,i=o;Jx([o,t.output],"maxPoolGrad");var s=r.filterSize,u=r.strides,c=r.pad,f=r.dimRoundingMode,p=l.Wap.computePool2DInfo(i.shape,s,u,1,c,f),d=new OE(p,"max",!0),h=n.runWebGLProgram(d,[i],i.dtype),v=new IT(p),m=n.runWebGLProgram(v,[a,h],i.dtype);return n.disposeIntermediateTensorInfo(h),m}};var AT={kernelName:l.vFR,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,o=n.filterSize,i=n.strides,s=n.pad,u=n.includeBatchInIndex,c=r;l.D5U.assert(4===a.shape.length,(function(){return"Error in maxPool: input must be rank 4 but got rank ".concat(a.shape.length,".")}));var p=[1,1];l.D5U.assert(l.Wap.eitherStridesOrDilationsAreOne(i,p),(function(){return"Error in maxPool: Either strides or dilations must be 1. "+"Got strides ".concat(i," and dilations '").concat(p,"'")}));var d=l.Wap.computePool2DInfo(a.shape,o,i,p,s),h=function(e,t,n,r){var a=new OE(n,"max",!1),o=r.runWebGLProgram(a,[e],"float32");return a=new OE(n,"max",!0,!0,t),[o,r.runWebGLProgram(a,[e],"float32")]}(a,u,d,c),v=(0,f.Z)(h,2);return[v[0],v[1]]}};var RT={kernelName:l.q2K,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,o=n.keepDims,i=n.axis,s=r,u=a.shape.length,c=l.D5U.parseAxisParam(i,a.shape),p=c,d=l.Wap.getAxesPermutation(p,u),h=null!=d,v=s.shouldExecuteOnCPU([a]),m=[],g=a;if(h){if(v){for(var y=s.texData.get(g.dataId).values,b=new Array(u),x=0;x<b.length;x++)b[x]=a.shape[d[x]];var w=zk(y,a.shape,a.dtype,d,b);g=s.makeTensorInfo(b,a.dtype),s.texData.get(g.dataId).values=w}else g=HS(a,d,s);m.push(g),p=l.Wap.getInnerMostAxes(p.length,u)}l.Wap.assertAxesAreInnerMostDims("sum",p,u);var k=l.Wap.computeOutAndReduceShapes(g.shape,p),S=(0,f.Z)(k,2),E=S[0],C=S[1],N=E;o&&(N=l.Wap.expandShapeToKeepDim(E,c));for(var T=function(e,t,n,r){var a=l.D5U.sizeFromShape(t),o=jS({inputs:{x:e},attrs:{shape:[l.D5U.sizeFromShape(e.shape)/a,a]},backend:r}),i=US(o,"float32","mean",r),s=jS({inputs:{x:i},attrs:{shape:n},backend:r});return r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(i),s}(g,C,N,s),I=0,O=m;I<O.length;I++){var _=O[I];s.disposeIntermediateTensorInfo(_)}return T}};var PT={kernelName:l.c17,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.axis,i=r.keepDims,s=a.shape.length,u=l.D5U.parseAxisParam(o,a.shape),c=u,p=l.Wap.getAxesPermutation(c,s),d=a;null!=p&&(d=XS({inputs:{x:a},backend:n,attrs:{perm:p}}),c=l.Wap.getInnerMostAxes(c.length,a.shape.length)),l.Wap.assertAxesAreInnerMostDims("min",c,s);var h,v=l.Wap.computeOutAndReduceShapes(d.shape,c),m=(0,f.Z)(v,2),g=m[0],y=m[1],b=jS({inputs:{x:d},backend:n,attrs:{shape:[-1,l.D5U.sizeFromShape(y)]}}),x=US(b,b.dtype,"min",n);return h=jS(i?{inputs:{x:x},backend:n,attrs:{shape:l.Wap.expandShapeToKeepDim(g,u)}}:{inputs:{x:x},backend:n,attrs:{shape:g}}),n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(x),null!=p&&n.disposeIntermediateTensorInfo(d),h}},MT=OS({opSnippet:"\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return min(a, b);\n",packedOpSnippet:"\n  vec4 result = vec4(min(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",cpuKernelImpl:yk}),FT={kernelName:l.q8u,backendName:"webgl",kernelFunc:MT},LT=(0,oa.Z)((function e(t,n,r){(0,aa.Z)(this,e),this.variableNames=["x"],this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));var a=t.length,o=Nw(a),i=n.map((function(e){return e[0]})).join(","),s=n.map((function(e,n){return e[0]+t[n]})).join(","),u=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,a),c="reflect"===r?0:1;this.userCode=1!==a?"\n      ".concat(o," start = ").concat(o,"(").concat(i,");\n      ").concat(o," end = ").concat(o,"(").concat(s,");\n\n      void main() {\n        ").concat(o," outC = getOutputCoords();\n        for (int i = 0; i < ").concat(a,"; i++) {\n          if (outC[i] < start[i]) {\n            outC[i] = start[i] * 2 - outC[i] - ").concat(c,";\n          } else if(outC[i] >= end[i]) {\n            outC[i] = (end[i] - 1) * 2 - outC[i] + ").concat(c,";\n          }\n        }\n        ").concat(o," coords = outC - start;\n        setOutput(getX(").concat(u,"));\n      }\n    "):"\n        int start = ".concat(i,";\n        int end = ").concat(s,";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start) {\n            outC = start * 2 - outC - ").concat(c,";\n          } else if(outC >= end) {\n            outC = (end - 1) * 2 - outC + ").concat(c,";\n          }\n          setOutput(getX(outC - start));\n        }\n      ")})),jT=(0,oa.Z)((function e(t,n,r){(0,aa.Z)(this,e),this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));var a=t.length,o=Nw(a),i=n.map((function(e){return e[0]})).join(","),s=n.map((function(e,n){return e[0]+t[n]})).join(","),u=Wk("rc",a),c=Wk("source",a),l="".concat(u[a-1]," < ").concat(this.outputShape[a-1]),f=1===a?"source":"vec2(".concat(c.slice(-2).join(),")"),p="reflect"===r?0:1,d="";if(1===a){var h="\n        ".concat(o," source = rc;\n        if (source < start) {\n          source = start * 2 - source - ").concat(p,";\n        } else if (source >= end) {\n          source = (end - 1) * 2 - source + ").concat(p,";\n        }\n        source -= start;\n      ");d="\n        ".concat(o," rc = outputLoc;\n        ").concat(h,"\n        result[0] = getChannel(getX(").concat(c.join(),"), ").concat(f,");\n        ").concat(u[a-1]," += 1;\n        if(").concat(l,") {\n          ").concat(h,"\n          result[1] = getChannel(getX(").concat(c.join(),"), ").concat(f,");\n        }\n      ")}else{var v="\n        ".concat(o," source = rc;\n        ").concat(o," lt = ").concat(o,"(lessThan(source, start));\n        ").concat(o," gte = ").concat(o,"(greaterThanEqual(source, end));\n        ").concat(o," orig = 1 - (lt + gte);\n        source = orig * source +\n                lt * (start * 2 - source - ").concat(p,") +\n                gte * ((end - 1) * 2 - source + ").concat(p,");\n        source -= start;\n      ");d="\n        ".concat(o," rc = outputLoc;\n        ").concat(v,"\n        result[0] = getChannel(getX(").concat(c.join(),"), ").concat(f,");\n        ").concat(u[a-1]," += 1;\n        if(").concat(l,") {\n          ").concat(v,"\n          result[1] = getChannel(getX(").concat(c.join(),"), ").concat(f,");\n        }\n        rc = outputLoc;\n        ").concat(u[a-2]," += 1;\n        if(").concat(u[a-2]," < ").concat(this.outputShape[a-2],") {\n          ").concat(v,"\n          result[2] = getChannel(getX(").concat(c.join(),"), ").concat(f,");\n          ").concat(u[a-1]," += 1;\n          if(").concat(l,") {\n            ").concat(v,"\n            result[3] = getChannel(getX(").concat(c.join(),"), ").concat(f,");\n          }\n        }\n      ")}this.userCode="\n      const ".concat(o," start = ").concat(o,"(").concat(i,");\n      const ").concat(o," end = ").concat(o,"(").concat(s,");\n\n      void main() {\n        ").concat(o," outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ").concat(d,"\n        setOutput(result);\n      }\n    ")})),ZT={kernelName:l.jQs,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.paddings,i=r.mode,s=(0,l.OBj)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new jT(a.shape,o,i):new LT(a.shape,o,i);return n.runWebGLProgram(s,[a],a.dtype)}},zT=OS({opSnippet:"if (b == 0.0) return NAN;\n  return mod(a, b);",packedOpSnippet:"\n  vec4 result = mod(a, b);\n  vec4 isNaN = vec4(equal(b, vec4(0.0)));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n"}),BT={kernelName:l.Vbg,backendName:"webgl",kernelFunc:zT},UT=(0,oa.Z)((function e(t,n,r){(0,aa.Z)(this,e),this.variableNames=["probs"],this.customUniforms=[{name:"seed",type:"float"}],this.outputShape=[t,r],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < ".concat(n-1,"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float(").concat(n-1,"));\n      }\n    ")})),WT=OS({opSnippet:"\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",packedOpSnippet:"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n",checkOutOfBounds:!0}),VT={kernelName:l.oHH,backendName:"webgl",kernelFunc:WT},HT="return a - b;",GT=OS({opSnippet:HT,packedOpSnippet:HT,supportsComplex:!0,cpuKernelImpl:Lk}),qT={kernelName:l.Tr8,backendName:"webgl",kernelFunc:GT};function XT(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.logits,o=r.dim,i=l.D5U.parseAxisParam([o],a.shape),s=kT({inputs:{x:a},backend:n,attrs:{reductionIndices:i,keepDims:!1}}),u=l.Wap.expandShapeToKeepDim(s.shape,i),c=jS({inputs:{x:s},backend:n,attrs:{shape:u}}),f=GT({inputs:{a:a,b:c},backend:n}),p=hN({inputs:{x:f},backend:n}),d=GS({inputs:{x:p},backend:n,attrs:{axis:i,keepDims:!1}}),h=jS({inputs:{x:d},backend:n,attrs:{shape:u}}),v=WT({inputs:{a:p,b:h},backend:n});return n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(c),n.disposeIntermediateTensorInfo(f),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(h),v}var KT={kernelName:l.Gcp,backendName:"webgl",kernelFunc:XT};var YT={kernelName:l.NZg,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.logits,o=r.numSamples,i=r.seed,s=r.normalized,u=s?a:XT({inputs:{logits:a},backend:n,attrs:{dim:a.shape.length-1}}),c=u.shape[0],l=u.shape[1],f=new UT(c,l,o),p=[[i]],d=n.runWebGLProgram(f,[u],"int32",p);return s||n.disposeIntermediateTensorInfo(u),d}};var QT={kernelName:l.kuV,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=n.x;if(r.shouldExecuteOnCPU([a])){var o=r.texData.get(a.dataId),i=xk(o.values,a.shape,a.dtype),s=(0,f.Z)(i,2),u=s[0],c=s[1];return r.makeTensorInfo(c,a.dtype,u)}return t=(0,l.OBj)().getBool("WEBGL_PACK_UNARY_OPERATIONS")?new lS(a.shape,"\n  vec4 result = -x;\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"):new Yk(a.shape,"if (isnan(x)) return x;\n  return -x;\n"),r.runWebGLProgram(t,[a],a.dtype)}},$T=l.GDt.nonMaxSuppressionV3Impl;var JT={kernelName:l.uv1,backendName:"webgl",kernelFunc:function(e){l.Wap.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,o=t.scores,i=r.maxOutputSize,s=r.iouThreshold,u=r.scoreThreshold,c=n.readSync(a.dataId),f=n.readSync(o.dataId),p=$T(c,f,i,s,u).selectedIndices;return n.makeTensorInfo([p.length],"int32",new Int32Array(p))}},eI=l.GDt.nonMaxSuppressionV4Impl;var tI={kernelName:l.cye,backendName:"webgl",kernelFunc:function(e){l.Wap.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,o=t.scores,i=r.maxOutputSize,s=r.iouThreshold,u=r.scoreThreshold,c=r.padToMaxOutputSize,f=n.readSync(a.dataId),p=n.readSync(o.dataId),d=eI(f,p,i,s,u,c),h=d.selectedIndices,v=d.validOutputs;return[n.makeTensorInfo([h.length],"int32",new Int32Array(h)),n.makeTensorInfo([],"int32",new Int32Array([v]))]}},nI=l.GDt.nonMaxSuppressionV5Impl;var rI={kernelName:l.W0H,backendName:"webgl",kernelFunc:function(e){l.Wap.warn("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var t=e.inputs,n=e.backend,r=e.attrs,a=t.boxes,o=t.scores,i=r.maxOutputSize,s=r.iouThreshold,u=r.scoreThreshold,c=r.softNmsSigma,f=n.readSync(a.dataId),p=n.readSync(o.dataId),d=nI(f,p,i,s,u,c),h=d.selectedIndices,v=d.selectedScores;return[n.makeTensorInfo([h.length],"int32",new Int32Array(h)),n.makeTensorInfo([v.length],"float32",new Float32Array(v))]}},aI=(0,oa.Z)((function e(t,n,r,a){(0,aa.Z)(this,e),this.variableNames=["indices"],this.outputShape=[t,n],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float(".concat(a,"), float(").concat(r,"),\n                      float(index == coords.y)));\n      }\n    ")})),oI={kernelName:l.we_,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.indices,o=r.depth,i=r.onValue,s=r.offValue,u=l.D5U.sizeFromShape(a.shape),c=new aI(u,o,i,s),f=jS({inputs:{x:a},backend:n,attrs:{shape:[u]}}),p=n.runWebGLProgram(c,[f],a.dtype);n.disposeIntermediateTensorInfo(f);var d=jS({inputs:{x:p},backend:n,attrs:{shape:[].concat((0,Qn.Z)(a.shape),[o])}});return n.disposeIntermediateTensorInfo(p),d}};function iI(e){var t=e.inputs,n=e.backend,r=t.x;if("complex64"===r.dtype){var a=QE({inputs:{input:r},backend:n}),o=iI({inputs:{x:a},backend:n}),i=pC({inputs:{input:r},backend:n}),s=iI({inputs:{x:i},backend:n}),u=xS({inputs:{real:o,imag:s},backend:n});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(s),u}return CN({attrs:{shape:r.shape,dtype:r.dtype,value:"string"===r.dtype?"":0},backend:n})}var sI={kernelName:l.RuY,backendName:"webgl",kernelFunc:iI};var uI={kernelName:l.qWM,backendName:"webgl",kernelFunc:function e(t){var n=t.inputs,r=t.backend,a=n.x;if("string"===a.dtype)throw new Error("onesLike is not supported under string dtype");if("complex64"===a.dtype){var o=QE({inputs:{input:a},backend:r}),i=e({inputs:{x:o},backend:r}),s=pC({inputs:{input:a},backend:r}),u=iI({inputs:{x:s},backend:r}),c=xS({inputs:{real:i,imag:u},backend:r});return r.disposeIntermediateTensorInfo(o),r.disposeIntermediateTensorInfo(i),r.disposeIntermediateTensorInfo(s),r.disposeIntermediateTensorInfo(u),c}return CN({attrs:{shape:a.shape,dtype:a.dtype,value:1},backend:r})}};var cI={kernelName:l.QiL,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.axis;if(1===t.length)return mN({inputs:{input:t[0]},backend:n,attrs:{dim:r}});var a=t[0].shape,o=t[0].dtype;t.forEach((function(e){l.D5U.assertShapesMatch(a,e.shape,"All tensors passed to stack must have matching shapes"),l.D5U.assert(o===e.dtype,(function(){return"All tensors passed to stack must have matching dtypes"}))}));var i=[],s=vC({inputs:t.map((function(e){var t=mN({inputs:{input:e},backend:n,attrs:{dim:r}});return i.push(t),t})),backend:n,attrs:{axis:r}});return i.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),s}},lI=(0,oa.Z)((function e(t,n,r){(0,aa.Z)(this,e),this.variableNames=["x"],this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));var a=t.length,o=Nw(a),i=n.map((function(e){return e[0]})).join(","),s=n.map((function(e,n){return e[0]+t[n]})).join(","),u=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,a);this.userCode=1!==a?"\n      ".concat(o," start = ").concat(o,"(").concat(i,");\n      ").concat(o," end = ").concat(o,"(").concat(s,");\n\n      void main() {\n        ").concat(o," outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(value);\n        } else {\n          ").concat(o," coords = outC - start;\n          setOutput(getX(").concat(u,"));\n        }\n      }\n    "):"\n        int start = ".concat(i,";\n        int end = ").concat(s,";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(value);\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      ")})),fI=(0,oa.Z)((function e(t,n,r){(0,aa.Z)(this,e),this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"value",type:"float"}],this.outputShape=n.map((function(e,n){return e[0]+t[n]+e[1]}));for(var a=t.length,o=Nw(a),i=n.map((function(e){return e[0]})).join(","),s=n.map((function(e,n){return e[0]+t[n]})).join(","),u=Wk("rc",a),c=Wk("source",a),l="".concat(u[a-1]," < ").concat(this.outputShape[a-1]),f=1===a?"source":"vec2(".concat(c.slice(-2).join(),")"),p=["".concat(o," rc = outputLoc;"),"".concat(u[a-1]," += 1;\n       if(").concat(l,") {\n      "),1===a?"":"}\n       rc = outputLoc;\n       ".concat(u[a-2]," += 1;\n       if(").concat(u[a-2]," < ").concat(this.outputShape[a-2],") {"),1===a?"":"  ".concat(u[a-1]," += 1;\n         if(").concat(l,") {")],d=1===a?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",h="",v=0,m=1===a?2:4;v<m;v++)h+="\n        ".concat(p[v],"\n        if (").concat(d,") {\n          result[").concat(v,"] = float(value);\n        } else {\n          ").concat(o," source = rc - start;\n          result[").concat(v,"] = getChannel(getX(").concat(c.join(),"), ").concat(f,");\n        }\n      ");h+=1===a?"} ":"}}",this.userCode="\n      const ".concat(o," start = ").concat(o,"(").concat(i,");\n      const ").concat(o," end = ").concat(o,"(").concat(s,");\n\n      void main() {\n        ").concat(o," outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        ").concat(h,"\n        setOutput(result);\n      }\n    ")})),pI=function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.paddings,i=r.constantValue;if(0===l.D5U.sizeFromShape(a.shape)){var s=o.map((function(e,t){return e[0]+a.shape[t]+e[1]}));return CN({backend:n,attrs:{shape:s,value:i,dtype:a.dtype}})}var u=(0,l.OBj)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new fI(a.shape,o,i):new lI(a.shape,o,i),c=[[i]];return n.runWebGLProgram(u,[a],a.dtype,c)},dI={kernelName:l.lyA,backendName:"webgl",kernelFunc:pI},hI=OS({opSnippet:"\n  if(a < 0.0 && floor(b) < b){\n    return NAN;\n  }\n  if (b == 0.0) {\n    return 1.0;\n  }\n  return (round(mod(b, 2.0)) != 1) ?\n      pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",packedOpSnippet:"\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n"}),vI={kernelName:l.pe_,backendName:"webgl",kernelFunc:hI};var mI={kernelName:l.DlI,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,o=n.x,i=a.axis,s=a.keepDims,u=o.shape.length,c=[],p=l.D5U.parseAxisParam(i,o.shape),d=p,h=l.Wap.getAxesPermutation(d,u),v=o;if(null!=h&&(v=XS({inputs:{x:o},backend:r,attrs:{perm:h}}),d=l.Wap.getInnerMostAxes(d.length,u),c.push(v)),l.Wap.assertAxesAreInnerMostDims("prod",d,u),r.shouldExecuteOnCPU([v])){var m=r.texData.get(v.dataId).values,g=kk(v.shape,v.dtype,m,d),y=g.outVals,b=g.outShape,x=g.outDtype;t=r.makeTensorInfo(b,x,y)}else{var w=l.Wap.computeOutAndReduceShapes(v.shape,d),k=(0,f.Z)(w,2),S=k[0],E=k[1],C=l.D5U.sizeFromShape(E),N=jS({inputs:{x:v},backend:r,attrs:{shape:[-1,C]}}),T=US(N,(0,l.z4k)(o.dtype),"prod",r);t=jS({inputs:{x:T},backend:r,attrs:{shape:S}}),c.push(N),c.push(T)}if(s){c.push(t);var I=l.Wap.expandShapeToKeepDim(t.shape,p);t=jS({inputs:{x:t},backend:r,attrs:{shape:I}})}return c.forEach((function(e){return r.disposeIntermediateTensorInfo(e)})),t}},gI=function(e){var t=e.backend,n=e.attrs,r=n.start,a=n.stop,o=n.step,i=n.dtype,s=Sk(r,a,o,i);return t.makeTensorInfo([s.length],i,s)},yI={kernelName:l.e6w,backendName:"webgl",kernelFunc:gI},bI=IS({opSnippet:"return 1.0 / x;"}),xI={kernelName:l.$HU,backendName:"webgl",kernelFunc:bI},wI=IS({opSnippet:"if (isnan(x)) return x;\n  return (x < 0.0) ? 0.0 : x;\n",packedOpSnippet:"\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),kI={kernelName:l.qkr,backendName:"webgl",kernelFunc:wI},SI=IS({opSnippet:"if (isnan(x)) return x;\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",packedOpSnippet:"\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n"}),EI={kernelName:l.SbG,backendName:"webgl",kernelFunc:SI},CI=(0,oa.Z)((function e(t,n,r,a,o){(0,aa.Z)(this,e),this.variableNames=["A"],this.outputShape=[];var i=(0,f.Z)(t,4),s=i[0],u=i[1],c=i[2],l=i[3];this.outputShape=[s,n,r,l];var p,d=[a&&n>1?u-1:u,a&&r>1?c-1:c],h=[a&&n>1?n-1:n,a&&r>1?r-1:r];p=o?"(vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC - vec2(0.5)":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ".concat(d[0]/h[0],",\n          ").concat(d[1]/h[1],");\n      const vec2 inputShapeRC = vec2(").concat(u,".0, ").concat(c,".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ").concat(p,";\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(max(sourceFracIndexRC, vec2(0.0)));\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    ")})),NI=(0,oa.Z)((function e(t,n,r,a,o){(0,aa.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var i=(0,f.Z)(t,4),s=i[0],u=i[1],c=i[2],l=i[3];this.outputShape=[s,n,r,l];var p,d=[a&&n>1?u-1:u,a&&r>1?c-1:c],h=[a&&n>1?n-1:n,a&&r>1?r-1:r];p=o?"(vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC - vec3(0.5)":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ".concat(d[0]/h[0],",\n          ").concat(d[1]/h[1],",\n          ").concat(d[1]/h[1],");\n      const vec3 inputShapeRC = vec3(").concat(u,".0, ").concat(c,".0,\n                                     ").concat(c,".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ").concat(p,";\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(max(sourceFracIndexRC, vec3(0.0)));\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ").concat(l-1,";\n        bool hasNextRow = coords.z < ").concat(r-1,";\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    ")}));var TI={kernelName:l._Yw,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,o=r.alignCorners,i=r.halfPixelCenters,s=r.size,u=(0,f.Z)(s,2),c=u[0],p=u[1],d=(0,l.OBj)().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new NI(a.shape,c,p,o,i):new CI(a.shape,c,p,o,i);return n.runWebGLProgram(d,[a],"float32")}},II=(0,oa.Z)((function e(t,n,r){(0,aa.Z)(this,e),this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;var a=(0,f.Z)(n,3),o=a[1],i=a[2],s=(0,f.Z)(t,3),u=s[1],c=s[2],l=[r&&u>1?o-1:o,r&&c>1?i-1:i],p=[r&&u>1?u-1:u,r&&c>1?c-1:c],d=l[0]/p[0],h=l[1]/p[1],v=1/d,m=1/h,g=2*Math.ceil(v)+2,y=2*Math.ceil(m)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(".concat(d,");\n        const float widthScale = float(").concat(h,");\n\n        const float invHeightScale = float(").concat(v,");\n        const float invWidthScale = float(").concat(m,");\n\n        const int winHeight = int(").concat(g,");\n        const int winWidth = int(").concat(y,");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ").concat(u,") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ").concat(c,") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), ").concat(o-1,".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), ").concat(i-1,".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    ")}));var OI={kernelName:l.zbQ,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,o=t.dy,i=r.alignCorners,s=new II(o.shape,a.shape,i);return n.runWebGLProgram(s,[o],o.dtype)}},_I=(0,oa.Z)((function e(t,n,r,a,o){(0,aa.Z)(this,e),this.variableNames=["A"],this.outputShape=[];var i=(0,f.Z)(t,4),s=i[0],u=i[1],c=i[2],l=i[3];this.outputShape=[s,n,r,l];var p,d=[a&&n>1?u-1:u,a&&r>1?c-1:c],h=[a&&n>1?n-1:n,a&&r>1?r-1:r],v=a?"0.5":"0.0";p=o?"max((vec2(yRC) + vec2(0.5)) * effectiveInputOverOutputRatioRC, vec2(0.0))":"vec2(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          ".concat(d[0]/h[0],",\n          ").concat(d[1]/h[1],");\n      const vec2 inputShapeRC = vec2(").concat(u,".0, ").concat(c,".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = ").concat(p,";\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ").concat(v,")));\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    ")})),DI=(0,oa.Z)((function e(t,n,r,a,o){(0,aa.Z)(this,e),this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var i=(0,f.Z)(t,4),s=i[0],u=i[1],c=i[2],l=i[3];this.outputShape=[s,n,r,l];var p,d=[a&&n>1?u-1:u,a&&r>1?c-1:c],h=[a&&n>1?n-1:n,a&&r>1?r-1:r],v=a?"0.5":"0.0";p=o?"max((vec3(yRC) + vec3(0.5)) * effectiveInputOverOutputRatioRC, vec3(0.0))":"vec3(yRC) * effectiveInputOverOutputRatioRC",this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          ".concat(d[0]/h[0],",\n          ").concat(d[1]/h[1],",\n          ").concat(d[1]/h[1],");\n      const vec3 inputShapeRC = vec3(").concat(u,".0, ").concat(c,".0,\n                                     ").concat(c,".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = ").concat(p,";\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec3 sourceNearestRC = ivec3(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + ").concat(v,")));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < ").concat(l-1,";\n        bool hasNextRow = coords.z < ").concat(r-1,";\n\n        vec4 newValue = vec4(\n          getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d),\n          hasNextCol ? getAValue(b, sourceNearestRC.x, sourceNearestRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceNearestRC.x, sourceNearestRC.z, d + 1) : 0.0);\n\n        setOutput(newValue);\n      }\n    ")}));var AI={kernelName:l.dpD,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,o=r.alignCorners,i=r.halfPixelCenters,s=r.size,u=(0,f.Z)(s,2),c=u[0],p=u[1],d=(0,l.OBj)().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new DI(a.shape,c,p,o,i):new _I(a.shape,c,p,o,i);return n.runWebGLProgram(d,[a],a.dtype)}},RI=(0,oa.Z)((function e(t,n,r){(0,aa.Z)(this,e),this.variableNames=["dy"],this.outputShape=[],this.outputShape=n;var a=(0,f.Z)(n,3),o=a[1],i=a[2],s=(0,f.Z)(t,3),u=s[1],c=s[2],l=[r&&u>1?o-1:o,r&&c>1?i-1:i],p=[r&&u>1?u-1:u,r&&c>1?c-1:c],d=l[0]/p[0],h=l[1]/p[1],v=1/d,m=1/h,g=2*Math.ceil(v)+2,y=2*Math.ceil(m)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float(".concat(d,");\n        const float widthScale = float(").concat(h,");\n\n        const float invHeightScale = float(").concat(v,");\n        const float invWidthScale = float(").concat(m,");\n\n        const int winHeight = int(").concat(g,");\n        const int winWidth = int(").concat(y,");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= ").concat(u,") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= ").concat(c,") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float(").concat(l[0],") *\n                (float(dyR) / float(").concat(p[0],"));\n\n            float sourceFracCol =\n                float(").concat(l[1],") *\n                  (float(dyC) / float(").concat(p[1],"));\n\n            int sourceNearestRow = int(min(\n                float(int(").concat(o,") - 1),\n                ").concat(r," ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int(").concat(i,") - 1),\n                ").concat(r," ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    ")}));var PI={kernelName:l.Hmb,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.images,o=t.dy,i=r.alignCorners,s=new RI(o.shape,a.shape,i);return n.runWebGLProgram(s,[o],o.dtype)}},MI=(0,oa.Z)((function e(t,n){(0,aa.Z)(this,e),this.variableNames=["x"];var r=t.length;if(r>4)throw new Error("WebGL backend: Reverse of rank-".concat(r," tensor is not yet supported"));if(this.outputShape=t,1!==r){var a=t.map((function(e,r){return function(e){return-1!==n.indexOf(e)&&1!==t[e]?"".concat(t[e]," - coords[").concat(e,"] - 1"):"coords[".concat(e,"]")}(r)})).join(","),o=Nw(r);this.userCode="\n      void main() {\n        ".concat(o," coords = getOutputCoords();\n        setOutput(getX(").concat(a,"));\n      }\n    ")}else this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX(".concat(t[0]," - coord - 1));\n        }\n      ")})),FI=(0,oa.Z)((function e(t,n){(0,aa.Z)(this,e),this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var r=t.length;if(r>4)throw new Error("WebGL backend: Reverse of rank-".concat(r," tensor is not yet supported"));this.outputShape=t;var a=Wk("rc",r),o="".concat(a[r-1]," + 1 < ").concat(this.outputShape[r-1]),i="".concat(a[r-2]," + 1 < ").concat(this.outputShape[r-2]),s=Nw(r);function u(e){var r=t.map((function(r,a){return function(e,r){return-1!==n.indexOf(e)&&1!==t[e]?"".concat(t[e]," - ").concat(r[e]," - 1"):"".concat(r[e])}(a,e)})),a=r.join(","),o=r.slice(-2).join(",");return"getChannel(getX(".concat(a,"), vec2(").concat(o,"))")}this.userCode=1===r?"\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX(".concat(t[0]," - rc - 1),\n            ").concat(t[0]," - rc - 1);\n          if(").concat(o,"){\n              result.g = getChannel(getX(").concat(t[0]," - (rc  + 1) - 1),\n                ").concat(t[0]," - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      "):"\n        void main() {\n          ".concat(s," rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = ").concat(function(e){return u(e)}(a.slice()),";\n          if(").concat(o,"){\n            result.g = ").concat(function(e){return e[r-1]="("+e[r-1]+" + 1)",u(e)}(a.slice()),";\n          }\n          if(").concat(i,") {\n            result.b = ").concat(function(e){return e[r-2]="("+e[r-2]+" + 1)",u(e)}(a.slice()),";\n            if(").concat(o,") {\n              result.a = ").concat(function(e){return e[r-1]="("+e[r-1]+" + 1)",e[r-2]="("+e[r-2]+" + 1)",u(e)}(a.slice()),";\n            }\n          }\n          setOutput(result);\n        }\n    ")}));var LI={kernelName:l.mKl,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.dims,i=a.shape.length,s=l.D5U.parseAxisParam(o,a.shape);if(0===i)return yS({inputs:{x:a},backend:n});var u=(0,l.OBj)().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new FI(a.shape,s):new MI(a.shape,s);return n.runWebGLProgram(u,[a],a.dtype)}},jI=(0,oa.Z)((function e(t,n){(0,aa.Z)(this,e),this.variableNames=["Image"],this.outputShape=[],this.customUniforms=[{name:"params",type:"vec4"}];var r=t[1],a=t[2];this.outputShape=t;var o="";o="number"===typeof n?"float outputValue = ".concat(n.toFixed(2),";"):"\n        vec3 fill = vec3(".concat(n.join(","),");\n        float outputValue = fill[coords[3]];"),this.userCode="\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int x = coords[2];\n          int y = coords[1];\n          float coordXFloat = (float(x) - params[0]) * params[3] -\n            (float(y) - params[1]) * params[2];\n          float coordYFloat = (float(x) - params[0]) * params[2] +\n            (float(y) - params[1]) * params[3];\n          int coordX = int(round(coordXFloat + params[0]));\n          int coordY = int(round(coordYFloat + params[1]));\n          ".concat(o,"\n          if(coordX >= 0 && coordX < ").concat(a," && coordY >= 0 && coordY < ").concat(r,") {\n            outputValue = getImage(coords[0], coordY, coordX, coords[3]);\n          }\n          setOutput(outputValue);\n        }\n    ")})),ZI={kernelName:l.b9H,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.image,o=n.radians,i=n.fillValue,s=n.center,u=r,c=new jI(a.shape,i),p=l.Wap.getImageCenter(s,a.shape[1],a.shape[2]),d=(0,f.Z)(p,2),h=[[d[0],d[1],Math.sin(o),Math.cos(o)]];return u.runWebGLProgram(c,[a],a.dtype,h)}},zI=IS({opSnippet:"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n"}),BI={kernelName:l.e07,backendName:"webgl",kernelFunc:zI},UI=IS({opSnippet:"return inversesqrt(x);",cpuKernelImpl:Ek}),WI={kernelName:l.bV0,backendName:"webgl",kernelFunc:UI},VI=(0,oa.Z)((function e(t,n,r,a,o,i){(0,aa.Z)(this,e),this.variableNames=["updates","indices","defaultValue"],this.outputShape=i;var s=Nw(o.length),u=Nw(i.length),c="";1===r?c="i":2===r&&(c="i, j");var l="getIndices(".concat(c,")"),f="";1===a?f="i":2===a&&(f="i, coords[1]");var p="getUpdates(".concat(f,")"),d=n>1?"strides[j]":"strides";this.userCode="\n        ".concat(s," strides = ").concat(s,"(").concat(o,");\n\n        void main() {\n          ").concat(u," coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < ").concat(t,"; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < ").concat(n,"; j++) {\n              int index = round(").concat(l,");\n              flattenedIndex += index * ").concat(d,";\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += ").concat(p,";\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(), sum, float(found)));\n        }\n      ")}));var HI={kernelName:l.xQA,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.indices,o=t.updates,i=r.shape,s=l.Wap.calculateShapes(o,a,i),u=s.sliceRank,c=s.numUpdates,f=s.sliceSize,p=s.strides,d=s.outputSize,h=[d/f,f];if(0===d)return n.makeTensorInfo(i,a.dtype);var v=jS({inputs:{x:a},backend:n,attrs:{shape:[c,u]}}),m=jS({inputs:{x:o},backend:n,attrs:{shape:[c,f]}}),g=n.makeTensorInfo([],"float32",new Float32Array([0])),y=new VI(c,u,v.shape.length,m.shape.length,p,h),b=n.runWebGLProgram(y,[m,v,g],m.dtype),x=jS({inputs:{x:b},backend:n,attrs:{shape:i}});return n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(g),x}},GI=(0,oa.Z)((function e(t,n,r,a){(0,aa.Z)(this,e),this.variableNames=["sortedSequence","values"],this.customUniforms=[{name:"numInputs",type:"int"}],this.outputShape=[t,r];var o="for (int i = 0; i < ".concat(Math.ceil(Math.log2(n+1)),"; ++i) { if (left >= right) break;"),i=2===(0,l.OBj)().getNumber("WEBGL_VERSION")?"while (left < right) {":o,s="left"===a?"<":"<=";this.userCode="\n       int findBound(int batch, float value) {\n         int left = 0;\n         int right = numInputs;\n         int mid;\n         ".concat(i,"\n           mid = (left + right) / 2;\n           if (getSortedSequence(batch, mid) ").concat(s," value) {\n             left = mid + 1;\n           } else {\n             right = mid;\n           }\n         }\n         return right;\n       }\n\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int valueIndex = coords[1];\n\n         float value = getValues(batch, valueIndex);\n\n         setOutput(float(findBound(batch, value)));\n       }\n     ")}));var qI={kernelName:l.nr8,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.sortedSequence,o=t.values,i=r.side,s=new GI(a.shape[0],a.shape[1],o.shape[1],i),u=[[a.shape[1]]];return n.runWebGLProgram(s,[a,o],"int32",u)}},XI=(0,oa.Z)((function e(t,n,r){var a,o;if((0,aa.Z)(this,e),this.variableNames=["c","a","b"],this.outputShape=n,r>4)throw Error("Where for rank ".concat(r," is not yet supported"));if(1===r)o="resRC",a="resRC";else{for(var i=["resRC.x","resRC.y","resRC.z","resRC.w"],s=[],u=[],c=0;c<n.length;c++)u.push("".concat(i[c])),c<t&&s.push("".concat(i[c]));a=s.join(),o=u.join()}var l=Nw(r);this.userCode="\n      void main() {\n        ".concat(l," resRC = getOutputCoords();\n        float cVal = getC(").concat(a,");\n        if (cVal >= 1.0) {\n          setOutput(getA(").concat(o,"));\n        } else {\n          setOutput(getB(").concat(o,"));\n        }\n      }\n    ")}));var KI={kernelName:l.PhF,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.condition,a=t.t,o=t.e,i=new XI(r.shape.length,a.shape,a.shape.length);return n.runWebGLProgram(i,[r,a,o],(0,l.x8V)(a.dtype,o.dtype))}},YI=IS({opSnippet:"\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = ".concat(l.Wap.SELU_SCALEALPHA,";\n  float scale = ").concat(l.Wap.SELU_SCALE,";\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n")}),QI={kernelName:l.oFR,backendName:"webgl",kernelFunc:YI},$I=IS({opSnippet:"if (isnan(x)) return x;\n  return 1.0 / (1.0 + exp(-1.0 * x));\n",packedOpSnippet:"\n  vec4 result = 1.0 / (1.0 + exp(-1.0 * x));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",cpuKernelImpl:Nk}),JI={kernelName:l.a5O,backendName:"webgl",kernelFunc:$I},eO=IS({opSnippet:"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n"}),tO={kernelName:l.i5y,backendName:"webgl",kernelFunc:eO},nO=IS({opSnippet:"if (isnan(x)) return x;\n  return sin(x);\n"}),rO={kernelName:l.RQH,backendName:"webgl",kernelFunc:nO},aO=IS({opSnippet:"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n"}),oO={kernelName:l.wYB,backendName:"webgl",kernelFunc:aO},iO=IS({opSnippet:"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n"}),sO={kernelName:l.MRv,backendName:"webgl",kernelFunc:iO},uO={kernelName:l.TQc,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.blockShape,i=r.paddings;l.D5U.assert(a.shape.length<=4,(function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"}));var s=o.reduce((function(e,t){return e*t})),u=[[0,0]];u.push.apply(u,(0,Qn.Z)(i));for(var c=1+o.length;c<a.shape.length;++c)u.push([0,0]);var f=[],p=pI({inputs:{x:a},backend:n,attrs:{paddings:u,constantValue:0}}),d=l.Wap.getReshaped(p.shape,o,s,!1),h=l.Wap.getPermuted(d.length,o.length,!1),v=l.Wap.getReshapedPermuted(p.shape,o,s,!1),m=jS({inputs:{x:p},backend:n,attrs:{shape:d}}),g=XS({inputs:{x:m},backend:n,attrs:{perm:h}}),y=jS({inputs:{x:g},backend:n,attrs:{shape:v}});return f.push(p),f.push(m),f.push(g),f.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),y}};var cO={kernelName:l.O3z,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.indices,a=t.values,o=t.denseShape,i=t.defaultValue;if(1!==o.shape.length)throw new Error("Dense shape must be a vector, saw:\n         ".concat(o.shape));if(2!==r.shape.length)throw new Error("Indices must be a matrix, saw:\n         ".concat(r.shape));if(1!==a.shape.length)throw new Error("Values must be a vector, saw:\n         ".concat(a.shape));if(0!==i.shape.length)throw new Error("Default value must be a scalar, saw:\n        ".concat(i.shape));var s=n.readSync(r.dataId),u=n.readSync(a.dataId),c=n.readSync(o.dataId),l=n.readSync(i.dataId)[0],p=Ok(s,r.shape,r.dtype,u,a.dtype,c,l),d=(0,f.Z)(p,5),h=d[0],v=d[1],m=d[2],g=d[3],y=d[4];return[n.makeTensorInfo(v,r.dtype,h),n.makeTensorInfo([v[0]],a.dtype,m),n.makeTensorInfo([g.length],"bool",new Uint8Array(g.map((function(e){return Number(e)})))),n.makeTensorInfo([y.length],r.dtype,new Int32Array(y))]}};var lO={kernelName:l.nhH,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.inputIndices,a=t.inputShape,o=t.newShape;if(2!==r.shape.length)throw new Error("Input indices should be a matrix but received shape ".concat(r.shape));if(1!==a.shape.length)throw new Error("Input shape should be a vector but received shape ".concat(a.shape));if(1!==o.shape.length)throw new Error("Target shape should be a vector but received shape ".concat(o.shape));var i=Array.from(n.readSync(a.dataId)),s=n.readSync(r.dataId),u=Array.from(n.readSync(o.dataId)),c=_k(s,r.shape,r.dtype,i,u),l=(0,f.Z)(c,3),p=l[0],d=l[1],h=l[2];return[n.makeTensorInfo(d,r.dtype,p),n.makeTensorInfo([h.length],o.dtype,new Int32Array(h))]}};var fO={kernelName:l.w3H,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.data,a=t.indices,o=t.segmentIds;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error("Indices should be a vector but received shape\n              ".concat(a.shape));if(1!==o.shape.length)throw new Error("Segment ids should be a vector but received shape\n              ".concat(o.shape));var i=n.readSync(r.dataId),s=n.readSync(a.dataId),u=n.readSync(o.dataId),c=Dk(i,r.shape,r.dtype,s,u,!0),l=(0,f.Z)(c,2),p=l[0],d=l[1];return n.makeTensorInfo(d,r.dtype,p)}};var pO={kernelName:l.ZjV,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.data,a=t.indices,o=t.segmentIds;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==a.shape.length)throw new Error("Indices should be a vector but received shape\n             ".concat(a.shape));if(1!==o.shape.length)throw new Error("Segment ids should be a vector but received shape\n             ".concat(o.shape));var i=n.readSync(r.dataId),s=n.readSync(a.dataId),u=n.readSync(o.dataId),c=Dk(i,r.shape,r.dtype,s,u),l=(0,f.Z)(c,2),p=l[0],d=l[1];return n.makeTensorInfo(d,r.dtype,p)}};var dO={kernelName:l.D2d,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.sparseIndices,o=t.sparseValues,i=t.defaultValue,s=r.outputShape,u=l.Wap.calculateShapes(o,a,s),c=u.sliceRank,f=u.numUpdates,p=u.sliceSize,d=u.strides,h=u.outputSize;if("string"===o.dtype){var v=n.bufferSync(a),m=n.bufferSync(o),g=l.D5U.decodeString(n.readSync(i.dataId)[0]),y=Ck(v,m,s,h,p,f,c,d,g,false);return n.makeTensorInfo(s,y.dtype,y.values)}var b=new VI(f,c,a.shape.length,o.shape.length,d,[h,1],false),x=n.runWebGLProgram(b,[o,a,i],o.dtype),w=jS({inputs:{x:x},backend:n,attrs:{shape:s}});return n.disposeIntermediateTensorInfo(x),w}};var hO={kernelName:l.L8s,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.numOrSizeSplits,i=r.axis,s=l.D5U.parseAxisParam(i,a.shape)[0],u=l.Wap.prepareSplitSize(a,o,s),c=a.shape.length,f=new Array(c).fill(0),p=a.shape.slice();return u.map((function(e){var t=(0,Qn.Z)(p);t[s]=e;var r=VE({inputs:{x:a},backend:n,attrs:{begin:f,size:t}});return f[s]+=e,r}))}},vO="return sqrt(x);",mO=IS({opSnippet:vO,packedOpSnippet:vO,cpuKernelImpl:Ak}),gO={kernelName:l.FKq,backendName:"webgl",kernelFunc:mO},yO=IS({opSnippet:"return x * x;"}),bO={kernelName:l.bK0,backendName:"webgl",kernelFunc:yO},xO="return (a - b) * (a - b);",wO=OS({opSnippet:xO,packedOpSnippet:xO}),kO={kernelName:l._tC,backendName:"webgl",kernelFunc:wO};var SO={kernelName:l.h8e,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=t.x,o=Qk+"\n    return x > 0.0 ? 1.0 : float(".concat(n.alpha,");\n  "),i=new Yk(a.shape,o);return r.runWebGLProgram(i,[a],a.dtype)}},EO=(0,oa.Z)((function e(t,n,r){(0,aa.Z)(this,e),this.variableNames=["x"],this.outputShape=r;var a=r.length,o=Nw(r.length),i=Nw(r.length),s="";if(1===a)s="coords * strides + begin";else{var u=0;s=r.map((function(e,t){return u++,1===r.length?"coords * strides[".concat(t,"] + begin[").concat(t,"]"):"coords[".concat(u-1,"] * strides[").concat(t,"] + begin[").concat(t,"]")})).join(",")}this.userCode="\n      ".concat(o," begin = ").concat(o,"(").concat(t,");\n      ").concat(o," strides = ").concat(o,"(").concat(n,");\n\n      void main() {\n        ").concat(i," coords = getOutputCoords();\n        setOutput(getX(").concat(s,"));\n      }\n    ")}));var CO={kernelName:l.jQk,backendName:"webgl",kernelFunc:function(e){var t,n=e.inputs,r=e.backend,a=e.attrs,o=n.x,i=a.begin,s=a.end,u=a.strides,c=a.beginMask,f=a.endMask,p=a.ellipsisMask,d=a.newAxisMask,h=a.shrinkAxisMask,v=l.kuN.sliceInfo(o.shape,i,s,u,c,f,p,d,h),m=v.finalShapeSparse,g=v.finalShape,y=v.isIdentity,b=v.sliceDim0,x=v.isSimpleSlice,w=v.begin,k=v.end,S=v.strides;if(y)t=jS({inputs:{x:o},backend:r,attrs:{shape:g}});else if(b||x){l.D5U.assert(o.shape.length>=1,(function(){return"Input must have rank at least 1, got: ".concat(o.shape.length)}));var E=l.kuN.computeOutShape(w,k,S),C=VE({inputs:{x:o},backend:r,attrs:{begin:w,size:E}});t=jS({inputs:{x:C},backend:r,attrs:{shape:g}}),r.disposeIntermediateTensorInfo(C)}else{if(r.shouldExecuteOnCPU([o])){var N=r.readSync(o.dataId),T=(0,l.f3b)(o.shape,o.dtype,N),I=Rk(m,T,S,w);t=r.makeTensorInfo(g,o.dtype,I.values)}else{var O=new EO(w,S,m);t=r.runWebGLProgram(O,[o],o.dtype)}}var _=jS({inputs:{x:t},backend:r,attrs:{shape:g}});return r.disposeIntermediateTensorInfo(t),_}};var NO={kernelName:l._JP,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=r.separator,o=r.nGramWidths,i=r.leftPad,s=r.rightPad,u=r.padWidth,c=r.preserveShortSequences,l=t.data,p=t.dataSplits,d=n.readSync(l.dataId),h=n.readSync(p.dataId),v=Pk(d,h,a,o,i,s,u,c),m=(0,f.Z)(v,2),g=m[0],y=m[1];return[n.makeTensorInfo([g.length],"string",g),n.makeTensorInfo(p.shape,"int32",y)]}};var TO={kernelName:l.s1s,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.skipEmpty,a=t.input,o=t.delimiter;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(1!==a.shape.length)throw new Error("Input must be a vector, got shape: ".concat(a.shape));if(0!==o.shape.length)throw new Error("Delimiter must be a scalar, got shape: ".concat(o.shape));var i=n.readSync(a.dataId),s=n.readSync(o.dataId)[0],u=Mk(i,s,r),c=(0,f.Z)(u,3),l=c[0],p=c[1],d=c[2],h=p.length;return[n.makeTensorInfo([h,2],"int32",l),n.makeTensorInfo([h],"string",p),n.makeTensorInfo([2],"int32",new Int32Array(d))]}};var IO={kernelName:l.XkS,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs.numBuckets,a=t.input;if("string"!==a.dtype)throw new Error("Input must be of datatype string");if(r<=0)throw new Error("Number of buckets must be at least 1");var o=n.readSync(a.dataId),i=Fk(o,r);return n.makeTensorInfo(a.shape,"int32",i)}},OO=IS({opSnippet:"return tan(x);"}),_O={kernelName:l.sEM,backendName:"webgl",kernelFunc:OO},DO=IS({opSnippet:"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n"}),AO={kernelName:l.MIZ,backendName:"webgl",kernelFunc:DO},RO=(0,oa.Z)((function e(t,n){(0,aa.Z)(this,e),this.variableNames=["A"];for(var r=new Array(t.length),a=0;a<r.length;a++)r[a]=t[a]*n[a];this.outputShape=r,this.rank=r.length;var o=Nw(this.rank),i=function(e){var t=e.length;if(t>5)throw Error("Tile for rank ".concat(t," is not yet supported"));if(1===t)return"imod(resRC, ".concat(e[0],")");for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[],a=0;a<e.length;a++)r.push("imod(".concat(n[a],", ").concat(e[a],")"));return r.join()}(t);this.userCode="\n      void main() {\n        ".concat(o," resRC = getOutputCoords();\n        setOutput(getA(").concat(i,"));\n      }\n    ")}));function PO(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.reps;if("string"===a.dtype||a.shape.length>5){var i=n.readSync(a.dataId),s="string"===a.dtype?i.map((function(e){return l.D5U.decodeString(e)})):i,u=(0,l.f3b)(a.shape,a.dtype,s),c=jk(u,o);return n.makeTensorInfo(c.shape,c.dtype,c.values)}var f=new RO(a.shape,o);return n.runWebGLProgram(f,[a],a.dtype)}var MO={kernelName:l.n9L,backendName:"webgl",kernelFunc:PO},FO=(0,oa.Z)((function e(t){(0,aa.Z)(this,e),this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"negativeInf",type:"float"},{name:"dir",type:"int"},{name:"inc",type:"int"}],this.outputShape=t,this.userCode="\n       void main() {\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // We compare elements pair-wise within a group of size 2 * inc.\n         // The comparing rule for each group alternates between ascending\n         // and descending. Within each group, we compare each pair at\n         // positions i and i+inc. To decide whether an element at position i\n         // is x0 or x1, we mod it by 2 * inc, if the result is smaller than\n         // inc, it is in the first half of the group, we denote it as x0,\n         // otherwise we denote it as x1.\n         // For example, as shown in the Bitonic top K paper referenced above,\n         // Figure5(a) shows that element[1] is in the\n         // second half of the group when group size is 2, but it is in the\n         // first half of the group when group size is 4.\n\n         bool isFirstInPair = imod(elemIdx, 2 * inc) < inc;\n         int i = isFirstInPair ? elemIdx : elemIdx - inc;\n\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + inc : int(getIndices(batch, i + inc));\n         float x0 = i0 < n ? getX(batch, i0) : negativeInf;\n         float x1 = i1 < n ? getX(batch, i1) : negativeInf;\n\n         // Denotes which direction indices are in (ascending or descending).\n         bool reverse = imod(elemIdx, 2 * dir) >= dir;\n         bool isGreater = x0 > x1 || (x0 == x1 && i1 > i0);\n         if (reverse == isGreater) { // Elements in opposite order of direction\n           int iTemp = i0;\n           i0 = i1;\n           i1 = iTemp;\n         }\n         if (isFirstInPair) {\n            setOutput(float(i0));\n         } else {\n            setOutput(float(i1));\n         }\n       }\n     "})),LO=(0,oa.Z)((function e(t){(0,aa.Z)(this,e),this.variableNames=["x","indices"],this.customUniforms=[{name:"n",type:"int"},{name:"firstPass",type:"int"},{name:"k",type:"int"}],this.outputShape=t,this.userCode="\n    void main() {\n         // Takes max of indices (0, k), (1, k + 1), (2, k + 2) ...\n         ivec2 coords = getOutputCoords();\n         int batch = coords[0];\n         int elemIdx = coords[1];\n\n         // The output size is half of the previous size.\n         // If the previous sequence is | | | | _ _ _ _  | | | |  _ _ _ _ (k=4),\n         // we only need to output the indices at positions |, the indices at\n         // positions _ can be thrown away, see Figure5(b) After Phase 2\n         // (Merge phase) in the Bitonic Top K paper referenced above.\n         // For example, the paper shows we only need to output the orange bars.\n         // The output sequence should look like this | | | | | | | |.\n         // Because the sequence is halved, to map the output index back\n         // to the previous sequence to find the corresponding value,\n         // we need to double the index. When we double the index,\n         // we basically interpolate a position, so 2i looks like\n         // | _ | _ | _ | _ | _ | _ | _. We move the | to the first k position\n         // of each 2k positions by - elemIdx % k. E.g. for output at\n         // index 4,5,6,7, we want to get the corresponding element at\n         // original index 8,9,10,11, for output at index 8,9,10,11,\n         // we want to get the corresponding element at original index\n         // 16,17,18,19, so on and so forth.\n\n         int i = elemIdx < k ? elemIdx : (elemIdx * 2 - imod(elemIdx, k));\n         int i0 = firstPass == 1 ? i : int(getIndices(batch, i));\n         int i1 = firstPass == 1 ? i + k : int(getIndices(batch, i + k));\n\n         float x0 = getX(batch, i0);\n         float x1 = i1 < n ? getX(batch, i1) : x0;\n\n         setOutput(x0 >= x1 ? float(i0) : float(i1));\n       }\n     "}));function jO(e,t){null!==t&&e.disposeIntermediateTensorInfo(t)}function ZO(e){for(var t=1;t<e;)t*=2;return t}var zO={kernelName:l.cWu,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=r.k,i=r.sorted,s=(0,l.OBj)().getNumber("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD"),u=(0,l.OBj)().getNumber("TOPK_K_CPU_HANDOFF_THRESHOLD"),c=a.shape,p=c[c.length-1];if(n.shouldExecuteOnCPU([a])||p<s||o>u){var d=n.readSync(a.dataId),h=Zk(d,c,a.dtype,o,i),v=(0,f.Z)(h,2),m=v[0],g=v[1];return[n.makeTensorInfo(m.shape,m.dtype,m.values),n.makeTensorInfo(g.shape,g.dtype,g.values)]}if(0===o)return c[c.length-1]=0,[n.makeTensorInfo(c,a.dtype,[]),n.makeTensorInfo(c,"int32",[])];if(1===p)return[a,CN({attrs:{shape:c,dtype:"int32",value:0},backend:n})];var y=n.texData.get(a.dataId),b=null!==y&&y.isPacked,x=b?n.unpackTensor(a):a,w=l.D5U.sizeFromShape(c)/p,k=jS({inputs:{x:x},attrs:{shape:[w,p]},backend:n});b&&jO(n,x);for(var S=ZO(o),E=ZO(p),C=null,N=function(){return null===C?[k,k]:[k,C]},T=function(e,t,r){var a=N(),o=new FO(r),i=[[p],[null===C?1:0],[Number.NEGATIVE_INFINITY],[e],[t]],s=C;C=n.runWebGLProgram(o,a,"int32",i),jO(n,s)},I=1;I<S;I*=2)for(var O=2*I,_=I;_>=1;_/=2)T(O,_,[w,E]);for(var D=E;D>S;D/=2){var A=N(),R=new LO([w,D/2]),P=[[p],[null===C?1:0],[S]],M=C;C=n.runWebGLProgram(R,A,"int32",P),jO(n,M);for(var F=S/2,L=2*F,j=F;j>=1;j/=2)T(L,j,C.shape)}var Z=C;C=VE({inputs:{x:C},backend:n,attrs:{begin:0,size:[w,o]}}),jO(n,Z);var z=WN({inputs:{x:k,indices:C},backend:n,attrs:{axis:1,batchDims:1}});jO(n,k);var B=c.slice(0,-1);B.push(o),Z=C,C=jS({inputs:{x:C},attrs:{shape:B},backend:n}),jO(n,Z);var U=z;return z=jS({inputs:{x:z},attrs:{shape:B},backend:n}),jO(n,U),[z,C]}},BO=(0,oa.Z)((function e(t,n,r,a,o,i){(0,aa.Z)(this,e),this.variableNames=["Image","Transforms"],this.outputShape=i;var s,u="nearest"===r?1:2;switch(a){case"constant":default:s=1;break;case"reflect":s=2;break;case"wrap":s=3;break;case"nearest":s=4}this.userCode="\n            float mapCoord(float outCoord, float len) {\n              float inCoord = outCoord;\n              if(".concat(s," == 2) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    if (inCoord < sz2) {\n                      inCoord = sz2 * float(int(float(-inCoord / sz2))) +\n                      inCoord;\n                    }\n                    inCoord = inCoord < -len ? inCoord + sz2 : -inCoord - 1.0;\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz2 = 2.0 * len;\n                    inCoord -= sz2 * float(int(float(inCoord / sz2)));\n                    if (inCoord >= len) {\n                      inCoord = sz2 - inCoord - 1.0;\n                    }\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (").concat(s," == 3) {\n                if (inCoord < 0.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord += len * (float(int(float(-inCoord / sz))) + 1.0);\n                  }\n                } else if (inCoord > len - 1.0) {\n                  if (len <= 1.0) {\n                    inCoord = 0.0;\n                  } else {\n                    float sz = len - 1.0;\n                    inCoord -= len * float(int(float(inCoord / sz)));\n                  }\n                }\n                return clamp(inCoord, 0.0, len - 1.0);\n              } else if (").concat(s," == 4) {\n                return clamp(outCoord, 0.0, len - 1.0);\n              } else {\n                return outCoord;\n              }\n            }\n\n            float readWithFillValue(int batch, int coordY, int coordX,\n              int channel) {\n              float outputValue;\n              if (0 <= coordY && coordY < ").concat(t," && 0 <= coordX && coordX < ").concat(n,") {\n                  outputValue = getImage(batch, coordY, coordX, channel);\n              } else {\n                outputValue = float(").concat(o,");\n              }\n              return outputValue;\n            }\n\n            void main() {\n              ivec4 coords = getOutputCoords();\n              float outputValue;\n              int batch = coords[0];\n              int x = coords[2];\n              int y = coords[1];\n              int channel = coords[3];\n              float xf = float(x);\n              float yf = float(y);\n              float a1 = getTransforms(batch, 0);\n              float a2 = getTransforms(batch, 1);\n              float a3 = getTransforms(batch, 2);\n              float b1 = getTransforms(batch, 3);\n              float b2 = getTransforms(batch, 4);\n              float b3 = getTransforms(batch, 5);\n              float c1 = getTransforms(batch, 6);\n              float c2 = getTransforms(batch, 7);\n              float projection = c1 * xf + c2 * yf + 1.0;\n              if (projection == 0.0) {\n                outputValue = float(").concat(o,");\n              } else {\n                float inX = (a1 * xf + a2 * yf + a3) / projection;\n                float inY = (b1 * xf + b2 * yf + b3) / projection;\n                float mapX = mapCoord(inX, float(").concat(n,"));\n                float mapY = mapCoord(inY, float(").concat(t,"));\n\n                if (").concat(u," == 1) {\n                  int coordY = int(round(mapY));\n                  int coordX = int(round(mapX));\n                  outputValue = readWithFillValue(batch, coordY, coordX,\n                    channel);\n                } else {\n                  float yFloor = floor(mapY);\n                  float xFloor = floor(mapX);\n                  float yCeil = yFloor + 1.0;\n                  float xCeil = xFloor + 1.0;\n                  float valueYFloor = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yFloor), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yFloor), int(xCeil), channel);\n                  float valueYCeil = (xCeil - mapX) *\n                  readWithFillValue(batch, int(yCeil), int(xFloor), channel) +\n                  (mapX - xFloor) *\n                  readWithFillValue(batch, int(yCeil), int(xCeil), channel);\n                  outputValue = (yCeil - mapY) * valueYFloor +\n                  (mapY - yFloor) * valueYCeil;\n                }\n              }\n              setOutput(outputValue);\n            }\n        ")}));var UO={kernelName:l.wx7,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.image,o=t.transforms,i=r.interpolation,s=r.fillMode,u=r.fillValue,c=r.outputShape,l=(0,f.Z)(a.shape,4),p=l[0],d=l[1],h=l[2],v=l[3],m=null!=c?c:[d,h],g=(0,f.Z)(m,2),y=g[0],b=g[1],x=new BO(d,h,i,s,u,[p,y,b,v]);return n.runWebGLProgram(x,[a,o],"float32")}};var WO={kernelName:l.kpP,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.attrs,r=e.backend,a=n.axis,o=t.x;Jx(o,"unique"),console.warn("WARNING: ","UI might be locked temporarily as data is being downloaded");var i=r.readSync(o.dataId),s=Bk(i,a,o.shape,o.dtype),u=s.outputValues,c=s.outputShape,l=s.indices;return[r.makeTensorInfo(c,o.dtype,u),r.makeTensorInfo([l.length],"int32",l)]}};var VO={kernelName:l.ToN,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.value,o=r.axis;o<0&&(o+=a.shape.length);for(var i=a,s=i.shape.length,u=a.shape[o],c=new Array(s-1),l=0,f=0;f<s;f++)f!==o&&(c[l++]=i.shape[f]);var p=[],d=new Array(s).fill(0),h=i.shape.slice();h[o]=1;for(var v=new Array(u),m=0;m<v.length;m++){d[o]=m;var g=VE({inputs:{x:i},backend:n,attrs:{begin:d,size:h}}),y=jS({inputs:{x:g},backend:n,attrs:{shape:c}});v[m]=y,p.push(g)}return p.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),v}},HO=(0,oa.Z)((function e(t,n){(0,aa.Z)(this,e),this.variableNames=["x","segmentIds"];var r=t.windowSize,a=t.batchSize,o=t.inSize,i=t.numSegments,s=i*Math.ceil(o/r);this.outputShape=[a,s];var u=4*Math.floor(r/4),c=r%4,l="\n        sumValue += dot(values, segFilter);\n    ",f="";o%r>0&&(f="\n        if (inIdx < 0 || inIdx >= ".concat(o,") {\n          return initializationValue;\n        }\n      "));var p="";o%r>0&&(p="\n        if (inIdx < 0 || inIdx >= ".concat(o,") {\n          return -1.0;\n        }\n      ")),this.userCode="\n      const float initializationValue = ".concat("0.0",";\n\n      float getValue(int batch, int inIdx) {\n        ").concat(f,"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        ").concat(p,"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          ").concat(i,")) * float(").concat(r,"));\n        int currentSeg = int(mod(float(outIdx), float(").concat(i,")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < ").concat(u,"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          ").concat(l,"\n        }\n\n        int inIdx = inOffset + ").concat(u,";\n        if (").concat(1===c,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          ").concat(l,"\n        } else if (").concat(2===c,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          ").concat(l,"\n        } else if (").concat(3===c,") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          ").concat(l,"\n        }\n        setOutput(").concat("sumValue",");\n      }\n    ")}));for(var GO={kernelName:l.Qvg,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,a=t.x,o=t.segmentIds,i=r.numSegments,s=a.shape.length,u=[],c=0,f=l.Wap.getAxesPermutation([c],s),p=a;null!=f&&(p=XS({inputs:{x:a},backend:n,attrs:{perm:f}}),u.push(p),c=l.Wap.getInnerMostAxes(1,s)[0]);var d=l.Wap.segment_util.computeOutShape(p.shape,c,i),h=l.D5U.sizeFromShape([p.shape[c]]),v=jS({inputs:{x:p},backend:n,attrs:{shape:[-1,h]}});u.push(v);var m=function e(t,r,a,o,i){var s=t.shape[0],c=t.shape[1],f=l.Wap.segment_util.segOpComputeOptimalWindowSize(c,i),p=new HO({windowSize:f,inSize:c,batchSize:s,numSegments:i},r),d=n.compileAndRun(p,[t,a],o);if(u.push(d),d.shape[1]===i)return d;var h=gI({backend:n,attrs:{start:0,stop:i,step:1,dtype:"float32"}}),v=PO({inputs:{x:h},backend:n,attrs:{reps:[c/f]}});return u.push(h),u.push(v),e(d,r,v,o,i)}(v,"unsortedSegmentSum",o,(0,l.z4k)(a.dtype),i),g=jS({inputs:{x:m},backend:n,attrs:{shape:d}}),y=g;if(null!=f){u.push(g);var b=l.Wap.getUndoAxesPermutation(f);y=XS({inputs:{x:y},backend:n,attrs:{perm:b}})}return u.forEach((function(e){return n.disposeIntermediateTensorInfo(e)})),y}},qO=0,XO=[QS,JS,tE,rE,iE,cE,lE,fE,gE,yE,xE,kE,EE,NE,IE,DE,AE,ME,FE,LE,zE,GE,qE,XE,JE,nC,oC,wS,uC,mC,SC,IC,OC,_C,DC,RC,MC,LC,ZC,VC,HC,GC,XC,QC,eN,tN,rN,oN,iN,uN,cN,fN,dN,vN,gN,xN,SN,TN,ON,AN,PN,LN,jN,ZN,BN,VN,GN,XN,bS,KN,dC,QN,JN,tT,ES,rT,oT,iT,uT,lT,pT,hT,mT,bT,wT,ST,CT,NT,TT,_T,DT,AT,RT,PT,FT,ZT,BT,YT,LS,QT,JT,tI,rI,YE,oI,uI,cI,dI,vI,TS,mI,yI,$E,VT,xI,kI,EI,ZS,TI,OI,AI,PI,LI,ZI,BI,WI,HI,qI,KI,QI,JI,tO,rO,oO,HE,KT,sO,uO,cO,lO,fO,pO,dO,hO,gO,bO,kO,SO,CO,NO,TO,IO,qT,qS,_O,AO,MO,zO,UO,KS,WO,VO,GO,sI];qO<XO.length;qO++){var KO=XO[qO];(0,l.wCN)(KO)}var YO={"tfjs-core":l.jTM,"tfjs-backend-cpu":"3.17.0","tfjs-backend-webgl":"3.17.0","tfjs-data":th,"tfjs-layers":Ys,"tfjs-converter":jp.gJ,tfjs:"3.17.0"}},2596:function(e){"use strict";function t(e,n,r){for(var a=0;a<e.length;a++){var o=e[a];r>0&&Array.isArray(o)?t(o,n,r-1):n.push(o)}return n}function n(e,t){for(var r=0;r<e.length;r++){var a=e[r];Array.isArray(a)?n(a,t):t.push(a)}return t}e.exports=function(e,r){if(null==r)return n(e,[]);return t(e,[],r)}},9998:function(e,t){"use strict";t.Z=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",a=(e.type||"").toLowerCase(),o=a.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim().toLowerCase();return"."===t.charAt(0)?r.toLowerCase().endsWith(t):t.endsWith("/*")?o===t.replace(/\/.*$/,""):a===t}))}return!0}},221:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e,t,n){var a=n.value;if("function"!==typeof a)throw new TypeError("@boundMethod decorator can only be applied to methods not: ".concat(r(a)));var o=!1;return{configurable:!0,get:function(){if(o||this===e.prototype||this.hasOwnProperty(t)||"function"!==typeof a)return a;var n=a.bind(this);return o=!0,Object.defineProperty(this,t,{configurable:!0,get:function(){return n},set:function(e){a=e,delete this[t]}}),o=!1,n},set:function(e){a=e}}}function o(e){var t;return"undefined"!==typeof Reflect&&"function"===typeof Reflect.ownKeys?t=Reflect.ownKeys(e.prototype):(t=Object.getOwnPropertyNames(e.prototype),"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e.prototype)))),t.forEach((function(t){if("constructor"!==t){var n=Object.getOwnPropertyDescriptor(e.prototype,t);"function"===typeof n.value&&Object.defineProperty(e.prototype,t,a(e,t,n))}})),e}function i(){return 1===arguments.length?o.apply(void 0,arguments):a.apply(void 0,arguments)}n.r(t),n.d(t,{boundClass:function(){return o},boundMethod:function(){return a},default:function(){return i}})},4569:function(e,t,n){e.exports=n(8036)},3381:function(e,t,n){"use strict";var r=n(3589),a=n(7297),o=n(9301),i=n(9774),s=n(1804),u=n(9145),c=n(5411),l=n(6467),f=n(6789),p=n(9346);e.exports=function(e){return new Promise((function(t,n){var d,h=e.data,v=e.headers,m=e.responseType;function g(){e.cancelToken&&e.cancelToken.unsubscribe(d),e.signal&&e.signal.removeEventListener("abort",d)}r.isFormData(h)&&delete v["Content-Type"];var y=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",x=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";v.Authorization="Basic "+btoa(b+":"+x)}var w=s(e.baseURL,e.url);function k(){if(y){var r="getAllResponseHeaders"in y?u(y.getAllResponseHeaders()):null,o={data:m&&"text"!==m&&"json"!==m?y.response:y.responseText,status:y.status,statusText:y.statusText,headers:r,config:e,request:y};a((function(e){t(e),g()}),(function(e){n(e),g()}),o),y=null}}if(y.open(e.method.toUpperCase(),i(w,e.params,e.paramsSerializer),!0),y.timeout=e.timeout,"onloadend"in y?y.onloadend=k:y.onreadystatechange=function(){y&&4===y.readyState&&(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))&&setTimeout(k)},y.onabort=function(){y&&(n(l("Request aborted",e,"ECONNABORTED",y)),y=null)},y.onerror=function(){n(l("Network Error",e,null,y)),y=null},y.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||f;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",y)),y=null},r.isStandardBrowserEnv()){var S=(e.withCredentials||c(w))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;S&&(v[e.xsrfHeaderName]=S)}"setRequestHeader"in y&&r.forEach(v,(function(e,t){"undefined"===typeof h&&"content-type"===t.toLowerCase()?delete v[t]:y.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(y.withCredentials=!!e.withCredentials),m&&"json"!==m&&(y.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&y.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&y.upload&&y.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(d=function(e){y&&(n(!e||e&&e.type?new p("canceled"):e),y.abort(),y=null)},e.cancelToken&&e.cancelToken.subscribe(d),e.signal&&(e.signal.aborted?d():e.signal.addEventListener("abort",d))),h||(h=null),y.send(h)}))}},8036:function(e,t,n){"use strict";var r=n(3589),a=n(4049),o=n(3773),i=n(777);var s=function e(t){var n=new o(t),s=a(o.prototype.request,n);return r.extend(s,o.prototype,n),r.extend(s,n),s.create=function(n){return e(i(t,n))},s}(n(1709));s.Axios=o,s.Cancel=n(9346),s.CancelToken=n(6857),s.isCancel=n(5517),s.VERSION=n(7600).version,s.all=function(e){return Promise.all(e)},s.spread=n(8089),s.isAxiosError=n(9580),e.exports=s,e.exports.default=s},9346:function(e){"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},6857:function(e,t,n){"use strict";var r=n(9346);function a(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}a.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},a.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},a.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},a.source=function(){var e;return{token:new a((function(t){e=t})),cancel:e}},e.exports=a},5517:function(e){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},3773:function(e,t,n){"use strict";var r=n(3589),a=n(9774),o=n(7470),i=n(2733),s=n(777),u=n(7835),c=u.validators;function l(e){this.defaults=e,this.interceptors={request:new o,response:new o}}l.prototype.request=function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&u.assertOptions(n,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var r=[],a=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var o,l=[];if(this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)})),!a){var f=[i,void 0];for(Array.prototype.unshift.apply(f,r),f=f.concat(l),o=Promise.resolve(t);f.length;)o=o.then(f.shift(),f.shift());return o}for(var p=t;r.length;){var d=r.shift(),h=r.shift();try{p=d(p)}catch(v){h(v);break}}try{o=i(p)}catch(v){return Promise.reject(v)}for(;l.length;)o=o.then(l.shift(),l.shift());return o},l.prototype.getUri=function(e){return e=s(this.defaults,e),a(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=l},7470:function(e,t,n){"use strict";var r=n(3589);function a(){this.handlers=[]}a.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},a.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},a.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=a},1804:function(e,t,n){"use strict";var r=n(4044),a=n(9549);e.exports=function(e,t){return e&&!r(t)?a(e,t):t}},6467:function(e,t,n){"use strict";var r=n(6460);e.exports=function(e,t,n,a,o){var i=new Error(e);return r(i,t,n,a,o)}},2733:function(e,t,n){"use strict";var r=n(3589),a=n(2693),o=n(5517),i=n(1709),s=n(9346);function u(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s("canceled")}e.exports=function(e){return u(e),e.headers=e.headers||{},e.data=a.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||i.adapter)(e).then((function(t){return u(e),t.data=a.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(u(e),t&&t.response&&(t.response.data=a.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},6460:function(e){"use strict";e.exports=function(e,t,n,r,a){return e.config=t,n&&(e.code=n),e.request=r,e.response=a,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},777:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){t=t||{};var n={};function a(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function o(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:a(void 0,e[n]):a(e[n],t[n])}function i(e){if(!r.isUndefined(t[e]))return a(void 0,t[e])}function s(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:a(void 0,e[n]):a(void 0,t[n])}function u(n){return n in t?a(e[n],t[n]):n in e?a(void 0,e[n]):void 0}var c={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||o,a=t(e);r.isUndefined(a)&&t!==u||(n[e]=a)})),n}},7297:function(e,t,n){"use strict";var r=n(6467);e.exports=function(e,t,n){var a=n.config.validateStatus;n.status&&a&&!a(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},2693:function(e,t,n){"use strict";var r=n(3589),a=n(1709);e.exports=function(e,t,n){var o=this||a;return r.forEach(n,(function(n){e=n.call(o,e,t)})),e}},1709:function(e,t,n){"use strict";var r=n(3589),a=n(4341),o=n(6460),i=n(6789),s={"Content-Type":"application/x-www-form-urlencoded"};function u(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c={transitional:i,adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=n(3381)),e}(),transformRequest:[function(e,t){return a(t,"Accept"),a(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(u(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(u(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(a){if("SyntaxError"!==a.name)throw a}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||c.transitional,n=t&&t.silentJSONParsing,a=t&&t.forcedJSONParsing,i=!n&&"json"===this.responseType;if(i||a&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(i){if("SyntaxError"===s.name)throw o(s,this,"E_JSON_PARSE");throw s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){c.headers[e]=r.merge(s)})),e.exports=c},6789:function(e){"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},7600:function(e){e.exports={version:"0.26.1"}},4049:function(e){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},9774:function(e,t,n){"use strict";var r=n(3589);function a(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var i=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),i.push(a(t)+"="+a(e))})))})),o=i.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},9549:function(e){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},9301:function(e,t,n){"use strict";var r=n(3589);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,a,o,i){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(a)&&s.push("path="+a),r.isString(o)&&s.push("domain="+o),!0===i&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},4044:function(e){"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},9580:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},5411:function(e,t,n){"use strict";var r=n(3589);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function a(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=a(window.location.href),function(t){var n=r.isString(t)?a(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},4341:function(e,t,n){"use strict";var r=n(3589);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},9145:function(e,t,n){"use strict";var r=n(3589),a=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,i={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(i[t]&&a.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([n]):i[t]?i[t]+", "+n:n}})),i):i}},8089:function(e){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},7835:function(e,t,n){"use strict";var r=n(7600).version,a={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){a[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={};a.transitional=function(e,t,n){function a(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,i){if(!1===e)throw new Error(a(r," has been removed"+(t?" in "+t:"")));return t&&!o[r]&&(o[r]=!0,console.warn(a(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,i)}},e.exports={assertOptions:function(e,t,n){if("object"!==typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),a=r.length;a-- >0;){var o=r[a],i=t[o];if(i){var s=e[o],u=void 0===s||i(s,o,e);if(!0!==u)throw new TypeError("option "+o+" must be "+u)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:a}},3589:function(e,t,n){"use strict";var r=n(4049),a=Object.prototype.toString;function o(e){return Array.isArray(e)}function i(e){return"undefined"===typeof e}function s(e){return"[object ArrayBuffer]"===a.call(e)}function u(e){return null!==e&&"object"===typeof e}function c(e){if("[object Object]"!==a.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function l(e){return"[object Function]"===a.call(e)}function f(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}e.exports={isArray:o,isArrayBuffer:s,isBuffer:function(e){return null!==e&&!i(e)&&null!==e.constructor&&!i(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===a.call(e)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&s(e.buffer)},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:u,isPlainObject:c,isUndefined:i,isDate:function(e){return"[object Date]"===a.call(e)},isFile:function(e){return"[object File]"===a.call(e)},isBlob:function(e){return"[object Blob]"===a.call(e)},isFunction:l,isStream:function(e){return u(e)&&l(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===a.call(e)},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:f,merge:function e(){var t={};function n(n,r){c(t[r])&&c(n)?t[r]=e(t[r],n):c(n)?t[r]=e({},n):o(n)?t[r]=n.slice():t[r]=n}for(var r=0,a=arguments.length;r<a;r++)f(arguments[r],n);return t},extend:function(e,t,n){return f(t,(function(t,a){e[a]=n&&"function"===typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},600:function(e,t,n){"use strict";var r=n.g.Promise},1694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var i=a.apply(null,n);i&&e.push(i)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},9702:function(e,t){"use strict";t.Q=function(e,t){if("string"!==typeof e)throw new TypeError("argument str must be a string");for(var r={},o=t||{},s=e.split(a),u=o.decode||n,c=0;c<s.length;c++){var l=s[c],f=l.indexOf("=");if(!(f<0)){var p=l.substr(0,f).trim(),d=l.substr(++f,l.length).trim();'"'==d[0]&&(d=d.slice(1,-1)),void 0==r[p]&&(r[p]=i(d,u))}}return r},t.q=function(e,t,n){var a=n||{},i=a.encode||r;if("function"!==typeof i)throw new TypeError("option encode is invalid");if(!o.test(e))throw new TypeError("argument name is invalid");var s=i(t);if(s&&!o.test(s))throw new TypeError("argument val is invalid");var u=e+"="+s;if(null!=a.maxAge){var c=a.maxAge-0;if(isNaN(c)||!isFinite(c))throw new TypeError("option maxAge is invalid");u+="; Max-Age="+Math.floor(c)}if(a.domain){if(!o.test(a.domain))throw new TypeError("option domain is invalid");u+="; Domain="+a.domain}if(a.path){if(!o.test(a.path))throw new TypeError("option path is invalid");u+="; Path="+a.path}if(a.expires){if("function"!==typeof a.expires.toUTCString)throw new TypeError("option expires is invalid");u+="; Expires="+a.expires.toUTCString()}a.httpOnly&&(u+="; HttpOnly");a.secure&&(u+="; Secure");if(a.sameSite){switch("string"===typeof a.sameSite?a.sameSite.toLowerCase():a.sameSite){case!0:u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"strict":u+="; SameSite=Strict";break;case"none":u+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return u};var n=decodeURIComponent,r=encodeURIComponent,a=/; */,o=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function i(e,t){try{return t(e)}catch(n){return e}}},9948:function(e){"use strict";var t=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)};var n="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(e,t){return!1!==t.clone&&t.isMergeableObject(e)?u((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function a(e,t,n){return e.concat(t).map((function(e){return r(e,n)}))}function o(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function i(e,t){try{return t in e}catch(n){return!1}}function s(e,t,n){var a={};return n.isMergeableObject(e)&&o(e).forEach((function(t){a[t]=r(e[t],n)})),o(t).forEach((function(o){(function(e,t){return i(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,o)||(i(e,o)&&n.isMergeableObject(t[o])?a[o]=function(e,t){if(!t.customMerge)return u;var n=t.customMerge(e);return"function"===typeof n?n:u}(o,n)(e[o],t[o],n):a[o]=r(t[o],n))})),a}function u(e,n,o){(o=o||{}).arrayMerge=o.arrayMerge||a,o.isMergeableObject=o.isMergeableObject||t,o.cloneUnlessOtherwiseSpecified=r;var i=Array.isArray(n);return i===Array.isArray(e)?i?o.arrayMerge(e,n,o):s(e,n,o):r(n,o)}u.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return u(e,n,t)}),{})};var c=u;e.exports=c},5534:function(e){"use strict";function t(e,t){if("function"!==typeof e)throw new TypeError("argument fn must be a function");return e}function n(e,t,n){if(!e||"object"!==typeof e&&"function"!==typeof e)throw new TypeError("argument obj must be object");var r=Object.getOwnPropertyDescriptor(e,t);if(!r)throw new TypeError("must call property on owner object");if(!r.configurable)throw new TypeError("property must be configurable")}e.exports=function(e){if(!e)throw new TypeError("argument namespace is required");function r(e){}return r._file=void 0,r._ignored=!0,r._namespace=e,r._traced=!1,r._warned=Object.create(null),r.function=t,r.property=n,r}},2244:function(e,t,n){var r=n(7447),a=n(8051).each;function o(e,t){this.query=e,this.isUnconditional=t,this.handlers=[],this.mql=window.matchMedia(e);var n=this;this.listener=function(e){n.mql=e.currentTarget||e,n.assess()},this.mql.addListener(this.listener)}o.prototype={constuctor:o,addHandler:function(e){var t=new r(e);this.handlers.push(t),this.matches()&&t.on()},removeHandler:function(e){var t=this.handlers;a(t,(function(n,r){if(n.equals(e))return n.destroy(),!t.splice(r,1)}))},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){a(this.handlers,(function(e){e.destroy()})),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var e=this.matches()?"on":"off";a(this.handlers,(function(t){t[e]()}))}},e.exports=o},4e3:function(e,t,n){var r=n(2244),a=n(8051),o=a.each,i=a.isFunction,s=a.isArray;function u(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}u.prototype={constructor:u,register:function(e,t,n){var a=this.queries,u=n&&this.browserIsIncapable;return a[e]||(a[e]=new r(e,u)),i(t)&&(t={match:t}),s(t)||(t=[t]),o(t,(function(t){i(t)&&(t={match:t}),a[e].addHandler(t)})),this},unregister:function(e,t){var n=this.queries[e];return n&&(t?n.removeHandler(t):(n.clear(),delete this.queries[e])),this}},e.exports=u},7447:function(e){function t(e){this.options=e,!e.deferSetup&&this.setup()}t.prototype={constructor:t,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},e.exports=t},8051:function(e){e.exports={isFunction:function(e){return"function"===typeof e},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},each:function(e,t){for(var n=0,r=e.length;n<r&&!1!==t(e[n],n);n++);}}},8153:function(e,t,n){var r=n(4e3);e.exports=new r},3317:function(e,t,n){"use strict";var r=n(9916),a=n(8816),o=n(6338),i=n(8169),s=n(1770)("express:router"),u=n(5534)("express"),c=n(2596),l=n(2322),f=n(7354),p=/^\[object (\S+)\]$/,d=Array.prototype.slice,h=Object.prototype.toString,v=e.exports=function(e){var t=e||{};function n(e,t,r){n.handle(e,t,r)}return f(n,v),n.params={},n._params=[],n.caseSensitive=t.caseSensitive,n.mergeParams=t.mergeParams,n.strict=t.strict,n.stack=[],n};function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}function g(e){var t=typeof e;return"object"!==t?t:h.call(e).replace(p,"$1")}function y(e,t){try{return e.match(t)}catch(n){return n}}v.param=function(e,t){if("function"===typeof e)return u("router.param(fn): Refactor to use path params"),void this._params.push(e);var n,r=this._params,a=r.length;":"===e[0]&&(u("router.param("+JSON.stringify(e)+", fn): Use router.param("+JSON.stringify(e.slice(1))+", fn) instead"),e=e.slice(1));for(var o=0;o<a;++o)(n=r[o](e,t))&&(t=n);if("function"!==typeof t)throw new Error("invalid param() call for "+e+", got "+t);return(this.params[e]=this.params[e]||[]).push(t),this},v.handle=function(e,t,n){var r=this;s("dispatching %s %s",e.method,e.url);var a,o,u=0,c=function(e){if("string"!==typeof e||0===e.length||"/"===e[0])return;var t=e.indexOf("?"),n=-1!==t?t:e.length,r=e.slice(0,n).indexOf("://");return-1!==r?e.substring(0,e.indexOf("/",3+r)):void 0}(e.url)||"",f="",p=!1,d=0,h={},v=[],g=r.stack,b=e.params,x=e.baseUrl||"",w=function(e,t){for(var n=new Array(arguments.length-2),r=new Array(arguments.length-2),a=0;a<n.length;a++)n[a]=arguments[a+2],r[a]=t[n[a]];return function(){for(var a=0;a<n.length;a++)t[n[a]]=r[a];return e.apply(this,arguments)}}(n,e,"baseUrl","next","params");function k(n){var a="route"===n?null:n;if(p&&(e.url=e.url.slice(1),p=!1),0!==f.length&&(e.baseUrl=x,e.url=c+f+e.url.slice(c.length),f=""),"router"!==a)if(u>=g.length)setImmediate(w,a);else{if(++d>100)return setImmediate(k,n);var o,S,E,C=function(e){try{return l(e).pathname}catch(n){return}}(e);if(null==C)return w(a);for(;!0!==S&&u<g.length;)if(S=y(o=g[u++],C),E=o.route,"boolean"!==typeof S&&(a=a||S),!0===S&&E)if(a)S=!1;else{var N=e.method,T=E._handles_method(N);T||"OPTIONS"!==N||m(v,E._options()),T||"HEAD"===N||(S=!1)}if(!0!==S)return w(a);E&&(e.route=E),e.params=r.mergeParams?function(e,t){if("object"!==typeof t||!t)return e;var n=i({},t);if(!(0 in e)||!(0 in t))return i(n,e);var r=0,a=0;for(;r in e;)r++;for(;a in t;)a++;for(r--;r>=0;r--)e[r+a]=e[r],r<a&&delete e[r];return i(n,e)}(o.params,b):o.params;var I=o.path;r.process_params(o,h,e,t,(function(n){n?k(a||n):E?o.handle_request(e,t,k):function(n,r,a,o){if(0!==a.length){if(a!==o.slice(0,a.length))return void k(r);var i=o[a.length];if(i&&"/"!==i&&"."!==i)return k(r);s("trim prefix (%s) from url %s",a,e.url),f=a,e.url=c+e.url.slice(c.length+f.length),c||"/"===e.url[0]||(e.url="/"+e.url,p=!0),e.baseUrl=x+("/"===f[f.length-1]?f.substring(0,f.length-1):f)}s("%s %s : %s",n.name,a,e.originalUrl),r?n.handle_error(r,e,t,k):n.handle_request(e,t,k)}(o,a,I,C),d=0}))}else setImmediate(w,null)}e.next=k,"OPTIONS"===e.method&&(a=w,o=function(e,n){if(n||0===v.length)return e(n);!function(e,t,r){try{var a=t.join(",");e.set("Allow",a),e.send(a)}catch(n){r(n)}}(t,v,e)},w=function(){var e=new Array(arguments.length+1);e[0]=a;for(var t=0,n=arguments.length;t<n;t++)e[t+1]=arguments[t];o.apply(this,e)}),e.baseUrl=x,e.originalUrl=e.originalUrl||e.url,k()},v.process_params=function(e,t,n,r,a){var o=this.params,i=e.keys;if(!i||0===i.length)return a();var s,u,c,l,f,p=0,d=0;function h(e){return e?a(e):p>=i.length?a():(d=0,u=i[p++],s=u.name,c=n.params[s],l=o[s],f=t[s],void 0!==c&&l?f&&(f.match===c||f.error&&"route"!==f.error)?(n.params[s]=f.value,h(f.error)):(t[s]=f={error:null,match:c,value:c},void v()):h())}function v(e){var t=l[d++];if(f.value=n.params[u.name],e)return f.error=e,void h(e);if(!t)return h();try{t(n,r,v,c,u.name)}catch(a){v(a)}}h()},v.use=function(e){var t=0,n="/";if("function"!==typeof e){for(var r=e;Array.isArray(r)&&0!==r.length;)r=r[0];"function"!==typeof r&&(t=1,n=e)}var o=c(d.call(arguments,t));if(0===o.length)throw new TypeError("Router.use() requires a middleware function");for(var i=0;i<o.length;i++){if("function"!==typeof(e=o[i]))throw new TypeError("Router.use() requires a middleware function but got a "+g(e));s("use %o %s",n,e.name||"<anonymous>");var u=new a(n,{sensitive:this.caseSensitive,strict:!1,end:!1},e);u.route=void 0,this.stack.push(u)}return this},v.route=function(e){var t=new r(e),n=new a(e,{sensitive:this.caseSensitive,strict:this.strict,end:!0},t.dispatch.bind(t));return n.route=t,this.stack.push(n),t},o.concat("all").forEach((function(e){v[e]=function(t){var n=this.route(t);return n[e].apply(n,d.call(arguments,1)),this}}))},8816:function(e,t,n){"use strict";var r=n(6151),a=n(1770)("express:router:layer"),o=Object.prototype.hasOwnProperty;function i(e,t,n){if(!(this instanceof i))return new i(e,t,n);a("new %o",e);var o=t||{};this.handle=n,this.name=n.name||"<anonymous>",this.params=void 0,this.path=void 0,this.regexp=r(e,this.keys=[],o),this.regexp.fast_star="*"===e,this.regexp.fast_slash="/"===e&&!1===o.end}function s(e){if("string"!==typeof e||0===e.length)return e;try{return decodeURIComponent(e)}catch(t){throw t instanceof URIError&&(t.message="Failed to decode param '"+e+"'",t.status=t.statusCode=400),t}}e.exports=i,i.prototype.handle_error=function(e,t,n,r){var a=this.handle;if(4!==a.length)return r(e);try{a(e,t,n,r)}catch(o){r(o)}},i.prototype.handle_request=function(e,t,n){var r=this.handle;if(r.length>3)return n();try{r(e,t,n)}catch(a){n(a)}},i.prototype.match=function(e){var t;if(null!=e){if(this.regexp.fast_slash)return this.params={},this.path="",!0;if(this.regexp.fast_star)return this.params={0:s(e)},this.path=e,!0;t=this.regexp.exec(e)}if(!t)return this.params=void 0,this.path=void 0,!1;this.params={},this.path=t[0];for(var n=this.keys,r=this.params,a=1;a<t.length;a++){var i=n[a-1].name,u=s(t[a]);void 0===u&&o.call(r,i)||(r[i]=u)}return!0}},9916:function(e,t,n){"use strict";var r=n(1770)("express:router:route"),a=n(2596),o=n(8816),i=n(6338),s=Array.prototype.slice,u=Object.prototype.toString;function c(e){this.path=e,this.stack=[],r("new %o",e),this.methods={}}e.exports=c,c.prototype._handles_method=function(e){if(this.methods._all)return!0;var t=e.toLowerCase();return"head"!==t||this.methods.head||(t="get"),Boolean(this.methods[t])},c.prototype._options=function(){var e=Object.keys(this.methods);this.methods.get&&!this.methods.head&&e.push("head");for(var t=0;t<e.length;t++)e[t]=e[t].toUpperCase();return e},c.prototype.dispatch=function(e,t,n){var r=0,a=this.stack,o=0;if(0===a.length)return n();var i=e.method.toLowerCase();"head"!==i||this.methods.head||(i="get"),e.route=this,function s(u){if(u&&"route"===u)return n();if(u&&"router"===u)return n(u);var c=a[r++];if(!c)return n(u);if(++o>100)return setImmediate(s,u);if(c.method&&c.method!==i)return s(u);u?c.handle_error(u,e,t,s):c.handle_request(e,t,s);o=0}()},c.prototype.all=function(){for(var e=a(s.call(arguments)),t=0;t<e.length;t++){var n=e[t];if("function"!==typeof n){var r=u.call(n),i="Route.all() requires a callback function but got a "+r;throw new TypeError(i)}var c=o("/",{},n);c.method=void 0,this.methods._all=!0,this.stack.push(c)}return this},i.forEach((function(e){c.prototype[e]=function(){for(var t=a(s.call(arguments)),n=0;n<t.length;n++){var i=t[n];if("function"!==typeof i){var c=u.call(i),l="Route."+e+"() requires a callback function but got a "+c;throw new Error(l)}r("%s %o",e,this.path);var f=o("/",{},i);f.method=e,this.methods[e]=!0,this.stack.push(f)}return this}}))},1770:function(e,t,n){function r(){var e;try{e=t.storage.debug}catch(n){}return!e&&"undefined"!==typeof process&&"env"in process&&(e={NODE_ENV:"production",PUBLIC_URL:"/lippick",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.DEBUG),e}(t=e.exports=n(8718)).log=function(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var a=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(a++,"%c"===e&&(o=a))})),e.splice(o,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}},t.load=r,t.useColors=function(){if("undefined"!==typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(r())},8718:function(e,t,n){var r;function a(e){function n(){if(n.enabled){var e=n,a=+new Date,o=a-(r||a);e.diff=o,e.prev=r,e.curr=a,r=a;for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];i[0]=t.coerce(i[0]),"string"!==typeof i[0]&&i.unshift("%O");var u=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;u++;var a=t.formatters[r];if("function"===typeof a){var o=i[u];n=a.call(e,o),i.splice(u,1),u--}return n})),t.formatArgs.call(e,i);var c=n.log||t.log||console.log.bind(console);c.apply(e,i)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),"function"===typeof t.init&&t.init(n),n}(t=e.exports=a.debug=a.default=a).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"===typeof e?e:"").split(/[\s,]+/),r=n.length,a=0;a<r;a++)n[a]&&("-"===(e=n[a].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(2525),t.names=[],t.skips=[],t.formatters={}},2525:function(e){var t=1e3,n=60*t,r=60*n,a=24*r,o=365.25*a;function i(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,s){s=s||{};var u,c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var i=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!i)return;var s=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*o;case"days":case"day":case"d":return s*a;case"hours":case"hour":case"hrs":case"hr":case"h":return s*r;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===c&&!1===isNaN(e))return s.long?i(u=e,a,"day")||i(u,r,"hour")||i(u,n,"minute")||i(u,t,"second")||u+" ms":function(e){if(e>=a)return Math.round(e/a)+"d";if(e>=r)return Math.round(e/r)+"h";if(e>=n)return Math.round(e/n)+"m";if(e>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},8567:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isFSA=i,t.isError=function(e){return i(e)&&!0===e.error};var r=o(n(4519)),a=o(n(3988));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){return(0,r.default)(e)&&(0,a.default)(e.type)&&Object.keys(e).every(s)}function s(e){return["type","payload","error","meta"].indexOf(e)>-1}},2110:function(e,t,n){"use strict";var r=n(8309),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?i:s[e.$$typeof]||a}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=i;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(h){var a=d(n);a&&a!==h&&e(t,a,r)}var i=l(n);f&&(i=i.concat(f(n)));for(var s=u(t),v=u(n),m=0;m<i.length;++m){var g=i[m];if(!o[g]&&(!r||!r[g])&&(!v||!v[g])&&(!s||!s[g])){var y=p(n,g);try{c(t,g,y)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case o:case s:case i:case d:return e;default:switch(e=e&&e.$$typeof){case c:case p:case m:case v:case u:return e;default:return t}}case a:return t}}}function k(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=p,t.Fragment=o,t.Lazy=m,t.Memo=v,t.Portal=a,t.Profiler=s,t.StrictMode=i,t.Suspense=d,t.isAsyncMode=function(e){return k(e)||w(e)===l},t.isConcurrentMode=k,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===p},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===a},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===i},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===f||e===s||e===i||e===d||e===h||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===p||e.$$typeof===y||e.$$typeof===b||e.$$typeof===x||e.$$typeof===g)},t.typeOf=w},8309:function(e,t,n){"use strict";e.exports=n(746)},2176:function(e){"use strict";e.exports=function(e,t,n,r,a,o,i,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,a,o,i,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},7950:function(e){function t(e){return!!e&&("object"===typeof e||"function"===typeof e)&&"function"===typeof e.then}e.exports=t,e.exports.default=t},5102:function(e){function t(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function n(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,r,a){var o=document.head||document.getElementsByTagName("head")[0],i=document.createElement("script");"function"===typeof r&&(a=r,r={}),r=r||{},a=a||function(){},i.type=r.type||"text/javascript",i.charset=r.charset||"utf8",i.async=!("async"in r)||!!r.async,i.src=e,r.attrs&&function(e,t){for(var n in t)e.setAttribute(n,t[n])}(i,r.attrs),r.text&&(i.text=""+r.text),("onload"in i?t:n)(i,a),i.onload||t(i,a),o.appendChild(i)}},5095:function(e,t,n){var r=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,i=/^0o[0-7]+$/i,s=parseInt,u="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,c="object"==typeof self&&self&&self.Object===Object&&self,l=u||c||Function("return this")(),f=Object.prototype.toString,p=Math.max,d=Math.min,h=function(){return l.Date.now()};function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function m(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==f.call(e)}(e))return NaN;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=o.test(e);return n||i.test(e)?s(e.slice(2),n?2:8):a.test(e)?NaN:+e}e.exports=function(e,t,n){var r,a,o,i,s,u,c=0,l=!1,f=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=r,o=a;return r=a=void 0,c=t,i=e.apply(o,n)}function b(e){return c=e,s=setTimeout(w,t),l?y(e):i}function x(e){var n=e-u;return void 0===u||n>=t||n<0||f&&e-c>=o}function w(){var e=h();if(x(e))return k(e);s=setTimeout(w,function(e){var n=t-(e-u);return f?d(n,o-(e-c)):n}(e))}function k(e){return s=void 0,g&&r?y(e):(r=a=void 0,i)}function S(){var e=h(),n=x(e);if(r=arguments,a=this,u=e,n){if(void 0===s)return b(u);if(f)return s=setTimeout(w,t),y(u)}return void 0===s&&(s=setTimeout(w,t)),i}return t=m(t)||0,v(n)&&(l=!!n.leading,o=(f="maxWait"in n)?p(m(n.maxWait)||0,t):o,g="trailing"in n?!!n.trailing:g),S.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=u=a=s=void 0},S.flush=function(){return void 0===s?i:k(h())},S}},4519:function(e){var t,n,r=Function.prototype,a=Object.prototype,o=r.toString,i=a.hasOwnProperty,s=o.call(Object),u=a.toString,c=(t=Object.getPrototypeOf,n=Object,function(e){return t(n(e))});e.exports=function(e){if(!function(e){return!!e&&"object"==typeof e}(e)||"[object Object]"!=u.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}(e))return!1;var t=c(e);if(null===t)return!0;var n=i.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&o.call(n)==s}},3988:function(e){var t=Object.prototype.toString,n=Array.isArray;e.exports=function(e){return"string"==typeof e||!n(e)&&function(e){return!!e&&"object"==typeof e}(e)&&"[object String]"==t.call(e)}},908:function(e,t,n){var r=n(8136)(n(7009),"DataView");e.exports=r},9676:function(e,t,n){var r=n(5403),a=n(2747),o=n(6037),i=n(4154),s=n(7728);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=a,u.prototype.get=o,u.prototype.has=i,u.prototype.set=s,e.exports=u},8384:function(e,t,n){var r=n(3894),a=n(8699),o=n(4957),i=n(7184),s=n(7109);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=a,u.prototype.get=o,u.prototype.has=i,u.prototype.set=s,e.exports=u},5797:function(e,t,n){var r=n(8136)(n(7009),"Map");e.exports=r},8059:function(e,t,n){var r=n(4086),a=n(9255),o=n(9186),i=n(3423),s=n(3739);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=a,u.prototype.get=o,u.prototype.has=i,u.prototype.set=s,e.exports=u},8319:function(e,t,n){var r=n(8136)(n(7009),"Promise");e.exports=r},3924:function(e,t,n){var r=n(8136)(n(7009),"Set");e.exports=r},692:function(e,t,n){var r=n(8059),a=n(1612),o=n(1596);function i(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}i.prototype.add=i.prototype.push=a,i.prototype.has=o,e.exports=i},2854:function(e,t,n){var r=n(8384),a=n(511),o=n(835),i=n(707),s=n(8832),u=n(5077);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=a,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=s,c.prototype.set=u,e.exports=c},7197:function(e,t,n){var r=n(7009).Symbol;e.exports=r},6219:function(e,t,n){var r=n(7009).Uint8Array;e.exports=r},7091:function(e,t,n){var r=n(8136)(n(7009),"WeakMap");e.exports=r},4903:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,o=[];++n<r;){var i=e[n];t(i,n,e)&&(o[a++]=i)}return o}},7538:function(e,t,n){var r=n(6478),a=n(4963),o=n(3629),i=n(5174),s=n(6800),u=n(9102),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),l=!n&&a(e),f=!n&&!l&&i(e),p=!n&&!l&&!f&&u(e),d=n||l||f||p,h=d?r(e.length,String):[],v=h.length;for(var m in e)!t&&!c.call(e,m)||d&&("length"==m||f&&("offset"==m||"parent"==m)||p&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,v))||h.push(m);return h}},1705:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}},4834:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},7112:function(e,t,n){var r=n(9231);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1986:function(e,t,n){var r=n(1705),a=n(3629);e.exports=function(e,t,n){var o=t(e);return a(e)?o:r(o,n(e))}},9066:function(e,t,n){var r=n(7197),a=n(1587),o=n(3581),i=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":i&&i in Object(e)?a(e):o(e)}},4906:function(e,t,n){var r=n(9066),a=n(3141);e.exports=function(e){return a(e)&&"[object Arguments]"==r(e)}},1848:function(e,t,n){var r=n(3355),a=n(3141);e.exports=function e(t,n,o,i,s){return t===n||(null==t||null==n||!a(t)&&!a(n)?t!==t&&n!==n:r(t,n,o,i,e,s))}},3355:function(e,t,n){var r=n(2854),a=n(5305),o=n(2206),i=n(8078),s=n(8383),u=n(3629),c=n(5174),l=n(9102),f="[object Arguments]",p="[object Array]",d="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,v,m,g){var y=u(e),b=u(t),x=y?p:s(e),w=b?p:s(t),k=(x=x==f?d:x)==d,S=(w=w==f?d:w)==d,E=x==w;if(E&&c(e)){if(!c(t))return!1;y=!0,k=!1}if(E&&!k)return g||(g=new r),y||l(e)?a(e,t,n,v,m,g):o(e,t,x,n,v,m,g);if(!(1&n)){var C=k&&h.call(e,"__wrapped__"),N=S&&h.call(t,"__wrapped__");if(C||N){var T=C?e.value():e,I=N?t.value():t;return g||(g=new r),m(T,I,n,v,g)}}return!!E&&(g||(g=new r),i(e,t,n,v,m,g))}},6703:function(e,t,n){var r=n(4786),a=n(257),o=n(8092),i=n(7907),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,p=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||a(e))&&(r(e)?p:s).test(i(e))}},8150:function(e,t,n){var r=n(9066),a=n(4635),o=n(3141),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&a(e.length)&&!!i[r(e)]}},3654:function(e,t,n){var r=n(2936),a=n(8836),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},6478:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},6194:function(e){e.exports=function(e){return function(t){return e(t)}}},75:function(e){e.exports=function(e,t){return e.has(t)}},5525:function(e,t,n){var r=n(7009)["__core-js_shared__"];e.exports=r},5305:function(e,t,n){var r=n(692),a=n(4834),o=n(75);e.exports=function(e,t,n,i,s,u){var c=1&n,l=e.length,f=t.length;if(l!=f&&!(c&&f>l))return!1;var p=u.get(e),d=u.get(t);if(p&&d)return p==t&&d==e;var h=-1,v=!0,m=2&n?new r:void 0;for(u.set(e,t),u.set(t,e);++h<l;){var g=e[h],y=t[h];if(i)var b=c?i(y,g,h,t,e,u):i(g,y,h,e,t,u);if(void 0!==b){if(b)continue;v=!1;break}if(m){if(!a(t,(function(e,t){if(!o(m,t)&&(g===e||s(g,e,n,i,u)))return m.push(t)}))){v=!1;break}}else if(g!==y&&!s(g,y,n,i,u)){v=!1;break}}return u.delete(e),u.delete(t),v}},2206:function(e,t,n){var r=n(7197),a=n(6219),o=n(9231),i=n(5305),s=n(234),u=n(2230),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,f,p){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new a(e),new a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var d=s;case"[object Set]":var h=1&r;if(d||(d=u),e.size!=t.size&&!h)return!1;var v=p.get(e);if(v)return v==t;r|=2,p.set(e,t);var m=i(d(e),d(t),r,c,f,p);return p.delete(e),m;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},8078:function(e,t,n){var r=n(8248),a=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,i,s){var u=1&n,c=r(e),l=c.length;if(l!=r(t).length&&!u)return!1;for(var f=l;f--;){var p=c[f];if(!(u?p in t:a.call(t,p)))return!1}var d=s.get(e),h=s.get(t);if(d&&h)return d==t&&h==e;var v=!0;s.set(e,t),s.set(t,e);for(var m=u;++f<l;){var g=e[p=c[f]],y=t[p];if(o)var b=u?o(y,g,p,t,e,s):o(g,y,p,e,t,s);if(!(void 0===b?g===y||i(g,y,n,o,s):b)){v=!1;break}m||(m="constructor"==p)}if(v&&!m){var x=e.constructor,w=t.constructor;x==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(v=!1)}return s.delete(e),s.delete(t),v}},1032:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},8248:function(e,t,n){var r=n(1986),a=n(5918),o=n(2742);e.exports=function(e){return r(e,o,a)}},2799:function(e,t,n){var r=n(5964);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},8136:function(e,t,n){var r=n(6703),a=n(40);e.exports=function(e,t){var n=a(e,t);return r(n)?n:void 0}},1587:function(e,t,n){var r=n(7197),a=Object.prototype,o=a.hasOwnProperty,i=a.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(u){}var a=i.call(e);return r&&(t?e[s]=n:delete e[s]),a}},5918:function(e,t,n){var r=n(4903),a=n(8174),o=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(e){return null==e?[]:(e=Object(e),r(i(e),(function(t){return o.call(e,t)})))}:a;e.exports=s},8383:function(e,t,n){var r=n(908),a=n(5797),o=n(8319),i=n(3924),s=n(7091),u=n(9066),c=n(7907),l="[object Map]",f="[object Promise]",p="[object Set]",d="[object WeakMap]",h="[object DataView]",v=c(r),m=c(a),g=c(o),y=c(i),b=c(s),x=u;(r&&x(new r(new ArrayBuffer(1)))!=h||a&&x(new a)!=l||o&&x(o.resolve())!=f||i&&x(new i)!=p||s&&x(new s)!=d)&&(x=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case v:return h;case m:return l;case g:return f;case y:return p;case b:return d}return t}),e.exports=x},40:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},5403:function(e,t,n){var r=n(9620);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},2747:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},6037:function(e,t,n){var r=n(9620),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return a.call(t,e)?t[e]:void 0}},4154:function(e,t,n){var r=n(9620),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:a.call(t,e)}},7728:function(e,t,n){var r=n(9620);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},6800:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},5964:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},257:function(e,t,n){var r=n(5525),a=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!a&&a in e}},2936:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},3894:function(e){e.exports=function(){this.__data__=[],this.size=0}},8699:function(e,t,n){var r=n(7112),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():a.call(t,n,1),--this.size,!0)}},4957:function(e,t,n){var r=n(7112);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7184:function(e,t,n){var r=n(7112);e.exports=function(e){return r(this.__data__,e)>-1}},7109:function(e,t,n){var r=n(7112);e.exports=function(e,t){var n=this.__data__,a=r(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}},4086:function(e,t,n){var r=n(9676),a=n(8384),o=n(5797);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||a),string:new r}}},9255:function(e,t,n){var r=n(2799);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},9186:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).get(e)}},3423:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).has(e)}},3739:function(e,t,n){var r=n(2799);e.exports=function(e,t){var n=r(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this}},234:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},9620:function(e,t,n){var r=n(8136)(Object,"create");e.exports=r},8836:function(e,t,n){var r=n(2709)(Object.keys,Object);e.exports=r},9494:function(e,t,n){e=n.nmd(e);var r=n(1032),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,i=o&&o.exports===a&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(t){}}();e.exports=s},3581:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},2709:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},7009:function(e,t,n){var r=n(1032),a="object"==typeof self&&self&&self.Object===Object&&self,o=r||a||Function("return this")();e.exports=o},1612:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1596:function(e){e.exports=function(e){return this.__data__.has(e)}},2230:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},511:function(e,t,n){var r=n(8384);e.exports=function(){this.__data__=new r,this.size=0}},835:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},707:function(e){e.exports=function(e){return this.__data__.get(e)}},8832:function(e){e.exports=function(e){return this.__data__.has(e)}},5077:function(e,t,n){var r=n(8384),a=n(5797),o=n(8059);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var i=n.__data__;if(!a||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(i)}return n.set(e,t),this.size=n.size,this}},7907:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},9231:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},4963:function(e,t,n){var r=n(4906),a=n(3141),o=Object.prototype,i=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return a(e)&&i.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},3629:function(e){var t=Array.isArray;e.exports=t},1473:function(e,t,n){var r=n(4786),a=n(4635);e.exports=function(e){return null!=e&&a(e.length)&&!r(e)}},5174:function(e,t,n){e=n.nmd(e);var r=n(7009),a=n(9488),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,s=i&&i.exports===o?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||a;e.exports=u},8111:function(e,t,n){var r=n(1848);e.exports=function(e,t){return r(e,t)}},4786:function(e,t,n){var r=n(9066),a=n(8092);e.exports=function(e){if(!a(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},4635:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},8092:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3141:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},9102:function(e,t,n){var r=n(8150),a=n(6194),o=n(9494),i=o&&o.isTypedArray,s=i?a(i):r;e.exports=s},2742:function(e,t,n){var r=n(7538),a=n(3654),o=n(1473);e.exports=function(e){return o(e)?r(e):a(e)}},8174:function(e){e.exports=function(){return[]}},9488:function(e){e.exports=function(){return!1}},8987:function(e){e.exports=n;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(C){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function r(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var a={},o={};function i(e,t){var n,r,i;return t?(i=0<=(e>>>=0)&&e<256)&&(r=o[e])?r:(n=u(e,(0|e)<0?-1:0,!0),i&&(o[e]=n),n):(i=-128<=(e|=0)&&e<128)&&(r=a[e])?r:(n=u(e,e<0?-1:0,!1),i&&(a[e]=n),n)}function s(e,t){if(isNaN(e))return t?g:m;if(t){if(e<0)return g;if(e>=d)return k}else{if(e<=-h)return S;if(e+1>=h)return w}return e<0?s(-e,t).neg():u(e%p|0,e/p|0,t)}function u(e,t,r){return new n(e,t,r)}n.fromInt=i,n.fromNumber=s,n.fromBits=u;var c=Math.pow;function l(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return m;if("number"===typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return l(e.substring(1),t,n).neg();for(var a=s(c(n,8)),o=m,i=0;i<e.length;i+=8){var u=Math.min(8,e.length-i),f=parseInt(e.substring(i,i+u),n);if(u<8){var p=s(c(n,u));o=o.mul(p).add(s(f))}else o=(o=o.mul(a)).add(s(f))}return o.unsigned=t,o}function f(e,t){return"number"===typeof e?s(e,t):"string"===typeof e?l(e,t):u(e.low,e.high,"boolean"===typeof t?t:e.unsigned)}n.fromString=l,n.fromValue=f;var p=4294967296,d=p*p,h=d/2,v=i(1<<24),m=i(0);n.ZERO=m;var g=i(0,!0);n.UZERO=g;var y=i(1);n.ONE=y;var b=i(1,!0);n.UONE=b;var x=i(-1);n.NEG_ONE=x;var w=u(-1,2147483647,!1);n.MAX_VALUE=w;var k=u(-1,-1,!0);n.MAX_UNSIGNED_VALUE=k;var S=u(0,-2147483648,!1);n.MIN_VALUE=S;var E=n.prototype;E.toInt=function(){return this.unsigned?this.low>>>0:this.low},E.toNumber=function(){return this.unsigned?(this.high>>>0)*p+(this.low>>>0):this.high*p+(this.low>>>0)},E.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(S)){var t=s(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var a=s(c(e,6),this.unsigned),o=this,i="";;){var u=o.div(a),l=(o.sub(u.mul(a)).toInt()>>>0).toString(e);if((o=u).isZero())return l+i;for(;l.length<6;)l="0"+l;i=""+l+i}},E.getHighBits=function(){return this.high},E.getHighBitsUnsigned=function(){return this.high>>>0},E.getLowBits=function(){return this.low},E.getLowBitsUnsigned=function(){return this.low>>>0},E.getNumBitsAbs=function(){if(this.isNegative())return this.eq(S)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},E.isZero=function(){return 0===this.high&&0===this.low},E.eqz=E.isZero,E.isNegative=function(){return!this.unsigned&&this.high<0},E.isPositive=function(){return this.unsigned||this.high>=0},E.isOdd=function(){return 1===(1&this.low)},E.isEven=function(){return 0===(1&this.low)},E.equals=function(e){return r(e)||(e=f(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&(this.high===e.high&&this.low===e.low)},E.eq=E.equals,E.notEquals=function(e){return!this.eq(e)},E.neq=E.notEquals,E.ne=E.notEquals,E.lessThan=function(e){return this.comp(e)<0},E.lt=E.lessThan,E.lessThanOrEqual=function(e){return this.comp(e)<=0},E.lte=E.lessThanOrEqual,E.le=E.lessThanOrEqual,E.greaterThan=function(e){return this.comp(e)>0},E.gt=E.greaterThan,E.greaterThanOrEqual=function(e){return this.comp(e)>=0},E.gte=E.greaterThanOrEqual,E.ge=E.greaterThanOrEqual,E.compare=function(e){if(r(e)||(e=f(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},E.comp=E.compare,E.negate=function(){return!this.unsigned&&this.eq(S)?S:this.not().add(y)},E.neg=E.negate,E.add=function(e){r(e)||(e=f(e));var t=this.high>>>16,n=65535&this.high,a=this.low>>>16,o=65535&this.low,i=e.high>>>16,s=65535&e.high,c=e.low>>>16,l=0,p=0,d=0,h=0;return d+=(h+=o+(65535&e.low))>>>16,p+=(d+=a+c)>>>16,l+=(p+=n+s)>>>16,l+=t+i,u((d&=65535)<<16|(h&=65535),(l&=65535)<<16|(p&=65535),this.unsigned)},E.subtract=function(e){return r(e)||(e=f(e)),this.add(e.neg())},E.sub=E.subtract,E.multiply=function(e){if(this.isZero())return m;if(r(e)||(e=f(e)),t)return u(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return m;if(this.eq(S))return e.isOdd()?S:m;if(e.eq(S))return this.isOdd()?S:m;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(v)&&e.lt(v))return s(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,a=65535&this.high,o=this.low>>>16,i=65535&this.low,c=e.high>>>16,l=65535&e.high,p=e.low>>>16,d=65535&e.low,h=0,g=0,y=0,b=0;return y+=(b+=i*d)>>>16,g+=(y+=o*d)>>>16,y&=65535,g+=(y+=i*p)>>>16,h+=(g+=a*d)>>>16,g&=65535,h+=(g+=o*p)>>>16,g&=65535,h+=(g+=i*l)>>>16,h+=n*d+a*p+o*l+i*c,u((y&=65535)<<16|(b&=65535),(h&=65535)<<16|(g&=65535),this.unsigned)},E.mul=E.multiply,E.divide=function(e){if(r(e)||(e=f(e)),e.isZero())throw Error("division by zero");var n,a,o;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?u((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?g:m;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return g;if(e.gt(this.shru(1)))return b;o=g}else{if(this.eq(S))return e.eq(y)||e.eq(x)?S:e.eq(S)?y:(n=this.shr(1).div(e).shl(1)).eq(m)?e.isNegative()?y:x:(a=this.sub(e.mul(n)),o=n.add(a.div(e)));if(e.eq(S))return this.unsigned?g:m;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=m}for(a=this;a.gte(e);){n=Math.max(1,Math.floor(a.toNumber()/e.toNumber()));for(var i=Math.ceil(Math.log(n)/Math.LN2),l=i<=48?1:c(2,i-48),p=s(n),d=p.mul(e);d.isNegative()||d.gt(a);)d=(p=s(n-=l,this.unsigned)).mul(e);p.isZero()&&(p=y),o=o.add(p),a=a.sub(d)}return o},E.div=E.divide,E.modulo=function(e){return r(e)||(e=f(e)),t?u((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},E.mod=E.modulo,E.rem=E.modulo,E.not=function(){return u(~this.low,~this.high,this.unsigned)},E.and=function(e){return r(e)||(e=f(e)),u(this.low&e.low,this.high&e.high,this.unsigned)},E.or=function(e){return r(e)||(e=f(e)),u(this.low|e.low,this.high|e.high,this.unsigned)},E.xor=function(e){return r(e)||(e=f(e)),u(this.low^e.low,this.high^e.high,this.unsigned)},E.shiftLeft=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?u(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):u(0,this.low<<e-32,this.unsigned)},E.shl=E.shiftLeft,E.shiftRight=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?u(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):u(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},E.shr=E.shiftRight,E.shiftRightUnsigned=function(e){if(r(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?u(this.low>>>e|t<<32-e,t>>>e,this.unsigned):u(32===e?t:t>>>e-32,0,this.unsigned)},E.shru=E.shiftRightUnsigned,E.shr_u=E.shiftRightUnsigned,E.toSigned=function(){return this.unsigned?u(this.low,this.high,!1):this},E.toUnsigned=function(){return this.unsigned?this:u(this.low,this.high,!0)},E.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},E.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},E.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},6338:function(e,t,n){"use strict";var r=n(3432);e.exports=r.METHODS&&r.METHODS.map((function(e){return e.toLowerCase()}))||["get","post","put","head","delete","options","trace","copy","lock","mkcol","move","purge","propfind","proppatch","unlock","report","mkactivity","checkout","merge","m-search","notify","subscribe","unsubscribe","patch","search","connect"]},2322:function(e,t,n){"use strict";var r=n(2114),a=r.parse,o=r.Url;function i(e){var t=e.url;if(void 0!==t){var n=e._parsedUrl;return u(t,n)?n:((n=s(t))._raw=t,e._parsedUrl=n)}}function s(e){if("string"!==typeof e||47!==e.charCodeAt(0))return a(e);for(var t=e,n=null,r=null,i=1;i<e.length;i++)switch(e.charCodeAt(i)){case 63:null===r&&(t=e.substring(0,i),n=e.substring(i+1),r=e.substring(i));break;case 9:case 10:case 12:case 13:case 32:case 35:case 160:case 65279:return a(e)}var s=void 0!==o?new o:{};return s.path=e,s.href=e,s.pathname=t,null!==r&&(s.query=n,s.search=r),s}function u(e,t){return"object"===typeof t&&null!==t&&(void 0===o||t instanceof o)&&t._raw===e}e.exports=i,e.exports.original=function(e){var t=e.originalUrl;if("string"!==typeof t)return i(e);var n=e._parsedOriginalUrl;if(u(t,n))return n;return(n=s(t))._raw=t,e._parsedOriginalUrl=n}},6151:function(e){e.exports=function e(n,r,a){r=r||[];var o,i=(a=a||{}).strict,s=!1!==a.end,u=a.sensitive?"":"i",c=0,l=r.length,f=0,p=0;if(n instanceof RegExp){for(;o=t.exec(n.source);)r.push({name:p++,optional:!1,offset:o.index});return n}if(Array.isArray(n))return n=n.map((function(t){return e(t,r,a).source})),new RegExp("(?:"+n.join("|")+")",u);n=("^"+n+(i?"":"/"===n[n.length-1]?"?":"/?")).replace(/\/\(/g,"/(?:").replace(/([\/\.])/g,"\\$1").replace(/(\\\/)?(\\\.)?:(\w+)(\(.*?\))?(\*)?(\?)?/g,(function(e,t,n,a,o,i,s,u){t=t||"",n=n||"",o=o||"([^\\/"+n+"]+?)",s=s||"",r.push({name:a,optional:!!s,offset:u+c});var l=(s?"":t)+"(?:"+n+(s?t:"")+o+(i?"((?:[\\/"+n+"].+?)?)":"")+")"+s;return c+=l.length-e.length,l})).replace(/\*/g,(function(e,t){for(var n=r.length;n-- >l&&r[n].offset>t;)r[n].offset+=3;return"(.*)"}));for(;o=t.exec(n);){for(var d=0,h=o.index;"\\"===n.charAt(--h);)d++;d%2!==1&&((l+f===r.length||r[l+f].offset>o.index)&&r.splice(l+f,0,{name:p++,optional:!1,offset:o.index}),f++)}return n+=s?"$":"/"===n[n.length-1]?"":"(?=\\/|$)",new RegExp(n,u)};var t=/\((?!\?)/g},888:function(e,t,n){"use strict";var r=n(9047);function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,o,i){if(i!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},7059:function(e){"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,r,a){n=n||"&",r=r||"=";var o={};if("string"!==typeof e||0===e.length)return o;var i=/\+/g;e=e.split(n);var s=1e3;a&&"number"===typeof a.maxKeys&&(s=a.maxKeys);var u=e.length;s>0&&u>s&&(u=s);for(var c=0;c<u;++c){var l,f,p,d,h=e[c].replace(i,"%20"),v=h.indexOf(r);v>=0?(l=h.substr(0,v),f=h.substr(v+1)):(l=h,f=""),p=decodeURIComponent(l),d=decodeURIComponent(f),t(o,p)?Array.isArray(o[p])?o[p].push(d):o[p]=[o[p],d]:o[p]=d}return o}},4297:function(e){"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,r,a){return n=n||"&",r=r||"=",null===e&&(e=void 0),"object"===typeof e?Object.keys(e).map((function(a){var o=encodeURIComponent(t(a))+r;return Array.isArray(e[a])?e[a].map((function(e){return o+encodeURIComponent(t(e))})).join(n):o+encodeURIComponent(t(e[a]))})).join(n):a?encodeURIComponent(t(a))+r+encodeURIComponent(t(e)):""}},863:function(e,t,n){"use strict";t.decode=t.parse=n(7059),t.encode=t.stringify=n(4297)},4501:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case o:case s:case i:case d:return e;default:switch(e=e&&e.$$typeof){case c:case p:case m:case v:case u:return e;default:return t}}case a:return t}}}function k(e){return w(e)===f}t.isFragment=function(e){return w(e)===o},t.isMemo=function(e){return w(e)===v}},3873:function(e,t,n){"use strict";e.exports=n(4501)},1322:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];function r(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=null;return t.forEach((function(e){if(null==a){var t=e.apply(void 0,n);null!=t&&(a=t)}})),a}return(0,o.default)(r)};var r,a=n(9384),o=(r=a)&&r.__esModule?r:{default:r};e.exports=t.default},9384:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,a,o,i){var s=a||"<<anonymous>>",u=i||r;if(null==n[r])return t?new Error("Required "+o+" `"+u+"` was not specified in `"+s+"`."):null;for(var c=arguments.length,l=Array(c>6?c-6:0),f=6;f<c;f++)l[f-6]=arguments[f];return e.apply(void 0,[n,r,s,o,u].concat(l))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},4463:function(e,t,n){"use strict";var r=n(2791),a=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)i.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},h={};function v(e,t,n,r,a,o,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var a=m.hasOwnProperty(t)?m[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!f.call(h,e)||!f.call(d,e)&&(p.test(e)?h[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),k=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var F,L=Object.assign;function j(e){if(void 0===F)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var Z=!1;function z(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),o=r.stack.split("\n"),i=a.length-1,s=o.length-1;1<=i&&0<=s&&a[i]!==o[s];)s--;for(;1<=i&&0<=s;i--,s--)if(a[i]!==o[s]){if(1!==i||1!==s)do{if(i--,0>--s||a[i]!==o[s]){var u="\n"+a[i].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=i&&0<=s);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function B(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case k:return"Portal";case C:return"Profiler";case E:return"StrictMode";case O:return"Suspense";case _:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case A:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function $(e,t){Q(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function oe(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(de).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ge=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var ke=null,Se=null,Ee=null;function Ce(e){if(e=ba(e)){if("function"!==typeof ke)throw Error(o(280));var t=e.stateNode;t&&(t=wa(t),ke(e.stateNode,e.type,t))}}function Ne(e){Se?Ee?Ee.push(e):Ee=[e]:Se=e}function Te(){if(Se){var e=Se,t=Ee;if(Ee=Se=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Ie(e,t){return e(t)}function Oe(){}var _e=!1;function De(e,t,n){if(_e)return e(t,n);_e=!0;try{return Ie(e,t,n)}finally{_e=!1,(null!==Se||null!==Ee)&&(Oe(),Te())}}function Ae(e,t){var n=e.stateNode;if(null===n)return null;var r=wa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Re=!1;if(l)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(le){Re=!1}function Me(e,t,n,r,a,o,i,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Fe=!1,Le=null,je=!1,Ze=null,ze={onError:function(e){Fe=!0,Le=e}};function Be(e,t,n,r,a,o,i,s,u){Fe=!1,Le=null,Me.apply(ze,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(Ue(e)!==e)throw Error(o(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return Ve(a),e;if(i===r)return Ve(a),t;i=i.sibling}throw Error(o(188))}if(n.return!==r.return)n=a,r=i;else{for(var s=!1,u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s){for(u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var qe=a.unstable_scheduleCallback,Xe=a.unstable_cancelCallback,Ke=a.unstable_shouldYield,Ye=a.unstable_requestPaint,Qe=a.unstable_now,$e=a.unstable_getCurrentPriorityLevel,Je=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,ot=null;var it=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,o=e.pingedLanes,i=268435455&n;if(0!==i){var s=i&~a;0!==s?r=ft(s):0!==(o&=i)&&(r=ft(o))}else 0!==(i=n&~a)?r=ft(i):0!==o&&(r=ft(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(o=t&-t)||16===a&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-it(t)),r|=e[n],t&=~a;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,kt,St,Et,Ct,Nt=!1,Tt=[],It=null,Ot=null,_t=null,Dt=new Map,At=new Map,Rt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":_t=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":At.delete(t.pointerId)}}function Ft(e,t,n,r,a,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},null!==t&&(null!==(t=ba(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Lt(e){var t=ya(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void Ct(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ba(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Zt(e,t,n){jt(e)&&n.delete(t)}function zt(){Nt=!1,null!==It&&jt(It)&&(It=null),null!==Ot&&jt(Ot)&&(Ot=null),null!==_t&&jt(_t)&&(_t=null),Dt.forEach(Zt),At.forEach(Zt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Nt||(Nt=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,zt)))}function Ut(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Bt(It,e),null!==Ot&&Bt(Ot,e),null!==_t&&Bt(_t,e),Dt.forEach(t),At.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Rt.shift()}var Wt=x.ReactCurrentBatchConfig,Vt=!0;function Ht(e,t,n,r){var a=bt,o=Wt.transition;Wt.transition=null;try{bt=1,qt(e,t,n,r)}finally{bt=a,Wt.transition=o}}function Gt(e,t,n,r){var a=bt,o=Wt.transition;Wt.transition=null;try{bt=4,qt(e,t,n,r)}finally{bt=a,Wt.transition=o}}function qt(e,t,n,r){if(Vt){var a=Kt(e,t,n,r);if(null===a)Vr(e,t,r,Xt,n),Mt(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return It=Ft(It,e,t,n,r,a),!0;case"dragenter":return Ot=Ft(Ot,e,t,n,r,a),!0;case"mouseover":return _t=Ft(_t,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return Dt.set(o,Ft(Dt.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,At.set(o,Ft(At.get(o)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==a;){var o=ba(a);if(null!==o&&wt(o),null===(o=Kt(e,t,n,r))&&Vr(e,t,r,Xt,n),o===a)break;a=o}null!==a&&r.stopPropagation()}else Vr(e,t,r,null,n)}}var Xt=null;function Kt(e,t,n,r){if(Xt=null,null!==(e=ya(e=we(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,$t=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=$t,r=n.length,a="value"in Qt?Qt.value:Qt.textContent,o=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[o-t];t++);return Jt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,o){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=L({},cn,{view:0,detail:0}),pn=an(fn),dn=L({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(on=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=on=0,un=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),hn=an(dn),vn=an(L({},dn,{dataTransfer:0})),mn=an(L({},fn,{relatedTarget:0})),gn=an(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),xn=an(L({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return En}var Nn=L({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(Nn),In=an(L({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=an(L({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),_n=an(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=L({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),An=an(Dn),Rn=[9,13,27,32],Pn=l&&"CompositionEvent"in window,Mn=null;l&&"documentMode"in document&&(Mn=document.documentMode);var Fn=l&&"TextEvent"in window&&!Mn,Ln=l&&(!Pn||Mn&&8<Mn&&11>=Mn),jn=String.fromCharCode(32),Zn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Hn(e,t,n,r){Ne(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,qn=null;function Xn(e){jr(e,0)}function Kn(e){if(q(xa(e)))return e}function Yn(e,t){if("change"===e)return t}var Qn=!1;if(l){var $n;if(l){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}$n=Jn}else $n=!1;Qn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),qn=Gn=null)}function nr(e){if("value"===e.propertyName&&Kn(qn)){var t=[];Hn(t,qn,e,we(e)),De(Xn,t)}}function rr(e,t,n){"focusin"===e?(tr(),qn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(qn)}function or(e,t){if("click"===e)return Kn(t)}function ir(e,t){if("input"===e||"change"===e)return Kn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!f.call(t,a)||!sr(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=pr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,o=Math.min(r.start,a);r=void 0===r.end?o:Math.min(r.end,a),!e.extend&&o>r&&(a=r,r=o,o=a),a=lr(n,o);var i=lr(n,r);a&&i&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==X(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Gr(gr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var kr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},Er={};function Cr(e){if(Sr[e])return Sr[e];if(!kr[e])return e;var t,n=kr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return Sr[e]=n[t];return e}l&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete kr.animationend.animation,delete kr.animationiteration.animation,delete kr.animationstart.animation),"TransitionEvent"in window||delete kr.transitionend.transition);var Nr=Cr("animationend"),Tr=Cr("animationiteration"),Ir=Cr("animationstart"),Or=Cr("transitionend"),_r=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){_r.set(e,t),u(t,[e])}for(var Rr=0;Rr<Dr.length;Rr++){var Pr=Dr[Rr];Ar(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Ar(Nr,"onAnimationEnd"),Ar(Tr,"onAnimationIteration"),Ar(Ir,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Or,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,i,s,u,c){if(Be.apply(this,arguments),Fe){if(!Fe)throw Error(o(198));var l=Le;Fe=!1,Le=null,je||(je=!0,Ze=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var s=r[i],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&a.isPropagationStopped())break e;Lr(a,s,c),o=u}else for(i=0;i<r.length;i++){if(u=(s=r[i]).instance,c=s.currentTarget,s=s.listener,u!==o&&a.isPropagationStopped())break e;Lr(a,s,c),o=u}}}if(je)throw e=Ze,je=!1,Ze=null,e}function Zr(e,t){var n=t[va];void 0===n&&(n=t[va]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[Br]){e[Br]=!0,i.forEach((function(t){"selectionchange"!==t&&(Fr.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,zr("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Yt(t)){case 1:var a=Ht;break;case 4:a=Gt;break;default:a=qt}n=a.bind(null,t,n,e),a=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Vr(e,t,n,r,a){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var s=r.stateNode.containerInfo;if(s===a||8===s.nodeType&&s.parentNode===a)break;if(4===i)for(i=r.return;null!==i;){var u=i.tag;if((3===u||4===u)&&((u=i.stateNode.containerInfo)===a||8===u.nodeType&&u.parentNode===a))return;i=i.return}for(;null!==s;){if(null===(i=ya(s)))return;if(5===(u=i.tag)||6===u){r=o=i;continue e}s=s.parentNode}}r=r.return}De((function(){var r=o,a=we(n),i=[];e:{var s=_r.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Tn;break;case"focusin":c="focus",u=mn;break;case"focusout":c="blur",u=mn;break;case"beforeblur":case"afterblur":u=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=On;break;case Nr:case Tr:case Ir:u=gn;break;case Or:u=_n;break;case"scroll":u=pn;break;case"wheel":u=An;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=In}var l=0!==(4&t),f=!l&&"scroll"===e,p=l?null!==s?s+"Capture":null:s;l=[];for(var d,h=r;null!==h;){var v=(d=h).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==p&&(null!=(v=Ae(h,p))&&l.push(Hr(h,v,d)))),f)break;h=h.return}0<l.length&&(s=new u(s,c,null,n,a),i.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!ya(c)&&!c[ha])&&(u||s)&&(s=a.window===a?a:(s=a.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ya(c):null)&&(c!==(f=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=hn,v="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(l=In,v="onPointerLeave",p="onPointerEnter",h="pointer"),f=null==u?s:xa(u),d=null==c?s:xa(c),(s=new l(v,h+"leave",u,n,a)).target=f,s.relatedTarget=d,v=null,ya(a)===r&&((l=new l(p,h+"enter",c,n,a)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(p=c,h=0,d=l=u;d;d=qr(d))h++;for(d=0,v=p;v;v=qr(v))d++;for(;0<h-d;)l=qr(l),h--;for(;0<d-h;)p=qr(p),d--;for(;h--;){if(l===p||null!==p&&l===p.alternate)break e;l=qr(l),p=qr(p)}l=null}else l=null;null!==u&&Xr(i,s,u,l,!1),null!==c&&null!==f&&Xr(i,f,c,l,!0)}if("select"===(u=(s=r?xa(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Yn;else if(Vn(s))if(Qn)m=ir;else{m=ar;var g=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=or);switch(m&&(m=m(e,r))?Hn(i,m,n,a):(g&&g(e,s,r),"focusout"===e&&(g=s._wrapperState)&&g.controlled&&"number"===s.type&&ee(s,"number",s.value)),g=r?xa(r):window,e){case"focusin":(Vn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(i,n,a);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":xr(i,n,a)}var y;if(Pn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(y=en()):($t="value"in(Qt=a)?Qt.value:Qt.textContent,Un=!0)),0<(g=Gr(r,b)).length&&(b=new xn(b,e,null,n,a),i.push({event:b,listeners:g}),y?b.data=y:null!==(y=Bn(n))&&(b.data=y))),(y=Fn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Zn=!0,jn);case"textInput":return(e=t.data)===jn&&Zn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Pn&&zn(e,t)?(e=en(),Jt=$t=Qt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(a=new xn("onBeforeInput","beforeinput",null,n,a),i.push({event:a,listeners:r}),a.data=y))}jr(i,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,o=a.stateNode;5===a.tag&&null!==o&&(a=o,null!=(o=Ae(e,n))&&r.unshift(Hr(e,o,a)),null!=(o=Ae(e,t))&&r.push(Hr(e,o,a))),e=e.return}return r}function qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xr(e,t,n,r,a){for(var o=t._reactName,i=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,a?null!=(u=Ae(n,o))&&i.unshift(Hr(n,u,s)):a||null!=(u=Ae(n,o))&&i.push(Hr(n,u,s))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Kr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace(Kr,"\n").replace(Yr,"")}function $r(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(o(425))}function Jr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,oa="function"===typeof Promise?Promise:void 0,ia="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oa?function(e){return oa.resolve(null).then(e).catch(sa)}:ra;function sa(e){setTimeout((function(){throw e}))}function ua(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Ut(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function la(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fa=Math.random().toString(36).slice(2),pa="__reactFiber$"+fa,da="__reactProps$"+fa,ha="__reactContainer$"+fa,va="__reactEvents$"+fa,ma="__reactListeners$"+fa,ga="__reactHandles$"+fa;function ya(e){var t=e[pa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ha]||n[pa]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=la(e);null!==e;){if(n=e[pa])return n;e=la(e)}return t}n=(e=n).parentNode}return null}function ba(e){return!(e=e[pa]||e[ha])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xa(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function wa(e){return e[da]||null}var ka=[],Sa=-1;function Ea(e){return{current:e}}function Ca(e){0>Sa||(e.current=ka[Sa],ka[Sa]=null,Sa--)}function Na(e,t){Sa++,ka[Sa]=e.current,e.current=t}var Ta={},Ia=Ea(Ta),Oa=Ea(!1),_a=Ta;function Da(e,t){var n=e.type.contextTypes;if(!n)return Ta;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,o={};for(a in n)o[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Aa(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ra(){Ca(Oa),Ca(Ia)}function Pa(e,t,n){if(Ia.current!==Ta)throw Error(o(168));Na(Ia,t),Na(Oa,n)}function Ma(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(o(108,W(e)||"Unknown",a));return L({},n,r)}function Fa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ta,_a=Ia.current,Na(Ia,e),Na(Oa,Oa.current),!0}function La(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ma(e,t,_a),r.__reactInternalMemoizedMergedChildContext=e,Ca(Oa),Ca(Ia),Na(Ia,e)):Ca(Oa),Na(Oa,n)}var ja=null,Za=!1,za=!1;function Ba(e){null===ja?ja=[e]:ja.push(e)}function Ua(){if(!za&&null!==ja){za=!0;var e=0,t=bt;try{var n=ja;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ja=null,Za=!1}catch(a){throw null!==ja&&(ja=ja.slice(e+1)),qe(Je,Ua),a}finally{bt=t,za=!1}}return null}var Wa=x.ReactCurrentBatchConfig;function Va(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ha=Ea(null),Ga=null,qa=null,Xa=null;function Ka(){Xa=qa=Ga=null}function Ya(e){var t=Ha.current;Ca(Ha),e._currentValue=t}function Qa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function $a(e,t){Ga=e,Xa=qa=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ws=!0),e.firstContext=null)}function Ja(e){var t=e._currentValue;if(Xa!==e)if(e={context:e,memoizedValue:t,next:null},null===qa){if(null===Ga)throw Error(o(308));qa=e,Ga.dependencies={lanes:0,firstContext:e}}else qa=qa.next=e;return t}var eo=null,to=!1;function no(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ro(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ao(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function oo(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,tc(e)?(null===(e=n.interleaved)?(t.next=t,null===eo?eo=[n]:eo.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function io(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function so(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?a=o=i:o=o.next=i,n=n.next}while(null!==n);null===o?a=o=t:o=o.next=t}else a=o=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function uo(e,t,n,r){var a=e.updateQueue;to=!1;var o=a.firstBaseUpdate,i=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var u=s,c=u.next;u.next=null,null===i?o=c:i.next=c,i=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==i&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==o){var f=a.baseState;for(i=0,l=c=u=null,s=o;;){var p=s.lane,d=s.eventTime;if((r&p)===p){null!==l&&(l=l.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,v=s;switch(p=t,d=n,v.tag){case 1:if("function"===typeof(h=v.payload)){f=h.call(d,f,p);break e}f=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(p="function"===typeof(h=v.payload)?h.call(d,f,p):h)||void 0===p)break e;f=L({},f,p);break e;case 2:to=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(p=a.effects)?a.effects=[s]:p.push(s))}else d={eventTime:d,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=d,u=f):l=l.next=d,i|=p;if(null===(s=s.next)){if(null===(s=a.shared.pending))break;s=(p=s).next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}if(null===l&&(u=f),a.baseState=u,a.firstBaseUpdate=c,a.lastBaseUpdate=l,null!==(t=a.shared.interleaved)){a=t;do{i|=a.lane,a=a.next}while(a!==t)}else null===o&&(a.shared.lanes=0);Ru|=i,e.lanes=i,e.memoizedState=f}}function co(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(o(191,a));a.call(r)}}}var lo=(new r.Component).refs;function fo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var po={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Qu(),a=$u(e),o=ao(r,a);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),oo(e,o),null!==(t=Ju(e,a,r))&&io(t,e,a)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Qu(),a=$u(e),o=ao(r,a);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),oo(e,o),null!==(t=Ju(e,a,r))&&io(t,e,a)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Qu(),r=$u(e),a=ao(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),oo(e,a),null!==(t=Ju(e,r,n))&&io(t,e,r)}};function ho(e,t,n,r,a,o,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,i):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(a,o))}function vo(e,t,n){var r=!1,a=Ta,o=t.contextType;return"object"===typeof o&&null!==o?o=Ja(o):(a=Aa(t)?_a:Ia.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Da(e,a):Ta),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=po,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function mo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&po.enqueueReplaceState(t,t.state,null)}function go(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=lo,no(e);var o=t.contextType;"object"===typeof o&&null!==o?a.context=Ja(o):(o=Aa(t)?_a:Ia.current,a.context=Da(e,o)),a.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(fo(e,t,o,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&po.enqueueReplaceState(a,a.state,null),uo(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}var yo=[],bo=0,xo=null,wo=0,ko=[],So=0,Eo=null,Co=1,No="";function To(e,t){yo[bo++]=wo,yo[bo++]=xo,xo=e,wo=t}function Io(e,t,n){ko[So++]=Co,ko[So++]=No,ko[So++]=Eo,Eo=e;var r=Co;e=No;var a=32-it(r)-1;r&=~(1<<a),n+=1;var o=32-it(t)+a;if(30<o){var i=a-a%5;o=(r&(1<<i)-1).toString(32),r>>=i,a-=i,Co=1<<32-it(t)+a|n<<a|r,No=o+e}else Co=1<<o|n<<a|r,No=e}function Oo(e){null!==e.return&&(To(e,1),Io(e,1,0))}function _o(e){for(;e===xo;)xo=yo[--bo],yo[bo]=null,wo=yo[--bo],yo[bo]=null;for(;e===Eo;)Eo=ko[--So],ko[So]=null,No=ko[--So],ko[So]=null,Co=ko[--So],ko[So]=null}var Do=null,Ao=null,Ro=!1,Po=null;function Mo(e,t){var n=_c(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Fo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Do=e,Ao=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Do=e,Ao=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Eo?{id:Co,overflow:No}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=_c(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Do=e,Ao=null,!0);default:return!1}}function Lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function jo(e){if(Ro){var t=Ao;if(t){var n=t;if(!Fo(e,t)){if(Lo(e))throw Error(o(418));t=ca(n.nextSibling);var r=Do;t&&Fo(e,t)?Mo(r,n):(e.flags=-4097&e.flags|2,Ro=!1,Do=e)}}else{if(Lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,Ro=!1,Do=e}}}function Zo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Do=e}function zo(e){if(e!==Do)return!1;if(!Ro)return Zo(e),Ro=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=Ao)){if(Lo(e)){for(e=Ao;e;)e=ca(e.nextSibling);throw Error(o(418))}for(;t;)Mo(e,t),t=ca(t.nextSibling)}if(Zo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ao=ca(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ao=null}}else Ao=Do?ca(e.stateNode.nextSibling):null;return!0}function Bo(){Ao=Do=null,Ro=!1}function Uo(e){null===Po?Po=[e]:Po.push(e)}function Wo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var a=r,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=a.refs;t===lo&&(t=a.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Vo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ho(e){return(0,e._init)(e._payload)}function Go(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Ac(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===S?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===A&&Ho(o)===t.type)?((r=a(t,n.props)).ref=Wo(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=Wo(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Lc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Pc(n,e.mode,r,o)).return=e,t):((t=a(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=Wo(e,null,t),n.return=e,n;case k:return(t=Lc(t,e.mode,n)).return=e,t;case A:return p(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Pc(t,e.mode,n,null)).return=e,t;Vo(e,t)}return null}function d(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===a?c(e,t,n,r):null;case k:return n.key===a?l(e,t,n,r):null;case A:return d(e,t,(a=n._init)(n._payload),r)}if(te(n)||M(n))return null!==a?null:f(e,t,n,r,null);Vo(e,n)}return null}function h(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case k:return l(t,e=e.get(null===r.key?n:r.key)||null,r,a);case A:return h(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||M(r))return f(t,e=e.get(n)||null,r,a,null);Vo(t,r)}return null}function v(a,o,s,u){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=d(a,f,s[v],u);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(a,f),o=i(g,o,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===s.length)return n(a,f),Ro&&To(a,v),c;if(null===f){for(;v<s.length;v++)null!==(f=p(a,s[v],u))&&(o=i(f,o,v),null===l?c=f:l.sibling=f,l=f);return Ro&&To(a,v),c}for(f=r(a,f);v<s.length;v++)null!==(m=h(f,a,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=i(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(a,e)})),Ro&&To(a,v),c}function m(a,s,u,c){var l=M(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,v=s,m=s=0,g=null,y=u.next();null!==v&&!y.done;m++,y=u.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=d(a,v,y.value,c);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(a,v),s=i(b,s,m),null===f?l=b:f.sibling=b,f=b,v=g}if(y.done)return n(a,v),Ro&&To(a,m),l;if(null===v){for(;!y.done;m++,y=u.next())null!==(y=p(a,y.value,c))&&(s=i(y,s,m),null===f?l=y:f.sibling=y,f=y);return Ro&&To(a,m),l}for(v=r(a,v);!y.done;m++,y=u.next())null!==(y=h(v,a,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),s=i(y,s,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(a,e)})),Ro&&To(a,m),l}return function e(r,o,i,u){if("object"===typeof i&&null!==i&&i.type===S&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case w:e:{for(var c=i.key,l=o;null!==l;){if(l.key===c){if((c=i.type)===S){if(7===l.tag){n(r,l.sibling),(o=a(l,i.props.children)).return=r,r=o;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===A&&Ho(c)===l.type){n(r,l.sibling),(o=a(l,i.props)).ref=Wo(r,l,i),o.return=r,r=o;break e}n(r,l);break}t(r,l),l=l.sibling}i.type===S?((o=Pc(i.props.children,r.mode,u,i.key)).return=r,r=o):((u=Rc(i.type,i.key,i.props,null,r.mode,u)).ref=Wo(r,o,i),u.return=r,r=u)}return s(r);case k:e:{for(l=i.key;null!==o;){if(o.key===l){if(4===o.tag&&o.stateNode.containerInfo===i.containerInfo&&o.stateNode.implementation===i.implementation){n(r,o.sibling),(o=a(o,i.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Lc(i,r.mode,u)).return=r,r=o}return s(r);case A:return e(r,o,(l=i._init)(i._payload),u)}if(te(i))return v(r,o,i,u);if(M(i))return m(r,o,i,u);Vo(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==o&&6===o.tag?(n(r,o.sibling),(o=a(o,i)).return=r,r=o):(n(r,o),(o=Fc(i,r.mode,u)).return=r,r=o),s(r)):n(r,o)}}var qo=Go(!0),Xo=Go(!1),Ko={},Yo=Ea(Ko),Qo=Ea(Ko),$o=Ea(Ko);function Jo(e){if(e===Ko)throw Error(o(174));return e}function ei(e,t){switch(Na($o,t),Na(Qo,e),Na(Yo,Ko),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ca(Yo),Na(Yo,t)}function ti(){Ca(Yo),Ca(Qo),Ca($o)}function ni(e){Jo($o.current);var t=Jo(Yo.current),n=ue(t,e.type);t!==n&&(Na(Qo,e),Na(Yo,n))}function ri(e){Qo.current===e&&(Ca(Yo),Ca(Qo))}var ai=Ea(0);function oi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ii=[];function si(){for(var e=0;e<ii.length;e++)ii[e]._workInProgressVersionPrimary=null;ii.length=0}var ui=x.ReactCurrentDispatcher,ci=x.ReactCurrentBatchConfig,li=0,fi=null,pi=null,di=null,hi=!1,vi=!1,mi=0,gi=0;function yi(){throw Error(o(321))}function bi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function xi(e,t,n,r,a,i){if(li=i,fi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ui.current=null===e||null===e.memoizedState?rs:as,e=n(r,a),vi){i=0;do{if(vi=!1,mi=0,25<=i)throw Error(o(301));i+=1,di=pi=null,t.updateQueue=null,ui.current=os,e=n(r,a)}while(vi)}if(ui.current=ns,t=null!==pi&&null!==pi.next,li=0,di=pi=fi=null,hi=!1,t)throw Error(o(300));return e}function wi(){var e=0!==mi;return mi=0,e}function ki(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===di?fi.memoizedState=di=e:di=di.next=e,di}function Si(){if(null===pi){var e=fi.alternate;e=null!==e?e.memoizedState:null}else e=pi.next;var t=null===di?fi.memoizedState:di.next;if(null!==t)di=t,pi=e;else{if(null===e)throw Error(o(310));e={memoizedState:(pi=e).memoizedState,baseState:pi.baseState,baseQueue:pi.baseQueue,queue:pi.queue,next:null},null===di?fi.memoizedState=di=e:di=di.next=e}return di}function Ei(e,t){return"function"===typeof t?t(e):t}function Ci(e){var t=Si(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=pi,a=r.baseQueue,i=n.pending;if(null!==i){if(null!==a){var s=a.next;a.next=i.next,i.next=s}r.baseQueue=a=i,n.pending=null}if(null!==a){i=a.next,r=r.baseState;var u=s=null,c=null,l=i;do{var f=l.lane;if((li&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var p={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=p,s=r):c=c.next=p,fi.lanes|=f,Ru|=f}l=l.next}while(null!==l&&l!==i);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(ws=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{i=a.lane,fi.lanes|=i,Ru|=i,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ni(e){var t=Si(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var s=a=a.next;do{i=e(i,s.action),s=s.next}while(s!==a);sr(i,t.memoizedState)||(ws=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Ti(){}function Ii(e,t){var n=fi,r=Si(),a=t(),i=!sr(r.memoizedState,a);if(i&&(r.memoizedState=a,ws=!0),r=r.queue,Zi(Di.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==di&&1&di.memoizedState.tag){if(n.flags|=2048,Pi(9,_i.bind(null,n,r,a,t),void 0,null),null===Nu)throw Error(o(349));0!==(30&li)||Oi(n,t,a)}return a}function Oi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=fi.updateQueue)?(t={lastEffect:null,stores:null},fi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function _i(e,t,n,r){t.value=n,t.getSnapshot=r,Ai(t)&&Ju(e,1,-1)}function Di(e,t,n){return n((function(){Ai(t)&&Ju(e,1,-1)}))}function Ai(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Ri(e){var t=ki();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:e},t.queue=e,e=e.dispatch=Qi.bind(null,fi,e),[t.memoizedState,e]}function Pi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=fi.updateQueue)?(t={lastEffect:null,stores:null},fi.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Mi(){return Si().memoizedState}function Fi(e,t,n,r){var a=ki();fi.flags|=e,a.memoizedState=Pi(1|t,n,void 0,void 0===r?null:r)}function Li(e,t,n,r){var a=Si();r=void 0===r?null:r;var o=void 0;if(null!==pi){var i=pi.memoizedState;if(o=i.destroy,null!==r&&bi(r,i.deps))return void(a.memoizedState=Pi(t,n,o,r))}fi.flags|=e,a.memoizedState=Pi(1|t,n,o,r)}function ji(e,t){return Fi(8390656,8,e,t)}function Zi(e,t){return Li(2048,8,e,t)}function zi(e,t){return Li(4,2,e,t)}function Bi(e,t){return Li(4,4,e,t)}function Ui(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Wi(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Li(4,4,Ui.bind(null,t,e),n)}function Vi(){}function Hi(e,t){var n=Si();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&bi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Gi(e,t){var n=Si();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&bi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qi(e,t,n){return 0===(21&li)?(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),fi.lanes|=n,Ru|=n,e.baseState=!0),t)}function Xi(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ci.transition;ci.transition={};try{e(!1),t()}finally{bt=n,ci.transition=r}}function Ki(){return Si().memoizedState}function Yi(e,t,n){var r=$u(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$i(e)?Ji(t,n):(es(e,t,n),null!==(e=Ju(e,r,n=Qu()))&&ts(e,t,r))}function Qi(e,t,n){var r=$u(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($i(e))Ji(t,a);else{es(e,t,a);var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var i=t.lastRenderedState,s=o(i,n);if(a.hasEagerState=!0,a.eagerState=s,sr(s,i))return}catch(u){}null!==(e=Ju(e,r,n=Qu()))&&ts(e,t,r)}}function $i(e){var t=e.alternate;return e===fi||null!==t&&t===fi}function Ji(e,t){vi=hi=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function es(e,t,n){tc(e)?(null===(e=t.interleaved)?(n.next=n,null===eo?eo=[t]:eo.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function ts(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var ns={readContext:Ja,useCallback:yi,useContext:yi,useEffect:yi,useImperativeHandle:yi,useInsertionEffect:yi,useLayoutEffect:yi,useMemo:yi,useReducer:yi,useRef:yi,useState:yi,useDebugValue:yi,useDeferredValue:yi,useTransition:yi,useMutableSource:yi,useSyncExternalStore:yi,useId:yi,unstable_isNewReconciler:!1},rs={readContext:Ja,useCallback:function(e,t){return ki().memoizedState=[e,void 0===t?null:t],e},useContext:Ja,useEffect:ji,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fi(4194308,4,Ui.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fi(4,2,e,t)},useMemo:function(e,t){var n=ki();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ki();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Yi.bind(null,fi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ki().memoizedState=e},useState:Ri,useDebugValue:Vi,useDeferredValue:function(e){return ki().memoizedState=e},useTransition:function(){var e=Ri(!1),t=e[0];return e=Xi.bind(null,e[1]),ki().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=fi,a=ki();if(Ro){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Nu)throw Error(o(349));0!==(30&li)||Oi(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,ji(Di.bind(null,r,i,e),[e]),r.flags|=2048,Pi(9,_i.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=ki(),t=Nu.identifierPrefix;if(Ro){var n=No;t=":"+t+"R"+(n=(Co&~(1<<32-it(Co)-1)).toString(32)+n),0<(n=mi++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=gi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},as={readContext:Ja,useCallback:Hi,useContext:Ja,useEffect:Zi,useImperativeHandle:Wi,useInsertionEffect:zi,useLayoutEffect:Bi,useMemo:Gi,useReducer:Ci,useRef:Mi,useState:function(){return Ci(Ei)},useDebugValue:Vi,useDeferredValue:function(e){return qi(Si(),pi.memoizedState,e)},useTransition:function(){return[Ci(Ei)[0],Si().memoizedState]},useMutableSource:Ti,useSyncExternalStore:Ii,useId:Ki,unstable_isNewReconciler:!1},os={readContext:Ja,useCallback:Hi,useContext:Ja,useEffect:Zi,useImperativeHandle:Wi,useInsertionEffect:zi,useLayoutEffect:Bi,useMemo:Gi,useReducer:Ni,useRef:Mi,useState:function(){return Ni(Ei)},useDebugValue:Vi,useDeferredValue:function(e){var t=Si();return null===pi?t.memoizedState=e:qi(t,pi.memoizedState,e)},useTransition:function(){return[Ni(Ei)[0],Si().memoizedState]},useMutableSource:Ti,useSyncExternalStore:Ii,useId:Ki,unstable_isNewReconciler:!1};function is(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var a=n}catch(o){a="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:a}}function ss(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var us,cs,ls,fs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=ao(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Bu||(Bu=!0,Uu=r),ss(0,t)},n}function ds(e,t,n){(n=ao(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){ss(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ss(0,t),"function"!==typeof r&&(null===Wu?Wu=new Set([this]):Wu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function hs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fs;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function vs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ms(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ao(-1,1)).tag=2,oo(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}function gs(e,t){if(!Ro)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ys(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function bs(e,t,n){var r=t.pendingProps;switch(_o(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ys(t),null;case 1:case 17:return Aa(t.type)&&Ra(),ys(t),null;case 3:return r=t.stateNode,ti(),Ca(Oa),Ca(Ia),si(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(zo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Po&&(oc(Po),Po=null))),ys(t),null;case 5:ri(t);var a=Jo($o.current);if(n=t.type,null!==e&&null!=t.stateNode)cs(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return ys(t),null}if(e=Jo(Yo.current),zo(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[pa]=t,r[da]=i,e=0!==(1&t.mode),n){case"dialog":Zr("cancel",r),Zr("close",r);break;case"iframe":case"object":case"embed":Zr("load",r);break;case"video":case"audio":for(a=0;a<Mr.length;a++)Zr(Mr[a],r);break;case"source":Zr("error",r);break;case"img":case"image":case"link":Zr("error",r),Zr("load",r);break;case"details":Zr("toggle",r);break;case"input":Y(r,i),Zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Zr("invalid",r);break;case"textarea":ae(r,i),Zr("invalid",r)}for(var u in ye(n,i),a=null,i)if(i.hasOwnProperty(u)){var c=i[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==i.suppressHydrationWarning&&$r(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&$r(r.textContent,c,e),a=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Zr("scroll",r)}switch(n){case"input":G(r),J(r,i,!0);break;case"textarea":G(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=Jr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[pa]=t,e[da]=r,us(e,t),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Zr("cancel",e),Zr("close",e),a=r;break;case"iframe":case"object":case"embed":Zr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Mr.length;a++)Zr(Mr[a],e);a=r;break;case"source":Zr("error",e),a=r;break;case"img":case"image":case"link":Zr("error",e),Zr("load",e),a=r;break;case"details":Zr("toggle",e),a=r;break;case"input":Y(e,r),a=K(e,r),Zr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=L({},r,{value:void 0}),Zr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Zr("invalid",e)}for(i in ye(n,a),c=a)if(c.hasOwnProperty(i)){var l=c[i];"style"===i?me(e,l):"dangerouslySetInnerHTML"===i?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===i?"string"===typeof l?("textarea"!==n||""!==l)&&pe(e,l):"number"===typeof l&&pe(e,""+l):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(s.hasOwnProperty(i)?null!=l&&"onScroll"===i&&Zr("scroll",e):null!=l&&b(e,i,l,u))}switch(n){case"input":G(e),J(e,r,!1);break;case"textarea":G(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ne(e,!!r.multiple,i,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return ys(t),null;case 6:if(e&&null!=t.stateNode)ls(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Jo($o.current),Jo(Yo.current),zo(t)){if(r=t.stateNode,n=t.memoizedProps,r[pa]=t,(i=r.nodeValue!==n)&&null!==(e=Do))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[pa]=t,t.stateNode=r}return ys(t),null;case 13:if(Ca(ai),r=t.memoizedState,Ro&&null!==Ao&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Ao;r;)r=ca(r.nextSibling);return Bo(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=zo(t),null===e){if(!r)throw Error(o(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(o(317));r[pa]=t}else Bo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return ys(t),null}return null!==Po&&(oc(Po),Po=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?zo(t):n=null!==e.memoizedState,r!==n&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ai.current)?0===Du&&(Du=3):hc())),null!==t.updateQueue&&(t.flags|=4),ys(t),null);case 4:return ti(),null===e&&Ur(t.stateNode.containerInfo),ys(t),null;case 10:return Ya(t.type._context),ys(t),null;case 19:if(Ca(ai),null===(i=t.memoizedState))return ys(t),null;if(r=0!==(128&t.flags),null===(u=i.rendering))if(r)gs(i,!1);else{if(0!==Du||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=oi(e))){for(t.flags|=128,gs(i,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(u=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,e=u.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Na(ai,1&ai.current|2),t.child}e=e.sibling}null!==i.tail&&Qe()>Zu&&(t.flags|=128,r=!0,gs(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=oi(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),gs(i,!0),null===i.tail&&"hidden"===i.tailMode&&!u.alternate&&!Ro)return ys(t),null}else 2*Qe()-i.renderingStartTime>Zu&&1073741824!==n&&(t.flags|=128,r=!0,gs(i,!1),t.lanes=4194304);i.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=i.last)?n.sibling=u:t.child=u,i.last=u)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Qe(),t.sibling=null,n=ai.current,Na(ai,r?1&n|2:1&n),t):(ys(t),null);case 22:case 23:return lc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ou)&&(ys(t),6&t.subtreeFlags&&(t.flags|=8192)):ys(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}us=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},cs=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Jo(Yo.current);var o,i=null;switch(n){case"input":a=K(e,a),r=K(e,r),i=[];break;case"select":a=L({},a,{value:void 0}),r=L({},r,{value:void 0}),i=[];break;case"textarea":a=re(e,a),r=re(e,r),i=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(l in ye(n,r),n=null,a)if(!r.hasOwnProperty(l)&&a.hasOwnProperty(l)&&null!=a[l])if("style"===l){var u=a[l];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?i||(i=[]):(i=i||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=a?a[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(i=i||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Zr("scroll",e),i||u===c||(i=[])):(i=i||[]).push(l,c))}n&&(i=i||[]).push("style",n);var l=i;(t.updateQueue=l)&&(t.flags|=4)}},ls=function(e,t,n,r){n!==r&&(t.flags|=4)};var xs=x.ReactCurrentOwner,ws=!1;function ks(e,t,n,r){t.child=null===e?Xo(t,null,n,r):qo(t,e.child,n,r)}function Ss(e,t,n,r,a){n=n.render;var o=t.ref;return $a(t,a),r=xi(e,t,n,r,o,a),n=wi(),null===e||ws?(Ro&&n&&Oo(t),t.flags|=1,ks(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Vs(e,t,a))}function Es(e,t,n,r,a){if(null===e){var o=n.type;return"function"!==typeof o||Dc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Cs(e,t,o,r,a))}if(o=e.child,0===(e.lanes&a)){var i=o.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(i,r)&&e.ref===t.ref)return Vs(e,t,a)}return t.flags|=1,(e=Ac(o,r)).ref=t.ref,e.return=t,t.child=e}function Cs(e,t,n,r,a){if(null!==e){var o=e.memoizedProps;if(ur(o,r)&&e.ref===t.ref){if(ws=!1,t.pendingProps=r=o,0===(e.lanes&a))return t.lanes=e.lanes,Vs(e,t,a);0!==(131072&e.flags)&&(ws=!0)}}return Is(e,t,n,r,a)}function Ns(e,t,n){var r=t.pendingProps,a=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Na(_u,Ou),Ou|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Na(_u,Ou),Ou|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Na(_u,Ou),Ou|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Na(_u,Ou),Ou|=r;return ks(e,t,a,n),t.child}function Ts(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Is(e,t,n,r,a){var o=Aa(n)?_a:Ia.current;return o=Da(t,o),$a(t,a),n=xi(e,t,n,r,o,a),r=wi(),null===e||ws?(Ro&&r&&Oo(t),t.flags|=1,ks(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Vs(e,t,a))}function Os(e,t,n,r,a){if(Aa(n)){var o=!0;Fa(t)}else o=!1;if($a(t,a),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),vo(t,n,r),go(t,n,r,a),r=!0;else if(null===e){var i=t.stateNode,s=t.memoizedProps;i.props=s;var u=i.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ja(c):c=Da(t,c=Aa(n)?_a:Ia.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof i.getSnapshotBeforeUpdate;f||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==r||u!==c)&&mo(t,i,r,c),to=!1;var p=t.memoizedState;i.state=p,uo(t,r,i,a),u=t.memoizedState,s!==r||p!==u||Oa.current||to?("function"===typeof l&&(fo(t,n,l,r),u=t.memoizedState),(s=to||ho(t,n,s,r,p,u,c))?(f||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),i.props=r,i.state=u,i.context=c,r=s):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,ro(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Va(t.type,s),i.props=c,f=t.pendingProps,p=i.context,"object"===typeof(u=n.contextType)&&null!==u?u=Ja(u):u=Da(t,u=Aa(n)?_a:Ia.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s!==f||p!==u)&&mo(t,i,r,u),to=!1,p=t.memoizedState,i.state=p,uo(t,r,i,a);var h=t.memoizedState;s!==f||p!==h||Oa.current||to?("function"===typeof d&&(fo(t,n,d,r),h=t.memoizedState),(c=to||ho(t,n,c,r,p,h,u)||!1)?(l||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,h,u),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,h,u)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),i.props=r,i.state=h,i.context=u,r=c):("function"!==typeof i.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return _s(e,t,n,r,o,a)}function _s(e,t,n,r,a,o){Ts(e,t);var i=0!==(128&t.flags);if(!r&&!i)return a&&La(t,n,!1),Vs(e,t,o);r=t.stateNode,xs.current=t;var s=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=qo(t,e.child,null,o),t.child=qo(t,null,s,o)):ks(e,t,s,o),t.memoizedState=r.state,a&&La(t,n,!0),t.child}function Ds(e){var t=e.stateNode;t.pendingContext?Pa(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pa(0,t.context,!1),ei(e,t.containerInfo)}function As(e,t,n,r,a){return Bo(),Uo(a),t.flags|=256,ks(e,t,n,r),t.child}var Rs={dehydrated:null,treeContext:null,retryLane:0};function Ps(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ms(e,t){return{baseLanes:e.baseLanes|t,cachePool:null,transitions:e.transitions}}function Fs(e,t,n){var r,a=t.pendingProps,i=ai.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Na(ai,1&i),null===e)return jo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(i=a.children,e=a.fallback,s?(a=t.mode,s=t.child,i={mode:"hidden",children:i},0===(1&a)&&null!==s?(s.childLanes=0,s.pendingProps=i):s=Mc(i,a,0,null),e=Pc(e,a,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ps(n),t.memoizedState=Rs,e):Ls(t,i));if(null!==(i=e.memoizedState)){if(null!==(r=i.dehydrated)){if(u)return 256&t.flags?(t.flags&=-257,zs(e,t,n,Error(o(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=a.fallback,i=t.mode,a=Mc({mode:"visible",children:a.children},i,0,null),(s=Pc(s,i,n,null)).flags|=2,a.return=t,s.return=t,a.sibling=s,t.child=a,0!==(1&t.mode)&&qo(t,e.child,null,n),t.child.memoizedState=Ps(n),t.memoizedState=Rs,s);if(0===(1&t.mode))t=zs(e,t,n,null);else if("$!"===r.data)t=zs(e,t,n,Error(o(419)));else if(a=0!==(n&e.childLanes),ws||a){if(null!==(a=Nu)){switch(n&-n){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(a=0!==(s&(a.suspendedLanes|n))?0:s)&&a!==i.retryLane&&(i.retryLane=a,Ju(e,a,-1))}hc(),t=zs(e,t,n,Error(o(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=Nc.bind(null,e),r._reactRetry=t,t=null):(n=i.treeContext,Ao=ca(r.nextSibling),Do=t,Ro=!0,Po=null,null!==n&&(ko[So++]=Co,ko[So++]=No,ko[So++]=Eo,Co=n.id,No=n.overflow,Eo=t),(t=Ls(t,t.pendingProps.children)).flags|=4096);return t}return s?(a=Zs(e,t,a.children,a.fallback,n),s=t.child,i=e.child.memoizedState,s.memoizedState=null===i?Ps(n):Ms(i,n),s.childLanes=e.childLanes&~n,t.memoizedState=Rs,a):(n=js(e,t,a.children,n),t.memoizedState=null,n)}return s?(a=Zs(e,t,a.children,a.fallback,n),s=t.child,i=e.child.memoizedState,s.memoizedState=null===i?Ps(n):Ms(i,n),s.childLanes=e.childLanes&~n,t.memoizedState=Rs,a):(n=js(e,t,a.children,n),t.memoizedState=null,n)}function Ls(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function js(e,t,n,r){var a=e.child;return e=a.sibling,n=Ac(a,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Zs(e,t,n,r,a){var o=t.mode,i=(e=e.child).sibling,s={mode:"hidden",children:n};return 0===(1&o)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=s,t.deletions=null):(n=Ac(e,s)).subtreeFlags=14680064&e.subtreeFlags,null!==i?r=Ac(i,r):(r=Pc(r,o,a,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function zs(e,t,n,r){return null!==r&&Uo(r),qo(t,e.child,null,n),(e=Ls(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Qa(e.return,t,n)}function Us(e,t,n,r,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a)}function Ws(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(ks(e,t,r.children,n),0!==(2&(r=ai.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Na(ai,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===oi(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Us(t,!1,a,n,o);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===oi(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Us(t,!0,n,null,o);break;case"together":Us(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ru|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ac(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ac(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){switch(_o(t),t.tag){case 1:return Aa(t.type)&&Ra(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ti(),Ca(Oa),Ca(Ia),si(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ri(t),null;case 13:if(Ca(ai),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));Bo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ca(ai),null;case 4:return ti(),null;case 10:return Ya(t.type._context),null;case 22:case 23:return lc(),null;default:return null}}var Gs=!1,qs=!1,Xs="function"===typeof WeakSet?WeakSet:Set,Ks=null;function Ys(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function Qs(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var $s=!1;function Js(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,void 0!==o&&Qs(t,n,o)}a=a.next}while(a!==r)}}function eu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function tu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function nu(e){var t=e.alternate;null!==t&&(e.alternate=null,nu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[pa],delete t[da],delete t[va],delete t[ma],delete t[ga])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ru(e){return 5===e.tag||3===e.tag||4===e.tag}function au(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ru(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ou(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ou(e,t,n),e=e.sibling;null!==e;)ou(e,t,n),e=e.sibling}function iu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(iu(e,t,n),e=e.sibling;null!==e;)iu(e,t,n),e=e.sibling}var su=null,uu=!1;function cu(e,t,n){for(n=n.child;null!==n;)lu(e,t,n),n=n.sibling}function lu(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(at,n)}catch(s){}switch(n.tag){case 5:qs||Ys(n,t);case 6:var r=su,a=uu;su=null,cu(e,t,n),uu=a,null!==(su=r)&&(uu?(e=su,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):su.removeChild(n.stateNode));break;case 18:null!==su&&(uu?(e=su,n=n.stateNode,8===e.nodeType?ua(e.parentNode,n):1===e.nodeType&&ua(e,n),Ut(e)):ua(su,n.stateNode));break;case 4:r=su,a=uu,su=n.stateNode.containerInfo,uu=!0,cu(e,t,n),su=r,uu=a;break;case 0:case 11:case 14:case 15:if(!qs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var o=a,i=o.destroy;o=o.tag,void 0!==i&&(0!==(2&o)||0!==(4&o))&&Qs(n,t,i),a=a.next}while(a!==r)}cu(e,t,n);break;case 1:if(!qs&&(Ys(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Sc(n,t,s)}cu(e,t,n);break;case 21:cu(e,t,n);break;case 22:1&n.mode?(qs=(r=qs)||null!==n.memoizedState,cu(e,t,n),qs=r):cu(e,t,n);break;default:cu(e,t,n)}}function fu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xs),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function pu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:su=u.stateNode,uu=!1;break e;case 3:case 4:su=u.stateNode.containerInfo,uu=!0;break e}u=u.return}if(null===su)throw Error(o(160));lu(i,s,a),su=null,uu=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(l){Sc(a,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)du(t,e),t=t.sibling}function du(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pu(t,e),hu(e),4&r){try{Js(3,e,e.return),eu(3,e)}catch(v){Sc(e,e.return,v)}try{Js(5,e,e.return)}catch(v){Sc(e,e.return,v)}}break;case 1:pu(t,e),hu(e),512&r&&null!==n&&Ys(n,n.return);break;case 5:if(pu(t,e),hu(e),512&r&&null!==n&&Ys(n,n.return),32&e.flags){var a=e.stateNode;try{pe(a,"")}catch(v){Sc(e,e.return,v)}}if(4&r&&null!=(a=e.stateNode)){var i=e.memoizedProps,s=null!==n?n.memoizedProps:i,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===i.type&&null!=i.name&&Q(a,i),be(u,s);var l=be(u,i);for(s=0;s<c.length;s+=2){var f=c[s],p=c[s+1];"style"===f?me(a,p):"dangerouslySetInnerHTML"===f?fe(a,p):"children"===f?pe(a,p):b(a,f,p,l)}switch(u){case"input":$(a,i);break;case"textarea":oe(a,i);break;case"select":var d=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var h=i.value;null!=h?ne(a,!!i.multiple,h,!1):d!==!!i.multiple&&(null!=i.defaultValue?ne(a,!!i.multiple,i.defaultValue,!0):ne(a,!!i.multiple,i.multiple?[]:"",!1))}a[da]=i}catch(v){Sc(e,e.return,v)}}break;case 6:if(pu(t,e),hu(e),4&r){if(null===e.stateNode)throw Error(o(162));l=e.stateNode,f=e.memoizedProps;try{l.nodeValue=f}catch(v){Sc(e,e.return,v)}}break;case 3:if(pu(t,e),hu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(v){Sc(e,e.return,v)}break;case 4:default:pu(t,e),hu(e);break;case 13:pu(t,e),hu(e),8192&(l=e.child).flags&&null!==l.memoizedState&&(null===l.alternate||null===l.alternate.memoizedState)&&(ju=Qe()),4&r&&fu(e);break;case 22:if(l=null!==n&&null!==n.memoizedState,1&e.mode?(qs=(f=qs)||l,pu(t,e),qs=f):pu(t,e),hu(e),8192&r){f=null!==e.memoizedState;e:for(p=null,d=e;;){if(5===d.tag){if(null===p){p=d;try{a=d.stateNode,f?"function"===typeof(i=a.style).setProperty?i.setProperty("display","none","important"):i.display="none":(u=d.stateNode,s=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(v){Sc(e,e.return,v)}}}else if(6===d.tag){if(null===p)try{d.stateNode.nodeValue=f?"":d.memoizedProps}catch(v){Sc(e,e.return,v)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;p===d&&(p=null),d=d.return}p===d&&(p=null),d.sibling.return=d.return,d=d.sibling}if(f&&!l&&0!==(1&e.mode))for(Ks=e,e=e.child;null!==e;){for(l=Ks=e;null!==Ks;){switch(p=(f=Ks).child,f.tag){case 0:case 11:case 14:case 15:Js(4,f,f.return);break;case 1:if(Ys(f,f.return),"function"===typeof(i=f.stateNode).componentWillUnmount){d=f,h=f.return;try{a=d,i.props=a.memoizedProps,i.state=a.memoizedState,i.componentWillUnmount()}catch(v){Sc(d,h,v)}}break;case 5:Ys(f,f.return);break;case 22:if(null!==f.memoizedState){yu(l);continue}}null!==p?(p.return=f,Ks=p):yu(l)}e=e.sibling}}break;case 19:pu(t,e),hu(e),4&r&&fu(e);case 21:}}function hu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ru(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(pe(a,""),r.flags&=-33),iu(e,au(e),a);break;case 3:case 4:var i=r.stateNode.containerInfo;ou(e,au(e),i);break;default:throw Error(o(161))}}catch(s){Sc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vu(e,t,n){Ks=e,mu(e,t,n)}function mu(e,t,n){for(var r=0!==(1&e.mode);null!==Ks;){var a=Ks,o=a.child;if(22===a.tag&&r){var i=null!==a.memoizedState||Gs;if(!i){var s=a.alternate,u=null!==s&&null!==s.memoizedState||qs;s=Gs;var c=qs;if(Gs=i,(qs=u)&&!c)for(Ks=a;null!==Ks;)u=(i=Ks).child,22===i.tag&&null!==i.memoizedState?bu(a):null!==u?(u.return=i,Ks=u):bu(a);for(;null!==o;)Ks=o,mu(o,t,n),o=o.sibling;Ks=a,Gs=s,qs=c}gu(e)}else 0!==(8772&a.subtreeFlags)&&null!==o?(o.return=a,Ks=o):gu(e)}}function gu(e){for(;null!==Ks;){var t=Ks;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:qs||eu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!qs)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:Va(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&co(t,i,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}co(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var p=f.dehydrated;null!==p&&Ut(p)}}}break;default:throw Error(o(163))}qs||512&t.flags&&tu(t)}catch(d){Sc(t,t.return,d)}}if(t===e){Ks=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ks=n;break}Ks=t.return}}function yu(e){for(;null!==Ks;){var t=Ks;if(t===e){Ks=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ks=n;break}Ks=t.return}}function bu(e){for(;null!==Ks;){var t=Ks;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{eu(4,t)}catch(u){Sc(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(u){Sc(t,a,u)}}var o=t.return;try{tu(t)}catch(u){Sc(t,o,u)}break;case 5:var i=t.return;try{tu(t)}catch(u){Sc(t,i,u)}}}catch(u){Sc(t,t.return,u)}if(t===e){Ks=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Ks=s;break}Ks=t.return}}var xu,wu=Math.ceil,ku=x.ReactCurrentDispatcher,Su=x.ReactCurrentOwner,Eu=x.ReactCurrentBatchConfig,Cu=0,Nu=null,Tu=null,Iu=0,Ou=0,_u=Ea(0),Du=0,Au=null,Ru=0,Pu=0,Mu=0,Fu=null,Lu=null,ju=0,Zu=1/0,zu=null,Bu=!1,Uu=null,Wu=null,Vu=!1,Hu=null,Gu=0,qu=0,Xu=null,Ku=-1,Yu=0;function Qu(){return 0!==(6&Cu)?Qe():-1!==Ku?Ku:Ku=Qe()}function $u(e){return 0===(1&e.mode)?1:0!==(2&Cu)&&0!==Iu?Iu&-Iu:null!==Wa.transition?(0===Yu&&(Yu=vt()),Yu):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function Ju(e,t,n){if(50<qu)throw qu=0,Xu=null,Error(o(185));var r=ec(e,t);return null===r?null:(gt(r,t,n),0!==(2&Cu)&&r===Nu||(r===Nu&&(0===(2&Cu)&&(Pu|=t),4===Du&&ic(r,Iu)),nc(r,n),1===t&&0===Cu&&0===(1&e.mode)&&(Zu=Qe()+500,Za&&Ua())),r)}function ec(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function tc(e){return(null!==Nu||null!==eo)&&0!==(1&e.mode)&&0===(2&Cu)}function nc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-it(o),s=1<<i,u=a[i];-1===u?0!==(s&n)&&0===(s&r)||(a[i]=dt(s,t)):u<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=pt(e,e===Nu?Iu:0);if(0===r)null!==n&&Xe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Xe(n),1===t)0===e.tag?function(e){Za=!0,Ba(e)}(sc.bind(null,e)):Ba(sc.bind(null,e)),ia((function(){0===Cu&&Ua()})),n=null;else{switch(xt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ic(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if(Ku=-1,Yu=0,0!==(6&Cu))throw Error(o(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=pt(e,e===Nu?Iu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var a=Cu;Cu|=2;var i=dc();for(Nu===e&&Iu===t||(zu=null,Zu=Qe()+500,fc(e,t));;)try{gc();break}catch(u){pc(e,u)}Ka(),ku.current=i,Cu=a,null!==Tu?t=0:(Nu=null,Iu=0,t=Du)}if(0!==t){if(2===t&&(0!==(a=ht(e))&&(r=a,t=ac(e,a))),1===t)throw n=Au,fc(e,0),ic(e,r),nc(e,Qe()),n;if(6===t)ic(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],o=a.getSnapshot;a=a.value;try{if(!sr(o(),a))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=vc(e,r))&&(0!==(i=ht(e))&&(r=i,t=ac(e,i))),1===t))throw n=Au,fc(e,0),ic(e,r),nc(e,Qe()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:xc(e,Lu,zu);break;case 3:if(ic(e,r),(130023424&r)===r&&10<(t=ju+500-Qe())){if(0!==pt(e,0))break;if(((a=e.suspendedLanes)&r)!==r){Qu(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(xc.bind(null,e,Lu,zu),t);break}xc(e,Lu,zu);break;case 4:if(ic(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var s=31-it(r);i=1<<s,(s=t[s])>a&&(a=s),r&=~i}if(r=a,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wu(r/1960))-r)){e.timeoutHandle=ra(xc.bind(null,e,Lu,zu),r);break}xc(e,Lu,zu);break;default:throw Error(o(329))}}}return nc(e,Qe()),e.callbackNode===n?rc.bind(null,e):null}function ac(e,t){var n=Fu;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Lu,Lu=n,null!==t&&oc(t)),e}function oc(e){null===Lu?Lu=e:Lu.push.apply(Lu,e)}function ic(e,t){for(t&=~Mu,t&=~Pu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function sc(e){if(0!==(6&Cu))throw Error(o(327));wc();var t=pt(e,0);if(0===(1&t))return nc(e,Qe()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Au,fc(e,0),ic(e,t),nc(e,Qe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Lu,zu),nc(e,Qe()),null}function uc(e,t){var n=Cu;Cu|=1;try{return e(t)}finally{0===(Cu=n)&&(Zu=Qe()+500,Za&&Ua())}}function cc(e){null!==Hu&&0===Hu.tag&&0===(6&Cu)&&wc();var t=Cu;Cu|=1;var n=Eu.transition,r=bt;try{if(Eu.transition=null,bt=1,e)return e()}finally{bt=r,Eu.transition=n,0===(6&(Cu=t))&&Ua()}}function lc(){Ou=_u.current,Ca(_u)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Tu)for(n=Tu.return;null!==n;){var r=n;switch(_o(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ra();break;case 3:ti(),Ca(Oa),Ca(Ia),si();break;case 5:ri(r);break;case 4:ti();break;case 13:case 19:Ca(ai);break;case 10:Ya(r.type._context);break;case 22:case 23:lc()}n=n.return}if(Nu=e,Tu=e=Ac(e.current,null),Iu=Ou=t,Du=0,Au=null,Mu=Pu=Ru=0,Lu=Fu=null,null!==eo){for(t=0;t<eo.length;t++)if(null!==(r=(n=eo[t]).interleaved)){n.interleaved=null;var a=r.next,o=n.pending;if(null!==o){var i=o.next;o.next=a,r.next=i}n.pending=r}eo=null}return e}function pc(e,t){for(;;){var n=Tu;try{if(Ka(),ui.current=ns,hi){for(var r=fi.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}hi=!1}if(li=0,di=pi=fi=null,vi=!1,mi=0,Su.current=null,null===n||null===n.return){Du=1,Au=t,Tu=null;break}e:{var i=e,s=n.return,u=n,c=t;if(t=Iu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,p=f.tag;if(0===(1&f.mode)&&(0===p||11===p||15===p)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var h=vs(s);if(null!==h){h.flags&=-257,ms(h,s,u,0,t),1&h.mode&&hs(i,l,t),c=l;var v=(t=h).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){hs(i,l,t),hc();break e}c=Error(o(426))}else if(Ro&&1&u.mode){var g=vs(s);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),ms(g,s,u,0,t),Uo(c);break e}}i=c,4!==Du&&(Du=2),null===Fu?Fu=[i]:Fu.push(i),c=is(c,u),u=s;do{switch(u.tag){case 3:u.flags|=65536,t&=-t,u.lanes|=t,so(u,ps(0,c,t));break e;case 1:i=c;var y=u.type,b=u.stateNode;if(0===(128&u.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wu||!Wu.has(b)))){u.flags|=65536,t&=-t,u.lanes|=t,so(u,ds(u,i,t));break e}}u=u.return}while(null!==u)}bc(n)}catch(x){t=x,Tu===n&&null!==n&&(Tu=n=n.return);continue}break}}function dc(){var e=ku.current;return ku.current=ns,null===e?ns:e}function hc(){0!==Du&&3!==Du&&2!==Du||(Du=4),null===Nu||0===(268435455&Ru)&&0===(268435455&Pu)||ic(Nu,Iu)}function vc(e,t){var n=Cu;Cu|=2;var r=dc();for(Nu===e&&Iu===t||(zu=null,fc(e,t));;)try{mc();break}catch(a){pc(e,a)}if(Ka(),Cu=n,ku.current=r,null!==Tu)throw Error(o(261));return Nu=null,Iu=0,Du}function mc(){for(;null!==Tu;)yc(Tu)}function gc(){for(;null!==Tu&&!Ke();)yc(Tu)}function yc(e){var t=xu(e.alternate,e,Ou);e.memoizedProps=e.pendingProps,null===t?bc(e):Tu=t,Su.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=bs(n,t,Ou)))return void(Tu=n)}else{if(null!==(n=Hs(n,t)))return n.flags&=32767,void(Tu=n);if(null===e)return Du=6,void(Tu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Tu=t);Tu=t=e}while(null!==t);0===Du&&(Du=5)}function xc(e,t,n){var r=bt,a=Eu.transition;try{Eu.transition=null,bt=1,function(e,t,n,r){do{wc()}while(null!==Hu);if(0!==(6&Cu))throw Error(o(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-it(n),o=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~o}}(e,i),e===Nu&&(Tu=Nu=null,Iu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Vu||(Vu=!0,Ic(tt,(function(){return wc(),null}))),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=Eu.transition,Eu.transition=null;var s=bt;bt=1;var u=Cu;Cu|=4,Su.current=null,function(e,t){if(ea=Vt,dr(e=pr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(k){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,p=e,d=null;t:for(;;){for(var h;p!==n||0!==a&&3!==p.nodeType||(u=s+a),p!==i||0!==r&&3!==p.nodeType||(c=s+r),3===p.nodeType&&(s+=p.nodeValue.length),null!==(h=p.firstChild);)d=p,p=h;for(;;){if(p===e)break t;if(d===n&&++l===a&&(u=s),d===i&&++f===r&&(c=s),null!==(h=p.nextSibling))break;d=(p=d).parentNode}p=h}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},Vt=!1,Ks=t;null!==Ks;)if(e=(t=Ks).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ks=e;else for(;null!==Ks;){t=Ks;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:Va(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;if(1===x.nodeType)x.textContent="";else if(9===x.nodeType){var w=x.body;null!=w&&(w.textContent="")}break;default:throw Error(o(163))}}catch(k){Sc(t,t.return,k)}if(null!==(e=t.sibling)){e.return=t.return,Ks=e;break}Ks=t.return}v=$s,$s=!1}(e,n),du(n,e),hr(ta),Vt=!!ea,ta=ea=null,e.current=n,vu(n,e,a),Ye(),Cu=u,bt=s,Eu.transition=i}else e.current=n;if(Vu&&(Vu=!1,Hu=e,Gu=a),0===(i=e.pendingLanes)&&(Wu=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nc(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r(t[n]);if(Bu)throw Bu=!1,e=Uu,Uu=null,e;0!==(1&Gu)&&0!==e.tag&&wc(),0!==(1&(i=e.pendingLanes))?e===Xu?qu++:(qu=0,Xu=e):qu=0,Ua()}(e,t,n,r)}finally{Eu.transition=a,bt=r}return null}function wc(){if(null!==Hu){var e=xt(Gu),t=Eu.transition,n=bt;try{if(Eu.transition=null,bt=16>e?16:e,null===Hu)var r=!1;else{if(e=Hu,Hu=null,Gu=0,0!==(6&Cu))throw Error(o(331));var a=Cu;for(Cu|=4,Ks=e.current;null!==Ks;){var i=Ks,s=i.child;if(0!==(16&Ks.flags)){var u=i.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Ks=l;null!==Ks;){var f=Ks;switch(f.tag){case 0:case 11:case 15:Js(8,f,i)}var p=f.child;if(null!==p)p.return=f,Ks=p;else for(;null!==Ks;){var d=(f=Ks).sibling,h=f.return;if(nu(f),f===l){Ks=null;break}if(null!==d){d.return=h,Ks=d;break}Ks=h}}}var v=i.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Ks=i}}if(0!==(2064&i.subtreeFlags)&&null!==s)s.return=i,Ks=s;else e:for(;null!==Ks;){if(0!==(2048&(i=Ks).flags))switch(i.tag){case 0:case 11:case 15:Js(9,i,i.return)}var y=i.sibling;if(null!==y){y.return=i.return,Ks=y;break e}Ks=i.return}}var b=e.current;for(Ks=b;null!==Ks;){var x=(s=Ks).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,Ks=x;else e:for(s=b;null!==Ks;){if(0!==(2048&(u=Ks).flags))try{switch(u.tag){case 0:case 11:case 15:eu(9,u)}}catch(k){Sc(u,u.return,k)}if(u===s){Ks=null;break e}var w=u.sibling;if(null!==w){w.return=u.return,Ks=w;break e}Ks=u.return}}if(Cu=a,Ua(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(at,e)}catch(k){}r=!0}return r}finally{bt=n,Eu.transition=t}}return!1}function kc(e,t,n){oo(e,t=ps(0,t=is(n,t),1)),t=Qu(),null!==(e=ec(e,1))&&(gt(e,1,t),nc(e,t))}function Sc(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wu||!Wu.has(r))){oo(t,e=ds(t,e=is(n,e),1)),e=Qu(),null!==(t=ec(t,1))&&(gt(t,1,e),nc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Qu(),e.pingedLanes|=e.suspendedLanes&n,Nu===e&&(Iu&n)===n&&(4===Du||3===Du&&(130023424&Iu)===Iu&&500>Qe()-ju?fc(e,0):Mu|=n),nc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=Qu();null!==(e=ec(e,t))&&(gt(e,t,n),nc(e,n))}function Nc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Cc(e,n)}function Ic(e,t){return qe(e,t)}function Oc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _c(e,t,n,r){return new Oc(e,t,n,r)}function Dc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ac(e,t){var n=e.alternate;return null===n?((n=_c(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,a,i){var s=2;if(r=e,"function"===typeof e)Dc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Pc(n.children,a,i,t);case E:s=8,a|=8;break;case C:return(e=_c(12,n,t,2|a)).elementType=C,e.lanes=i,e;case O:return(e=_c(13,n,t,a)).elementType=O,e.lanes=i,e;case _:return(e=_c(19,n,t,a)).elementType=_,e.lanes=i,e;case R:return Mc(n,a,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case N:s=10;break e;case T:s=9;break e;case I:s=11;break e;case D:s=14;break e;case A:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=_c(s,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function Pc(e,t,n,r){return(e=_c(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=_c(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={},e}function Fc(e,t,n){return(e=_c(6,e,null,t)).lanes=n,e}function Lc(e,t,n){return(t=_c(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Zc(e,t,n,r,a,o,i,s,u){return e=new jc(e,t,n,s,u),1===t?(t=1,!0===o&&(t|=8)):t=0,o=_c(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},no(o),e}function zc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bc(e){if(!e)return Ta;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Aa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Aa(n))return Ma(e,n,t)}return t}function Uc(e,t,n,r,a,o,i,s,u){return(e=Zc(n,r,!0,e,0,o,0,s,u)).context=Bc(null),n=e.current,(o=ao(r=Qu(),a=$u(n))).callback=void 0!==t&&null!==t?t:null,oo(n,o),e.current.lanes=a,gt(e,a,r),nc(e,r),e}function Wc(e,t,n,r){var a=t.current,o=Qu(),i=$u(a);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=ao(o,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),oo(a,t),null!==(e=Ju(a,i,o))&&io(e,a,i),i}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}xu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Oa.current)ws=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ws=!1,function(e,t,n){switch(t.tag){case 3:Ds(t),Bo();break;case 5:ni(t);break;case 1:Aa(t.type)&&Fa(t);break;case 4:ei(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Na(Ha,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Na(ai,1&ai.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fs(e,t,n):(Na(ai,1&ai.current),null!==(e=Vs(e,t,n))?e.sibling:null);Na(ai,1&ai.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ws(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Na(ai,ai.current),r)break;return null;case 22:case 23:return t.lanes=0,Ns(e,t,n)}return Vs(e,t,n)}(e,t,n);ws=0!==(131072&e.flags)}else ws=!1,Ro&&0!==(1048576&t.flags)&&Io(t,wo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var a=Da(t,Ia.current);$a(t,n),a=xi(null,t,r,e,a,n);var i=wi();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Aa(r)?(i=!0,Fa(t)):i=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,no(t),a.updater=po,t.stateNode=a,a._reactInternals=t,go(t,r,e,n),t=_s(null,t,r,!0,i,n)):(t.tag=0,Ro&&i&&Oo(t),ks(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Dc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===D)return 14}return 2}(r),e=Va(r,e),a){case 0:t=Is(null,t,r,e,n);break e;case 1:t=Os(null,t,r,e,n);break e;case 11:t=Ss(null,t,r,e,n);break e;case 14:t=Es(null,t,r,Va(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Is(e,t,r,a=t.elementType===r?a:Va(r,a),n);case 1:return r=t.type,a=t.pendingProps,Os(e,t,r,a=t.elementType===r?a:Va(r,a),n);case 3:e:{if(Ds(t),null===e)throw Error(o(387));r=t.pendingProps,a=(i=t.memoizedState).element,ro(e,t),uo(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=As(e,t,r,n,a=Error(o(423)));break e}if(r!==a){t=As(e,t,r,n,a=Error(o(424)));break e}for(Ao=ca(t.stateNode.containerInfo.firstChild),Do=t,Ro=!0,Po=null,n=Xo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Bo(),r===a){t=Vs(e,t,n);break e}ks(e,t,r,n)}t=t.child}return t;case 5:return ni(t),null===e&&jo(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,s=a.children,na(r,a)?s=null:null!==i&&na(r,i)&&(t.flags|=32),Ts(e,t),ks(e,t,s,n),t.child;case 6:return null===e&&jo(t),null;case 13:return Fs(e,t,n);case 4:return ei(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=qo(t,null,r,n):ks(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,Ss(e,t,r,a=t.elementType===r?a:Va(r,a),n);case 7:return ks(e,t,t.pendingProps,n),t.child;case 8:case 12:return ks(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,Na(Ha,r._currentValue),r._currentValue=s,null!==i)if(sr(i.value,s)){if(i.children===a.children&&!Oa.current){t=Vs(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var u=i.dependencies;if(null!==u){s=i.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===i.tag){(c=ao(-1,n&-n)).tag=2;var l=i.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}i.lanes|=n,null!==(c=i.alternate)&&(c.lanes|=n),Qa(i.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===i.tag)s=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(s=i.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Qa(s,n,t),s=i.sibling}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===t){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}ks(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,$a(t,n),r=r(a=Ja(a)),t.flags|=1,ks(e,t,r,n),t.child;case 14:return a=Va(r=t.type,t.pendingProps),Es(e,t,r,a=Va(r.type,a),n);case 15:return Cs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Va(r,a),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Aa(r)?(e=!0,Fa(t)):e=!1,$a(t,n),vo(t,r,a),go(t,r,a,n),_s(null,t,r,!0,e,n);case 19:return Ws(e,t,n);case 22:return Ns(e,t,n)}throw Error(o(156,t.tag))};var qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Xc(e){this._internalRoot=e}function Kc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function Jc(e,t,n,r,a){var o=n._reactRootContainer;if(o){var i=o;if("function"===typeof a){var s=a;a=function(){var e=Vc(i);s.call(e)}}Wc(t,i,e,a)}else i=function(e,t,n,r,a){if(a){if("function"===typeof r){var o=r;r=function(){var e=Vc(i);o.call(e)}}var i=Uc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=i,e[ha]=i.current,Ur(8===e.nodeType?e.parentNode:e),cc(),i}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var s=r;r=function(){var e=Vc(u);s.call(e)}}var u=Zc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=u,e[ha]=u.current,Ur(8===e.nodeType?e.parentNode:e),cc((function(){Wc(t,u,n,r)})),u}(n,t,e,a,r);return Vc(i)}Kc.prototype.render=Xc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Wc(e,t,null,null)},Kc.prototype.unmount=Xc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cc((function(){Wc(null,e,null,null)})),t[ha]=null}},Kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),nc(t,Qe()),0===(6&Cu)&&(Zu=Qe()+500,Ua()))}break;case 13:var r=Qu();cc((function(){return Ju(e,1,r)})),Gc(e,1)}},kt=function(e){13===e.tag&&(Ju(e,134217728,Qu()),Gc(e,134217728))},St=function(e){if(13===e.tag){var t=Qu(),n=$u(e);Ju(e,n,t),Gc(e,n)}},Et=function(){return bt},Ct=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},ke=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=wa(r);if(!a)throw Error(o(90));q(r),$(r,a)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=uc,Oe=cc;var el={usingClientEntryPoint:!1,Events:[ba,xa,wa,Ne,Te,uc]},tl={findFiberByHostInstance:ya,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},nl={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rl.isDisabled&&rl.supportsFiber)try{at=rl.inject(nl),ot=rl}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=el,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(o(200));return zc(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(o(299));var n=!1,r="",a=qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Zc(e,1,!1,null,0,n,0,r,a),e[ha]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Xc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return cc(e)},t.hydrate=function(e,t,n){if(!Qc(t))throw Error(o(200));return Jc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,a=!1,i="",s=qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Uc(t,null,e,1,null!=n?n:null,a,0,i,s),e[ha]=t.current,Ur(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Kc(t)},t.render=function(e,t,n){if(!Qc(t))throw Error(o(200));return Jc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(o(40));return!!e._reactRootContainer&&(cc((function(){Jc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ha]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Jc(e,t,n,!1,r)},t.version="18.1.0-next-22edb9f77-20220426"},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},77:function(e){var t="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,a="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function o(e,i){if(e===i)return!0;if(e&&i&&"object"==typeof e&&"object"==typeof i){if(e.constructor!==i.constructor)return!1;var s,u,c,l;if(Array.isArray(e)){if((s=e.length)!=i.length)return!1;for(u=s;0!==u--;)if(!o(e[u],i[u]))return!1;return!0}if(n&&e instanceof Map&&i instanceof Map){if(e.size!==i.size)return!1;for(l=e.entries();!(u=l.next()).done;)if(!i.has(u.value[0]))return!1;for(l=e.entries();!(u=l.next()).done;)if(!o(u.value[1],i.get(u.value[0])))return!1;return!0}if(r&&e instanceof Set&&i instanceof Set){if(e.size!==i.size)return!1;for(l=e.entries();!(u=l.next()).done;)if(!i.has(u.value[0]))return!1;return!0}if(a&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(i)){if((s=e.length)!=i.length)return!1;for(u=s;0!==u--;)if(e[u]!==i[u])return!1;return!0}if(e.constructor===RegExp)return e.source===i.source&&e.flags===i.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===i.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===i.toString();if((s=(c=Object.keys(e)).length)!==Object.keys(i).length)return!1;for(u=s;0!==u--;)if(!Object.prototype.hasOwnProperty.call(i,c[u]))return!1;if(t&&e instanceof Element)return!1;for(u=s;0!==u--;)if(("_owner"!==c[u]&&"__v"!==c[u]&&"__o"!==c[u]||!e.$$typeof)&&!o(e[c[u]],i[c[u]]))return!1;return!0}return e!==e&&i!==i}e.exports=function(e,t){try{return o(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},7832:function(e,t,n){var r;e.exports=(r=n(2791),function(){var e={703:function(e,t,n){"use strict";var r=n(414);function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,o,i){if(i!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return n.PropTypes=n,n}},697:function(e,t,n){e.exports=n(703)()},414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},590:function(e){var t="undefined"!=typeof Element,n="function"==typeof Map,r="function"==typeof Set,a="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function o(e,i){if(e===i)return!0;if(e&&i&&"object"==typeof e&&"object"==typeof i){if(e.constructor!==i.constructor)return!1;var s,u,c,l;if(Array.isArray(e)){if((s=e.length)!=i.length)return!1;for(u=s;0!=u--;)if(!o(e[u],i[u]))return!1;return!0}if(n&&e instanceof Map&&i instanceof Map){if(e.size!==i.size)return!1;for(l=e.entries();!(u=l.next()).done;)if(!i.has(u.value[0]))return!1;for(l=e.entries();!(u=l.next()).done;)if(!o(u.value[1],i.get(u.value[0])))return!1;return!0}if(r&&e instanceof Set&&i instanceof Set){if(e.size!==i.size)return!1;for(l=e.entries();!(u=l.next()).done;)if(!i.has(u.value[0]))return!1;return!0}if(a&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(i)){if((s=e.length)!=i.length)return!1;for(u=s;0!=u--;)if(e[u]!==i[u])return!1;return!0}if(e.constructor===RegExp)return e.source===i.source&&e.flags===i.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===i.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===i.toString();if((s=(c=Object.keys(e)).length)!==Object.keys(i).length)return!1;for(u=s;0!=u--;)if(!Object.prototype.hasOwnProperty.call(i,c[u]))return!1;if(t&&e instanceof Element)return!1;for(u=s;0!=u--;)if(("_owner"!==c[u]&&"__v"!==c[u]&&"__o"!==c[u]||!e.$$typeof)&&!o(e[c[u]],i[c[u]]))return!1;return!0}return e!=e&&i!=i}e.exports=function(e,t){try{return o(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},37:function(e,t,n){!function(e,t){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var r="Left",a="Right",o="Down",i={delta:10,preventDefaultTouchmoveEvent:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0},s={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},u="mousemove",c="mouseup";function l(e,t){if(0===t)return e;var n=Math.PI/180*t;return[e[0]*Math.cos(n)+e[1]*Math.sin(n),e[1]*Math.cos(n)-e[0]*Math.sin(n)]}function f(e,t){var i=function(t){t&&"touches"in t&&t.touches.length>1||e((function(e,r){r.trackMouse&&(document.addEventListener(u,f),document.addEventListener(c,d));var a="touches"in t?t.touches[0]:t,o=l([a.clientX,a.clientY],r.rotationAngle);return n({},e,s,{initial:[].concat(o),xy:o,start:t.timeStamp||0})}))},f=function(t){e((function(e,i){if("touches"in t&&t.touches.length>1)return e;var s="touches"in t?t.touches[0]:t,u=l([s.clientX,s.clientY],i.rotationAngle),c=u[0],f=u[1],p=c-e.xy[0],d=f-e.xy[1],h=Math.abs(p),v=Math.abs(d),m=(t.timeStamp||0)-e.start,g=Math.sqrt(h*h+v*v)/(m||1),y=[p/(m||1),d/(m||1)];if(h<i.delta&&v<i.delta&&!e.swiping)return e;var b=function(e,t,n,i){return e>t?n>0?a:r:i>0?o:"Up"}(h,v,p,d),x={absX:h,absY:v,deltaX:p,deltaY:d,dir:b,event:t,first:e.first,initial:e.initial,velocity:g,vxvy:y};i.onSwiping&&i.onSwiping(x);var w=!1;return(i.onSwiping||i.onSwiped||"onSwiped"+b in i)&&(w=!0),w&&i.preventDefaultTouchmoveEvent&&i.trackTouch&&t.cancelable&&t.preventDefault(),n({},e,{first:!1,eventData:x,swiping:!0})}))},p=function(t){e((function(e,r){var a;if(e.swiping&&e.eventData){a=n({},e.eventData,{event:t}),r.onSwiped&&r.onSwiped(a);var o="onSwiped"+a.dir;o in r&&r[o](a)}else r.onTap&&r.onTap({event:t});return n({},e,s,{eventData:a})}))},d=function e(t){document.removeEventListener(u,f),document.removeEventListener(c,e),p(t)},h=function(e,t){var n=function(){};if(e&&e.addEventListener){var r=[["touchstart",i],["touchmove",f],["touchend",p]];r.forEach((function(n){var r=n[0],a=n[1];return e.addEventListener(r,a,{passive:t})})),n=function(){return r.forEach((function(t){var n=t[0],r=t[1];return e.removeEventListener(n,r)}))}}return n},v={ref:function(t){null!==t&&e((function(e,r){if(e.el===t)return e;var a={};return e.el&&e.el!==t&&e.cleanUpTouch&&(e.cleanUpTouch(),a.cleanUpTouch=void 0),r.trackTouch&&t&&(a.cleanUpTouch=h(t,!r.preventDefaultTouchmoveEvent)),n({},e,{el:t},a)}))}};return t.trackMouse&&(v.onMouseDown=i),[v,h]}e.DOWN=o,e.LEFT=r,e.RIGHT=a,e.UP="Up",e.useSwipeable=function(e){var r=e.trackMouse,a=t.useRef(n({},s)),o=t.useRef(n({},i));o.current=n({},i,e);var u=t.useMemo((function(){return f((function(e){return a.current=e(a.current,o.current)}),{trackMouse:r})}),[r]),c=u[0],l=u[1];return a.current=function(e,t,r){var a={};return!t.trackTouch&&e.cleanUpTouch?(e.cleanUpTouch(),a.cleanUpTouch=void 0):t.trackTouch&&!e.cleanUpTouch&&e.el&&(a.cleanUpTouch=r(e.el,!t.preventDefaultTouchmoveEvent)),n({},e,a)}(a.current,o.current,l),c}}(t,n(888))},888:function(e){"use strict";e.exports=r}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,a),o.exports}a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(r){if("object"==typeof window)return window}}(),a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return function(){"use strict";function e(t){var n,r,a="";if("string"==typeof t||"number"==typeof t)a+=t;else if("object"==typeof t)if(Array.isArray(t))for(n=0;n<t.length;n++)t[n]&&(r=e(t[n]))&&(a&&(a+=" "),a+=r);else for(n in t)t[n]&&(a&&(a+=" "),a+=n);return a}function t(){for(var t,n,r=0,a="";r<arguments.length;)(t=arguments[r++])&&(n=e(t))&&(a&&(a+=" "),a+=n);return a}a.r(o),a.d(o,{default:function(){return Ae}});var r=a(888),i=a.n(r),s=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},u="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,c="object"==typeof self&&self&&self.Object===Object&&self,l=u||c||Function("return this")(),f=function(){return l.Date.now()},p=/\s/,d=/^\s+/,h=function(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&p.test(e.charAt(t)););return t}(e)+1).replace(d,""):e},v=l.Symbol,m=Object.prototype,g=m.hasOwnProperty,y=m.toString,b=v?v.toStringTag:void 0,x=Object.prototype.toString,w=v?v.toStringTag:void 0,k=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":w&&w in Object(e)?function(e){var t=g.call(e,b),n=e[b];try{e[b]=void 0;var r=!0}catch(e){}var a=y.call(e);return r&&(t?e[b]=n:delete e[b]),a}(e):function(e){return x.call(e)}(e)},S=/^[-+]0x[0-9a-f]+$/i,E=/^0b[01]+$/i,C=/^0o[0-7]+$/i,N=parseInt,T=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return null!=e&&"object"==typeof e}(e)&&"[object Symbol]"==k(e)}(e))return NaN;if(s(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=s(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=h(e);var n=E.test(e);return n||C.test(e)?N(e.slice(2),n?2:8):S.test(e)?NaN:+e},I=Math.max,O=Math.min,_=function(e,t,n){var r,a,o,i,u,c,l=0,p=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=r,o=a;return r=a=void 0,l=t,i=e.apply(o,n)}function m(e){return l=e,u=setTimeout(y,t),p?v(e):i}function g(e){var n=e-c;return void 0===c||n>=t||n<0||d&&e-l>=o}function y(){var e=f();if(g(e))return b(e);u=setTimeout(y,function(e){var n=t-(e-c);return d?O(n,o-(e-l)):n}(e))}function b(e){return u=void 0,h&&r?v(e):(r=a=void 0,i)}function x(){var e=f(),n=g(e);if(r=arguments,a=this,c=e,n){if(void 0===u)return m(c);if(d)return clearTimeout(u),u=setTimeout(y,t),v(c)}return void 0===u&&(u=setTimeout(y,t)),i}return t=T(t)||0,s(n)&&(p=!!n.leading,o=(d="maxWait"in n)?I(T(n.maxWait)||0,t):o,h="trailing"in n?!!n.trailing:h),x.cancel=function(){void 0!==u&&clearTimeout(u),l=0,r=c=a=u=void 0},x.flush=function(){return void 0===u?i:b(f())},x},D=function(e,t,n){var r=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return s(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),_(e,t,{leading:r,maxWait:t,trailing:a})},A=a(590),R=a.n(A),P=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var a=r[n];e.call(t,a[1],a[0])}},t}()}(),M="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,F=void 0!==a.g&&a.g.Math===Math?a.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),L="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(F):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},j=["top","right","bottom","left","width","height","size","weight"],Z="undefined"!=typeof MutationObserver,z=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,a=0;function o(){n&&(n=!1,e()),r&&s()}function i(){L(o)}function s(){var e=Date.now();if(n){if(e-a<2)return;r=!0}else n=!0,r=!1,setTimeout(i,20);a=e}return s}(this.refresh.bind(this))}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){M&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Z?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){M&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;j.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),B=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var a=r[n];Object.defineProperty(e,a,{value:t[a],enumerable:!1,writable:!1,configurable:!0})}return e},U=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||F},W=X(0,0,0,0);function V(e){return parseFloat(e)||0}function H(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+V(e["border-"+n+"-width"])}),0)}var G="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof U(e).SVGGraphicsElement}:function(e){return e instanceof U(e).SVGElement&&"function"==typeof e.getBBox};function q(e){return M?G(e)?function(e){var t=e.getBBox();return X(0,0,t.width,t.height)}(e):function(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return W;var r=U(e).getComputedStyle(e),a=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var a=r[n],o=e["padding-"+a];t[a]=V(o)}return t}(r),o=a.left+a.right,i=a.top+a.bottom,s=V(r.width),u=V(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=H(r,"left","right")+o),Math.round(u+i)!==n&&(u-=H(r,"top","bottom")+i)),!function(e){return e===U(e).document.documentElement}(e)){var c=Math.round(s+o)-t,l=Math.round(u+i)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(l)&&(u-=l)}return X(a.left,a.top,s,u)}(e):W}function X(e,t,n,r){return{x:e,y:t,width:n,height:r}}var K=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=X(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=q(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),Y=function(e,t){var n,r,a,o,i,s,u,c=(r=(n=t).x,a=n.y,o=n.width,i=n.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,u=Object.create(s.prototype),B(u,{x:r,y:a,width:o,height:i,top:a,right:r+o,bottom:i+a,left:r}),u);B(this,{target:e,contentRect:c})},Q=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new P,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof U(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new K(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof U(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new Y(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),$="undefined"!=typeof WeakMap?new WeakMap:new P,J=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=z.getInstance(),r=new Q(t,n,this);$.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){J.prototype[e]=function(){var t;return(t=$.get(this))[e].apply(t,arguments)}}));var ee=void 0!==F.ResizeObserver?F.ResizeObserver:J,te=a(37),ne=a(697),re=i().memo((function(e){var t=e.description,n=e.fullscreen,r=e.handleImageLoaded,a=e.isFullscreen,o=e.onImageError,s=e.original,u=e.originalAlt,c=e.originalHeight,l=e.originalWidth,f=e.originalTitle,p=e.sizes,d=e.srcSet,h=e.loading,v=a&&n||s;return i().createElement(i().Fragment,null,i().createElement("img",{className:"image-gallery-image",src:v,alt:u,srcSet:d,height:c,width:l,sizes:p,title:f,onLoad:function(e){return r(e,s)},onError:o,loading:h}),t&&i().createElement("span",{className:"image-gallery-description"},t))}));re.displayName="Item",re.propTypes={description:ne.string,fullscreen:ne.string,handleImageLoaded:ne.func.isRequired,isFullscreen:ne.bool,onImageError:ne.func.isRequired,original:ne.string.isRequired,originalAlt:ne.string,originalHeight:ne.string,originalWidth:ne.string,originalTitle:ne.string,sizes:ne.string,srcSet:ne.string,loading:ne.string},re.defaultProps={description:"",fullscreen:"",isFullscreen:!1,originalAlt:"",originalHeight:"",originalWidth:"",originalTitle:"",sizes:"",srcSet:"",loading:"eager"};var ae=re,oe={left:i().createElement("polyline",{points:"15 18 9 12 15 6"}),right:i().createElement("polyline",{points:"9 18 15 12 9 6"}),maximize:i().createElement("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"}),minimize:i().createElement("path",{d:"M8 3v3a2 2 0 0 1-2 2H3m18 0h-3a2 2 0 0 1-2-2V3m0 18v-3a2 2 0 0 1 2-2h3M3 16h3a2 2 0 0 1 2 2v3"}),play:i().createElement("polygon",{points:"5 3 19 12 5 21 5 3"}),pause:i().createElement(i().Fragment,null,i().createElement("rect",{x:"6",y:"4",width:"4",height:"16"}),i().createElement("rect",{x:"14",y:"4",width:"4",height:"16"}))},ie=function(e){var t=e.strokeWidth,n=e.viewBox,r=e.icon;return i().createElement("svg",{className:"image-gallery-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:n,fill:"none",stroke:"currentColor",strokeWidth:t,strokeLinecap:"round",strokeLinejoin:"round"},oe[r])};ie.propTypes={strokeWidth:ne.number,viewBox:ne.string,icon:(0,ne.oneOf)(["left","right","maximize","minimize","play","pause"]).isRequired},ie.defaultProps={strokeWidth:1,viewBox:"0 0 24 24"};var se=ie,ue=i().memo((function(e){var t=e.isFullscreen,n=e.onClick;return i().createElement("button",{type:"button",className:"image-gallery-icon image-gallery-fullscreen-button",onClick:n,"aria-label":"Open Fullscreen"},i().createElement(se,{strokeWidth:2,icon:t?"minimize":"maximize"}))}));ue.displayName="Fullscreen",ue.propTypes={isFullscreen:ne.bool.isRequired,onClick:ne.func.isRequired};var ce=ue,le=i().memo((function(e){var t=e.disabled,n=e.onClick;return i().createElement("button",{type:"button",className:"image-gallery-icon image-gallery-left-nav",disabled:t,onClick:n,"aria-label":"Previous Slide"},i().createElement(se,{icon:"left",viewBox:"6 0 12 24"}))}));le.displayName="LeftNav",le.propTypes={disabled:ne.bool.isRequired,onClick:ne.func.isRequired};var fe=le,pe=i().memo((function(e){var t=e.disabled,n=e.onClick;return i().createElement("button",{type:"button",className:"image-gallery-icon image-gallery-right-nav",disabled:t,onClick:n,"aria-label":"Next Slide"},i().createElement(se,{icon:"right",viewBox:"6 0 12 24"}))}));pe.displayName="RightNav",pe.propTypes={disabled:ne.bool.isRequired,onClick:ne.func.isRequired};var de=pe,he=i().memo((function(e){var t=e.isPlaying,n=e.onClick;return i().createElement("button",{type:"button",className:"image-gallery-icon image-gallery-play-button",onClick:n,"aria-label":"Play or Pause Slideshow"},i().createElement(se,{strokeWidth:2,icon:t?"pause":"play"}))}));he.displayName="PlayPause",he.propTypes={isPlaying:ne.bool.isRequired,onClick:ne.func.isRequired};var ve=he;function me(){return(me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ge=function(e){var t=e.children,n=e.className,r=e.delta,a=e.onSwiping,o=e.onSwiped,s=(0,te.useSwipeable)({delta:r,onSwiping:a,onSwiped:o});return i().createElement("div",me({},s,{className:n}),t)};ge.propTypes={children:ne.node.isRequired,className:ne.string,delta:ne.number,onSwiped:ne.func,onSwiping:ne.func},ge.defaultProps={className:"",delta:0,onSwiping:function(){},onSwiped:function(){}};var ye=ge;function be(e){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){ke(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ee(e,t){return(Ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ce(e,t){return!t||"object"!==be(t)&&"function"!=typeof t?Ne(e):t}function Ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Te(e){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ie=["fullscreenchange","MSFullscreenChange","mozfullscreenchange","webkitfullscreenchange"],Oe=(0,ne.arrayOf)((0,ne.shape)({srcSet:ne.string,media:ne.string}));function _e(e){var t=parseInt(e.keyCode||e.which||0,10);return 66===t||62===t}var De=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ee(e,t)}(s,e);var n,r,a,o=(r=s,a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Te(r);if(a){var n=Te(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Ce(this,e)});function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(t=o.call(this,e)).state={currentIndex:e.startIndex,thumbsTranslate:0,thumbsSwipedTranslate:0,currentSlideOffset:0,galleryWidth:0,thumbnailsWrapperWidth:0,thumbnailsWrapperHeight:0,thumbsStyle:{transition:"all ".concat(e.slideDuration,"ms ease-out")},isFullscreen:!1,isSwipingThumbnail:!1,isPlaying:!1},t.loadedImages={},t.imageGallery=i().createRef(),t.thumbnailsWrapper=i().createRef(),t.thumbnails=i().createRef(),t.imageGallerySlideWrapper=i().createRef(),t.handleImageLoaded=t.handleImageLoaded.bind(Ne(t)),t.handleKeyDown=t.handleKeyDown.bind(Ne(t)),t.handleMouseDown=t.handleMouseDown.bind(Ne(t)),t.handleTouchMove=t.handleTouchMove.bind(Ne(t)),t.handleOnSwiped=t.handleOnSwiped.bind(Ne(t)),t.handleScreenChange=t.handleScreenChange.bind(Ne(t)),t.handleSwiping=t.handleSwiping.bind(Ne(t)),t.handleThumbnailSwiping=t.handleThumbnailSwiping.bind(Ne(t)),t.handleOnThumbnailSwiped=t.handleOnThumbnailSwiped.bind(Ne(t)),t.onThumbnailMouseLeave=t.onThumbnailMouseLeave.bind(Ne(t)),t.handleImageError=t.handleImageError.bind(Ne(t)),t.pauseOrPlay=t.pauseOrPlay.bind(Ne(t)),t.renderThumbInner=t.renderThumbInner.bind(Ne(t)),t.renderItem=t.renderItem.bind(Ne(t)),t.slideLeft=t.slideLeft.bind(Ne(t)),t.slideRight=t.slideRight.bind(Ne(t)),t.toggleFullScreen=t.toggleFullScreen.bind(Ne(t)),t.togglePlay=t.togglePlay.bind(Ne(t)),t.unthrottledSlideToIndex=t.slideToIndex,t.slideToIndex=D(t.unthrottledSlideToIndex,e.slideDuration,{trailing:!1}),e.lazyLoad&&(t.lazyLoaded=[]),t}return(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.autoPlay,n=e.useWindowKeyDown;t&&this.play(),n?window.addEventListener("keydown",this.handleKeyDown):this.imageGallery.current.addEventListener("keydown",this.handleKeyDown),window.addEventListener("mousedown",this.handleMouseDown),window.addEventListener("touchmove",this.handleTouchMove,{passive:!1}),this.initResizeObserver(this.imageGallerySlideWrapper),this.addScreenChangeEvent()}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.items,a=n.lazyLoad,o=n.slideDuration,i=n.slideInterval,s=n.startIndex,u=n.thumbnailPosition,c=n.showThumbnails,l=n.useWindowKeyDown,f=this.state,p=f.currentIndex,d=f.isPlaying,h=e.items.length!==r.length,v=!R()(e.items,r),m=e.startIndex!==s,g=e.thumbnailPosition!==u,y=e.showThumbnails!==c;i===e.slideInterval&&o===e.slideDuration||d&&(this.pause(),this.play()),g&&(this.removeResizeObserver(),this.initResizeObserver(this.imageGallerySlideWrapper)),(h||y)&&this.handleResize(),t.currentIndex!==p&&this.slideThumbnailBar(),e.slideDuration!==o&&(this.slideToIndex=D(this.unthrottledSlideToIndex,o,{trailing:!1})),!a||e.lazyLoad&&!v||(this.lazyLoaded=[]),l!==e.useWindowKeyDown&&(l?(this.imageGallery.current.removeEventListener("keydown",this.handleKeyDown),window.addEventListener("keydown",this.handleKeyDown)):(window.removeEventListener("keydown",this.handleKeyDown),this.imageGallery.current.addEventListener("keydown",this.handleKeyDown))),(m||v)&&this.setState({currentIndex:s})}},{key:"componentWillUnmount",value:function(){var e=this.props.useWindowKeyDown;window.removeEventListener("mousedown",this.handleMouseDown),window.removeEventListener("touchmove",this.handleTouchMove),this.removeScreenChangeEvent(),this.removeResizeObserver(),this.playPauseIntervalId&&(window.clearInterval(this.playPauseIntervalId),this.playPauseIntervalId=null),this.transitionTimer&&window.clearTimeout(this.transitionTimer),e?window.removeEventListener("keydown",this.handleKeyDown):this.imageGallery.current.removeEventListener("keydown",this.handleKeyDown)}},{key:"onSliding",value:function(){var e=this,t=this.state,n=t.currentIndex,r=t.isTransitioning,a=this.props,o=a.onSlide,i=a.slideDuration;this.transitionTimer=window.setTimeout((function(){r&&(e.setState({isTransitioning:!r,isSwipingThumbnail:!1}),o&&o(n))}),i+50)}},{key:"onThumbnailClick",value:function(e,t){var n=this.props.onThumbnailClick;e.target.parentNode.parentNode.blur(),this.slideToIndex(t,e),n&&n(e,t)}},{key:"onThumbnailMouseOver",value:function(e,t){var n=this;this.thumbnailMouseOverTimer&&(window.clearTimeout(this.thumbnailMouseOverTimer),this.thumbnailMouseOverTimer=null),this.thumbnailMouseOverTimer=window.setTimeout((function(){n.slideToIndex(t),n.pause()}),300)}},{key:"onThumbnailMouseLeave",value:function(){if(this.thumbnailMouseOverTimer){var e=this.props.autoPlay;window.clearTimeout(this.thumbnailMouseOverTimer),this.thumbnailMouseOverTimer=null,e&&this.play()}}},{key:"setThumbsTranslate",value:function(e){this.setState({thumbsTranslate:e})}},{key:"setModalFullscreen",value:function(e){var t=this.props.onScreenChange;this.setState({modalFullscreen:e}),t&&t(e)}},{key:"getThumbsTranslate",value:function(e){var t,n=this.props,r=n.disableThumbnailScroll,a=n.items,o=this.state,i=o.thumbnailsWrapperWidth,s=o.thumbnailsWrapperHeight,u=this.thumbnails&&this.thumbnails.current;if(r)return 0;if(u){if(this.isThumbnailVertical()){if(u.scrollHeight<=s)return 0;t=u.scrollHeight-s}else{if(u.scrollWidth<=i||i<=0)return 0;t=u.scrollWidth-i}return e*(t/(a.length-1))}return 0}},{key:"getAlignmentClassName",value:function(e){var t=this.state.currentIndex,n=this.props,r=n.infinite,a=n.items,o="",i="left",s="right";switch(e){case t-1:o=" ".concat(i);break;case t:o=" ".concat("center");break;case t+1:o=" ".concat(s)}return a.length>=3&&r&&(0===e&&t===a.length-1?o=" ".concat(s):e===a.length-1&&0===t&&(o=" ".concat(i))),o}},{key:"getTranslateXForTwoSlide",value:function(e){var t=this.state,n=t.currentIndex,r=t.currentSlideOffset,a=t.previousIndex,o=n!==a,i=0===e&&0===a,s=1===e&&1===a,u=0===e&&1===n,c=1===e&&0===n,l=0===r,f=-100*n+100*e+r;return r>0?this.direction="left":r<0&&(this.direction="right"),c&&r>0&&(f=-100+r),u&&r<0&&(f=100+r),o?i&&l&&"left"===this.direction?f=100:s&&l&&"right"===this.direction&&(f=-100):(c&&l&&"left"===this.direction&&(f=-100),u&&l&&"right"===this.direction&&(f=100)),f}},{key:"getThumbnailBarHeight",value:function(){return this.isThumbnailVertical()?{height:this.state.gallerySlideWrapperHeight}:{}}},{key:"getSlideStyle",value:function(e){var t=this.state,n=t.currentIndex,r=t.currentSlideOffset,a=t.slideStyle,o=this.props,i=o.infinite,s=o.items,u=o.useTranslate3D,c=o.isRTL,l=-100*n,f=s.length-1,p=(l+100*e)*(c?-1:1)+r;i&&s.length>2&&(0===n&&e===f?p=-100*(c?-1:1)+r:n===f&&0===e&&(p=100*(c?-1:1)+r)),i&&2===s.length&&(p=this.getTranslateXForTwoSlide(e));var d="translate(".concat(p,"%, 0)");return u&&(d="translate3d(".concat(p,"%, 0, 0)")),we({display:this.isSlideVisible(e)?"inherit":"none",WebkitTransform:d,MozTransform:d,msTransform:d,OTransform:d,transform:d},a)}},{key:"getCurrentIndex",value:function(){return this.state.currentIndex}},{key:"getThumbnailStyle",value:function(){var e,t=this.props,n=t.useTranslate3D,r=t.isRTL,a=this.state,o=a.thumbsTranslate,i=a.thumbsStyle,s=r?-1*o:o;return this.isThumbnailVertical()?(e="translate(0, ".concat(o,"px)"),n&&(e="translate3d(0, ".concat(o,"px, 0)"))):(e="translate(".concat(s,"px, 0)"),n&&(e="translate3d(".concat(s,"px, 0, 0)"))),we({WebkitTransform:e,MozTransform:e,msTransform:e,OTransform:e,transform:e},i)}},{key:"getSlideItems",value:function(){var e=this,n=this.state.currentIndex,r=this.props,a=r.items,o=r.slideOnThumbnailOver,s=r.onClick,u=r.lazyLoad,c=r.onTouchMove,l=r.onTouchEnd,f=r.onTouchStart,p=r.onMouseOver,d=r.onMouseLeave,h=r.renderItem,v=r.renderThumbInner,m=r.showThumbnails,g=r.showBullets,y=[],b=[],x=[];return a.forEach((function(r,a){var w=e.getAlignmentClassName(a),k=r.originalClass?" ".concat(r.originalClass):"",S=r.thumbnailClass?" ".concat(r.thumbnailClass):"",E=r.renderItem||h||e.renderItem,C=r.renderThumbInner||v||e.renderThumbInner,N=!u||w||e.lazyLoaded[a];N&&u&&!e.lazyLoaded[a]&&(e.lazyLoaded[a]=!0);var T=e.getSlideStyle(a),I=i().createElement("div",{"aria-label":"Go to Slide ".concat(a+1),key:"slide-".concat(a),tabIndex:"-1",className:"image-gallery-slide ".concat(w," ").concat(k),style:T,onClick:s,onKeyUp:e.handleSlideKeyUp,onTouchMove:c,onTouchEnd:l,onTouchStart:f,onMouseOver:p,onFocus:p,onMouseLeave:d,role:"button"},N?E(r):i().createElement("div",{style:{height:"100%"}}));if(y.push(I),m&&r.thumbnail){var O=t("image-gallery-thumbnail",S,{active:n===a});b.push(i().createElement("button",{key:"thumbnail-".concat(a),type:"button",tabIndex:"0","aria-pressed":n===a?"true":"false","aria-label":"Go to Slide ".concat(a+1),className:O,onMouseLeave:o?e.onThumbnailMouseLeave:null,onMouseOver:function(t){return e.handleThumbnailMouseOver(t,a)},onFocus:function(t){return e.handleThumbnailMouseOver(t,a)},onKeyUp:function(t){return e.handleThumbnailKeyUp(t,a)},onClick:function(t){return e.onThumbnailClick(t,a)}},C(r)))}if(g){var _=t("image-gallery-bullet",r.bulletClass,{active:n===a});x.push(i().createElement("button",{type:"button",key:"bullet-".concat(a),className:_,onClick:function(t){return r.bulletOnClick&&r.bulletOnClick({item:r,itemIndex:a,currentIndex:n}),t.target.blur(),e.slideToIndex.call(e,a,t)},"aria-pressed":n===a?"true":"false","aria-label":"Go to Slide ".concat(a+1)}))}})),{slides:y,thumbnails:b,bullets:x}}},{key:"ignoreIsTransitioning",value:function(){var e=this.props.items,t=this.state,n=t.previousIndex,r=t.currentIndex,a=e.length-1;return Math.abs(n-r)>1&&!(0===n&&r===a)&&!(n===a&&0===r)}},{key:"isFirstOrLastSlide",value:function(e){return e===this.props.items.length-1||0===e}},{key:"slideIsTransitioning",value:function(e){var t=this.state,n=t.isTransitioning,r=t.previousIndex,a=t.currentIndex;return n&&!(e===r||e===a)}},{key:"isSlideVisible",value:function(e){return!this.slideIsTransitioning(e)||this.ignoreIsTransitioning()&&!this.isFirstOrLastSlide(e)}},{key:"slideThumbnailBar",value:function(){var e=this.state,t=e.currentIndex,n=e.isSwipingThumbnail,r=-this.getThumbsTranslate(t);n||(0===t?this.setState({thumbsTranslate:0,thumbsSwipedTranslate:0}):this.setState({thumbsTranslate:r,thumbsSwipedTranslate:r}))}},{key:"canSlide",value:function(){return this.props.items.length>=2}},{key:"canSlideLeft",value:function(){var e=this.props,t=e.infinite,n=e.isRTL;return t||(n?this.canSlideNext():this.canSlidePrevious())}},{key:"canSlideRight",value:function(){var e=this.props,t=e.infinite,n=e.isRTL;return t||(n?this.canSlidePrevious():this.canSlideNext())}},{key:"canSlidePrevious",value:function(){return this.state.currentIndex>0}},{key:"canSlideNext",value:function(){return this.state.currentIndex<this.props.items.length-1}},{key:"handleSwiping",value:function(e){var t=e.event,n=e.absX,r=e.dir,a=this.props,o=a.disableSwipe,i=a.stopPropagation,s=this.state,u=s.galleryWidth,c=s.isTransitioning,l=s.swipingUpDown,f=s.swipingLeftRight;if(r!==te.UP&&r!==te.DOWN&&!l||f){if(r!==te.LEFT&&r!==te.RIGHT||f||this.setState({swipingLeftRight:!0}),!o){var p=this.props.swipingTransitionDuration;if(i&&t.preventDefault(),c)this.setState({currentSlideOffset:0});else{var d=r===te.RIGHT?1:-1,h=n/u*100;Math.abs(h)>=100&&(h=100);var v={transition:"transform ".concat(p,"ms ease-out")};this.setState({currentSlideOffset:d*h,slideStyle:v})}}}else l||this.setState({swipingUpDown:!0})}},{key:"handleThumbnailSwiping",value:function(e){var t=e.event,n=e.absX,r=e.absY,a=e.dir,o=this.props,i=o.stopPropagation,s=o.swipingThumbnailTransitionDuration,u=this.state,c=u.thumbsSwipedTranslate,l=u.thumbnailsWrapperHeight,f=u.thumbnailsWrapperWidth,p=u.swipingUpDown,d=u.swipingLeftRight;if(this.isThumbnailVertical()){if((a===te.LEFT||a===te.RIGHT||d)&&!p)return void(d||this.setState({swipingLeftRight:!0}));a!==te.UP&&a!==te.DOWN||p||this.setState({swipingUpDown:!0})}else{if((a===te.UP||a===te.DOWN||p)&&!d)return void(p||this.setState({swipingUpDown:!0}));a!==te.LEFT&&a!==te.RIGHT||d||this.setState({swipingLeftRight:!0})}var h,v,m,g,y,b=this.thumbnails&&this.thumbnails.current;if(this.isThumbnailVertical()?(h=c+(a===te.DOWN?r:-r),v=b.scrollHeight-l+20,m=Math.abs(h)>v,g=h>20,y=b.scrollHeight<=l):(h=c+(a===te.RIGHT?n:-n),v=b.scrollWidth-f+20,m=Math.abs(h)>v,g=h>20,y=b.scrollWidth<=f),!y&&(a!==te.LEFT&&a!==te.UP||!m)&&(a!==te.RIGHT&&a!==te.DOWN||!g)){i&&t.stopPropagation();var x={transition:"transform ".concat(s,"ms ease-out")};this.setState({thumbsTranslate:h,thumbsStyle:x})}}},{key:"handleOnThumbnailSwiped",value:function(){var e=this.state.thumbsTranslate,t=this.props.slideDuration;this.resetSwipingDirection(),this.setState({isSwipingThumbnail:!0,thumbsSwipedTranslate:e,thumbsStyle:{transition:"all ".concat(t,"ms ease-out")}})}},{key:"sufficientSwipe",value:function(){var e=this.state.currentSlideOffset,t=this.props.swipeThreshold;return Math.abs(e)>t}},{key:"resetSwipingDirection",value:function(){var e=this.state,t=e.swipingUpDown,n=e.swipingLeftRight;t&&this.setState({swipingUpDown:!1}),n&&this.setState({swipingLeftRight:!1})}},{key:"handleOnSwiped",value:function(e){var t=e.event,n=e.dir,r=e.velocity,a=this.props,o=a.disableSwipe,i=a.stopPropagation,s=a.flickThreshold;if(!o){var u=this.props.isRTL;i&&t.stopPropagation(),this.resetSwipingDirection();var c=(n===te.LEFT?1:-1)*(u?-1:1),l=n===te.UP||n===te.DOWN,f=r>s&&!l;this.handleOnSwipedTo(c,f)}}},{key:"handleOnSwipedTo",value:function(e,t){var n=this.state,r=n.currentIndex,a=n.isTransitioning,o=r;!this.sufficientSwipe()&&!t||a||(o+=e),(-1===e&&!this.canSlideLeft()||1===e&&!this.canSlideRight())&&(o=r),this.unthrottledSlideToIndex(o)}},{key:"handleTouchMove",value:function(e){this.state.swipingLeftRight&&e.preventDefault()}},{key:"handleMouseDown",value:function(){this.imageGallery.current.classList.add("image-gallery-using-mouse")}},{key:"handleKeyDown",value:function(e){var t=this.props,n=t.disableKeyDown,r=t.useBrowserFullscreen,a=this.state.isFullscreen;if(this.imageGallery.current.classList.remove("image-gallery-using-mouse"),!n)switch(parseInt(e.keyCode||e.which||0,10)){case 37:this.canSlideLeft()&&!this.playPauseIntervalId&&this.slideLeft(e);break;case 39:this.canSlideRight()&&!this.playPauseIntervalId&&this.slideRight(e);break;case 27:a&&!r&&this.exitFullScreen()}}},{key:"handleImageError",value:function(e){var t=this.props.onErrorImageURL;t&&-1===e.target.src.indexOf(t)&&(e.target.src=t)}},{key:"removeResizeObserver",value:function(){this.resizeObserver&&this.imageGallerySlideWrapper&&this.imageGallerySlideWrapper.current&&(this.resizeObserver.unobserve(this.imageGallerySlideWrapper.current),this.resizeObserver=null)}},{key:"handleResize",value:function(){var e=this.state.currentIndex;this.resizeObserver&&(this.imageGallery&&this.imageGallery.current&&this.setState({galleryWidth:this.imageGallery.current.offsetWidth}),this.imageGallerySlideWrapper&&this.imageGallerySlideWrapper.current&&this.setState({gallerySlideWrapperHeight:this.imageGallerySlideWrapper.current.offsetHeight}),this.thumbnailsWrapper&&this.thumbnailsWrapper.current&&(this.isThumbnailVertical()?this.setState({thumbnailsWrapperHeight:this.thumbnailsWrapper.current.offsetHeight}):this.setState({thumbnailsWrapperWidth:this.thumbnailsWrapper.current.offsetWidth})),this.setThumbsTranslate(-this.getThumbsTranslate(e)))}},{key:"initResizeObserver",value:function(e){var t=this;this.resizeObserver=new ee(_((function(e){e&&e.forEach((function(){t.handleResize()}))}),300)),this.resizeObserver.observe(e.current)}},{key:"toggleFullScreen",value:function(){this.state.isFullscreen?this.exitFullScreen():this.fullScreen()}},{key:"togglePlay",value:function(){this.playPauseIntervalId?this.pause():this.play()}},{key:"handleScreenChange",value:function(){var e=this.props,t=e.onScreenChange,n=e.useBrowserFullscreen,r=document.fullscreenElement||document.msFullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement,a=this.imageGallery.current===r;t&&t(a),n&&this.setState({isFullscreen:a})}},{key:"slideToIndex",value:function(e,t){var n=this.state,r=n.currentIndex,a=n.isTransitioning,o=this.props,i=o.items,s=o.slideDuration,u=o.onBeforeSlide;if(!a){t&&this.playPauseIntervalId&&(this.pause(!1),this.play(!1));var c=i.length-1,l=e;e<0?l=c:e>c&&(l=0),u&&l!==r&&u(l),this.setState({previousIndex:r,currentIndex:l,isTransitioning:l!==r,currentSlideOffset:0,slideStyle:{transition:"all ".concat(s,"ms ease-out")}},this.onSliding)}}},{key:"slideLeft",value:function(e){var t=this.props.isRTL;this.slideTo(e,t?"right":"left")}},{key:"slideRight",value:function(e){var t=this.props.isRTL;this.slideTo(e,t?"left":"right")}},{key:"slideTo",value:function(e,t){var n=this,r=this.state,a=r.currentIndex,o=r.currentSlideOffset,i=r.isTransitioning,s=this.props.items,u=a+("left"===t?-1:1);i||(2===s.length?this.setState({currentSlideOffset:o+("left"===t?.001:-.001),slideStyle:{transition:"none"}},(function(){window.setTimeout((function(){return n.slideToIndex(u,e)}),25)})):this.slideToIndex(u,e))}},{key:"handleThumbnailMouseOver",value:function(e,t){this.props.slideOnThumbnailOver&&this.onThumbnailMouseOver(e,t)}},{key:"handleThumbnailKeyUp",value:function(e,t){_e(e)&&this.onThumbnailClick(e,t)}},{key:"handleSlideKeyUp",value:function(e){_e(e)&&(0,this.props.onClick)(e)}},{key:"isThumbnailVertical",value:function(){var e=this.props.thumbnailPosition;return"left"===e||"right"===e}},{key:"addScreenChangeEvent",value:function(){var e=this;Ie.forEach((function(t){document.addEventListener(t,e.handleScreenChange)}))}},{key:"removeScreenChangeEvent",value:function(){var e=this;Ie.forEach((function(t){document.removeEventListener(t,e.handleScreenChange)}))}},{key:"fullScreen",value:function(){var e=this.props.useBrowserFullscreen,t=this.imageGallery.current;e?t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():this.setModalFullscreen(!0):this.setModalFullscreen(!0),this.setState({isFullscreen:!0})}},{key:"exitFullScreen",value:function(){var e=this.state.isFullscreen,t=this.props.useBrowserFullscreen;e&&(t?document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():this.setModalFullscreen(!1):this.setModalFullscreen(!1),this.setState({isFullscreen:!1}))}},{key:"pauseOrPlay",value:function(){var e=this.props.infinite,t=this.state.currentIndex;e||this.canSlideRight()?this.slideToIndex(t+1):this.pause()}},{key:"play",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.props,n=t.onPlay,r=t.slideInterval,a=t.slideDuration,o=this.state.currentIndex;this.playPauseIntervalId||(this.setState({isPlaying:!0}),this.playPauseIntervalId=window.setInterval(this.pauseOrPlay,Math.max(r,a)),n&&e&&n(o))}},{key:"pause",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.props.onPause,n=this.state.currentIndex;this.playPauseIntervalId&&(window.clearInterval(this.playPauseIntervalId),this.playPauseIntervalId=null,this.setState({isPlaying:!1}),t&&e&&t(n))}},{key:"isImageLoaded",value:function(e){return!!this.loadedImages[e.original]||(this.loadedImages[e.original]=!0,!1)}},{key:"handleImageLoaded",value:function(e,t){var n=this.props.onImageLoad;!this.loadedImages[t]&&n&&(this.loadedImages[t]=!0,n(e))}},{key:"renderItem",value:function(e){var t=this.state.isFullscreen,n=this.props.onImageError||this.handleImageError;return i().createElement(ae,{description:e.description,fullscreen:e.fullscreen,handleImageLoaded:this.handleImageLoaded,isFullscreen:t,onImageError:n,original:e.original,originalAlt:e.originalAlt,originalHeight:e.originalHeight,originalWidth:e.originalWidth,originalTitle:e.originalTitle,sizes:e.sizes,loading:e.loading,srcSet:e.srcSet})}},{key:"renderThumbInner",value:function(e){var t=this.props.onThumbnailError||this.handleImageError;return i().createElement("span",{className:"image-gallery-thumbnail-inner"},i().createElement("img",{className:"image-gallery-thumbnail-image",src:e.thumbnail,height:e.thumbnailHeight,width:e.thumbnailWidth,alt:e.thumbnailAlt,title:e.thumbnailTitle,loading:e.thumbnailLoading,onError:t}),e.thumbnailLabel&&i().createElement("div",{className:"image-gallery-thumbnail-label"},e.thumbnailLabel))}},{key:"render",value:function(){var e=this.state,n=e.currentIndex,r=e.isFullscreen,a=e.modalFullscreen,o=e.isPlaying,s=this.props,u=s.additionalClass,c=s.disableThumbnailSwipe,l=s.indexSeparator,f=s.isRTL,p=s.items,d=s.thumbnailPosition,h=s.renderFullscreenButton,v=s.renderCustomControls,m=s.renderLeftNav,g=s.renderRightNav,y=s.showBullets,b=s.showFullscreenButton,x=s.showIndex,w=s.showThumbnails,k=s.showNav,S=s.showPlayButton,E=s.renderPlayPauseButton,C=this.getThumbnailStyle(),N=this.getSlideItems(),T=N.slides,I=N.thumbnails,O=N.bullets,_=t("image-gallery-slide-wrapper",d,{"image-gallery-rtl":f}),D=i().createElement("div",{ref:this.imageGallerySlideWrapper,className:_},v&&v(),this.canSlide()?i().createElement(i().Fragment,null,k&&i().createElement(i().Fragment,null,m(this.slideLeft,!this.canSlideLeft()),g(this.slideRight,!this.canSlideRight())),i().createElement(ye,{className:"image-gallery-swipe",delta:0,onSwiping:this.handleSwiping,onSwiped:this.handleOnSwiped},i().createElement("div",{className:"image-gallery-slides"},T))):i().createElement("div",{className:"image-gallery-slides"},T),S&&E(this.togglePlay,o),y&&i().createElement("div",{className:"image-gallery-bullets"},i().createElement("div",{className:"image-gallery-bullets-container",role:"navigation","aria-label":"Bullet Navigation"},O)),b&&h(this.toggleFullScreen,r),x&&i().createElement("div",{className:"image-gallery-index"},i().createElement("span",{className:"image-gallery-index-current"},n+1),i().createElement("span",{className:"image-gallery-index-separator"},l),i().createElement("span",{className:"image-gallery-index-total"},p.length))),A=t("image-gallery",u,{"fullscreen-modal":a}),R=t("image-gallery-content",d,{fullscreen:r}),P=t("image-gallery-thumbnails-wrapper",d,{"thumbnails-wrapper-rtl":!this.isThumbnailVertical()&&f},{"thumbnails-swipe-horizontal":!this.isThumbnailVertical()&&!c},{"thumbnails-swipe-vertical":this.isThumbnailVertical()&&!c});return i().createElement("div",{ref:this.imageGallery,className:A,"aria-live":"polite"},i().createElement("div",{className:R},("bottom"===d||"right"===d)&&D,w&&I.length>0?i().createElement(ye,{className:P,delta:0,onSwiping:!c&&this.handleThumbnailSwiping,onSwiped:!c&&this.handleOnThumbnailSwiped},i().createElement("div",{className:"image-gallery-thumbnails",ref:this.thumbnailsWrapper,style:this.getThumbnailBarHeight()},i().createElement("nav",{ref:this.thumbnails,className:"image-gallery-thumbnails-container",style:C,"aria-label":"Thumbnail Navigation"},I))):null,("top"===d||"left"===d)&&D))}}])&&Se(s.prototype,n),s}(i().Component);De.propTypes={flickThreshold:ne.number,items:(0,ne.arrayOf)((0,ne.shape)({bulletClass:ne.string,bulletOnClick:ne.func,description:ne.string,original:ne.string,originalHeight:ne.number,originalWidth:ne.number,loading:ne.string,thumbnailHeight:ne.number,thumbnailWidth:ne.number,thumbnailLoading:ne.string,fullscreen:ne.string,originalAlt:ne.string,originalTitle:ne.string,thumbnail:ne.string,thumbnailAlt:ne.string,thumbnailLabel:ne.string,thumbnailTitle:ne.string,originalClass:ne.string,thumbnailClass:ne.string,renderItem:ne.func,renderThumbInner:ne.func,imageSet:Oe,srcSet:ne.string,sizes:ne.string})).isRequired,showNav:ne.bool,autoPlay:ne.bool,lazyLoad:ne.bool,infinite:ne.bool,showIndex:ne.bool,showBullets:ne.bool,showThumbnails:ne.bool,showPlayButton:ne.bool,showFullscreenButton:ne.bool,disableThumbnailScroll:ne.bool,disableKeyDown:ne.bool,disableSwipe:ne.bool,disableThumbnailSwipe:ne.bool,useBrowserFullscreen:ne.bool,onErrorImageURL:ne.string,indexSeparator:ne.string,thumbnailPosition:(0,ne.oneOf)(["top","bottom","left","right"]),startIndex:ne.number,slideDuration:ne.number,slideInterval:ne.number,slideOnThumbnailOver:ne.bool,swipeThreshold:ne.number,swipingTransitionDuration:ne.number,swipingThumbnailTransitionDuration:ne.number,onSlide:ne.func,onBeforeSlide:ne.func,onScreenChange:ne.func,onPause:ne.func,onPlay:ne.func,onClick:ne.func,onImageLoad:ne.func,onImageError:ne.func,onTouchMove:ne.func,onTouchEnd:ne.func,onTouchStart:ne.func,onMouseOver:ne.func,onMouseLeave:ne.func,onThumbnailError:ne.func,onThumbnailClick:ne.func,renderCustomControls:ne.func,renderLeftNav:ne.func,renderRightNav:ne.func,renderPlayPauseButton:ne.func,renderFullscreenButton:ne.func,renderItem:ne.func,renderThumbInner:ne.func,stopPropagation:ne.bool,additionalClass:ne.string,useTranslate3D:ne.bool,isRTL:ne.bool,useWindowKeyDown:ne.bool},De.defaultProps={onErrorImageURL:"",additionalClass:"",showNav:!0,autoPlay:!1,lazyLoad:!1,infinite:!0,showIndex:!1,showBullets:!1,showThumbnails:!0,showPlayButton:!0,showFullscreenButton:!0,disableThumbnailScroll:!1,disableKeyDown:!1,disableSwipe:!1,disableThumbnailSwipe:!1,useTranslate3D:!0,isRTL:!1,useBrowserFullscreen:!0,flickThreshold:.4,stopPropagation:!1,indexSeparator:" / ",thumbnailPosition:"bottom",startIndex:0,slideDuration:450,swipingTransitionDuration:0,swipingThumbnailTransitionDuration:0,onSlide:null,onBeforeSlide:null,onScreenChange:null,onPause:null,onPlay:null,onClick:null,onImageLoad:null,onImageError:null,onTouchMove:null,onTouchEnd:null,onTouchStart:null,onMouseOver:null,onMouseLeave:null,onThumbnailError:null,onThumbnailClick:null,renderCustomControls:null,renderThumbInner:null,renderItem:null,slideInterval:3e3,slideOnThumbnailOver:!1,swipeThreshold:30,renderLeftNav:function(e,t){return i().createElement(fe,{onClick:e,disabled:t})},renderRightNav:function(e,t){return i().createElement(de,{onClick:e,disabled:t})},renderPlayPauseButton:function(e,t){return i().createElement(ve,{onClick:e,isPlaying:t})},renderFullscreenButton:function(e,t){return i().createElement(ce,{onClick:e,isFullscreen:t})},useWindowKeyDown:!0};var Ae=De}(),o}())},1545:function(e,t,n){var r,a,o;a=[t,n(2791),n(4164),n(8610),n(2007)],r=function(e,t,n,r,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=c(t),i=c(n),s=c(r),u=c(a);function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(e){l(this,t);var n=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return window.React=o.default,window.ReactDOM=i.default,n.state={showButton:!1},n}return d(t,e),f(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.isScriptLoaded,n=e.isScriptLoadSucceed;this.state.show||t&&!this.props.isScriptLoaded&&(n?this.setState({showButton:!0}):(console.log("Cannot load Paypal script!"),this.props.onError()))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.isScriptLoaded,n=e.isScriptLoadSucceed;t&&n&&this.setState({showButton:!0})}},{key:"render",value:function(){var e=this,t=function(){return paypal.rest.payment.create(e.props.env,e.props.client,Object.assign({transactions:[{amount:{total:e.props.total,currency:e.props.currency}}]},e.props.paymentOptions),{input_fields:{no_shipping:e.props.shipping}})},n=function(t,n){return n.payment.execute().then((function(n){var r=Object.assign({},e.props.payment);r.paid=!0,r.cancelled=!1,r.payerID=t.payerID,r.paymentID=t.paymentID,r.paymentToken=t.paymentToken,r.returnUrl=t.returnUrl,r.address=n.payer.payer_info.shipping_address,r.email=n.payer.payer_info.email,e.props.onSuccess(r)}))},r="";return this.state.showButton&&(r=o.default.createElement(paypal.Button.react,{env:this.props.env,client:this.props.client,style:this.props.style,payment:t,commit:!0,onAuthorize:n,onCancel:this.props.onCancel})),o.default.createElement("div",null,r)}}]),t}(o.default.Component);h.propTypes={currency:u.default.string.isRequired,total:u.default.number.isRequired,client:u.default.object.isRequired,style:u.default.object},h.defaultProps={paymentOptions:{},env:"sandbox",shipping:null,onSuccess:function(e){console.log("The payment was succeeded!",e)},onCancel:function(e){console.log("The payment was cancelled!",e)},onError:function(e){console.log("Error loading Paypal script!",e)}},e.default=(0,s.default)("https://www.paypalobjects.com/api/checkout.js")(h)},void 0===(o="function"===typeof r?r.apply(t,a):r)||(e.exports=o)},8501:function(e,t,n){e.exports=n(1545)},7687:function(e){"use strict";var t={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},r="function"===typeof Object.getOwnPropertySymbols;e.exports=function(e,a,o){if("string"!==typeof a){var i=Object.getOwnPropertyNames(a);r&&(i=i.concat(Object.getOwnPropertySymbols(a)));for(var s=0;s<i.length;++s)if(!t[i[s]]&&!n[i[s]]&&(!o||!o[i[s]]))try{e[i[s]]=a[i[s]]}catch(u){}}return e}},8610:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.startLoadingScripts=y;var o=n(2791),i=l(o),s=l(n(2007)),u=l(n(7687)),c=n(3170);function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function h(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var v=[],m={},g=[];function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.noop,n=function(e){if(v.indexOf(e)<0)return function(t){var n=m[e]||[];if(n.push(t),m[e]=n,1===n.length)return(0,c.newScript)(e)((function(t){m[e].forEach((function(n){return n(t,e)})),delete m[e]}))}},r=e.map((function(e){return Array.isArray(e)?e.map(n):n(e)}));c.series.apply(void 0,h(r))((function(e,t){e?g.push(t):Array.isArray(t)?t.forEach(b):b(t)}))((function(e){x(),t(e)}))}var b=function(e){v.indexOf(e)<0&&v.push(e)},x=function(){g.length>0&&(g.forEach((function(e){var t=document.querySelector("script[src='"+e+"']");null!=t&&t.parentNode.removeChild(t)})),g=[])};t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n=function(n){function o(e,t){f(this,o);var n=p(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e,t));return n.state={isScriptLoaded:!1,isScriptLoadSucceed:!1},n._isMounted=!1,n}return d(o,n),a(o,[{key:"componentDidMount",value:function(){var e=this;this._isMounted=!0,y(t,(function(t){e._isMounted&&e.setState({isScriptLoaded:!0,isScriptLoadSucceed:!t},(function(){t||e.props.onScriptLoaded()}))}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var t=r({},this.props,this.state);return i.default.createElement(e,t)}}]),o}(o.Component);return n.propTypes={onScriptLoaded:s.default.func},n.defaultProps={onScriptLoaded:c.noop},(0,u.default)(n,e)}}},3170:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.isDefined=function(e){return null!=e};var n=t.isFunction=function(e){return"function"===typeof e},r=(t.noop=function(e){},t.newScript=function(e){return function(t){var n=document.createElement("script");return n.src=e,n.addEventListener("load",(function(){return t(null,e)})),n.addEventListener("error",(function(){return t(!0,e)})),document.body.appendChild(n),n}},function(e){var t=Object.keys(e),n=-1;return{next:function(){return++n>=t.length?null:t[n]}}}),a=t.parallel=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(r){var a=!1,o=0,i=[];(t=t.filter(n)).length<=0?r(null):t.forEach((function(s,u){s((function(s){for(var c=arguments.length,l=Array(c>1?c-1:0),f=1;f<c;f++)l[f-1]=arguments[f];s?a=!0:(l.length<=1&&(l=l[0]),i[u]=l,o++),n(e)&&e.call(null,s,l,u),a?r(!0):t.length===o&&r(null,i)}))}))}}};t.series=function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return function(e){return function(o){t=t.filter((function(e){return null!=e}));var i=r(t),s=function(){var n=i.next(),r=t[n];return Array.isArray(r)&&(r=a.apply(null,r).call(null,e)),[+n,r]},u=void 0,c=void 0,l=s();if(u=l[0],null==(c=l[1]))return o(null);var f=[];!function t(){c((function(r){for(var a=arguments.length,i=Array(a>1?a-1:0),p=1;p<a;p++)i[p-1]=arguments[p];if(i.length<=1&&(i=i[0]),n(e)&&e.call(null,r,i,u),r)o(r);else{if(f.push(i),l=s(),u=l[0],null==(c=l[1]))return o(null,f);t()}}))}()}}}},9434:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2791)),i=(a=n(77))&&a.__esModule?a:{default:a},s=n(9174),u=n(135);function c(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var a=g(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(s,e);var t,n,r,a=h(s);function s(){var e;f(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(m(e=a.call.apply(a,[this].concat(n))),"mounted",!1),y(m(e),"isReady",!1),y(m(e),"isPlaying",!1),y(m(e),"isLoading",!0),y(m(e),"loadOnReady",null),y(m(e),"startOnPlay",!0),y(m(e),"seekOnPlay",null),y(m(e),"onDurationCalled",!1),y(m(e),"handlePlayerMount",(function(t){e.player||(e.player=t,e.player.load(e.props.url),e.progress())})),y(m(e),"getInternalPlayer",(function(t){return e.player?e.player[t]:null})),y(m(e),"progress",(function(){if(e.props.url&&e.player&&e.isReady){var t=e.getCurrentTime()||0,n=e.getSecondsLoaded(),r=e.getDuration();if(r){var a={playedSeconds:t,played:t/r};null!==n&&(a.loadedSeconds=n,a.loaded=n/r),a.playedSeconds===e.prevPlayed&&a.loadedSeconds===e.prevLoaded||e.props.onProgress(a),e.prevPlayed=a.playedSeconds,e.prevLoaded=a.loadedSeconds}}e.progressTimeout=setTimeout(e.progress,e.props.progressFrequency||e.props.progressInterval)})),y(m(e),"handleReady",(function(){if(e.mounted){e.isReady=!0,e.isLoading=!1;var t=e.props,n=t.onReady,r=t.playing,a=t.volume,o=t.muted;n(),o||null===a||e.player.setVolume(a),e.loadOnReady?(e.player.load(e.loadOnReady,!0),e.loadOnReady=null):r&&e.player.play(),e.handleDurationCheck()}})),y(m(e),"handlePlay",(function(){e.isPlaying=!0,e.isLoading=!1;var t=e.props,n=t.onStart,r=t.onPlay,a=t.playbackRate;e.startOnPlay&&(e.player.setPlaybackRate&&1!==a&&e.player.setPlaybackRate(a),n(),e.startOnPlay=!1),r(),e.seekOnPlay&&(e.seekTo(e.seekOnPlay),e.seekOnPlay=null),e.handleDurationCheck()})),y(m(e),"handlePause",(function(t){e.isPlaying=!1,e.isLoading||e.props.onPause(t)})),y(m(e),"handleEnded",(function(){var t=e.props,n=t.activePlayer,r=t.loop,a=t.onEnded;n.loopOnEnded&&r&&e.seekTo(0),r||(e.isPlaying=!1,a())})),y(m(e),"handleError",(function(){var t;e.isLoading=!1,(t=e.props).onError.apply(t,arguments)})),y(m(e),"handleDurationCheck",(function(){clearTimeout(e.durationCheckTimeout);var t=e.getDuration();t?e.onDurationCalled||(e.props.onDuration(t),e.onDurationCalled=!0):e.durationCheckTimeout=setTimeout(e.handleDurationCheck,100)})),y(m(e),"handleLoaded",(function(){e.isLoading=!1})),e}return t=s,n=[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.player){var n=this.props,r=n.url,a=n.playing,o=n.volume,s=n.muted,c=n.playbackRate,l=n.pip,f=n.loop,p=n.activePlayer,d=n.disableDeferredLoading;if(!(0,i.default)(e.url,r)){if(this.isLoading&&!p.forceLoad&&!d&&!(0,u.isMediaStream)(r))return console.warn("ReactPlayer: the attempt to load ".concat(r," is being deferred until the player has loaded")),void(this.loadOnReady=r);this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(r,this.isReady)}e.playing||!a||this.isPlaying||this.player.play(),e.playing&&!a&&this.isPlaying&&this.player.pause(),!e.pip&&l&&this.player.enablePIP&&this.player.enablePIP(),e.pip&&!l&&this.player.disablePIP&&this.player.disablePIP(),e.volume!==o&&null!==o&&this.player.setVolume(o),e.muted!==s&&(s?this.player.mute():(this.player.unmute(),null!==o&&setTimeout((function(){return t.player.setVolume(o)})))),e.playbackRate!==c&&this.player.setPlaybackRate&&this.player.setPlaybackRate(c),e.loop!==f&&this.player.setLoop&&this.player.setLoop(f)}}},{key:"getDuration",value:function(){return this.isReady?this.player.getDuration():null}},{key:"getCurrentTime",value:function(){return this.isReady?this.player.getCurrentTime():null}},{key:"getSecondsLoaded",value:function(){return this.isReady?this.player.getSecondsLoaded():null}},{key:"seekTo",value:function(e,t){var n=this;if(this.isReady){if(t?"fraction"===t:e>0&&e<1){var r=this.player.getDuration();return r?void this.player.seekTo(r*e):void console.warn("ReactPlayer: could not seek using fraction \u2013\xa0duration not yet available")}this.player.seekTo(e)}else 0!==e&&(this.seekOnPlay=e,setTimeout((function(){n.seekOnPlay=null}),5e3))}},{key:"render",value:function(){var e=this.props.activePlayer;return e?o.default.createElement(e,l({},this.props,{onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError})):null}}],n&&p(t.prototype,n),r&&p(t,r),s}(o.Component);t.default=b,y(b,"displayName","Player"),y(b,"propTypes",s.propTypes),y(b,"defaultProps",s.defaultProps)},8275:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(2791));function o(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var a=h(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m="64px",g={},y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(i,e);var t,n,r,o=f(i);function i(){var e;u(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(d(e=o.call.apply(o,[this].concat(n))),"mounted",!1),v(d(e),"state",{image:null}),v(d(e),"handleKeyPress",(function(t){"Enter"!==t.key&&" "!==t.key||e.props.onClick()})),e}return t=i,(n=[{key:"componentDidMount",value:function(){this.mounted=!0,this.fetchImage(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.url,r=t.light;e.url===n&&e.light===r||this.fetchImage(this.props)}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"fetchImage",value:function(e){var t=this,n=e.url,r=e.light,a=e.oEmbedUrl;if("string"!==typeof r){if(!g[n])return this.setState({image:null}),window.fetch(a.replace("{url}",n)).then((function(e){return e.json()})).then((function(e){if(e.thumbnail_url&&t.mounted){var r=e.thumbnail_url.replace("height=100","height=480");t.setState({image:r}),g[n]=r}}));this.setState({image:g[n]})}else this.setState({image:r})}},{key:"render",value:function(){var e=this.props,t=e.onClick,n=e.playIcon,r=e.previewTabIndex,o=this.state.image,i={display:"flex",alignItems:"center",justifyContent:"center"},u={preview:s({width:"100%",height:"100%",backgroundImage:o?"url(".concat(o,")"):void 0,backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer"},i),shadow:s({background:"radial-gradient(rgb(0, 0, 0, 0.3), rgba(0, 0, 0, 0) 60%)",borderRadius:m,width:m,height:m},i),playIcon:{borderStyle:"solid",borderWidth:"16px 0 16px 26px",borderColor:"transparent transparent transparent white",marginLeft:"7px"}},c=a.default.createElement("div",{style:u.shadow,className:"react-player__shadow"},a.default.createElement("div",{style:u.playIcon,className:"react-player__play-icon"}));return a.default.createElement("div",{style:u.preview,className:"react-player__preview",onClick:t,tabIndex:r,onKeyPress:this.handleKeyPress},n||c)}}])&&c(t.prototype,n),r&&c(t,r),i}(a.Component);t.default=y},2646:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createReactPlayer=void 0;var r=N(n(2791)),a=l(n(9948)),o=l(n(4226)),i=l(n(77)),s=n(9174),u=n(135),c=l(n(9434));function l(e){return e&&e.__esModule?e:{default:e}}function f(e){return f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}function v(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function x(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var a=S(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){return!t||"object"!==f(t)&&"function"!==typeof t?k(e):t}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return C=function(){return e},e}function N(e){if(e&&e.__esModule)return e;if(null===e||"object"!==f(e)&&"function"!==typeof e)return{default:e};var t=C();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n}var T=(0,r.lazy)((function(){return Promise.resolve().then((function(){return N(n(8275))}))})),I="undefined"!==typeof window&&window.document,O="undefined"!==typeof n.g&&n.g.window&&n.g.window.document,_=Object.keys(s.propTypes),D=I||O?r.Suspense:function(){return null},A=[];t.createReactPlayer=function(e,t){var n,l;return l=n=function(n){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(w,n);var l,f,p,m=x(w);function w(){var n;g(this,w);for(var i=arguments.length,l=new Array(i),f=0;f<i;f++)l[f]=arguments[f];return E(k(n=m.call.apply(m,[this].concat(l))),"state",{showPreview:!!n.props.light}),E(k(n),"references",{wrapper:function(e){n.wrapper=e},player:function(e){n.player=e}}),E(k(n),"handleClickPreview",(function(e){n.setState({showPreview:!1}),n.props.onClickPreview(e)})),E(k(n),"showPreview",(function(){n.setState({showPreview:!0})})),E(k(n),"getDuration",(function(){return n.player?n.player.getDuration():null})),E(k(n),"getCurrentTime",(function(){return n.player?n.player.getCurrentTime():null})),E(k(n),"getSecondsLoaded",(function(){return n.player?n.player.getSecondsLoaded():null})),E(k(n),"getInternalPlayer",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"player";return n.player?n.player.getInternalPlayer(e):null})),E(k(n),"seekTo",(function(e,t){if(!n.player)return null;n.player.seekTo(e,t)})),E(k(n),"handleReady",(function(){n.props.onReady(k(n))})),E(k(n),"getActivePlayer",(0,o.default)((function(n){for(var r=0,a=[].concat(A,v(e));r<a.length;r++){var o=a[r];if(o.canPlay(n))return o}return t||null}))),E(k(n),"getConfig",(0,o.default)((function(e,t){var r=n.props.config;return a.default.all([s.defaultProps.config,s.defaultProps.config[t]||{},r,r[t]||{}])}))),E(k(n),"getAttributes",(0,o.default)((function(e){return(0,u.omit)(n.props,_)}))),E(k(n),"renderActivePlayer",(function(e){if(!e)return null;var t=n.getActivePlayer(e);if(!t)return null;var a=n.getConfig(e,t.key);return r.default.createElement(c.default,h({},n.props,{key:t.key,ref:n.references.player,config:a,activePlayer:t.lazyPlayer||t,onReady:n.handleReady}))})),n}return l=w,f=[{key:"shouldComponentUpdate",value:function(e,t){return!(0,i.default)(this.props,e)||!(0,i.default)(this.state,t)}},{key:"componentDidUpdate",value:function(e){var t=this.props.light;!e.light&&t&&this.setState({showPreview:!0}),e.light&&!t&&this.setState({showPreview:!1})}},{key:"renderPreview",value:function(e){if(!e)return null;var t=this.props,n=t.light,a=t.playIcon,o=t.previewTabIndex,i=t.oEmbedUrl;return r.default.createElement(T,{url:e,light:n,playIcon:a,previewTabIndex:o,oEmbedUrl:i,onClick:this.handleClickPreview})}},{key:"render",value:function(){var e=this.props,t=e.url,n=e.style,a=e.width,o=e.height,i=e.fallback,s=e.wrapper,u=this.state.showPreview,c=this.getAttributes(t);return r.default.createElement(s,h({ref:this.references.wrapper,style:d(d({},n),{},{width:a,height:o})},c),r.default.createElement(D,{fallback:i},u?this.renderPreview(t):this.renderActivePlayer(t)))}}],f&&y(l.prototype,f),p&&y(l,p),w}(r.Component),E(n,"displayName","ReactPlayer"),E(n,"propTypes",s.propTypes),E(n,"defaultProps",s.defaultProps),E(n,"addCustomPlayer",(function(e){A.push(e)})),E(n,"removeCustomPlayers",(function(){A.length=0})),E(n,"canPlay",(function(t){for(var n=0,r=[].concat(A,v(e));n<r.length;n++){if(r[n].canPlay(t))return!0}return!1})),E(n,"canEnablePIP",(function(t){for(var n=0,r=[].concat(A,v(e));n<r.length;n++){var a=r[n];if(a.canEnablePIP&&a.canEnablePIP(t))return!0}return!1})),l}},6710:function(e,t,n){"use strict";t.Z=void 0;var r,a=(r=n(4687))&&r.__esModule?r:{default:r},o=n(2646);var i=a.default[a.default.length-1],s=(0,o.createReactPlayer)(a.default,i);t.Z=s},365:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canPlay=t.FLV_EXTENSIONS=t.DASH_EXTENSIONS=t.HLS_EXTENSIONS=t.VIDEO_EXTENSIONS=t.AUDIO_EXTENSIONS=t.MATCH_URL_KALTURA=t.MATCH_URL_VIDYARD=t.MATCH_URL_MIXCLOUD=t.MATCH_URL_DAILYMOTION=t.MATCH_URL_TWITCH_CHANNEL=t.MATCH_URL_TWITCH_VIDEO=t.MATCH_URL_WISTIA=t.MATCH_URL_STREAMABLE=t.MATCH_URL_FACEBOOK_WATCH=t.MATCH_URL_FACEBOOK=t.MATCH_URL_VIMEO=t.MATCH_URL_SOUNDCLOUD=t.MATCH_URL_YOUTUBE=void 0;var r=n(135);function a(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw i}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var i=/(?:youtu\.be\/|youtube(?:-nocookie)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//;t.MATCH_URL_YOUTUBE=i;var s=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/;t.MATCH_URL_SOUNDCLOUD=s;var u=/vimeo\.com\/(?!progressive_redirect).+/;t.MATCH_URL_VIMEO=u;var c=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/;t.MATCH_URL_FACEBOOK=c;var l=/^https?:\/\/fb\.watch\/.+$/;t.MATCH_URL_FACEBOOK_WATCH=l;var f=/streamable\.com\/([a-z0-9]+)$/;t.MATCH_URL_STREAMABLE=f;var p=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?(.*)$/;t.MATCH_URL_WISTIA=p;var d=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/;t.MATCH_URL_TWITCH_VIDEO=d;var h=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/;t.MATCH_URL_TWITCH_CHANNEL=h;var v=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?$/;t.MATCH_URL_DAILYMOTION=v;var m=/mixcloud\.com\/([^/]+\/[^/]+)/;t.MATCH_URL_MIXCLOUD=m;var g=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/;t.MATCH_URL_VIDYARD=g;var y=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/;t.MATCH_URL_KALTURA=y;var b=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i;t.AUDIO_EXTENSIONS=b;var x=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i;t.VIDEO_EXTENSIONS=x;var w=/\.(m3u8)($|\?)/i;t.HLS_EXTENSIONS=w;var k=/\.(mpd)($|\?)/i;t.DASH_EXTENSIONS=k;var S=/\.(flv)($|\?)/i;t.FLV_EXTENSIONS=S;var E={youtube:function(e){return e instanceof Array?e.every((function(e){return i.test(e)})):i.test(e)},soundcloud:function(e){return s.test(e)&&!b.test(e)},vimeo:function(e){return u.test(e)&&!x.test(e)&&!w.test(e)},facebook:function(e){return c.test(e)||l.test(e)},streamable:function(e){return f.test(e)},wistia:function(e){return p.test(e)},twitch:function(e){return d.test(e)||h.test(e)},dailymotion:function(e){return v.test(e)},mixcloud:function(e){return m.test(e)},vidyard:function(e){return g.test(e)},kaltura:function(e){return y.test(e)},file:function e(t){if(t instanceof Array){var n,o=a(t);try{for(o.s();!(n=o.n()).done;){var i=n.value;if("string"===typeof i&&e(i))return!0;if(e(i.src))return!0}}catch(s){o.e(s)}finally{o.f()}return!1}return!(!(0,r.isMediaStream)(t)&&!(0,r.isBlobUrl)(t))||(b.test(t)||x.test(t)||w.test(t)||k.test(t)||S.test(t))}};t.canPlay=E},4303:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2791)),o=n(135),i=n(365);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(u){a=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(u,e);var t,n,r,s=v(u);function u(){var e;p(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return b(g(e=s.call.apply(s,[this].concat(n))),"callPlayer",o.callPlayer),b(g(e),"onDurationChange",(function(){var t=e.getDuration();e.props.onDuration(t)})),b(g(e),"mute",(function(){e.callPlayer("setMuted",!0)})),b(g(e),"unmute",(function(){e.callPlayer("setMuted",!1)})),b(g(e),"ref",(function(t){e.container=t})),e}return t=u,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this,n=this.props,r=n.controls,a=n.config,s=n.onError,u=n.playing,f=l(e.match(i.MATCH_URL_DAILYMOTION),2)[1];this.player?this.player.load(f,{start:(0,o.parseStartTime)(e),autoplay:u}):(0,o.getSDK)("https://api.dmcdn.net/all.js","DM","dmAsyncInit",(function(e){return e.player})).then((function(n){if(t.container){var i=n.player;t.player=new i(t.container,{width:"100%",height:"100%",video:f,params:c({controls:r,autoplay:t.props.playing,mute:t.props.muted,start:(0,o.parseStartTime)(e),origin:window.location.origin},a.params),events:{apiready:t.props.onReady,seeked:function(){return t.props.onSeek(t.player.currentTime)},video_end:t.props.onEnded,durationchange:t.onDurationChange,pause:t.props.onPause,playing:t.props.onPlay,waiting:t.props.onBuffer,error:function(e){return s(e)}}})}}),s)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"getDuration",value:function(){return this.player.duration||null}},{key:"getCurrentTime",value:function(){return this.player.currentTime}},{key:"getSecondsLoaded",value:function(){return this.player.bufferedTime}},{key:"render",value:function(){var e={width:"100%",height:"100%",display:this.props.display};return a.default.createElement("div",{style:e},a.default.createElement("div",{ref:this.ref}))}}])&&d(t.prototype,n),r&&d(t,r),u}(a.Component);t.default=x,b(x,"displayName","DailyMotion"),b(x,"canPlay",i.canPlay.dailymotion),b(x,"loopOnEnded",!0)},4793:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2791)),o=n(135),i=n(365);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g="https://connect.facebook.net/en_US/sdk.js",y="fbAsyncInit",b="facebook-player-",x=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(s,e);var t,n,r,i=p(s);function s(){var e;c(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(h(e=i.call.apply(i,[this].concat(n))),"callPlayer",o.callPlayer),m(h(e),"playerID",e.props.config.playerId||"".concat(b).concat((0,o.randomString)())),m(h(e),"mute",(function(){e.callPlayer("mute")})),m(h(e),"unmute",(function(){e.callPlayer("unmute")})),e}return t=s,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e,t){var n=this;t?(0,o.getSDK)(g,"FB",y).then((function(e){return e.XFBML.parse()})):(0,o.getSDK)(g,"FB",y).then((function(e){e.init({appId:n.props.config.appId,xfbml:!0,version:n.props.config.version}),e.Event.subscribe("xfbml.render",(function(e){n.props.onLoaded()})),e.Event.subscribe("xfbml.ready",(function(e){"video"===e.type&&e.id===n.playerID&&(n.player=e.instance,n.player.subscribe("startedPlaying",n.props.onPlay),n.player.subscribe("paused",n.props.onPause),n.player.subscribe("finishedPlaying",n.props.onEnded),n.player.subscribe("startedBuffering",n.props.onBuffer),n.player.subscribe("finishedBuffering",n.props.onBufferEnd),n.player.subscribe("error",n.props.onError),n.props.muted?n.callPlayer("mute"):n.callPlayer("unmute"),n.props.onReady(),document.getElementById(n.playerID).querySelector("iframe").style.visibility="visible")}))}))}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentPosition")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var e=this.props.config.attributes;return a.default.createElement("div",u({style:{width:"100%",height:"100%"},id:this.playerID,className:"fb-video","data-href":this.props.url,"data-autoplay":this.props.playing?"true":"false","data-allowfullscreen":"true","data-controls":this.props.controls?"true":"false"},e))}}])&&l(t.prototype,n),r&&l(t,r),s}(a.Component);t.default=x,m(x,"displayName","Facebook"),m(x,"canPlay",i.canPlay.facebook),m(x,"loopOnEnded",!0)},8997:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2791)),o=n(135),i=n(365);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g="undefined"!==typeof navigator,y=g&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,b=g&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||y)&&!window.MSStream,x=/www\.dropbox\.com\/.+/,w=/https:\/\/watch\.cloudflarestream\.com\/([a-z0-9]+)/,k=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(d,e);var t,n,r,s=p(d);function d(){var e;c(this,d);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(h(e=s.call.apply(s,[this].concat(n))),"onReady",(function(){var t;return(t=e.props).onReady.apply(t,arguments)})),m(h(e),"onPlay",(function(){var t;return(t=e.props).onPlay.apply(t,arguments)})),m(h(e),"onBuffer",(function(){var t;return(t=e.props).onBuffer.apply(t,arguments)})),m(h(e),"onBufferEnd",(function(){var t;return(t=e.props).onBufferEnd.apply(t,arguments)})),m(h(e),"onPause",(function(){var t;return(t=e.props).onPause.apply(t,arguments)})),m(h(e),"onEnded",(function(){var t;return(t=e.props).onEnded.apply(t,arguments)})),m(h(e),"onError",(function(){var t;return(t=e.props).onError.apply(t,arguments)})),m(h(e),"onPlayBackRateChange",(function(t){return e.props.onPlaybackRateChange(t.target.playbackRate)})),m(h(e),"onEnablePIP",(function(){var t;return(t=e.props).onEnablePIP.apply(t,arguments)})),m(h(e),"onDisablePIP",(function(t){var n=e.props,r=n.onDisablePIP,a=n.playing;r(t),a&&e.play()})),m(h(e),"onPresentationModeChange",(function(t){if(e.player&&(0,o.supportsWebKitPresentationMode)(e.player)){var n=e.player.webkitPresentationMode;"picture-in-picture"===n?e.onEnablePIP(t):"inline"===n&&e.onDisablePIP(t)}})),m(h(e),"onSeek",(function(t){e.props.onSeek(t.target.currentTime)})),m(h(e),"mute",(function(){e.player.muted=!0})),m(h(e),"unmute",(function(){e.player.muted=!1})),m(h(e),"renderSourceElement",(function(e,t){return"string"===typeof e?a.default.createElement("source",{key:t,src:e}):a.default.createElement("source",u({key:t},e))})),m(h(e),"renderTrack",(function(e,t){return a.default.createElement("track",u({key:t},e))})),m(h(e),"ref",(function(t){e.player&&(e.prevPlayer=e.player),e.player=t})),e}return t=d,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this),this.addListeners(this.player),b&&this.player.load()}},{key:"componentDidUpdate",value:function(e){this.shouldUseAudio(this.props)!==this.shouldUseAudio(e)&&(this.removeListeners(this.prevPlayer,e.url),this.addListeners(this.player)),this.props.url===e.url||(0,o.isMediaStream)(this.props.url)||(this.player.srcObject=null)}},{key:"componentWillUnmount",value:function(){this.removeListeners(this.player),this.hls&&this.hls.destroy()}},{key:"addListeners",value:function(e){var t=this.props,n=t.url,r=t.playsinline;e.addEventListener("play",this.onPlay),e.addEventListener("waiting",this.onBuffer),e.addEventListener("playing",this.onBufferEnd),e.addEventListener("pause",this.onPause),e.addEventListener("seeked",this.onSeek),e.addEventListener("ended",this.onEnded),e.addEventListener("error",this.onError),e.addEventListener("ratechange",this.onPlayBackRateChange),e.addEventListener("enterpictureinpicture",this.onEnablePIP),e.addEventListener("leavepictureinpicture",this.onDisablePIP),e.addEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(n)||e.addEventListener("canplay",this.onReady),r&&(e.setAttribute("playsinline",""),e.setAttribute("webkit-playsinline",""),e.setAttribute("x5-playsinline",""))}},{key:"removeListeners",value:function(e,t){e.removeEventListener("canplay",this.onReady),e.removeEventListener("play",this.onPlay),e.removeEventListener("waiting",this.onBuffer),e.removeEventListener("playing",this.onBufferEnd),e.removeEventListener("pause",this.onPause),e.removeEventListener("seeked",this.onSeek),e.removeEventListener("ended",this.onEnded),e.removeEventListener("error",this.onError),e.removeEventListener("ratechange",this.onPlayBackRateChange),e.removeEventListener("enterpictureinpicture",this.onEnablePIP),e.removeEventListener("leavepictureinpicture",this.onDisablePIP),e.removeEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),this.shouldUseHLS(t)||e.removeEventListener("canplay",this.onReady)}},{key:"shouldUseAudio",value:function(e){return!e.config.forceVideo&&!e.config.attributes.poster&&(i.AUDIO_EXTENSIONS.test(e.url)||e.config.forceAudio)}},{key:"shouldUseHLS",value:function(e){return!!this.props.config.forceHLS||!b&&(i.HLS_EXTENSIONS.test(e)||w.test(e))}},{key:"shouldUseDASH",value:function(e){return i.DASH_EXTENSIONS.test(e)||this.props.config.forceDASH}},{key:"shouldUseFLV",value:function(e){return i.FLV_EXTENSIONS.test(e)||this.props.config.forceFLV}},{key:"load",value:function(e){var t=this,n=this.props.config,r=n.hlsVersion,a=n.hlsOptions,i=n.dashVersion,s=n.flvVersion;if(this.hls&&this.hls.destroy(),this.dash&&this.dash.reset(),this.shouldUseHLS(e)&&(0,o.getSDK)("https://cdn.jsdelivr.net/npm/hls.js@VERSION/dist/hls.min.js".replace("VERSION",r),"Hls").then((function(n){if(t.hls=new n(a),t.hls.on(n.Events.MANIFEST_PARSED,(function(){t.props.onReady()})),t.hls.on(n.Events.ERROR,(function(e,r){t.props.onError(e,r,t.hls,n)})),w.test(e)){var r=e.match(w)[1];t.hls.loadSource("https://videodelivery.net/{id}/manifest/video.m3u8".replace("{id}",r))}else t.hls.loadSource(e);t.hls.attachMedia(t.player),t.props.onLoaded()})),this.shouldUseDASH(e)&&(0,o.getSDK)("https://cdnjs.cloudflare.com/ajax/libs/dashjs/VERSION/dash.all.min.js".replace("VERSION",i),"dashjs").then((function(n){t.dash=n.MediaPlayer().create(),t.dash.initialize(t.player,e,t.props.playing),t.dash.on("error",t.props.onError),parseInt(i)<3?t.dash.getDebug().setLogToBrowserConsole(!1):t.dash.updateSettings({debug:{logLevel:n.Debug.LOG_LEVEL_NONE}}),t.props.onLoaded()})),this.shouldUseFLV(e)&&(0,o.getSDK)("https://cdn.jsdelivr.net/npm/flv.js@VERSION/dist/flv.min.js".replace("VERSION",s),"flvjs").then((function(n){t.flv=n.createPlayer({type:"flv",url:e}),t.flv.attachMediaElement(t.player),t.flv.on(n.Events.ERROR,(function(e,r){t.props.onError(e,r,t.flv,n)})),t.flv.load(),t.props.onLoaded()})),e instanceof Array)this.player.load();else if((0,o.isMediaStream)(e))try{this.player.srcObject=e}catch(u){this.player.src=window.URL.createObjectURL(e)}}},{key:"play",value:function(){var e=this.player.play();e&&e.catch(this.props.onError)}},{key:"pause",value:function(){this.player.pause()}},{key:"stop",value:function(){this.player.removeAttribute("src"),this.dash&&this.dash.reset()}},{key:"seekTo",value:function(e){this.player.currentTime=e}},{key:"setVolume",value:function(e){this.player.volume=e}},{key:"enablePIP",value:function(){this.player.requestPictureInPicture&&document.pictureInPictureElement!==this.player?this.player.requestPictureInPicture():(0,o.supportsWebKitPresentationMode)(this.player)&&"picture-in-picture"!==this.player.webkitPresentationMode&&this.player.webkitSetPresentationMode("picture-in-picture")}},{key:"disablePIP",value:function(){document.exitPictureInPicture&&document.pictureInPictureElement===this.player?document.exitPictureInPicture():(0,o.supportsWebKitPresentationMode)(this.player)&&"inline"!==this.player.webkitPresentationMode&&this.player.webkitSetPresentationMode("inline")}},{key:"setPlaybackRate",value:function(e){try{this.player.playbackRate=e}catch(t){this.props.onError(t)}}},{key:"getDuration",value:function(){if(!this.player)return null;var e=this.player,t=e.duration,n=e.seekable;return t===1/0&&n.length>0?n.end(n.length-1):t}},{key:"getCurrentTime",value:function(){return this.player?this.player.currentTime:null}},{key:"getSecondsLoaded",value:function(){if(!this.player)return null;var e=this.player.buffered;if(0===e.length)return 0;var t=e.end(e.length-1),n=this.getDuration();return t>n?n:t}},{key:"getSource",value:function(e){var t=this.shouldUseHLS(e),n=this.shouldUseDASH(e),r=this.shouldUseFLV(e);if(!(e instanceof Array||(0,o.isMediaStream)(e)||t||n||r))return x.test(e)?e.replace("www.dropbox.com","dl.dropboxusercontent.com"):e}},{key:"render",value:function(){var e=this.props,t=e.url,n=e.playing,r=e.loop,o=e.controls,i=e.muted,s=e.config,c=e.width,l=e.height,f=this.shouldUseAudio(this.props)?"audio":"video",p={width:"auto"===c?c:"100%",height:"auto"===l?l:"100%"};return a.default.createElement(f,u({ref:this.ref,src:this.getSource(t),style:p,preload:"auto",autoPlay:n||void 0,controls:o,muted:i,loop:r},s.attributes),t instanceof Array&&t.map(this.renderSourceElement),s.tracks.map(this.renderTrack))}}])&&l(t.prototype,n),r&&l(t,r),d}(a.Component);t.default=k,m(k,"displayName","FilePlayer"),m(k,"canPlay",i.canPlay.file)},9332:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2791)),o=n(135),i=n(365);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var a=h(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(s,e);var t,n,r,i=f(s);function s(){var e;u(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(d(e=i.call.apply(i,[this].concat(n))),"callPlayer",o.callPlayer),v(d(e),"duration",null),v(d(e),"currentTime",null),v(d(e),"secondsLoaded",null),v(d(e),"mute",(function(){e.callPlayer("mute")})),v(d(e),"unmute",(function(){e.callPlayer("unmute")})),v(d(e),"ref",(function(t){e.iframe=t})),e}return t=s,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this;(0,o.getSDK)("https://cdn.embed.ly/player-0.1.0.min.js","playerjs").then((function(e){t.iframe&&(t.player=new e.Player(t.iframe),t.player.on("ready",(function(){setTimeout((function(){t.player.isReady=!0,t.player.setLoop(t.props.loop),t.props.muted&&t.player.mute(),t.addListeners(t.player,t.props),t.props.onReady()}),500)})))}),this.props.onError)}},{key:"addListeners",value:function(e,t){var n=this;e.on("play",t.onPlay),e.on("pause",t.onPause),e.on("ended",t.onEnded),e.on("error",t.onError),e.on("timeupdate",(function(e){var t=e.duration,r=e.seconds;n.duration=t,n.currentTime=r}))}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("setCurrentTime",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"setLoop",value:function(e){this.callPlayer("setLoop",e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){return a.default.createElement("iframe",{ref:this.ref,src:this.props.url,frameBorder:"0",scrolling:"no",style:{width:"100%",height:"100%"},allow:"encrypted-media; autoplay; fullscreen;",referrerPolicy:"no-referrer-when-downgrade"})}}])&&c(t.prototype,n),r&&c(t,r),s}(a.Component);t.default=m,v(m,"displayName","Kaltura"),v(m,"canPlay",i.canPlay.kaltura)},2732:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2791)),o=n(135),i=n(365);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var a=m(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(u,e);var t,n,r,s=d(u);function u(){var e;l(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(v(e=s.call.apply(s,[this].concat(n))),"callPlayer",o.callPlayer),g(v(e),"duration",null),g(v(e),"currentTime",null),g(v(e),"secondsLoaded",null),g(v(e),"mute",(function(){})),g(v(e),"unmute",(function(){})),g(v(e),"ref",(function(t){e.iframe=t})),e}return t=u,n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this;(0,o.getSDK)("https://widget.mixcloud.com/media/js/widgetApi.js","Mixcloud").then((function(e){t.player=e.PlayerWidget(t.iframe),t.player.ready.then((function(){t.player.events.play.on(t.props.onPlay),t.player.events.pause.on(t.props.onPause),t.player.events.ended.on(t.props.onEnded),t.player.events.error.on(t.props.error),t.player.events.progress.on((function(e,n){t.currentTime=e,t.duration=n})),t.props.onReady()}))}),this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var e=this.props,t=e.url,n=e.config,r=t.match(i.MATCH_URL_MIXCLOUD)[1],s=(0,o.queryString)(c(c({},n.options),{},{feed:"/".concat(r,"/")}));return a.default.createElement("iframe",{key:r,ref:this.ref,style:{width:"100%",height:"100%"},src:"https://www.mixcloud.com/widget/iframe/?".concat(s),frameBorder:"0"})}}],n&&f(t.prototype,n),r&&f(t,r),u}(a.Component);t.default=y,g(y,"displayName","Mixcloud"),g(y,"canPlay",i.canPlay.mixcloud),g(y,"loopOnEnded",!0)},1801:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2791)),o=n(135),i=n(365);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var a=m(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(s,e);var t,n,r,i=d(s);function s(){var e;l(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(v(e=i.call.apply(i,[this].concat(n))),"callPlayer",o.callPlayer),g(v(e),"duration",null),g(v(e),"currentTime",null),g(v(e),"fractionLoaded",null),g(v(e),"mute",(function(){e.setVolume(0)})),g(v(e),"unmute",(function(){null!==e.props.volume&&e.setVolume(e.props.volume)})),g(v(e),"ref",(function(t){e.iframe=t})),e}return t=s,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e,t){var n=this;(0,o.getSDK)("https://w.soundcloud.com/player/api.js","SC").then((function(r){if(n.iframe){var a=r.Widget.Events,o=a.PLAY,i=a.PLAY_PROGRESS,s=a.PAUSE,u=a.FINISH,l=a.ERROR;t||(n.player=r.Widget(n.iframe),n.player.bind(o,n.props.onPlay),n.player.bind(s,(function(){n.duration-n.currentTime<.05||n.props.onPause()})),n.player.bind(i,(function(e){n.currentTime=e.currentPosition/1e3,n.fractionLoaded=e.loadedProgress})),n.player.bind(u,(function(){return n.props.onEnded()})),n.player.bind(l,(function(e){return n.props.onError(e)}))),n.player.load(e,c(c({},n.props.config.options),{},{callback:function(){n.player.getDuration((function(e){n.duration=e/1e3,n.props.onReady()}))}}))}}))}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("seekTo",1e3*e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",100*e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.fractionLoaded*this.duration}},{key:"render",value:function(){var e={width:"100%",height:"100%",display:this.props.display};return a.default.createElement("iframe",{ref:this.ref,src:"https://w.soundcloud.com/player/?url=".concat(encodeURIComponent(this.props.url)),style:e,frameBorder:0,allow:"autoplay"})}}])&&f(t.prototype,n),r&&f(t,r),s}(a.Component);t.default=y,g(y,"displayName","SoundCloud"),g(y,"canPlay",i.canPlay.soundcloud),g(y,"loopOnEnded",!0)},1286:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2791)),o=n(135),i=n(365);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var a=h(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(p,e);var t,n,r,s=f(p);function p(){var e;u(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(d(e=s.call.apply(s,[this].concat(n))),"callPlayer",o.callPlayer),v(d(e),"duration",null),v(d(e),"currentTime",null),v(d(e),"secondsLoaded",null),v(d(e),"mute",(function(){e.callPlayer("mute")})),v(d(e),"unmute",(function(){e.callPlayer("unmute")})),v(d(e),"ref",(function(t){e.iframe=t})),e}return t=p,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this;(0,o.getSDK)("https://cdn.embed.ly/player-0.1.0.min.js","playerjs").then((function(e){t.iframe&&(t.player=new e.Player(t.iframe),t.player.setLoop(t.props.loop),t.player.on("ready",t.props.onReady),t.player.on("play",t.props.onPlay),t.player.on("pause",t.props.onPause),t.player.on("seeked",t.props.onSeek),t.player.on("ended",t.props.onEnded),t.player.on("error",t.props.onError),t.player.on("timeupdate",(function(e){var n=e.duration,r=e.seconds;t.duration=n,t.currentTime=r})),t.player.on("buffered",(function(e){var n=e.percent;t.duration&&(t.secondsLoaded=t.duration*n)})),t.props.muted&&t.player.mute())}),this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("setCurrentTime",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",100*e)}},{key:"setLoop",value:function(e){this.callPlayer("setLoop",e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var e=this.props.url.match(i.MATCH_URL_STREAMABLE)[1];return a.default.createElement("iframe",{ref:this.ref,src:"https://streamable.com/o/".concat(e),frameBorder:"0",scrolling:"no",style:{width:"100%",height:"100%"},allow:"encrypted-media; autoplay; fullscreen;"})}}])&&c(t.prototype,n),r&&c(t,r),p}(a.Component);t.default=m,v(m,"displayName","Streamable"),v(m,"canPlay",i.canPlay.streamable)},6741:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2791)),o=n(135),i=n(365);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g="twitch-player-",y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(d,e);var t,n,r,s=p(d);function d(){var e;c(this,d);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(h(e=s.call.apply(s,[this].concat(n))),"callPlayer",o.callPlayer),m(h(e),"playerID",e.props.config.playerId||"".concat(g).concat((0,o.randomString)())),m(h(e),"mute",(function(){e.callPlayer("setMuted",!0)})),m(h(e),"unmute",(function(){e.callPlayer("setMuted",!1)})),e}return t=d,n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e,t){var n=this,r=this.props,a=r.playsinline,s=r.onError,c=r.config,l=r.controls,f=i.MATCH_URL_TWITCH_CHANNEL.test(e),p=f?e.match(i.MATCH_URL_TWITCH_CHANNEL)[1]:e.match(i.MATCH_URL_TWITCH_VIDEO)[1];t?f?this.player.setChannel(p):this.player.setVideo("v"+p):(0,o.getSDK)("https://player.twitch.tv/js/embed/v1.js","Twitch").then((function(t){n.player=new t.Player(n.playerID,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({video:f?"":p,channel:f?p:"",height:"100%",width:"100%",playsinline:a,autoplay:n.props.playing,muted:n.props.muted,controls:!!f||l,time:(0,o.parseStartTime)(e)},c.options));var r=t.Player,i=r.READY,s=r.PLAYING,d=r.PAUSE,h=r.ENDED,v=r.ONLINE,g=r.OFFLINE,y=r.SEEK;n.player.addEventListener(i,n.props.onReady),n.player.addEventListener(s,n.props.onPlay),n.player.addEventListener(d,n.props.onPause),n.player.addEventListener(h,n.props.onEnded),n.player.addEventListener(y,n.props.onSeek),n.player.addEventListener(v,n.props.onLoaded),n.player.addEventListener(g,n.props.onLoaded)}),s)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.callPlayer("pause")}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){return a.default.createElement("div",{style:{width:"100%",height:"100%"},id:this.playerID})}}],n&&l(t.prototype,n),r&&l(t,r),d}(a.Component);t.default=y,m(y,"displayName","Twitch"),m(y,"canPlay",i.canPlay.twitch),m(y,"loopOnEnded",!0)},6986:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2791)),o=n(135),i=n(365);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(d,e);var t,n,r,s=p(d);function d(){var e;c(this,d);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(h(e=s.call.apply(s,[this].concat(n))),"callPlayer",o.callPlayer),m(h(e),"mute",(function(){e.setVolume(0)})),m(h(e),"unmute",(function(){null!==e.props.volume&&e.setVolume(e.props.volume)})),m(h(e),"ref",(function(t){e.container=t})),e}return t=d,n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this,n=this.props,r=n.playing,a=n.config,s=n.onError,c=n.onDuration,l=e&&e.match(i.MATCH_URL_VIDYARD)[1];this.player&&this.stop(),(0,o.getSDK)("https://play.vidyard.com/embed/v4.js","VidyardV4","onVidyardAPI").then((function(e){t.container&&(e.api.addReadyListener((function(e,n){t.player||(t.player=n,t.player.on("ready",t.props.onReady),t.player.on("play",t.props.onPlay),t.player.on("pause",t.props.onPause),t.player.on("seek",t.props.onSeek),t.player.on("playerComplete",t.props.onEnded))}),l),e.api.renderPlayer(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({uuid:l,container:t.container,autoplay:r?1:0},a.options)),e.api.getPlayerMetadata(l).then((function(e){t.duration=e.length_in_seconds,c(e.length_in_seconds)})))}),s)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){window.VidyardV4.api.destroyPlayer(this.player)}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"setPlaybackRate",value:function(e){this.callPlayer("setPlaybackSpeed",e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.callPlayer("currentTime")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var e={width:"100%",height:"100%",display:this.props.display};return a.default.createElement("div",{style:e},a.default.createElement("div",{ref:this.ref}))}}],n&&l(t.prototype,n),r&&l(t,r),d}(a.Component);t.default=g,m(g,"displayName","Vidyard"),m(g,"canPlay",i.canPlay.vidyard)},8511:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2791)),o=n(135),i=n(365);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(s,e);var t,n,r,i=p(s);function s(){var e;c(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(h(e=i.call.apply(i,[this].concat(n))),"callPlayer",o.callPlayer),m(h(e),"duration",null),m(h(e),"currentTime",null),m(h(e),"secondsLoaded",null),m(h(e),"mute",(function(){e.setVolume(0)})),m(h(e),"unmute",(function(){null!==e.props.volume&&e.setVolume(e.props.volume)})),m(h(e),"ref",(function(t){e.container=t})),e}return t=s,n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this;this.duration=null,(0,o.getSDK)("https://player.vimeo.com/api/player.js","Vimeo").then((function(n){if(t.container){var r=t.props.config,a=r.playerOptions,o=r.title;t.player=new n.Player(t.container,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({url:e,autoplay:t.props.playing,muted:t.props.muted,loop:t.props.loop,playsinline:t.props.playsinline,controls:t.props.controls},a)),t.player.ready().then((function(){var e=t.container.querySelector("iframe");e.style.width="100%",e.style.height="100%",o&&(e.title=o)})).catch(t.props.onError),t.player.on("loaded",(function(){t.props.onReady(),t.refreshDuration()})),t.player.on("play",(function(){t.props.onPlay(),t.refreshDuration()})),t.player.on("pause",t.props.onPause),t.player.on("seeked",(function(e){return t.props.onSeek(e.seconds)})),t.player.on("ended",t.props.onEnded),t.player.on("error",t.props.onError),t.player.on("timeupdate",(function(e){var n=e.seconds;t.currentTime=n})),t.player.on("progress",(function(e){var n=e.seconds;t.secondsLoaded=n})),t.player.on("bufferstart",t.props.onBuffer),t.player.on("bufferend",t.props.onBufferEnd)}}),this.props.onError)}},{key:"refreshDuration",value:function(){var e=this;this.player.getDuration().then((function(t){e.duration=t}))}},{key:"play",value:function(){var e=this.callPlayer("play");e&&e.catch(this.props.onError)}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.callPlayer("unload")}},{key:"seekTo",value:function(e){this.callPlayer("setCurrentTime",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"setLoop",value:function(e){this.callPlayer("setLoop",e)}},{key:"setPlaybackRate",value:function(e){this.callPlayer("setPlaybackRate",e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var e={width:"100%",height:"100%",overflow:"hidden",display:this.props.display};return a.default.createElement("div",{key:this.props.url,ref:this.ref,style:e})}}],n&&l(t.prototype,n),r&&l(t,r),s}(a.Component);t.default=g,m(g,"displayName","Vimeo"),m(g,"canPlay",i.canPlay.vimeo),m(g,"forceLoad",!0)},5793:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2791)),o=n(135),i=n(365);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var a=m(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y="wistia-player-",b=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(u,e);var t,n,r,s=d(u);function u(){var e;l(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return g(v(e=s.call.apply(s,[this].concat(n))),"callPlayer",o.callPlayer),g(v(e),"playerID",e.props.config.playerId||"".concat(y).concat((0,o.randomString)())),g(v(e),"onPlay",(function(){var t;return(t=e.props).onPlay.apply(t,arguments)})),g(v(e),"onPause",(function(){var t;return(t=e.props).onPause.apply(t,arguments)})),g(v(e),"onSeek",(function(){var t;return(t=e.props).onSeek.apply(t,arguments)})),g(v(e),"onEnded",(function(){var t;return(t=e.props).onEnded.apply(t,arguments)})),g(v(e),"onPlaybackRateChange",(function(){var t;return(t=e.props).onPlaybackRateChange.apply(t,arguments)})),g(v(e),"mute",(function(){e.callPlayer("mute")})),g(v(e),"unmute",(function(){e.callPlayer("unmute")})),e}return t=u,n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this,n=this.props,r=n.playing,a=n.muted,i=n.controls,s=n.onReady,u=n.config,l=n.onError;(0,o.getSDK)("https://fast.wistia.com/assets/external/E-v1.js","Wistia").then((function(e){u.customControls&&u.customControls.forEach((function(t){return e.defineControl(t)})),window._wq=window._wq||[],window._wq.push({id:t.playerID,options:c({autoPlay:r,silentAutoPlay:"allow",muted:a,controlsVisibleOnLoad:i,fullscreenButton:i,playbar:i,playbackRateControl:i,qualityControl:i,volumeControl:i,settingsControl:i,smallPlayButton:i},u.options),onReady:function(e){t.player=e,t.unbind(),t.player.bind("play",t.onPlay),t.player.bind("pause",t.onPause),t.player.bind("seek",t.onSeek),t.player.bind("end",t.onEnded),t.player.bind("playbackratechange",t.onPlaybackRateChange),s()}})}),l)}},{key:"unbind",value:function(){this.player.unbind("play",this.onPlay),this.player.unbind("pause",this.onPause),this.player.unbind("seek",this.onSeek),this.player.unbind("end",this.onEnded),this.player.unbind("playbackratechange",this.onPlaybackRateChange)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.unbind(),this.callPlayer("remove")}},{key:"seekTo",value:function(e){this.callPlayer("time",e)}},{key:"setVolume",value:function(e){this.callPlayer("volume",e)}},{key:"setPlaybackRate",value:function(e){this.callPlayer("playbackRate",e)}},{key:"getDuration",value:function(){return this.callPlayer("duration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("time")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var e=this.props.url,t=e&&e.match(i.MATCH_URL_WISTIA)[1],n="wistia_embed wistia_async_".concat(t);return a.default.createElement("div",{id:this.playerID,key:t,className:n,style:{width:"100%",height:"100%"}})}}],n&&f(t.prototype,n),r&&f(t,r),u}(a.Component);t.default=b,g(b,"displayName","Wistia"),g(b,"canPlay",i.canPlay.wistia),g(b,"loopOnEnded",!0)},8322:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var i=a?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(n,o,i):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(2791)),o=n(135),i=n(365);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(u){a=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x="YT",w=/[?&](?:list|channel)=([a-zA-Z0-9_-]+)/,k=/user\/([a-zA-Z0-9_-]+)\/?/,S=/youtube-nocookie\.com/,E=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(u,e);var t,n,r,s=v(u);function u(){var e;p(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return b(g(e=s.call.apply(s,[this].concat(n))),"callPlayer",o.callPlayer),b(g(e),"parsePlaylist",(function(t){return t instanceof Array?{listType:"playlist",playlist:t.map(e.getID).join(",")}:w.test(t)?{listType:"playlist",list:l(t.match(w),2)[1].replace(/^UC/,"UU")}:k.test(t)?{listType:"user_uploads",list:l(t.match(k),2)[1]}:{}})),b(g(e),"onStateChange",(function(t){var n=t.data,r=e.props,a=r.onPlay,o=r.onPause,i=r.onBuffer,s=r.onBufferEnd,u=r.onEnded,c=r.onReady,l=r.loop,f=r.config,p=f.playerVars,d=f.onUnstarted,h=window.YT.PlayerState,v=h.UNSTARTED,m=h.PLAYING,g=h.PAUSED,y=h.BUFFERING,b=h.ENDED,x=h.CUED;if(n===v&&d(),n===m&&(a(),s()),n===g&&o(),n===y&&i(),n===b){var w=!!e.callPlayer("getPlaylist");l&&!w&&(p.start?e.seekTo(p.start):e.play()),u()}n===x&&c()})),b(g(e),"mute",(function(){e.callPlayer("mute")})),b(g(e),"unmute",(function(){e.callPlayer("unMute")})),b(g(e),"ref",(function(t){e.container=t})),e}return t=u,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"getID",value:function(e){return!e||e instanceof Array||w.test(e)?null:e.match(i.MATCH_URL_YOUTUBE)[1]}},{key:"load",value:function(e,t){var n=this,r=this.props,a=r.playing,i=r.muted,s=r.playsinline,u=r.controls,l=r.loop,f=r.config,p=r.onError,d=f.playerVars,h=f.embedOptions,v=this.getID(e);if(t)return w.test(e)||k.test(e)||e instanceof Array?void this.player.loadPlaylist(this.parsePlaylist(e)):void this.player.cueVideoById({videoId:v,startSeconds:(0,o.parseStartTime)(e)||d.start,endSeconds:(0,o.parseEndTime)(e)||d.end});(0,o.getSDK)("https://www.youtube.com/iframe_api",x,"onYouTubeIframeAPIReady",(function(e){return e.loaded})).then((function(t){n.container&&(n.player=new t.Player(n.container,c({width:"100%",height:"100%",videoId:v,playerVars:c(c({autoplay:a?1:0,mute:i?1:0,controls:u?1:0,start:(0,o.parseStartTime)(e),end:(0,o.parseEndTime)(e),origin:window.location.origin,playsinline:s?1:0},n.parsePlaylist(e)),d),events:{onReady:function(){l&&n.player.setLoop(!0),n.props.onReady()},onPlaybackRateChange:function(e){return n.props.onPlaybackRateChange(e.data)},onStateChange:n.onStateChange,onError:function(e){return p(e.data)}},host:S.test(e)?"https://www.youtube-nocookie.com":void 0},h)))}),p),h.events&&console.warn("Using `embedOptions.events` will likely break things. Use ReactPlayer\u2019s callback props instead, eg onReady, onPlay, onPause")}},{key:"play",value:function(){this.callPlayer("playVideo")}},{key:"pause",value:function(){this.callPlayer("pauseVideo")}},{key:"stop",value:function(){document.body.contains(this.callPlayer("getIframe"))&&this.callPlayer("stopVideo")}},{key:"seekTo",value:function(e){this.callPlayer("seekTo",e),this.props.playing||this.pause()}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",100*e)}},{key:"setPlaybackRate",value:function(e){this.callPlayer("setPlaybackRate",e)}},{key:"setLoop",value:function(e){this.callPlayer("setLoop",e)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return this.callPlayer("getVideoLoadedFraction")*this.getDuration()}},{key:"render",value:function(){var e={width:"100%",height:"100%",display:this.props.display};return a.default.createElement("div",{style:e},a.default.createElement("div",{ref:this.ref}))}}])&&d(t.prototype,n),r&&d(t,r),u}(a.Component);t.default=E,b(E,"displayName","YouTube"),b(E,"canPlay",i.canPlay.youtube)},4687:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(2791),a=n(135),o=n(365);function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e){if(e&&e.__esModule)return e;if(null===e||"object"!==i(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var o=r?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(n,a,o):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n}var c=[{key:"youtube",name:"YouTube",canPlay:o.canPlay.youtube,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return u(n(8322))}))}))},{key:"soundcloud",name:"SoundCloud",canPlay:o.canPlay.soundcloud,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return u(n(1801))}))}))},{key:"vimeo",name:"Vimeo",canPlay:o.canPlay.vimeo,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return u(n(8511))}))}))},{key:"facebook",name:"Facebook",canPlay:o.canPlay.facebook,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return u(n(4793))}))}))},{key:"streamable",name:"Streamable",canPlay:o.canPlay.streamable,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return u(n(1286))}))}))},{key:"wistia",name:"Wistia",canPlay:o.canPlay.wistia,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return u(n(5793))}))}))},{key:"twitch",name:"Twitch",canPlay:o.canPlay.twitch,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return u(n(6741))}))}))},{key:"dailymotion",name:"DailyMotion",canPlay:o.canPlay.dailymotion,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return u(n(4303))}))}))},{key:"mixcloud",name:"Mixcloud",canPlay:o.canPlay.mixcloud,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return u(n(2732))}))}))},{key:"vidyard",name:"Vidyard",canPlay:o.canPlay.vidyard,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return u(n(6986))}))}))},{key:"kaltura",name:"Kaltura",canPlay:o.canPlay.kaltura,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return u(n(9332))}))}))},{key:"file",name:"FilePlayer",canPlay:o.canPlay.file,canEnablePIP:function(e){return o.canPlay.file(e)&&(document.pictureInPictureEnabled||(0,a.supportsWebKitPresentationMode)())&&!o.AUDIO_EXTENSIONS.test(e)},lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return u(n(8997))}))}))}];t.default=c},9174:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultProps=t.propTypes=void 0;var r,a=(r=n(2007))&&r.__esModule?r:{default:r};var o=a.default.string,i=a.default.bool,s=a.default.number,u=a.default.array,c=a.default.oneOfType,l=a.default.shape,f=a.default.object,p=a.default.func,d=a.default.node,h={url:c([o,u,f]),playing:i,loop:i,controls:i,volume:s,muted:i,playbackRate:s,width:c([o,s]),height:c([o,s]),style:f,progressInterval:s,playsinline:i,pip:i,stopOnUnmount:i,light:c([i,o]),playIcon:d,previewTabIndex:s,fallback:d,oEmbedUrl:o,wrapper:c([o,p,l({render:p.isRequired})]),config:l({soundcloud:l({options:f}),youtube:l({playerVars:f,embedOptions:f,onUnstarted:p}),facebook:l({appId:o,version:o,playerId:o,attributes:f}),dailymotion:l({params:f}),vimeo:l({playerOptions:f,title:o}),file:l({attributes:f,tracks:u,forceVideo:i,forceAudio:i,forceHLS:i,forceDASH:i,forceFLV:i,hlsOptions:f,hlsVersion:o,dashVersion:o,flvVersion:o}),wistia:l({options:f,playerId:o,customControls:u}),mixcloud:l({options:f}),twitch:l({options:f,playerId:o}),vidyard:l({options:f})}),onReady:p,onStart:p,onPlay:p,onPause:p,onBuffer:p,onBufferEnd:p,onEnded:p,onError:p,onDuration:p,onSeek:p,onPlaybackRateChange:p,onProgress:p,onClickPreview:p,onEnablePIP:p,onDisablePIP:p};t.propTypes=h;var v=function(){},m={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:v},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0"},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:v,onStart:v,onPlay:v,onPause:v,onBuffer:v,onBufferEnd:v,onEnded:v,onError:v,onDuration:v,onSeek:v,onPlaybackRateChange:v,onProgress:v,onClickPreview:v,onEnablePIP:v,onDisablePIP:v};t.defaultProps=m},135:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseStartTime=function(e){return p(e,u)},t.parseEndTime=function(e){return p(e,c)},t.randomString=function(){return Math.random().toString(36).substr(2,5)},t.queryString=function(e){return Object.keys(e).map((function(t){return"".concat(t,"=").concat(e[t])})).join("&")},t.getSDK=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return!0},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r.default,i=d(t);if(i&&a(i))return Promise.resolve(i);return new Promise((function(r,a){if(h[e])h[e].push({resolve:r,reject:a});else{h[e]=[{resolve:r,reject:a}];var i=function(t){h[e].forEach((function(e){return e.resolve(t)}))};if(n){var s=window[n];window[n]=function(){s&&s(),i(d(t))}}o(e,(function(r){r?(h[e].forEach((function(e){return e.reject(r)})),h[e]=null):n||i(d(t))}))}}))},t.getConfig=function(e,t){return(0,a.default)(t.config,e.config)},t.omit=function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];for(var o=(t=[]).concat.apply(t,r),i={},s=Object.keys(e),u=0,c=s;u<c.length;u++){var l=c[u];-1===o.indexOf(l)&&(i[l]=e[l])}return i},t.callPlayer=function(e){var t;if(!this.player||!this.player[e]){var n="ReactPlayer: ".concat(this.constructor.displayName," player could not call %c").concat(e,"%c \u2013 ");return this.player?this.player[e]||(n+="The method was not available"):n+="The player was not available",console.warn(n,"font-weight: bold",""),null}for(var r=arguments.length,a=new Array(r>1?r-1:0),o=1;o<r;o++)a[o-1]=arguments[o];return(t=this.player)[e].apply(t,a)},t.isMediaStream=function(e){return"undefined"!==typeof window&&"undefined"!==typeof window.MediaStream&&e instanceof window.MediaStream},t.isBlobUrl=function(e){return/^blob:/.test(e)},t.supportsWebKitPresentationMode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.createElement("video"),t=!1===/iPhone|iPod/.test(navigator.userAgent);return e.webkitSupportsPresentationMode&&"function"===typeof e.webkitSetPresentationMode&&t};var r=o(n(5102)),a=o(n(9948));function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(u){a=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=/[?&#](?:start|t)=([0-9hms]+)/,c=/[?&#]end=([0-9hms]+)/,l=/(\d+)(h|m|s)/g,f=/^\d+$/;function p(e,t){if(!(e instanceof Array)){var n=e.match(t);if(n){var r=n[1];if(r.match(l))return function(e){var t=0,n=l.exec(e);for(;null!==n;){var r=i(n,3),a=r[1],o=r[2];"h"===o&&(t+=60*parseInt(a,10)*60),"m"===o&&(t+=60*parseInt(a,10)),"s"===o&&(t+=parseInt(a,10)),n=l.exec(e)}return t}(r);if(f.test(r))return parseInt(r)}}}function d(e){return window[e]?window[e]:window.exports&&window.exports[e]?window.exports[e]:window.module&&window.module.exports&&window.module.exports[e]?window.module.exports[e]:null}var h={}},4226:function(e,t,n){"use strict";n.r(t);var r=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function a(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(a=e[n],o=t[n],!(a===o||r(a)&&r(o)))return!1;var a,o;return!0}t.default=function(e,t){var n;void 0===t&&(t=a);var r,o=[],i=!1;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return i&&n===this&&t(a,o)||(r=e.apply(this,a),i=!0,n=this,o=a),r}}},8459:function(e,t){"use strict";var n=60103,r=60106,a=60107,o=60108,i=60114,s=60109,u=60110,c=60112,l=60113,f=60120,p=60115,d=60116,h=60121,v=60122,m=60117,g=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),a=b("react.fragment"),o=b("react.strict_mode"),i=b("react.profiler"),s=b("react.provider"),u=b("react.context"),c=b("react.forward_ref"),l=b("react.suspense"),f=b("react.suspense_list"),p=b("react.memo"),d=b("react.lazy"),h=b("react.block"),v=b("react.server.block"),m=b("react.fundamental"),g=b("react.debug_trace_mode"),y=b("react.legacy_hidden")}function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case a:case i:case o:case l:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case p:case s:return e;default:return t}}case r:return t}}}t.isContextConsumer=function(e){return x(e)===u}},6900:function(e,t,n){"use strict";e.exports=n(8459)},8583:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},371:function(e,t,n){var r=n(8583);e.exports=d,e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=p;var a=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,i=0,s="",l=t&&t.delimiter||"/";null!=(n=a.exec(e));){var f=n[0],p=n[1],d=n.index;if(s+=e.slice(i,d),i=d+f.length,p)s+=p[1];else{var h=e[i],v=n[2],m=n[3],g=n[4],y=n[5],b=n[6],x=n[7];s&&(r.push(s),s="");var w=null!=v&&null!=h&&h!==v,k="+"===b||"*"===b,S="?"===b||"*"===b,E=n[2]||l,C=g||y;r.push({name:m||o++,prefix:v||"",delimiter:E,optional:S,repeat:k,partial:w,asterisk:!!x,pattern:C?c(C):x?".*":"[^"+u(E)+"]+?"})}}return i<e.length&&(s+=e.substr(i)),s&&r.push(s),r}function i(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),a=0;a<e.length;a++)"object"===typeof e[a]&&(n[a]=new RegExp("^(?:"+e[a].pattern+")$",f(t)));return function(t,a){for(var o="",s=t||{},u=(a||{}).pretty?i:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,p=s[l.name];if(null==p){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(p)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<p.length;d++){if(f=u(p[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");o+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(p).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(p),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');o+=l.prefix+f}}else o+=l}return o}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function p(e,t,n){r(t)||(n=t||n,t=[]);for(var a=(n=n||{}).strict,o=!1!==n.end,i="",s=0;s<e.length;s++){var c=e[s];if("string"===typeof c)i+=u(c);else{var p=u(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+p+d+")*"),i+=d=c.optional?c.partial?p+"("+d+")?":"(?:"+p+"("+d+"))?":p+"("+d+")"}}var h=u(n.delimiter||"/"),v=i.slice(-h.length)===h;return a||(i=(v?i.slice(0,-h.length):i)+"(?:"+h+"(?=$))?"),i+=o?"$":a&&v?"":"(?="+h+"|$)",l(new RegExp("^"+i,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],a=0;a<e.length;a++)r.push(d(e[a],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return p(o(e,n),t,n)}(e,t,n)}},7161:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,a=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case o:case s:case i:case d:return e;default:switch(e=e&&e.$$typeof){case c:case p:case m:case v:case u:return e;default:return t}}case a:return t}}}function k(e){return w(e)===f}},7810:function(e,t,n){"use strict";n(7161)},8436:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.PrevArrow=t.NextArrow=void 0;var a=s(n(2791)),o=s(n(1694)),i=n(8026);function s(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var a=b(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}var x=function(e){v(n,e);var t=g(n);function n(){return p(this,n),t.apply(this,arguments)}return h(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-prev":!0},t=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(0===this.props.currentSlide||this.props.slideCount<=this.props.slidesToShow)&&(e["slick-disabled"]=!0,t=null);var n={key:"0","data-role":"none",className:(0,o.default)(e),style:{display:"block"},onClick:t},r={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.prevArrow?a.default.cloneElement(this.props.prevArrow,l(l({},n),r)):a.default.createElement("button",u({key:"0",type:"button"},n)," ","Previous")}}]),n}(a.default.PureComponent);t.PrevArrow=x;var w=function(e){v(n,e);var t=g(n);function n(){return p(this,n),t.apply(this,arguments)}return h(n,[{key:"clickHandler",value:function(e,t){t&&t.preventDefault(),this.props.clickHandler(e,t)}},{key:"render",value:function(){var e={"slick-arrow":!0,"slick-next":!0},t=this.clickHandler.bind(this,{message:"next"});(0,i.canGoNext)(this.props)||(e["slick-disabled"]=!0,t=null);var n={key:"1","data-role":"none",className:(0,o.default)(e),style:{display:"block"},onClick:t},r={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount};return this.props.nextArrow?a.default.cloneElement(this.props.nextArrow,l(l({},n),r)):a.default.createElement("button",u({key:"1",type:"button"},n)," ","Next")}}]),n}(a.default.PureComponent);t.NextArrow=w},5484:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=(r=n(2791))&&r.__esModule?r:{default:r};var o={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(e){return a.default.createElement("ul",{style:{display:"block"}},e)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(e){return a.default.createElement("button",null,e+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0};t.default=o},3800:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Dots=void 0;var a=s(n(2791)),o=s(n(1694)),i=n(8026);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}var m=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(h,e);var t,n,r,s=d(h);function h(){return l(this,h),s.apply(this,arguments)}return t=h,n=[{key:"clickHandler",value:function(e,t){t.preventDefault(),this.props.clickHandler(e)}},{key:"render",value:function(){for(var e,t=this.props,n=t.onMouseEnter,r=t.onMouseOver,s=t.onMouseLeave,l=t.infinite,f=t.slidesToScroll,p=t.slidesToShow,d=t.slideCount,h=t.currentSlide,v=(e={slideCount:d,slidesToScroll:f,slidesToShow:p,infinite:l}).infinite?Math.ceil(e.slideCount/e.slidesToScroll):Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,m={onMouseEnter:n,onMouseOver:r,onMouseLeave:s},g=[],y=0;y<v;y++){var b=(y+1)*f-1,x=l?b:(0,i.clamp)(b,0,d-1),w=x-(f-1),k=l?w:(0,i.clamp)(w,0,d-1),S=(0,o.default)({"slick-active":l?h>=k&&h<=x:h===k}),E={message:"dots",index:y,slidesToScroll:f,currentSlide:h},C=this.clickHandler.bind(this,E);g=g.concat(a.default.createElement("li",{key:y,className:S},a.default.cloneElement(this.props.customPaging(y),{onClick:C})))}return a.default.cloneElement(this.props.appendDots(g),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:this.props.dotsClass},m))}}],n&&f(t.prototype,n),r&&f(t,r),Object.defineProperty(t,"prototype",{writable:!1}),h}(a.default.PureComponent);t.Dots=m},5717:function(e,t,n){"use strict";var r;t.Z=void 0;var a=((r=n(3178))&&r.__esModule?r:{default:r}).default;t.Z=a},1382:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=n},8293:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InnerSlider=void 0;var r=p(n(2791)),a=p(n(1382)),o=p(n(5095)),i=p(n(1694)),s=n(8026),u=n(4931),c=n(3800),l=n(8436),f=p(n(474));function p(e){return e&&e.__esModule?e:{default:e}}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}function v(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function x(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var a=S(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){if(t&&("object"===d(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return k(e)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(w,e);var t,n,p,m=x(w);function w(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,w),E(k(t=m.call(this,e)),"listRefHandler",(function(e){return t.list=e})),E(k(t),"trackRefHandler",(function(e){return t.track=e})),E(k(t),"adaptHeight",(function(){if(t.props.adaptiveHeight&&t.list){var e=t.list.querySelector('[data-index="'.concat(t.state.currentSlide,'"]'));t.list.style.height=(0,s.getHeight)(e)+"px"}})),E(k(t),"componentDidMount",(function(){if(t.props.onInit&&t.props.onInit(),t.props.lazyLoad){var e=(0,s.getOnDemandLazySlides)(g(g({},t.props),t.state));e.length>0&&(t.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),t.props.onLazyLoad&&t.props.onLazyLoad(e))}var n=g({listRef:t.list,trackRef:t.track},t.props);t.updateState(n,!0,(function(){t.adaptHeight(),t.props.autoplay&&t.autoPlay("update")})),"progressive"===t.props.lazyLoad&&(t.lazyLoadTimer=setInterval(t.progressiveLazyLoad,1e3)),t.ro=new f.default((function(){t.state.animating?(t.onWindowResized(!1),t.callbackTimers.push(setTimeout((function(){return t.onWindowResized()}),t.props.speed))):t.onWindowResized()})),t.ro.observe(t.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),(function(e){e.onfocus=t.props.pauseOnFocus?t.onSlideFocus:null,e.onblur=t.props.pauseOnFocus?t.onSlideBlur:null})),window.addEventListener?window.addEventListener("resize",t.onWindowResized):window.attachEvent("onresize",t.onWindowResized)})),E(k(t),"componentWillUnmount",(function(){t.animationEndCallback&&clearTimeout(t.animationEndCallback),t.lazyLoadTimer&&clearInterval(t.lazyLoadTimer),t.callbackTimers.length&&(t.callbackTimers.forEach((function(e){return clearTimeout(e)})),t.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",t.onWindowResized):window.detachEvent("onresize",t.onWindowResized),t.autoplayTimer&&clearInterval(t.autoplayTimer),t.ro.disconnect()})),E(k(t),"componentDidUpdate",(function(e){if(t.checkImagesLoad(),t.props.onReInit&&t.props.onReInit(),t.props.lazyLoad){var n=(0,s.getOnDemandLazySlides)(g(g({},t.props),t.state));n.length>0&&(t.setState((function(e){return{lazyLoadedList:e.lazyLoadedList.concat(n)}})),t.props.onLazyLoad&&t.props.onLazyLoad(n))}t.adaptHeight();var a=g(g({listRef:t.list,trackRef:t.track},t.props),t.state),o=t.didPropsChange(e);o&&t.updateState(a,o,(function(){t.state.currentSlide>=r.default.Children.count(t.props.children)&&t.changeSlide({message:"index",index:r.default.Children.count(t.props.children)-t.props.slidesToShow,currentSlide:t.state.currentSlide}),t.props.autoplay?t.autoPlay("update"):t.pause("paused")}))})),E(k(t),"onWindowResized",(function(e){t.debouncedResize&&t.debouncedResize.cancel(),t.debouncedResize=(0,o.default)((function(){return t.resizeWindow(e)}),50),t.debouncedResize()})),E(k(t),"resizeWindow",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=Boolean(t.track&&t.track.node);if(n){var r=g(g({listRef:t.list,trackRef:t.track},t.props),t.state);t.updateState(r,e,(function(){t.props.autoplay?t.autoPlay("update"):t.pause("paused")})),t.setState({animating:!1}),clearTimeout(t.animationEndCallback),delete t.animationEndCallback}})),E(k(t),"updateState",(function(e,n,a){var o=(0,s.initializedState)(e);e=g(g(g({},e),o),{},{slideIndex:o.currentSlide});var i=(0,s.getTrackLeft)(e);e=g(g({},e),{},{left:i});var u=(0,s.getTrackCSS)(e);(n||r.default.Children.count(t.props.children)!==r.default.Children.count(e.children))&&(o.trackStyle=u),t.setState(o,a)})),E(k(t),"ssrInit",(function(){if(t.props.variableWidth){var e=0,n=0,a=[],o=(0,s.getPreClones)(g(g(g({},t.props),t.state),{},{slideCount:t.props.children.length})),i=(0,s.getPostClones)(g(g(g({},t.props),t.state),{},{slideCount:t.props.children.length}));t.props.children.forEach((function(t){a.push(t.props.style.width),e+=t.props.style.width}));for(var u=0;u<o;u++)n+=a[a.length-1-u],e+=a[a.length-1-u];for(var c=0;c<i;c++)e+=a[c];for(var l=0;l<t.state.currentSlide;l++)n+=a[l];var f={width:e+"px",left:-n+"px"};if(t.props.centerMode){var p="".concat(a[t.state.currentSlide],"px");f.left="calc(".concat(f.left," + (100% - ").concat(p,") / 2 ) ")}return{trackStyle:f}}var d=r.default.Children.count(t.props.children),h=g(g(g({},t.props),t.state),{},{slideCount:d}),v=(0,s.getPreClones)(h)+(0,s.getPostClones)(h)+d,m=100/t.props.slidesToShow*v,y=100/v,b=-y*((0,s.getPreClones)(h)+t.state.currentSlide)*m/100;return t.props.centerMode&&(b+=(100-y*m/100)/2),{slideWidth:y+"%",trackStyle:{width:m+"%",left:b+"%"}}})),E(k(t),"checkImagesLoad",(function(){var e=t.list&&t.list.querySelectorAll&&t.list.querySelectorAll(".slick-slide img")||[],n=e.length,r=0;Array.prototype.forEach.call(e,(function(e){var a=function(){return++r&&r>=n&&t.onWindowResized()};if(e.onclick){var o=e.onclick;e.onclick=function(){o(),e.parentNode.focus()}}else e.onclick=function(){return e.parentNode.focus()};e.onload||(t.props.lazyLoad?e.onload=function(){t.adaptHeight(),t.callbackTimers.push(setTimeout(t.onWindowResized,t.props.speed))}:(e.onload=a,e.onerror=function(){a(),t.props.onLazyLoadError&&t.props.onLazyLoadError()}))}))})),E(k(t),"progressiveLazyLoad",(function(){for(var e=[],n=g(g({},t.props),t.state),r=t.state.currentSlide;r<t.state.slideCount+(0,s.getPostClones)(n);r++)if(t.state.lazyLoadedList.indexOf(r)<0){e.push(r);break}for(var a=t.state.currentSlide-1;a>=-(0,s.getPreClones)(n);a--)if(t.state.lazyLoadedList.indexOf(a)<0){e.push(a);break}e.length>0?(t.setState((function(t){return{lazyLoadedList:t.lazyLoadedList.concat(e)}})),t.props.onLazyLoad&&t.props.onLazyLoad(e)):t.lazyLoadTimer&&(clearInterval(t.lazyLoadTimer),delete t.lazyLoadTimer)})),E(k(t),"slideHandler",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.props,a=r.asNavFor,o=r.beforeChange,i=r.onLazyLoad,u=r.speed,c=r.afterChange,l=t.state.currentSlide,f=(0,s.slideHandler)(g(g(g({index:e},t.props),t.state),{},{trackRef:t.track,useCSS:t.props.useCSS&&!n})),p=f.state,d=f.nextState;if(p){o&&o(l,p.currentSlide);var h=p.lazyLoadedList.filter((function(e){return t.state.lazyLoadedList.indexOf(e)<0}));i&&h.length>0&&i(h),!t.props.waitForAnimate&&t.animationEndCallback&&(clearTimeout(t.animationEndCallback),c&&c(l),delete t.animationEndCallback),t.setState(p,(function(){a&&t.asNavForIndex!==e&&(t.asNavForIndex=e,a.innerSlider.slideHandler(e)),d&&(t.animationEndCallback=setTimeout((function(){var e=d.animating,n=v(d,["animating"]);t.setState(n,(function(){t.callbackTimers.push(setTimeout((function(){return t.setState({animating:e})}),10)),c&&c(p.currentSlide),delete t.animationEndCallback}))}),u))}))}})),E(k(t),"changeSlide",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=g(g({},t.props),t.state),a=(0,s.changeSlide)(r,e);if((0===a||a)&&(!0===n?t.slideHandler(a,n):t.slideHandler(a),t.props.autoplay&&t.autoPlay("update"),t.props.focusOnSelect)){var o=t.list.querySelectorAll(".slick-current");o[0]&&o[0].focus()}})),E(k(t),"clickHandler",(function(e){!1===t.clickable&&(e.stopPropagation(),e.preventDefault()),t.clickable=!0})),E(k(t),"keyHandler",(function(e){var n=(0,s.keyHandler)(e,t.props.accessibility,t.props.rtl);""!==n&&t.changeSlide({message:n})})),E(k(t),"selectHandler",(function(e){t.changeSlide(e)})),E(k(t),"disableBodyScroll",(function(){window.ontouchmove=function(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1}})),E(k(t),"enableBodyScroll",(function(){window.ontouchmove=null})),E(k(t),"swipeStart",(function(e){t.props.verticalSwiping&&t.disableBodyScroll();var n=(0,s.swipeStart)(e,t.props.swipe,t.props.draggable);""!==n&&t.setState(n)})),E(k(t),"swipeMove",(function(e){var n=(0,s.swipeMove)(e,g(g(g({},t.props),t.state),{},{trackRef:t.track,listRef:t.list,slideIndex:t.state.currentSlide}));n&&(n.swiping&&(t.clickable=!1),t.setState(n))})),E(k(t),"swipeEnd",(function(e){var n=(0,s.swipeEnd)(e,g(g(g({},t.props),t.state),{},{trackRef:t.track,listRef:t.list,slideIndex:t.state.currentSlide}));if(n){var r=n.triggerSlideHandler;delete n.triggerSlideHandler,t.setState(n),void 0!==r&&(t.slideHandler(r),t.props.verticalSwiping&&t.enableBodyScroll())}})),E(k(t),"touchEnd",(function(e){t.swipeEnd(e),t.clickable=!0})),E(k(t),"slickPrev",(function(){t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"previous"})}),0))})),E(k(t),"slickNext",(function(){t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"next"})}),0))})),E(k(t),"slickGoTo",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e=Number(e),isNaN(e))return"";t.callbackTimers.push(setTimeout((function(){return t.changeSlide({message:"index",index:e,currentSlide:t.state.currentSlide},n)}),0))})),E(k(t),"play",(function(){var e;if(t.props.rtl)e=t.state.currentSlide-t.props.slidesToScroll;else{if(!(0,s.canGoNext)(g(g({},t.props),t.state)))return!1;e=t.state.currentSlide+t.props.slidesToScroll}t.slideHandler(e)})),E(k(t),"autoPlay",(function(e){t.autoplayTimer&&clearInterval(t.autoplayTimer);var n=t.state.autoplaying;if("update"===e){if("hovered"===n||"focused"===n||"paused"===n)return}else if("leave"===e){if("paused"===n||"focused"===n)return}else if("blur"===e&&("paused"===n||"hovered"===n))return;t.autoplayTimer=setInterval(t.play,t.props.autoplaySpeed+50),t.setState({autoplaying:"playing"})})),E(k(t),"pause",(function(e){t.autoplayTimer&&(clearInterval(t.autoplayTimer),t.autoplayTimer=null);var n=t.state.autoplaying;"paused"===e?t.setState({autoplaying:"paused"}):"focused"===e?"hovered"!==n&&"playing"!==n||t.setState({autoplaying:"focused"}):"playing"===n&&t.setState({autoplaying:"hovered"})})),E(k(t),"onDotsOver",(function(){return t.props.autoplay&&t.pause("hovered")})),E(k(t),"onDotsLeave",(function(){return t.props.autoplay&&"hovered"===t.state.autoplaying&&t.autoPlay("leave")})),E(k(t),"onTrackOver",(function(){return t.props.autoplay&&t.pause("hovered")})),E(k(t),"onTrackLeave",(function(){return t.props.autoplay&&"hovered"===t.state.autoplaying&&t.autoPlay("leave")})),E(k(t),"onSlideFocus",(function(){return t.props.autoplay&&t.pause("focused")})),E(k(t),"onSlideBlur",(function(){return t.props.autoplay&&"focused"===t.state.autoplaying&&t.autoPlay("blur")})),E(k(t),"render",(function(){var e,n,a,o=(0,i.default)("slick-slider",t.props.className,{"slick-vertical":t.props.vertical,"slick-initialized":!0}),f=g(g({},t.props),t.state),p=(0,s.extractObject)(f,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),d=t.props.pauseOnHover;if(p=g(g({},p),{},{onMouseEnter:d?t.onTrackOver:null,onMouseLeave:d?t.onTrackLeave:null,onMouseOver:d?t.onTrackOver:null,focusOnSelect:t.props.focusOnSelect&&t.clickable?t.selectHandler:null}),!0===t.props.dots&&t.state.slideCount>=t.props.slidesToShow){var v=(0,s.extractObject)(f,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),m=t.props.pauseOnDotsHover;v=g(g({},v),{},{clickHandler:t.changeSlide,onMouseEnter:m?t.onDotsLeave:null,onMouseOver:m?t.onDotsOver:null,onMouseLeave:m?t.onDotsLeave:null}),e=r.default.createElement(c.Dots,v)}var y=(0,s.extractObject)(f,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);y.clickHandler=t.changeSlide,t.props.arrows&&(n=r.default.createElement(l.PrevArrow,y),a=r.default.createElement(l.NextArrow,y));var b=null;t.props.vertical&&(b={height:t.state.listHeight});var x=null;!1===t.props.vertical?!0===t.props.centerMode&&(x={padding:"0px "+t.props.centerPadding}):!0===t.props.centerMode&&(x={padding:t.props.centerPadding+" 0px"});var w=g(g({},b),x),k=t.props.touchMove,S={className:"slick-list",style:w,onClick:t.clickHandler,onMouseDown:k?t.swipeStart:null,onMouseMove:t.state.dragging&&k?t.swipeMove:null,onMouseUp:k?t.swipeEnd:null,onMouseLeave:t.state.dragging&&k?t.swipeEnd:null,onTouchStart:k?t.swipeStart:null,onTouchMove:t.state.dragging&&k?t.swipeMove:null,onTouchEnd:k?t.touchEnd:null,onTouchCancel:t.state.dragging&&k?t.swipeEnd:null,onKeyDown:t.props.accessibility?t.keyHandler:null},E={className:o,dir:"ltr",style:t.props.style};return t.props.unslick&&(S={className:"slick-list"},E={className:o}),r.default.createElement("div",E,t.props.unslick?"":n,r.default.createElement("div",h({ref:t.listRefHandler},S),r.default.createElement(u.Track,h({ref:t.trackRefHandler},p),t.props.children)),t.props.unslick?"":a,t.props.unslick?"":e)})),t.list=null,t.track=null,t.state=g(g({},a.default),{},{currentSlide:t.props.initialSlide,slideCount:r.default.Children.count(t.props.children)}),t.callbackTimers=[],t.clickable=!0,t.debouncedResize=null;var n=t.ssrInit();return t.state=g(g({},t.state),n),t}return t=w,(n=[{key:"didPropsChange",value:function(e){for(var t=!1,n=0,a=Object.keys(this.props);n<a.length;n++){var o=a[n];if(!e.hasOwnProperty(o)){t=!0;break}if("object"!==d(e[o])&&"function"!==typeof e[o]&&e[o]!==this.props[o]){t=!0;break}}return t||r.default.Children.count(this.props.children)!==r.default.Children.count(e.children)}}])&&y(t.prototype,n),p&&y(t,p),Object.defineProperty(t,"prototype",{writable:!1}),w}(r.default.Component);t.InnerSlider=C},3178:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=c(n(2791)),o=n(8293),i=c(n(9637)),s=c(n(5484)),u=n(8026);function c(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return m(this,n)}}function m(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=(0,u.canUseDOM)()&&n(8153),w=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(f,e);var t,n,r,c=v(f);function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),b(g(t=c.call(this,e)),"innerSliderRefHandler",(function(e){return t.innerSlider=e})),b(g(t),"slickPrev",(function(){return t.innerSlider.slickPrev()})),b(g(t),"slickNext",(function(){return t.innerSlider.slickNext()})),b(g(t),"slickGoTo",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.innerSlider.slickGoTo(e,n)})),b(g(t),"slickPause",(function(){return t.innerSlider.pause("paused")})),b(g(t),"slickPlay",(function(){return t.innerSlider.autoPlay("play")})),t.state={breakpoint:null},t._responsiveMediaHandlers=[],t}return t=f,(n=[{key:"media",value:function(e,t){x.register(e,t),this._responsiveMediaHandlers.push({query:e,handler:t})}},{key:"componentDidMount",value:function(){var e=this;if(this.props.responsive){var t=this.props.responsive.map((function(e){return e.breakpoint}));t.sort((function(e,t){return e-t})),t.forEach((function(n,r){var a;a=0===r?(0,i.default)({minWidth:0,maxWidth:n}):(0,i.default)({minWidth:t[r-1]+1,maxWidth:n}),(0,u.canUseDOM)()&&e.media(a,(function(){e.setState({breakpoint:n})}))}));var n=(0,i.default)({minWidth:t.slice(-1)[0]});(0,u.canUseDOM)()&&this.media(n,(function(){e.setState({breakpoint:null})}))}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach((function(e){x.unregister(e.query,e.handler)}))}},{key:"render",value:function(){var e,t,n=this;(e=this.state.breakpoint?"unslick"===(t=this.props.responsive.filter((function(e){return e.breakpoint===n.state.breakpoint})))[0].settings?"unslick":p(p(p({},s.default),this.props),t[0].settings):p(p({},s.default),this.props)).centerMode&&(e.slidesToScroll,e.slidesToScroll=1),e.fade&&(e.slidesToShow,e.slidesToScroll,e.slidesToShow=1,e.slidesToScroll=1);var r=a.default.Children.toArray(this.props.children);r=r.filter((function(e){return"string"===typeof e?!!e.trim():!!e})),e.variableWidth&&(e.rows>1||e.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),e.variableWidth=!1);for(var i=[],u=null,c=0;c<r.length;c+=e.rows*e.slidesPerRow){for(var f=[],d=c;d<c+e.rows*e.slidesPerRow;d+=e.slidesPerRow){for(var h=[],v=d;v<d+e.slidesPerRow&&(e.variableWidth&&r[v].props.style&&(u=r[v].props.style.width),!(v>=r.length));v+=1)h.push(a.default.cloneElement(r[v],{key:100*c+10*d+v,tabIndex:-1,style:{width:"".concat(100/e.slidesPerRow,"%"),display:"inline-block"}}));f.push(a.default.createElement("div",{key:10*c+d},h))}e.variableWidth?i.push(a.default.createElement("div",{key:c,style:{width:u}},f)):i.push(a.default.createElement("div",{key:c},f))}if("unslick"===e){var m="regular slider "+(this.props.className||"");return a.default.createElement("div",{className:m},r)}return i.length<=e.slidesToShow&&(e.unslick=!0),a.default.createElement(o.InnerSlider,l({style:this.props.style,ref:this.innerSliderRefHandler},e),i)}}])&&d(t.prototype,n),r&&d(t,r),Object.defineProperty(t,"prototype",{writable:!1}),f}(a.default.Component);t.default=w},4931:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Track=void 0;var a=s(n(2791)),o=s(n(1694)),i=n(8026);function s(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){var t,n,r,a,o;return r=(o=e.rtl?e.slideCount-1-e.index:e.index)<0||o>=e.slideCount,e.centerMode?(a=Math.floor(e.slidesToShow/2),n=(o-e.currentSlide)%e.slideCount===0,o>e.currentSlide-a-1&&o<=e.currentSlide+a&&(t=!0)):t=e.currentSlide<=o&&o<e.currentSlide+e.slidesToShow,{"slick-slide":!0,"slick-active":t,"slick-center":n,"slick-cloned":r,"slick-current":o===(e.targetSlide<0?e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?e.targetSlide-e.slideCount:e.targetSlide)}},x=function(e,t){return e.key||t},w=function(e){var t,n=[],r=[],s=[],u=a.default.Children.count(e.children),c=(0,i.lazyStartIndex)(e),l=(0,i.lazyEndIndex)(e);return a.default.Children.forEach(e.children,(function(f,p){var d,h={message:"children",index:p,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};d=!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(p)>=0?f:a.default.createElement("div",null);var v=function(e){var t={};return void 0!==e.variableWidth&&!1!==e.variableWidth||(t.width=e.slideWidth),e.fade&&(t.position="relative",e.vertical?t.top=-e.index*parseInt(e.slideHeight):t.left=-e.index*parseInt(e.slideWidth),t.opacity=e.currentSlide===e.index?1:0,e.useCSS&&(t.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),t}(g(g({},e),{},{index:p})),m=d.props.className||"",y=b(g(g({},e),{},{index:p}));if(n.push(a.default.cloneElement(d,{key:"original"+x(d,p),"data-index":p,className:(0,o.default)(y,m),tabIndex:"-1","aria-hidden":!y["slick-active"],style:g(g({outline:"none"},d.props.style||{}),v),onClick:function(t){d.props&&d.props.onClick&&d.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(h)}})),e.infinite&&!1===e.fade){var w=u-p;w<=(0,i.getPreClones)(e)&&u!==e.slidesToShow&&((t=-w)>=c&&(d=f),y=b(g(g({},e),{},{index:t})),r.push(a.default.cloneElement(d,{key:"precloned"+x(d,t),"data-index":t,tabIndex:"-1",className:(0,o.default)(y,m),"aria-hidden":!y["slick-active"],style:g(g({},d.props.style||{}),v),onClick:function(t){d.props&&d.props.onClick&&d.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(h)}}))),u!==e.slidesToShow&&((t=u+p)<l&&(d=f),y=b(g(g({},e),{},{index:t})),s.push(a.default.cloneElement(d,{key:"postcloned"+x(d,t),"data-index":t,tabIndex:"-1",className:(0,o.default)(y,m),"aria-hidden":!y["slick-active"],style:g(g({},d.props.style||{}),v),onClick:function(t){d.props&&d.props.onClick&&d.props.onClick(t),e.focusOnSelect&&e.focusOnSelect(h)}})))}})),e.rtl?r.concat(n,s).reverse():r.concat(n,s)},k=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(i,e);var t,n,r,o=p(i);function i(){var e;c(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(h(e=o.call.apply(o,[this].concat(n))),"node",null),y(h(e),"handleRef",(function(t){e.node=t})),e}return t=i,(n=[{key:"render",value:function(){var e=w(this.props),t=this.props,n={onMouseEnter:t.onMouseEnter,onMouseOver:t.onMouseOver,onMouseLeave:t.onMouseLeave};return a.default.createElement("div",u({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},n),e)}}])&&l(t.prototype,n),r&&l(t,r),Object.defineProperty(t,"prototype",{writable:!1}),i}(a.default.PureComponent);t.Track=k},8026:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkSpecKeys=t.checkNavigable=t.changeSlide=t.canUseDOM=t.canGoNext=void 0,t.clamp=u,t.swipeStart=t.swipeMove=t.swipeEnd=t.slidesOnRight=t.slidesOnLeft=t.slideHandler=t.siblingDirection=t.safePreventDefault=t.lazyStartIndex=t.lazySlidesOnRight=t.lazySlidesOnLeft=t.lazyEndIndex=t.keyHandler=t.initializedState=t.getWidth=t.getTrackLeft=t.getTrackCSS=t.getTrackAnimateCSS=t.getTotalSlides=t.getSwipeDirection=t.getSlideCount=t.getRequiredLazySlides=t.getPreClones=t.getPostClones=t.getOnDemandLazySlides=t.getNavigableIndexes=t.getHeight=t.extractObject=void 0;var r,a=(r=n(2791))&&r.__esModule?r:{default:r};function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t,n){return Math.max(t,Math.min(e,n))}var c=function(e){["onTouchStart","onTouchMove","onWheel"].includes(e._reactName)||e.preventDefault()};t.safePreventDefault=c;var l=function(e){for(var t=[],n=f(e),r=p(e),a=n;a<r;a++)e.lazyLoadedList.indexOf(a)<0&&t.push(a);return t};t.getOnDemandLazySlides=l;t.getRequiredLazySlides=function(e){for(var t=[],n=f(e),r=p(e),a=n;a<r;a++)t.push(a);return t};var f=function(e){return e.currentSlide-d(e)};t.lazyStartIndex=f;var p=function(e){return e.currentSlide+h(e)};t.lazyEndIndex=p;var d=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0};t.lazySlidesOnLeft=d;var h=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow};t.lazySlidesOnRight=h;var v=function(e){return e&&e.offsetWidth||0};t.getWidth=v;var m=function(e){return e&&e.offsetHeight||0};t.getHeight=m;var g=function(e){var t,n,r,a,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=e.startX-e.curX,n=e.startY-e.curY,r=Math.atan2(n,t),(a=Math.round(180*r/Math.PI))<0&&(a=360-Math.abs(a)),a<=45&&a>=0||a<=360&&a>=315?"left":a>=135&&a<=225?"right":!0===o?a>=35&&a<=135?"up":"down":"vertical"};t.getSwipeDirection=g;var y=function(e){var t=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(t=!1),t};t.canGoNext=y;t.extractObject=function(e,t){var n={};return t.forEach((function(t){return n[t]=e[t]})),n};t.initializedState=function(e){var t,n=a.default.Children.count(e.children),r=e.listRef,o=Math.ceil(v(r)),s=e.trackRef&&e.trackRef.node,u=Math.ceil(v(s));if(e.vertical)t=o;else{var c=e.centerMode&&2*parseInt(e.centerPadding);"string"===typeof e.centerPadding&&"%"===e.centerPadding.slice(-1)&&(c*=o/100),t=Math.ceil((o-c)/e.slidesToShow)}var f=r&&m(r.querySelector('[data-index="0"]')),p=f*e.slidesToShow,d=void 0===e.currentSlide?e.initialSlide:e.currentSlide;e.rtl&&void 0===e.currentSlide&&(d=n-1-e.initialSlide);var h=e.lazyLoadedList||[],g=l(i(i({},e),{},{currentSlide:d,lazyLoadedList:h})),y={slideCount:n,slideWidth:t,listWidth:o,trackWidth:u,currentSlide:d,slideHeight:f,listHeight:p,lazyLoadedList:h=h.concat(g)};return null===e.autoplaying&&e.autoplay&&(y.autoplaying="playing"),y};t.slideHandler=function(e){var t=e.waitForAnimate,n=e.animating,r=e.fade,a=e.infinite,o=e.index,s=e.slideCount,c=e.lazyLoad,f=e.currentSlide,p=e.centerMode,d=e.slidesToScroll,h=e.slidesToShow,v=e.useCSS,m=e.lazyLoadedList;if(t&&n)return{};var g,b,x,w=o,k={},N={},T=a?o:u(o,0,s-1);if(r){if(!a&&(o<0||o>=s))return{};o<0?w=o+s:o>=s&&(w=o-s),c&&m.indexOf(w)<0&&(m=m.concat(w)),k={animating:!0,currentSlide:w,lazyLoadedList:m,targetSlide:w},N={animating:!1,targetSlide:w}}else g=w,w<0?(g=w+s,a?s%d!==0&&(g=s-s%d):g=0):!y(e)&&w>f?w=g=f:p&&w>=s?(w=a?s:s-1,g=a?0:s-1):w>=s&&(g=w-s,a?s%d!==0&&(g=0):g=s-h),!a&&w+h>=s&&(g=s-h),b=C(i(i({},e),{},{slideIndex:w})),x=C(i(i({},e),{},{slideIndex:g})),a||(b===x&&(w=g),b=x),c&&(m=m.concat(l(i(i({},e),{},{currentSlide:w})))),v?(k={animating:!0,currentSlide:g,trackStyle:E(i(i({},e),{},{left:b})),lazyLoadedList:m,targetSlide:T},N={animating:!1,currentSlide:g,trackStyle:S(i(i({},e),{},{left:x})),swipeLeft:null,targetSlide:T}):k={currentSlide:g,trackStyle:S(i(i({},e),{},{left:x})),lazyLoadedList:m,targetSlide:T};return{state:k,nextState:N}};t.changeSlide=function(e,t){var n,r,a,o,s=e.slidesToScroll,u=e.slidesToShow,c=e.slideCount,l=e.currentSlide,f=e.targetSlide,p=e.lazyLoad,d=e.infinite;if(n=c%s!==0?0:(c-l)%s,"previous"===t.message)o=l-(a=0===n?s:u-n),p&&!d&&(o=-1===(r=l-a)?c-1:r),d||(o=f-s);else if("next"===t.message)o=l+(a=0===n?s:n),p&&!d&&(o=(l+s)%c+n),d||(o=f+s);else if("dots"===t.message)o=t.index*t.slidesToScroll;else if("children"===t.message){if(o=t.index,d){var h=O(i(i({},e),{},{targetSlide:o}));o>t.currentSlide&&"left"===h?o-=c:o<t.currentSlide&&"right"===h&&(o+=c)}}else"index"===t.message&&(o=Number(t.index));return o};t.keyHandler=function(e,t,n){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!t?"":37===e.keyCode?n?"next":"previous":39===e.keyCode?n?"previous":"next":""};t.swipeStart=function(e,t,n){return"IMG"===e.target.tagName&&c(e),!t||!n&&-1!==e.type.indexOf("mouse")?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};t.swipeMove=function(e,t){var n=t.scrolling,r=t.animating,a=t.vertical,o=t.swipeToSlide,s=t.verticalSwiping,u=t.rtl,l=t.currentSlide,f=t.edgeFriction,p=t.edgeDragged,d=t.onEdge,h=t.swiped,v=t.swiping,m=t.slideCount,b=t.slidesToScroll,x=t.infinite,w=t.touchObject,k=t.swipeEvent,E=t.listHeight,N=t.listWidth;if(!n){if(r)return c(e);a&&o&&s&&c(e);var T,I={},O=C(t);w.curX=e.touches?e.touches[0].pageX:e.clientX,w.curY=e.touches?e.touches[0].pageY:e.clientY,w.swipeLength=Math.round(Math.sqrt(Math.pow(w.curX-w.startX,2)));var _=Math.round(Math.sqrt(Math.pow(w.curY-w.startY,2)));if(!s&&!v&&_>10)return{scrolling:!0};s&&(w.swipeLength=_);var D=(u?-1:1)*(w.curX>w.startX?1:-1);s&&(D=w.curY>w.startY?1:-1);var A=Math.ceil(m/b),R=g(t.touchObject,s),P=w.swipeLength;return x||(0===l&&("right"===R||"down"===R)||l+1>=A&&("left"===R||"up"===R)||!y(t)&&("left"===R||"up"===R))&&(P=w.swipeLength*f,!1===p&&d&&(d(R),I.edgeDragged=!0)),!h&&k&&(k(R),I.swiped=!0),T=a?O+P*(E/N)*D:u?O-P*D:O+P*D,s&&(T=O+P*D),I=i(i({},I),{},{touchObject:w,swipeLeft:T,trackStyle:S(i(i({},t),{},{left:T}))}),Math.abs(w.curX-w.startX)<.8*Math.abs(w.curY-w.startY)?I:(w.swipeLength>10&&(I.swiping=!0,c(e)),I)}};t.swipeEnd=function(e,t){var n=t.dragging,r=t.swipe,a=t.touchObject,o=t.listWidth,s=t.touchThreshold,u=t.verticalSwiping,l=t.listHeight,f=t.swipeToSlide,p=t.scrolling,d=t.onSwipe,h=t.targetSlide,v=t.currentSlide,m=t.infinite;if(!n)return r&&c(e),{};var y=u?l/s:o/s,b=g(a,u),k={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(p)return k;if(!a.swipeLength)return k;if(a.swipeLength>y){var S,N;c(e),d&&d(b);var T=m?v:h;switch(b){case"left":case"up":N=T+w(t),S=f?x(t,N):N,k.currentDirection=0;break;case"right":case"down":N=T-w(t),S=f?x(t,N):N,k.currentDirection=1;break;default:S=T}k.triggerSlideHandler=S}else{var I=C(t);k.trackStyle=E(i(i({},t),{},{left:I}))}return k};var b=function(e){for(var t=e.infinite?2*e.slideCount:e.slideCount,n=e.infinite?-1*e.slidesToShow:0,r=e.infinite?-1*e.slidesToShow:0,a=[];n<t;)a.push(n),n=r+e.slidesToScroll,r+=Math.min(e.slidesToScroll,e.slidesToShow);return a};t.getNavigableIndexes=b;var x=function(e,t){var n=b(e),r=0;if(t>n[n.length-1])t=n[n.length-1];else for(var a in n){if(t<n[a]){t=r;break}r=n[a]}return t};t.checkNavigable=x;var w=function(e){var t=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var n,r=e.listRef,a=r.querySelectorAll&&r.querySelectorAll(".slick-slide")||[];if(Array.from(a).every((function(r){if(e.vertical){if(r.offsetTop+m(r)/2>-1*e.swipeLeft)return n=r,!1}else if(r.offsetLeft-t+v(r)/2>-1*e.swipeLeft)return n=r,!1;return!0})),!n)return 0;var o=!0===e.rtl?e.slideCount-e.currentSlide:e.currentSlide;return Math.abs(n.dataset.index-o)||1}return e.slidesToScroll};t.getSlideCount=w;var k=function(e,t){return t.reduce((function(t,n){return t&&e.hasOwnProperty(n)}),!0)?null:console.error("Keys Missing:",e)};t.checkSpecKeys=k;var S=function(e){var t,n;k(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var r=e.slideCount+2*e.slidesToShow;e.vertical?n=r*e.slideHeight:t=I(e)*e.slideWidth;var a={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var o=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",s=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",u=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";a=i(i({},a),{},{WebkitTransform:o,transform:s,msTransform:u})}else e.vertical?a.top=e.left:a.left=e.left;return e.fade&&(a={opacity:1}),t&&(a.width=t),n&&(a.height=n),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?a.marginTop=e.left+"px":a.marginLeft=e.left+"px"),a};t.getTrackCSS=S;var E=function(e){k(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var t=S(e);return e.useTransform?(t.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,t.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?t.transition="top "+e.speed+"ms "+e.cssEase:t.transition="left "+e.speed+"ms "+e.cssEase,t};t.getTrackAnimateCSS=E;var C=function(e){if(e.unslick)return 0;k(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var t,n,r=e.slideIndex,a=e.trackRef,o=e.infinite,i=e.centerMode,s=e.slideCount,u=e.slidesToShow,c=e.slidesToScroll,l=e.slideWidth,f=e.listWidth,p=e.variableWidth,d=e.slideHeight,h=e.fade,v=e.vertical;if(h||1===e.slideCount)return 0;var m=0;if(o?(m=-N(e),s%c!==0&&r+c>s&&(m=-(r>s?u-(r-s):s%c)),i&&(m+=parseInt(u/2))):(s%c!==0&&r+c>s&&(m=u-s%c),i&&(m=parseInt(u/2))),t=v?r*d*-1+m*d:r*l*-1+m*l,!0===p){var g,y=a&&a.node;if(g=r+N(e),t=(n=y&&y.childNodes[g])?-1*n.offsetLeft:0,!0===i){g=o?r+N(e):r,n=y&&y.children[g],t=0;for(var b=0;b<g;b++)t-=y&&y.children[b]&&y.children[b].offsetWidth;t-=parseInt(e.centerPadding),t+=n&&(f-n.offsetWidth)/2}}return t};t.getTrackLeft=C;var N=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)};t.getPreClones=N;var T=function(e){return e.unslick||!e.infinite?0:e.slideCount};t.getPostClones=T;var I=function(e){return 1===e.slideCount?1:N(e)+e.slideCount+T(e)};t.getTotalSlides=I;var O=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+_(e)?"left":"right":e.targetSlide<e.currentSlide-D(e)?"right":"left"};t.siblingDirection=O;var _=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,a=e.centerPadding;if(n){var o=(t-1)/2+1;return parseInt(a)>0&&(o+=1),r&&t%2===0&&(o+=1),o}return r?0:t-1};t.slidesOnRight=_;var D=function(e){var t=e.slidesToShow,n=e.centerMode,r=e.rtl,a=e.centerPadding;if(n){var o=(t-1)/2+1;return parseInt(a)>0&&(o+=1),r||t%2!==0||(o+=1),o}return r?t-1:0};t.slidesOnLeft=D;t.canUseDOM=function(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}},9637:function(e,t,n){var r=n(2806),a=function(e){var t="",n=Object.keys(e);return n.forEach((function(a,o){var i=e[a];(function(e){return/[height|width]$/.test(e)})(a=r(a))&&"number"===typeof i&&(i+="px"),t+=!0===i?a:!1===i?"not "+a:"("+a+": "+i+")",o<n.length-1&&(t+=" and ")})),t};e.exports=function(e){var t="";return"string"===typeof e?e:e instanceof Array?(e.forEach((function(n,r){t+=a(n),r<e.length-1&&(t+=", ")})),t):a(e)}},97:function(e,t,n){var r;r=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(e,t,n){"use strict";n.r(t);var r=n("react"),a=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},o.apply(this,arguments)},i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function s(){return!(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)}"undefined"!==typeof window&&(void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){var t=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return t?new Promise((function(n,r){t.call(navigator,e,n,r)})):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}));var u=function(e){function t(t){var n=e.call(this,t)||this;return n.canvas=null,n.ctx=null,n.requestUserMediaId=0,n.unmounted=!1,n.state={hasUserMedia:!1},n}return a(t,e),t.prototype.componentDidMount=function(){var e=this.state,t=this.props;this.unmounted=!1,s()?(e.hasUserMedia||this.requestUserMedia(),t.children&&"function"!=typeof t.children&&console.warn("children must be a function")):t.onUserMediaError("getUserMedia not supported")},t.prototype.componentDidUpdate=function(e){var t=this.props;if(s()){var n=JSON.stringify(e.audioConstraints)!==JSON.stringify(t.audioConstraints),r=JSON.stringify(e.videoConstraints)!==JSON.stringify(t.videoConstraints),a=e.minScreenshotWidth!==t.minScreenshotWidth,o=e.minScreenshotHeight!==t.minScreenshotHeight;(r||a||o)&&(this.canvas=null,this.ctx=null),(n||r)&&(this.stopAndCleanup(),this.requestUserMedia())}else t.onUserMediaError("getUserMedia not supported")},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},t.stopMediaStream=function(e){e&&(e.getVideoTracks&&e.getAudioTracks?(e.getVideoTracks().map((function(t){e.removeTrack(t),t.stop()})),e.getAudioTracks().map((function(t){e.removeTrack(t),t.stop()}))):e.stop())},t.prototype.stopAndCleanup=function(){var e=this.state;e.hasUserMedia&&(t.stopMediaStream(this.stream),e.src&&window.URL.revokeObjectURL(e.src))},t.prototype.getScreenshot=function(e){var t=this.state,n=this.props;if(!t.hasUserMedia)return null;var r=this.getCanvas(e);return r&&r.toDataURL(n.screenshotFormat,n.screenshotQuality)},t.prototype.getCanvas=function(e){var t=this.state,n=this.props;if(!this.video)return null;if(!t.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var r=this.video.videoWidth,a=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var o=r/a;a=(r=n.minScreenshotWidth||this.video.clientWidth)/o,n.minScreenshotHeight&&a<n.minScreenshotHeight&&(r=(a=n.minScreenshotHeight)*o)}this.canvas=document.createElement("canvas"),this.canvas.width=(null===e||void 0===e?void 0:e.width)||r,this.canvas.height=(null===e||void 0===e?void 0:e.height)||a,this.ctx=this.canvas.getContext("2d")}var i=this.ctx,s=this.canvas;return i&&s&&(n.mirrored&&(i.translate(s.width,0),i.scale(-1,1)),i.imageSmoothingEnabled=n.imageSmoothing,i.drawImage(this.video,0,0,(null===e||void 0===e?void 0:e.width)||s.width,(null===e||void 0===e?void 0:e.height)||s.height),n.mirrored&&(i.scale(-1,1),i.translate(-s.width,0))),s},t.prototype.requestUserMedia=function(){var e=this,n=this.props,r=function(r,a){var o={video:"undefined"===typeof a||a};n.audio&&(o.audio="undefined"===typeof r||r),e.requestUserMediaId++;var i=e.requestUserMediaId;navigator.mediaDevices.getUserMedia(o).then((function(n){e.unmounted||i!==e.requestUserMediaId?t.stopMediaStream(n):e.handleUserMedia(null,n)})).catch((function(t){e.handleUserMedia(t)}))};if("mediaDevices"in navigator)r(n.audioConstraints,n.videoConstraints);else{var a=function(e){return{optional:[{sourceId:e}]}},o=function(e){var t=e.deviceId;return"string"===typeof t?t:Array.isArray(t)&&t.length>0?t[0]:"object"===typeof t&&t.ideal?t.ideal:null};MediaStreamTrack.getSources((function(e){var t=null,i=null;e.forEach((function(e){"audio"===e.kind?t=e.id:"video"===e.kind&&(i=e.id)}));var s=o(n.audioConstraints);s&&(t=s);var u=o(n.videoConstraints);u&&(i=u),r(a(t),a(i))}))}},t.prototype.handleUserMedia=function(e,t){var n=this.props;if(e||!t)return this.setState({hasUserMedia:!1}),void n.onUserMediaError(e);this.stream=t;try{this.video&&(this.video.srcObject=t),this.setState({hasUserMedia:!0})}catch(r){this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(t)})}n.onUserMedia(t)},t.prototype.render=function(){var e=this,t=this.state,n=this.props,a=n.audio,s=(n.forceScreenshotSourceSize,n.onUserMedia,n.onUserMediaError,n.screenshotFormat,n.screenshotQuality,n.minScreenshotWidth,n.minScreenshotHeight,n.audioConstraints,n.videoConstraints,n.imageSmoothing,n.mirrored),u=n.style,c=void 0===u?{}:u,l=n.children,f=i(n,["audio","forceScreenshotSourceSize","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),p=s?o(o({},c),{transform:(c.transform||"")+" scaleX(-1)"}):c,d={getScreenshot:this.getScreenshot.bind(this)};return r.createElement(r.Fragment,null,r.createElement("video",o({autoPlay:!0,src:t.src,muted:!a,playsInline:!0,ref:function(t){e.video=t},style:p},f)),l&&l(d))},t.defaultProps={audio:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},t}(r.Component);t.default=u},react:function(t,n){t.exports=e}}).default},e.exports=r(n(2791))},9321:function(e,t,n){"use strict";var r=n(2791),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)i.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:l,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),d=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var x=b.prototype=new y;x.constructor=b,v(x,g.prototype),x.isPureReactComponent=!0;var w=Array.isArray,k=Object.prototype.hasOwnProperty,S={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,r){var a,o={},i=null,s=null;if(null!=t)for(a in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(i=""+t.key),t)k.call(t,a)&&!E.hasOwnProperty(a)&&(o[a]=t[a]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(a in u=e.defaultProps)void 0===o[a]&&(o[a]=u[a]);return{$$typeof:n,type:e,key:i,ref:s,props:o,_owner:S.current}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function O(e,t,a,o,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return i=i(u=e),e=""===o?"."+I(u,0):o,w(i)?(a="",null!=e&&(a=e.replace(T,"$&/")+"/"),O(i,t,a,"",(function(e){return e}))):null!=i&&(N(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,a+(!i.key||u&&u.key===i.key?"":(""+i.key).replace(T,"$&/")+"/")+e)),t.push(i)),1;if(u=0,o=""===o?".":o+":",w(e))for(var c=0;c<e.length;c++){var l=o+I(s=e[c],c);u+=O(s,t,a,l,i)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=O(s=s.value,t,a,l=o+I(s,c++),i);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function _(e,t,n){if(null==e)return e;var r=[],a=0;return O(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var A={current:null},R={transition:null},P={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:R,ReactCurrentOwner:S};t.Children={map:_,forEach:function(e,t,n){_(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return _(e,(function(){t++})),t},toArray:function(e){return _(e,(function(e){return e}))||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=a,t.Profiler=i,t.PureComponent=b,t.StrictMode=o,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=v({},e.props),o=e.key,i=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,s=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)k.call(t,c)&&!E.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];a.children=u}return{$$typeof:n,type:e.type,key:o,ref:i,props:a,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return A.current.useCallback(e,t)},t.useContext=function(e){return A.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return A.current.useDeferredValue(e)},t.useEffect=function(e,t){return A.current.useEffect(e,t)},t.useId=function(){return A.current.useId()},t.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return A.current.useMemo(e,t)},t.useReducer=function(e,t,n){return A.current.useReducer(e,t,n)},t.useRef=function(e){return A.current.useRef(e)},t.useState=function(e){return A.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return A.current.useTransition()},t.version="18.1.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(9321)},9975:function(e,t,n){"use strict";t.Z=function(e){var t=e.dispatch;return function(e){return function(n){return(0,o.isFSA)(n)?(0,a.default)(n.payload)?n.payload.then((function(e){return t(i({},n,{payload:e}))})).catch((function(e){return t(i({},n,{payload:e,error:!0})),Promise.reject(e)})):e(n):(0,a.default)(n)?n.then(t):e(n)}}};var r,a=(r=n(7950))&&r.__esModule?r:{default:r},o=n(8567);function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},9727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(D){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var a=t&&t.prototype instanceof m?t:m,o=Object.create(a.prototype),i=new I(r||[]);return o._invoke=function(e,t,n){var r=f;return function(a,o){if(r===d)throw new Error("Generator is already running");if(r===h){if("throw"===a)throw o;return _()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var s=C(i,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?h:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=h,n.method="throw",n.arg=u.arg)}}}(e,n,i),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(D){return{type:"throw",arg:D}}}e.wrap=c;var f="suspendedStart",p="suspendedYield",d="executing",h="completed",v={};function m(){}function g(){}function y(){}var b={};u(b,o,(function(){return this}));var x=Object.getPrototypeOf,w=x&&x(x(O([])));w&&w!==n&&r.call(w,o)&&(b=w);var k=y.prototype=m.prototype=Object.create(b);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(a,o,i,s){var u=l(e[a],e,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(f).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,s)}))}s(u.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function C(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var a=l(r,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function O(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var a=-1,i=function n(){for(;++a<e.length;)if(r.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}return{next:_}}function _(){return{value:t,done:!0}}return g.prototype=y,u(k,"constructor",y),u(y,"constructor",g),g.displayName=u(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},S(E.prototype),u(E.prototype,i,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new E(c(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(k),u(k,s,"Generator"),u(k,o,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(r,a){return s.type="throw",s.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;T(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:O(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},474:function(e,t,n){"use strict";n.r(t);var r=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var a=r[n];e.call(t,a[1],a[0])}},t}()}(),a="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,o="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),i="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var s=["top","right","bottom","left","width","height","size","weight"],u="undefined"!==typeof MutationObserver,c=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,a=0;function o(){n&&(n=!1,e()),r&&u()}function s(){i(o)}function u(){var e=Date.now();if(n){if(e-a<2)return;r=!0}else n=!0,r=!1,setTimeout(s,t);a=e}return u}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){a&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),u?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){a&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;s.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),l=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var a=r[n];Object.defineProperty(e,a,{value:t[a],enumerable:!1,writable:!1,configurable:!0})}return e},f=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||o},p=y(0,0,0,0);function d(e){return parseFloat(e)||0}function h(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+d(e["border-"+n+"-width"])}),0)}function v(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return p;var r=f(e).getComputedStyle(e),a=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var a=r[n],o=e["padding-"+a];t[a]=d(o)}return t}(r),o=a.left+a.right,i=a.top+a.bottom,s=d(r.width),u=d(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=h(r,"left","right")+o),Math.round(u+i)!==n&&(u-=h(r,"top","bottom")+i)),!function(e){return e===f(e).document.documentElement}(e)){var c=Math.round(s+o)-t,l=Math.round(u+i)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(l)&&(u-=l)}return y(a.left,a.top,s,u)}var m="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof f(e).SVGGraphicsElement}:function(e){return e instanceof f(e).SVGElement&&"function"===typeof e.getBBox};function g(e){return a?m(e)?function(e){var t=e.getBBox();return y(0,0,t.width,t.height)}(e):v(e):p}function y(e,t,n,r){return{x:e,y:t,width:n,height:r}}var b=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=g(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),x=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,a=e.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,i=Object.create(o.prototype);return l(i,{x:t,y:n,width:r,height:a,top:n,right:t+r,bottom:a+n,left:t}),i}(t);l(this,{target:e,contentRect:n})},w=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new b(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new x(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),k="undefined"!==typeof WeakMap?new WeakMap:new r,S=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=c.getInstance(),r=new w(t,n,this);k.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){S.prototype[e]=function(){var t;return(t=k.get(this))[e].apply(t,arguments)}}));var E="undefined"!==typeof o.ResizeObserver?o.ResizeObserver:S;t.default=E},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<o(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>o(u,n))c<a&&0>o(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<a&&0>o(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,p=null,d=3,h=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(l);null!==t;){if(null===t.callback)a(l);else{if(!(t.startTime<=e))break;a(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,x(e),!v)if(null!==r(c))v=!0,R(k);else{var t=r(l);null!==t&&P(w,t.startTime-e)}}function k(e,n){v=!1,m&&(m=!1,y(N),N=-1),h=!0;var o=d;try{for(x(n),p=r(c);null!==p&&(!(p.expirationTime>n)||e&&!O());){var i=p.callback;if("function"===typeof i){p.callback=null,d=p.priorityLevel;var s=i(p.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?p.callback=s:p===r(c)&&a(c),x(n)}else a(c);p=r(c)}if(null!==p)var u=!0;else{var f=r(l);null!==f&&P(w,f.startTime-n),u=!1}return u}finally{p=null,d=o,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,C=null,N=-1,T=5,I=-1;function O(){return!(t.unstable_now()-I<T)}function _(){if(null!==C){var e=t.unstable_now();I=e;var n=!0;try{n=C(!0,e)}finally{n?S():(E=!1,C=null)}}else E=!1}if("function"===typeof b)S=function(){b(_)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,A=D.port2;D.port1.onmessage=_,S=function(){A.postMessage(null)}}else S=function(){g(_,0)};function R(e){C=e,E||(E=!0,S())}function P(e,n){N=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||h||(v=!0,R(k))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,a,o){var i=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?i+o:i:o=i,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>i?(e.sortIndex=o,n(l,e),null===r(c)&&e===r(l)&&(m?(y(N),N=-1):m=!0,P(w,o-i))):(e.sortIndex=s,n(c,e),v||h||(v=!0,R(k))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},6699:function(e,t,n){var r=n(2501),a=n(9112),o=n(2132),i=n(890),s=n(4113),u=n(1725),c=n(3411);c.alea=r,c.xor128=a,c.xorwow=o,c.xorshift7=i,c.xor4096=s,c.tychei=u,e.exports=c},2501:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this,n=function(){var e=4022871197;return function(t){t=t.toString();for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)}}();t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=n(" "),t.s1=n(" "),t.s2=n(" "),t.s0-=n(e),t.s0<0&&(t.s0+=1),t.s1-=n(e),t.s1<0&&(t.s1+=1),t.s2-=n(e),t.s2<0&&(t.s2+=1),n=null}function s(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function u(e,t){var n=new i(e),r=t&&t.state,a=n.next;return a.int32=function(){return 4294967296*n.next()|0},a.double=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.alea=u}(0,e=n.nmd(e),n.amdD)},1725:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,a=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^a,a=a-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^a,t.a=a-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function u(e,t){var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.tychei=u}(0,e=n.nmd(e),n.amdD)},9112:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function u(e,t){var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.xor128=u}(0,e=n.nmd(e),n.amdD)},4113:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this;t.next=function(){var e,n,r=t.w,a=t.X,o=t.i;return t.w=r=r+1640531527|0,n=a[o+34&127],e=a[o=o+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=a[o]=n^e,t.i=o,n+(r^r>>>16)|0},function(e,t){var n,r,a,o,i,s=[],u=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,u=Math.max(u,t.length)),a=0,o=-32;o<u;++o)t&&(r^=t.charCodeAt((o+32)%t.length)),0===o&&(i=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,o>=0&&(i=i+1640531527|0,a=0==(n=s[127&o]^=r+i)?a+1:0);for(a>=128&&(s[127&(t&&t.length||0)]=-1),a=127,o=512;o>0;--o)r=s[a+34&127],n=s[a=a+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[a]=r^n;e.w=i,e.X=s,e.i=a}(t,e)}function s(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function u(e,t){null==e&&(e=+new Date);var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.X&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.xor4096=u}(0,e=n.nmd(e),n.amdD)},890:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this;t.next=function(){var e,n,r=t.x,a=t.i;return e=r[a],n=(e^=e>>>7)^e<<24,n^=(e=r[a+1&7])^e>>>10,n^=(e=r[a+3&7])^e>>>3,n^=(e=r[a+4&7])^e<<7,e=r[a+7&7],n^=(e^=e<<13)^e<<9,r[a]=n,t.i=a+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function s(e,t){return t.x=e.x.slice(),t.i=e.i,t}function u(e,t){null==e&&(e=+new Date);var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&(r.x&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.xorshift7=u}(0,e=n.nmd(e),n.amdD)},2132:function(e,t,n){var r;!function(e,a,o){function i(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function u(e,t){var n=new i(e),r=t&&t.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},a.int32=n.next,a.quick=a,r&&("object"==typeof r&&s(r,n),a.state=function(){return s(n,{})}),a}a&&a.exports?a.exports=u:n.amdD&&n.amdO?void 0===(r=function(){return u}.call(t,n,t,a))||(a.exports=r):this.xorwow=u}(0,e=n.nmd(e),n.amdD)},3411:function(e,t,n){var r;!function(a,o){var i,s=(0,eval)("this"),u=256,c=o.pow(u,6),l=o.pow(2,52),f=2*l,p=255;function d(e,t,n){var r=[],p=g(m((t=1==t?{entropy:!0}:t||{}).entropy?[e,y(a)]:null==e?function(){try{var e;return i&&(e=i.randomBytes)?e=e(u):(e=new Uint8Array(u),(s.crypto||s.msCrypto).getRandomValues(e)),y(e)}catch(r){var t=s.navigator,n=t&&t.plugins;return[+new Date,s,n,s.screen,y(a)]}}():e,3),r),d=new h(r),b=function(){for(var e=d.g(6),t=c,n=0;e<l;)e=(e+n)*u,t*=u,n=d.g(1);for(;e>=f;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return 0|d.g(4)},b.quick=function(){return d.g(4)/4294967296},b.double=b,g(y(d.S),a),(t.pass||n||function(e,t,n,r){return r&&(r.S&&v(r,d),e.state=function(){return v(d,{})}),n?(o.random=e,t):e})(b,p,"global"in t?t.global:this==o,t.state)}function h(e){var t,n=e.length,r=this,a=0,o=r.i=r.j=0,i=r.S=[];for(n||(e=[n++]);a<u;)i[a]=a++;for(a=0;a<u;a++)i[a]=i[o=p&o+e[a%n]+(t=i[a])],i[o]=t;(r.g=function(e){for(var t,n=0,a=r.i,o=r.j,i=r.S;e--;)t=i[a=p&a+1],n=n*u+i[p&(i[a]=i[o=p&o+t])+(i[o]=t)];return r.i=a,r.j=o,n})(u)}function v(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function m(e,t){var n,r=[],a=typeof e;if(t&&"object"==a)for(n in e)try{r.push(m(e[n],t-1))}catch(o){}return r.length?r:"string"==a?e:e+"\0"}function g(e,t){for(var n,r=e+"",a=0;a<r.length;)t[p&a]=p&(n^=19*t[p&a])+r.charCodeAt(a++);return y(t)}function y(e){return String.fromCharCode.apply(0,e)}if(o.seedrandom=d,g(o.random(),a),e.exports){e.exports=d;try{i=n(5042)}catch(b){}}else void 0===(r=function(){return d}.call(t,n,t,e))||(e.exports=r)}([],Math)},7354:function(e){"use strict";e.exports=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(e,n)||(e[n]=t[n]);return e})},9613:function(e){e.exports=function(e,t,n,r){var a=n?n.call(r,e,t):void 0;if(void 0!==a)return!!a;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),i=Object.keys(t);if(o.length!==i.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<o.length;u++){var c=o[u];if(!s(c))return!1;var l=e[c],f=t[c];if(!1===(a=n?n.call(r,l,f,c):void 0)||void 0===a&&l!==f)return!1}return!0}},2806:function(e){e.exports=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})).toLowerCase()}},6369:function(e,t,n){var r;e=n.nmd(e),function(a){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof n.g&&n.g;o.global!==o&&o.window!==o&&o.self;var i,s=2147483647,u=36,c=/^xn--/,l=/[^\x20-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,p={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,h=String.fromCharCode;function v(e){throw RangeError(p[e])}function m(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function g(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+m((e=e.replace(f,".")).split("."),t).join(".")}function y(e){for(var t,n,r=[],a=0,o=e.length;a<o;)(t=e.charCodeAt(a++))>=55296&&t<=56319&&a<o?56320==(64512&(n=e.charCodeAt(a++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),a--):r.push(t);return r}function b(e){return m(e,(function(e){var t="";return e>65535&&(t+=h((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=h(e)})).join("")}function x(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function w(e,t,n){var r=0;for(e=n?d(e/700):e>>1,e+=d(e/t);e>455;r+=u)e=d(e/35);return d(r+36*e/(e+38))}function k(e){var t,n,r,a,o,i,c,l,f,p,h,m=[],g=e.length,y=0,x=128,k=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&v("not-basic"),m.push(e.charCodeAt(r));for(a=n>0?n+1:0;a<g;){for(o=y,i=1,c=u;a>=g&&v("invalid-input"),((l=(h=e.charCodeAt(a++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:u)>=u||l>d((s-y)/i))&&v("overflow"),y+=l*i,!(l<(f=c<=k?1:c>=k+26?26:c-k));c+=u)i>d(s/(p=u-f))&&v("overflow"),i*=p;k=w(y-o,t=m.length+1,0==o),d(y/t)>s-x&&v("overflow"),x+=d(y/t),y%=t,m.splice(y++,0,x)}return b(m)}function S(e){var t,n,r,a,o,i,c,l,f,p,m,g,b,k,S,E=[];for(g=(e=y(e)).length,t=128,n=0,o=72,i=0;i<g;++i)(m=e[i])<128&&E.push(h(m));for(r=a=E.length,a&&E.push("-");r<g;){for(c=s,i=0;i<g;++i)(m=e[i])>=t&&m<c&&(c=m);for(c-t>d((s-n)/(b=r+1))&&v("overflow"),n+=(c-t)*b,t=c,i=0;i<g;++i)if((m=e[i])<t&&++n>s&&v("overflow"),m==t){for(l=n,f=u;!(l<(p=f<=o?1:f>=o+26?26:f-o));f+=u)S=l-p,k=u-p,E.push(h(x(p+S%k,0))),l=d(S/k);E.push(h(x(l,0))),o=w(n,b,r==a),n=0,++r}++n,++t}return E.join("")}i={version:"1.3.2",ucs2:{decode:y,encode:b},decode:k,encode:S,toASCII:function(e){return g(e,(function(e){return l.test(e)?"xn--"+S(e):e}))},toUnicode:function(e){return g(e,(function(e){return c.test(e)?k(e.slice(4).toLowerCase()):e}))}},void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)}()},2114:function(e,t,n){"use strict";var r=n(6369),a=n(9939);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){a.isString(e)&&(e=b(e));return e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o;var i=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(c),f=["%","/","?",";","#"].concat(l),p=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n(863);function b(e,t,n){if(e&&a.isObject(e)&&e instanceof o)return e;var r=new o;return r.parse(e,t,n),r}o.prototype.parse=function(e,t,n){if(!a.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var b=e=c.join(s);if(b=b.trim(),!n&&1===e.split("#").length){var x=u.exec(b);if(x)return this.path=b,this.href=b,this.pathname=x[1],x[2]?(this.search=x[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=i.exec(b);if(w){var k=(w=w[0]).toLowerCase();this.protocol=k,b=b.substr(w.length)}if(n||w||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===b.substr(0,2);!S||w&&m[w]||(b=b.substr(2),this.slashes=!0)}if(!m[w]&&(S||w&&!g[w])){for(var E,C,N=-1,T=0;T<p.length;T++){-1!==(I=b.indexOf(p[T]))&&(-1===N||I<N)&&(N=I)}-1!==(C=-1===N?b.lastIndexOf("@"):b.lastIndexOf("@",N))&&(E=b.slice(0,C),b=b.slice(C+1),this.auth=decodeURIComponent(E)),N=-1;for(T=0;T<f.length;T++){var I;-1!==(I=b.indexOf(f[T]))&&(-1===N||I<N)&&(N=I)}-1===N&&(N=b.length),this.host=b.slice(0,N),b=b.slice(N),this.parseHost(),this.hostname=this.hostname||"";var O="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!O)for(var _=this.hostname.split(/\./),D=(T=0,_.length);T<D;T++){var A=_[T];if(A&&!A.match(d)){for(var R="",P=0,M=A.length;P<M;P++)A.charCodeAt(P)>127?R+="x":R+=A[P];if(!R.match(d)){var F=_.slice(0,T),L=_.slice(T+1),j=A.match(h);j&&(F.push(j[1]),L.unshift(j[2])),L.length&&(b="/"+L.join(".")+b),this.hostname=F.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),O||(this.hostname=r.toASCII(this.hostname));var Z=this.port?":"+this.port:"",z=this.hostname||"";this.host=z+Z,this.href+=this.host,O&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!v[k])for(T=0,D=l.length;T<D;T++){var B=l[T];if(-1!==b.indexOf(B)){var U=encodeURIComponent(B);U===B&&(U=escape(B)),b=b.split(B).join(U)}}var W=b.indexOf("#");-1!==W&&(this.hash=b.substr(W),b=b.slice(0,W));var V=b.indexOf("?");if(-1!==V?(this.search=b.substr(V),this.query=b.substr(V+1),t&&(this.query=y.parse(this.query)),b=b.slice(0,V)):t&&(this.search="",this.query={}),b&&(this.pathname=b),g[k]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){Z=this.pathname||"";var H=this.search||"";this.path=Z+H}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,i="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&a.isObject(this.query)&&Object.keys(this.query).length&&(i=y.stringify(this.query));var s=this.search||i&&"?"+i||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||g[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+r},o.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(a.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,r=Object.keys(this),i=0;i<r.length;i++){var s=r[i];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),c=0;c<u.length;c++){var l=u[c];"protocol"!==l&&(n[l]=e[l])}return g[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!g[e.protocol]){for(var f=Object.keys(e),p=0;p<f.length;p++){var d=f[p];n[d]=e[d]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||m[e.protocol])n.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),n.pathname=h.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var v=n.pathname||"",y=n.search||"";n.path=v+y}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),x=e.host||e.pathname&&"/"===e.pathname.charAt(0),w=x||b||n.host&&e.pathname,k=w,S=n.pathname&&n.pathname.split("/")||[],E=(h=e.pathname&&e.pathname.split("/")||[],n.protocol&&!g[n.protocol]);if(E&&(n.hostname="",n.port=null,n.host&&(""===S[0]?S[0]=n.host:S.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),w=w&&(""===h[0]||""===S[0])),x)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,S=h;else if(h.length)S||(S=[]),S.pop(),S=S.concat(h),n.search=e.search,n.query=e.query;else if(!a.isNullOrUndefined(e.search)){if(E)n.hostname=n.host=S.shift(),(O=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=O.shift(),n.host=n.hostname=O.shift());return n.search=e.search,n.query=e.query,a.isNull(n.pathname)&&a.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!S.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var C=S.slice(-1)[0],N=(n.host||e.host||S.length>1)&&("."===C||".."===C)||""===C,T=0,I=S.length;I>=0;I--)"."===(C=S[I])?S.splice(I,1):".."===C?(S.splice(I,1),T++):T&&(S.splice(I,1),T--);if(!w&&!k)for(;T--;T)S.unshift("..");!w||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),N&&"/"!==S.join("/").substr(-1)&&S.push("");var O,_=""===S[0]||S[0]&&"/"===S[0].charAt(0);E&&(n.hostname=n.host=_?"":S.length?S.shift():"",(O=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=O.shift(),n.host=n.hostname=O.shift()));return(w=w||n.host&&S.length)&&!_&&S.unshift(""),S.length?n.pathname=S.join("/"):(n.pathname=null,n.path=null),a.isNull(n.pathname)&&a.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},9939:function(e){"use strict";e.exports={isString:function(e){return"string"===typeof e},isObject:function(e){return"object"===typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},8169:function(e,t){e.exports=function(e,t){if(e&&t)for(var n in t)e[n]=t[n];return e}},914:function(){},5410:function(){},8628:function(){},5778:function(){},1601:function(){},7792:function(){},4977:function(){},3432:function(){},5042:function(){},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},3878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},7326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},5861:function(e,t,n){"use strict";function r(e,t,n,r,a,o,i){try{var s=e[o](i),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var i=e.apply(t,n);function s(e){r(i,a,o,s,u,"next",e)}function u(e){r(i,a,o,s,u,"throw",e)}s(void 0)}))}}n.d(t,{Z:function(){return a}})},5671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},3144:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:function(){return a}})},7762:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(181);function a(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw i}}}}},7277:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(1120),a=n(8814),o=n(1002),i=n(7326);function s(e,t){if(t&&("object"===(0,o.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}function u(e){var t=(0,a.Z)();return function(){var n,a=(0,r.Z)(e);if(t){var o=(0,r.Z)(this).constructor;n=Reflect.construct(a,arguments,o)}else n=a.apply(this,arguments);return s(this,n)}}},4942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},1752:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(1120);function a(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,r.Z)(e)););return e}function o(){return o="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=a(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},o.apply(this,arguments)}},1120:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},136:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(9611);function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},8814:function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,{Z:function(){return r}})},9199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},5267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},9611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},9439:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(3878);var a=n(181),o=n(5267);function i(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(u){s=!0,a=u}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,t)||(0,a.Z)(e,t)||(0,o.Z)()}},4506:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(3878),a=n(9199),o=n(181),i=n(5267);function s(e){return(0,r.Z)(e)||(0,a.Z)(e)||(0,o.Z)(e)||(0,i.Z)()}},3433:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);var a=n(9199),o=n(181);function i(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,a.Z)(e)||(0,o.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},1002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(907);function a(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.amdD=function(){throw new Error("define cannot be used indirect")},n.amdO={},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/lippick/",function(){"use strict";var e=n(2791),t=n(4164),r=n(3433),a=n(9439),o=n(4942);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=n(5861),c=n(7757),l=n.n(c),f=n(4569),p=n.n(f),d=e.createContext(null);var h=function(e){e()},v=function(){return h};var m={notify:function(){},get:function(){return[]}};function g(e,t){var n,r=m;function a(){i.onStateChange&&i.onStateChange()}function o(){n||(n=t?t.addNestedSub(a):e.subscribe(a),r=function(){var e=v(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,a=n={callback:e,next:null,prev:n};return a.prev?a.prev.next=a:t=a,function(){r&&null!==t&&(r=!1,a.next?a.next.prev=a.prev:n=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}())}var i={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:a,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=m)},getListeners:function(){return r}};return i}var y="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?e.useLayoutEffect:e.useEffect;var b=function(t){var n=t.store,r=t.context,a=t.children,o=(0,e.useMemo)((function(){var e=g(n);return{store:n,subscription:e}}),[n]),i=(0,e.useMemo)((function(){return n.getState()}),[n]);y((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),i!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[o,i]);var s=r||d;return e.createElement(s.Provider,{value:o},a)};function x(){return x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x.apply(this,arguments)}function w(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}var k=n(2110),S=n.n(k),E=n(6900),C=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],N=["reactReduxForwardedRef"],T=[],I=[null,null];function O(e,t){var n=e[1];return[t.payload,n+1]}function _(e,t,n){y((function(){return e.apply(void 0,t)}),n)}function D(e,t,n,r,a,o,i){e.current=r,t.current=a,n.current=!1,o.current&&(o.current=null,i())}function A(e,t,n,r,a,o,i,s,u,c){if(e){var l=!1,f=null,p=function(){if(!l){var e,n,p=t.getState();try{e=r(p,a.current)}catch(Qf){n=Qf,f=Qf}n||(f=null),e===o.current?i.current||u():(o.current=e,s.current=e,i.current=!0,c({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=p,n.trySubscribe(),p();return function(){if(l=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f}}}var R=function(){return[null,0]};function P(t,n){void 0===n&&(n={});var r=n,a=r.getDisplayName,o=void 0===a?function(e){return"ConnectAdvanced("+e+")"}:a,i=r.methodName,s=void 0===i?"connectAdvanced":i,u=r.renderCountProp,c=void 0===u?void 0:u,l=r.shouldHandleStateChanges,f=void 0===l||l,p=r.storeKey,h=void 0===p?"store":p,v=(r.withRef,r.forwardRef),m=void 0!==v&&v,y=r.context,b=void 0===y?d:y,k=w(r,C),P=b;return function(n){var r=n.displayName||n.name||"Component",a=o(r),i=x({},k,{getDisplayName:o,methodName:s,renderCountProp:c,shouldHandleStateChanges:f,storeKey:h,displayName:a,wrappedComponentName:r,WrappedComponent:n}),u=k.pure;var l=u?e.useMemo:function(e){return e()};function p(r){var a=(0,e.useMemo)((function(){var e=r.reactReduxForwardedRef,t=w(r,N);return[r.context,e,t]}),[r]),o=a[0],s=a[1],u=a[2],c=(0,e.useMemo)((function(){return o&&o.Consumer&&(0,E.isContextConsumer)(e.createElement(o.Consumer,null))?o:P}),[o,P]),p=(0,e.useContext)(c),d=Boolean(r.store)&&Boolean(r.store.getState)&&Boolean(r.store.dispatch);Boolean(p)&&Boolean(p.store);var h=d?r.store:p.store,v=(0,e.useMemo)((function(){return function(e){return t(e.dispatch,i)}(h)}),[h]),m=(0,e.useMemo)((function(){if(!f)return I;var e=g(h,d?null:p.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[h,d,p]),y=m[0],b=m[1],k=(0,e.useMemo)((function(){return d?p:x({},p,{subscription:y})}),[d,p,y]),S=(0,e.useReducer)(O,T,R),C=S[0][0],M=S[1];if(C&&C.error)throw C.error;var F=(0,e.useRef)(),L=(0,e.useRef)(u),j=(0,e.useRef)(),Z=(0,e.useRef)(!1),z=l((function(){return j.current&&u===L.current?j.current:v(h.getState(),u)}),[h,C,u]);_(D,[L,F,Z,u,z,j,b]),_(A,[f,h,y,v,L,F,Z,j,b,M],[h,y,v]);var B=(0,e.useMemo)((function(){return e.createElement(n,x({},z,{ref:s}))}),[s,n,z]);return(0,e.useMemo)((function(){return f?e.createElement(c.Provider,{value:k},B):B}),[c,B,k])}var d=u?e.memo(p):p;if(d.WrappedComponent=n,d.displayName=p.displayName=a,m){var v=e.forwardRef((function(t,n){return e.createElement(d,x({},t,{reactReduxForwardedRef:n}))}));return v.displayName=a,v.WrappedComponent=n,S()(v,n)}return S()(d,n)}}function M(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function F(e,t){if(M(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(t,n[a])||!M(e[n[a]],t[n[a]]))return!1;return!0}function L(e){return function(t,n){var r=e(t,n);function a(){return r}return a.dependsOnOwnProps=!1,a}}function j(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function Z(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=j(e);var a=r(t,n);return"function"===typeof a&&(r.mapToProps=a,r.dependsOnOwnProps=j(a),a=r(t,n)),a},r}}var z=[function(e){return"function"===typeof e?Z(e):void 0},function(e){return e?void 0:L((function(e){return{dispatch:e}}))},function(e){return e&&"object"===typeof e?L((function(t){return function(e,t){var n={},r=function(r){var a=e[r];"function"===typeof a&&(n[r]=function(){return t(a.apply(void 0,arguments))})};for(var a in e)r(a);return n}(e,t)})):void 0}];var B=[function(e){return"function"===typeof e?Z(e):void 0},function(e){return e?void 0:L((function(){return{}}))}];function U(e,t,n){return x({},n,e,t)}var W=[function(e){return"function"===typeof e?function(e){return function(t,n){n.displayName;var r,a=n.pure,o=n.areMergedPropsEqual,i=!1;return function(t,n,s){var u=e(t,n,s);return i?a&&o(u,r)||(r=u):(i=!0,r=u),r}}}(e):void 0},function(e){return e?void 0:function(){return U}}],V=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function H(e,t,n,r){return function(a,o){return n(e(a,o),t(r,o),o)}}function G(e,t,n,r,a){var o,i,s,u,c,l=a.areStatesEqual,f=a.areOwnPropsEqual,p=a.areStatePropsEqual,d=!1;function h(a,d){var h=!f(d,i),v=!l(a,o);return o=a,i=d,h&&v?(s=e(o,i),t.dependsOnOwnProps&&(u=t(r,i)),c=n(s,u,i)):h?(e.dependsOnOwnProps&&(s=e(o,i)),t.dependsOnOwnProps&&(u=t(r,i)),c=n(s,u,i)):v?function(){var t=e(o,i),r=!p(t,s);return s=t,r&&(c=n(s,u,i)),c}():c}return function(a,l){return d?h(a,l):(s=e(o=a,i=l),u=t(r,i),c=n(s,u,i),d=!0,c)}}function q(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,a=t.initMergeProps,o=w(t,V),i=n(e,o),s=r(e,o),u=a(e,o);return(o.pure?G:H)(i,s,u,e,o)}var X=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function K(e,t,n){for(var r=t.length-1;r>=0;r--){var a=t[r](e);if(a)return a}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function Y(e,t){return e===t}function Q(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?P:n,a=t.mapStateToPropsFactories,o=void 0===a?B:a,i=t.mapDispatchToPropsFactories,s=void 0===i?z:i,u=t.mergePropsFactories,c=void 0===u?W:u,l=t.selectorFactory,f=void 0===l?q:l;return function(e,t,n,a){void 0===a&&(a={});var i=a,u=i.pure,l=void 0===u||u,p=i.areStatesEqual,d=void 0===p?Y:p,h=i.areOwnPropsEqual,v=void 0===h?F:h,m=i.areStatePropsEqual,g=void 0===m?F:m,y=i.areMergedPropsEqual,b=void 0===y?F:y,k=w(i,X),S=K(e,o,"mapStateToProps"),E=K(t,s,"mapDispatchToProps"),C=K(n,c,"mergeProps");return r(f,x({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:S,initMapDispatchToProps:E,initMergeProps:C,pure:l,areStatesEqual:d,areOwnPropsEqual:v,areStatePropsEqual:g,areMergedPropsEqual:b},k))}}var $=Q();function J(){return(0,e.useContext)(d)}function ee(t){void 0===t&&(t=d);var n=t===d?J:function(){return(0,e.useContext)(t)};return function(){return n().store}}var te=ee();function ne(e){void 0===e&&(e=d);var t=e===d?te:ee(e);return function(){return t().dispatch}}var re=ne(),ae=function(e,t){return e===t};function oe(t){void 0===t&&(t=d);var n=t===d?J:function(){return(0,e.useContext)(t)};return function(t,r){void 0===r&&(r=ae);var a=n(),o=function(t,n,r,a){var o,i=(0,e.useReducer)((function(e){return e+1}),0)[1],s=(0,e.useMemo)((function(){return g(r,a)}),[r,a]),u=(0,e.useRef)(),c=(0,e.useRef)(),l=(0,e.useRef)(),f=(0,e.useRef)(),p=r.getState();try{if(t!==c.current||p!==l.current||u.current){var d=t(p);o=void 0!==f.current&&n(d,f.current)?f.current:d}else o=f.current}catch(h){throw u.current&&(h.message+="\nThe error may be correlated with this previous error:\n"+u.current.stack+"\n\n"),h}return y((function(){c.current=t,l.current=p,f.current=o,u.current=void 0})),y((function(){function e(){try{var e=r.getState();if(e===l.current)return;var t=c.current(e);if(n(t,f.current))return;f.current=t,l.current=e}catch(h){u.current=h}i()}return s.onStateChange=e,s.trySubscribe(),e(),function(){return s.tryUnsubscribe()}}),[r,s]),o}(t,r,a.store,a.subscription);return(0,e.useDebugValue)(o),o}}var ie,se=oe();ie=t.unstable_batchedUpdates,h=ie;var ue=n(7159),ce=(n(600),n(3772)),le=n(2652),fe=function(){return(fe=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function pe(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}u((r=r.apply(e,t||[])).next())}))}function de(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((a=(a=i.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function he(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}u((r=r.apply(e,t||[])).next())}))}function ve(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var me=function(e){return{startEndTensor:e,startPoint:(0,ce.tPi)(e,[0,0],[-1,2]),endPoint:(0,ce.tPi)(e,[0,2],[-1,2])}},ge={strides:[8,16],anchors:[2,6]};function ye(e,t){var n,r,a;if(e.topLeft instanceof ce.esB&&e.bottomRight instanceof ce.esB){var o=(0,ce.lub)((function(){return[(0,ce.zoF)([(0,ce.tPi)((0,ce.luU)(t-1,e.topLeft),0,1),(0,ce.tPi)(e.topLeft,1,1)]),(0,ce.zoF)([(0,ce.luU)(t-1,(0,ce.tPi)(e.bottomRight,0,1)),(0,ce.tPi)(e.bottomRight,1,1)])]}));n=o[0],r=o[1],null!=e.landmarks&&(a=(0,ce.lub)((function(){var n=(0,ce.luU)((0,ce.RRF)([t-1,0]),e.landmarks),r=(0,ce.RRF)([1,-1]);return(0,ce.dC7)(n,r)})))}else{var i=e.topLeft,s=i[0],u=i[1],c=e.bottomRight,l=c[0],f=c[1];n=[t-1-s,u],r=[t-1-l,f],null!=e.landmarks&&(a=e.landmarks.map((function(e){return[t-1-e[0],e[1]]})))}var p={topLeft:n,bottomRight:r};return null!=a&&(p.landmarks=a),null!=e.probability&&(p.probability=e.probability instanceof ce.esB?e.probability.clone():e.probability),p}function be(e,t){return(0,ce.lub)((function(){var n;return n=e.hasOwnProperty("box")?e.box:e,(0,ce.L9e)(function(e,t){var n=(0,ce.dC7)(e.startPoint,t),r=(0,ce.dC7)(e.endPoint,t),a=(0,ce.Izb)([n,r],1);return me(a)}(n,t).startEndTensor)}))}var xe=function(){function e(e,t,n,r,a,o){this.blazeFaceModel=e,this.width=t,this.height=n,this.maxFaces=r,this.anchorsData=function(e,t,n){for(var r=[],a=0;a<n.strides.length;a++)for(var o=n.strides[a],i=Math.floor((t+o-1)/o),s=Math.floor((e+o-1)/o),u=n.anchors[a],c=0;c<i;c++)for(var l=o*(c+.5),f=0;f<s;f++)for(var p=o*(f+.5),d=0;d<u;d++)r.push([p,l]);return r}(t,n,ge),this.anchors=(0,ce.odF)(this.anchorsData),this.inputSizeData=[t,n],this.inputSize=(0,ce.RRF)([t,n]),this.iouThreshold=a,this.scoreThreshold=o}return e.prototype.getBoundingBoxes=function(e,t,n){return void 0===n&&(n=!0),he(this,void 0,void 0,(function(){var r,a,o,i,s,u,c,l,f,p,d,h,v,m,g=this;return ve(this,(function(y){switch(y.label){case 0:return r=(0,ce.lub)((function(){var t=ce.BHj.resizeBilinear(e,[g.width,g.height]),n=(0,ce.dC7)((0,ce.luU)((0,ce.hiC)(t,255),.5),2),r=g.blazeFaceModel.predict(n),a=(0,ce.L9e)(r),o=function(e,t,n){var r=(0,ce.tPi)(e,[0,1],[-1,2]),a=(0,ce.IHx)(r,t),o=(0,ce.tPi)(e,[0,3],[-1,2]),i=(0,ce.hiC)(o,n),s=(0,ce.hiC)(a,n),u=(0,ce.hiC)(i,2),c=(0,ce.luU)(s,u),l=(0,ce.IHx)(s,u),f=(0,ce.dC7)(c,n),p=(0,ce.dC7)(l,n);return(0,ce.Izb)([f,p],1)}(a,g.anchors,g.inputSize),i=(0,ce.tPi)(a,[0,0],[-1,1]);return[a,o,(0,ce.L9e)((0,ce.XD2)(i))]})),a=r[0],o=r[1],i=r[2],s=console.warn,console.warn=function(){},u=ce.BHj.nonMaxSuppression(o,i,this.maxFaces,this.iouThreshold,this.scoreThreshold),console.warn=s,[4,u.array()];case 1:return c=y.sent(),u.dispose(),l=c.map((function(e){return(0,ce.tPi)(o,[e,0],[1,-1])})),t?[3,3]:[4,Promise.all(l.map((function(e){return he(g,void 0,void 0,(function(){var t;return ve(this,(function(n){switch(n.label){case 0:return[4,e.array()];case 1:return t=n.sent(),e.dispose(),[2,t]}}))}))})))];case 2:l=y.sent(),y.label=3;case 3:for(f=e.shape[1],p=e.shape[2],d=t?(0,ce.hiC)([p,f],this.inputSize):[p/this.inputSizeData[0],f/this.inputSizeData[1]],h=[],v=function(e){var r=l[e],o=(0,ce.lub)((function(){var o=me(r instanceof ce.esB?r:(0,ce.odF)(r));if(!n)return o;var s,u=c[e];return s=t?(0,ce.tPi)(g.anchors,[u,0],[1,2]):g.anchorsData[u],{box:o,landmarks:(0,ce.XLQ)((0,ce.L9e)((0,ce.tPi)(a,[u,5],[1,-1])),[6,-1]),probability:(0,ce.tPi)(i,[u],[1]),anchor:s}}));h.push(o)},m=0;m<l.length;m++)v(m);return o.dispose(),i.dispose(),a.dispose(),[2,{boxes:h,scaleFactor:d}]}}))}))},e.prototype.estimateFaces=function(e,t,n,r){return void 0===t&&(t=!1),void 0===n&&(n=!1),void 0===r&&(r=!0),he(this,void 0,void 0,(function(){var a,o,i,s,u,c,l=this;return ve(this,(function(f){switch(f.label){case 0:return a=function(e){return e instanceof ce.esB?[e.shape[0],e.shape[1]]:[e.height,e.width]}(e),o=a[1],i=(0,ce.lub)((function(){return e instanceof ce.esB||(e=ce.Xhn.fromPixels(e)),(0,ce.dt4)((0,ce.pju)(e,"float32"),0)})),[4,this.getBoundingBoxes(i,t,r)];case 1:return s=f.sent(),u=s.boxes,c=s.scaleFactor,i.dispose(),t?[2,u.map((function(e){var t=be(e,c),a={topLeft:(0,ce.tPi)(t,[0],[2]),bottomRight:(0,ce.tPi)(t,[2],[2])};if(r){var i=e,s=i.landmarks,u=i.probability,l=i.anchor,f=(0,ce.dC7)((0,ce.IHx)(s,l),c);a.landmarks=f,a.probability=u}return n&&(a=ye(a,o)),a}))]:[2,Promise.all(u.map((function(e){return he(l,void 0,void 0,(function(){var t,a,i,s,u,l,f,p,d,h,v,m=this;return ve(this,(function(g){switch(g.label){case 0:return t=be(e,c),r?[3,2]:[4,t.array()];case 1:return u=g.sent(),a={topLeft:u.slice(0,2),bottomRight:u.slice(2)},[3,4];case 2:return[4,Promise.all([e.landmarks,t,e.probability].map((function(e){return he(m,void 0,void 0,(function(){return ve(this,(function(t){return[2,e.array()]}))}))})))];case 3:i=g.sent(),s=i[0],u=i[1],l=i[2],f=e.anchor,d=(p=c)[0],h=p[1],v=s.map((function(e){return[(e[0]+f[0])*d,(e[1]+f[1])*h]})),a={topLeft:u.slice(0,2),bottomRight:u.slice(2),landmarks:v,probability:l},function(e){e.startEndTensor.dispose(),e.startPoint.dispose(),e.endPoint.dispose()}(e.box),e.landmarks.dispose(),e.probability.dispose(),g.label=4;case 4:return t.dispose(),n&&(a=ye(a,o)),[2,a]}}))}))})))]}}))}))},e}();function we(e){var t=void 0===e?{}:e,n=t.maxFaces,r=void 0===n?10:n,a=t.inputWidth,o=void 0===a?128:a,i=t.inputHeight,s=void 0===i?128:i,u=t.iouThreshold,c=void 0===u?.3:u,l=t.scoreThreshold,f=void 0===l?.75:l,p=t.modelUrl;return he(this,void 0,void 0,(function(){var e;return ve(this,(function(t){switch(t.label){case 0:return null==p?[3,2]:[4,(0,le.YL)(p)];case 1:return e=t.sent(),[3,4];case 2:return[4,(0,le.YL)("https://tfhub.dev/tensorflow/tfjs-model/blazeface/1/default/1",{fromTFHub:!0})];case 3:e=t.sent(),t.label=4;case 4:return[2,new xe(e,o,s,r,c,f)]}}))}))}var ke={silhouette:[10,338,297,332,284,251,389,356,454,323,361,288,397,365,379,378,400,377,152,148,176,149,150,136,172,58,132,93,234,127,162,21,54,103,67,109],lipsUpperOuter:[61,185,40,39,37,0,267,269,270,409,291],lipsLowerOuter:[146,91,181,84,17,314,405,321,375,291],lipsUpperInner:[78,191,80,81,82,13,312,311,310,415,308],lipsLowerInner:[78,95,88,178,87,14,317,402,318,324,308],rightEyeUpper0:[246,161,160,159,158,157,173],rightEyeLower0:[33,7,163,144,145,153,154,155,133],rightEyeUpper1:[247,30,29,27,28,56,190],rightEyeLower1:[130,25,110,24,23,22,26,112,243],rightEyeUpper2:[113,225,224,223,222,221,189],rightEyeLower2:[226,31,228,229,230,231,232,233,244],rightEyeLower3:[143,111,117,118,119,120,121,128,245],rightEyebrowUpper:[156,70,63,105,66,107,55,193],rightEyebrowLower:[35,124,46,53,52,65],rightEyeIris:[473,474,475,476,477],leftEyeUpper0:[466,388,387,386,385,384,398],leftEyeLower0:[263,249,390,373,374,380,381,382,362],leftEyeUpper1:[467,260,259,257,258,286,414],leftEyeLower1:[359,255,339,254,253,252,256,341,463],leftEyeUpper2:[342,445,444,443,442,441,413],leftEyeLower2:[446,261,448,449,450,451,452,453,464],leftEyeLower3:[372,340,346,347,348,349,350,357,465],leftEyebrowUpper:[383,300,293,334,296,336,285,417],leftEyebrowLower:[265,353,276,283,282,295],leftEyeIris:[468,469,470,471,472],midwayBetweenEyes:[168],noseTip:[1],noseBottom:[2],noseRightCorner:[98],noseLeftCorner:[327],rightCheek:[205],leftCheek:[425]};function Se(e){return[Math.abs(e.endPoint[0]-e.startPoint[0]),Math.abs(e.endPoint[1]-e.startPoint[1])]}function Ee(e){return[e.startPoint[0]+(e.endPoint[0]-e.startPoint[0])/2,e.startPoint[1]+(e.endPoint[1]-e.startPoint[1])/2]}function Ce(e,t){void 0===t&&(t=1.5);var n=Ee(e),r=Se(e),a=[t*r[0]/2,t*r[1]/2];return{startPoint:[n[0]-a[0],n[1]-a[1]],endPoint:[n[0]+a[0],n[1]+a[1]],landmarks:e.landmarks}}function Ne(e){var t=Ee(e),n=Se(e),r=Math.max.apply(Math,n)/2;return{startPoint:[t[0]-r,t[1]-r],endPoint:[t[0]+r,t[1]+r],landmarks:e.landmarks}}var Te=[[1,0,0],[0,1,0],[0,0,1]];function Ie(e,t){return[[1,0,e],[0,1,t],[0,0,1]]}function Oe(e,t){for(var n=0,r=0;r<e.length;r++)n+=e[r]*t[r];return n}function _e(e,t){for(var n=[],r=0;r<e.length;r++)n.push(e[r][t]);return n}function De(e,t){for(var n=[],r=e.length,a=0;a<r;a++){n.push([]);for(var o=0;o<r;o++)n[a].push(Oe(e[a],_e(t,o)))}return n}function Ae(e,t){var n=Math.cos(e),r=Math.sin(e),a=[[n,-r,0],[r,n,0],[0,0,1]],o=De(Ie(t[0],t[1]),a);return De(o,Ie(-t[0],-t[1]))}var Re=[13,ke.midwayBetweenEyes[0]],Pe=[3,2],Me=ke.leftEyeLower0,Fe=[Me[0],Me[Me.length-1]],Le=ke.rightEyeLower0,je=[Le[0],Le[Le.length-1]],Ze=[{key:"EyeUpper0",indices:[9,10,11,12,13,14,15]},{key:"EyeUpper1",indices:[25,26,27,28,29,30,31]},{key:"EyeUpper2",indices:[41,42,43,44,45,46,47]},{key:"EyeLower0",indices:[0,1,2,3,4,5,6,7,8]},{key:"EyeLower1",indices:[16,17,18,19,20,21,22,23,24]},{key:"EyeLower2",indices:[32,33,34,35,36,37,38,39,40]},{key:"EyeLower3",indices:[54,55,56,57,58,59,60,61,62]},{key:"EyebrowUpper",indices:[63,64,65,66,67,68,69,70]},{key:"EyebrowLower",indices:[48,49,50,51,52,53]}];function ze(e,t,n,r){for(var a=0;a<Ze.length;a++){var o=Ze[a],i=o.key,s=o.indices,u=ke[""+n+i];if(null==r||r.includes(i))for(var c=0;c<s.length;c++){var l=s[c];e[u[c]]=[t[l][0],t[l][1],(t[l][2]+e[u[c]][2])/2]}}}var Be=function(){function e(e,t,n,r,a,o,i){this.regionsOfInterest=[],this.runsWithoutFaceDetector=0,this.boundingBoxDetector=e,this.meshDetector=t,this.irisModel=i,this.meshWidth=n,this.meshHeight=r,this.maxContinuousChecks=a,this.maxFaces=o}return e.prototype.transformRawCoords=function(e,t,n,r){var a,o,i,s,u=this,c=Se({startPoint:t.startPoint,endPoint:t.endPoint}),l=[c[0]/this.meshWidth,c[1]/this.meshHeight],f=e.map((function(e){return[l[0]*(e[0]-u.meshWidth/2),l[1]*(e[1]-u.meshHeight/2),e[2]]})),p=Ae(n,[0,0]),d=f.map((function(e){return function(e,t){return[Oe(e,t[0]),Oe(e,t[1])]}(e,p).concat([e[2]])})),h=(o=[[(a=r)[0][0],a[1][0]],[a[0][1],a[1][1]]],i=[a[0][2],a[1][2]],s=[-Oe(o[0],i),-Oe(o[1],i)],[o[0].concat(s[0]),o[1].concat(s[1]),[0,0,1]]),v=Ee({startPoint:t.startPoint,endPoint:t.endPoint}).concat([1]),m=[Oe(v,h[0]),Oe(v,h[1])];return d.map((function(e){return[e[0]+m[0],e[1]+m[1],e[2]]}))},e.prototype.getLeftToRightEyeDepthDifference=function(e){return e[Fe[0]][2]-e[je[0]][2]},e.prototype.getEyeBox=function(e,t,n,r,a){void 0===a&&(a=!1);var o=Ne(Ce(this.calculateLandmarksBoundingBox([e[n],e[r]]),2.3)),i=Se(o),s=ce.BHj.cropAndResize(t,[[o.startPoint[1]/this.meshHeight,o.startPoint[0]/this.meshWidth,o.endPoint[1]/this.meshHeight,o.endPoint[0]/this.meshWidth]],[0],[64,64]);return a&&(s=ce.BHj.flipLeftRight(s)),{box:o,boxSize:i,crop:s}},e.prototype.getEyeCoords=function(e,t,n,r){void 0===r&&(r=!1);for(var a=[],o=0;o<76;o++){var i=e[3*o],s=e[3*o+1],u=e[3*o+2];a.push([(r?1-i/64:i/64)*n[0]+t.startPoint[0],s/64*n[1]+t.startPoint[1],u])}return{rawCoords:a,iris:a.slice(71)}},e.prototype.getAdjustedIrisCoords=function(e,t,n){var r=e[ke[n+"EyeUpper0"][3]][2],a=e[ke[n+"EyeLower0"][4]][2],o=(r+a)/2;return t.map((function(e,t){var n=o;return 2===t?n=r:4===t&&(n=a),[e[0],e[1],n]}))},e.prototype.predict=function(e,t){return pe(this,void 0,void 0,(function(){var n,r,a,o,i=this;return de(this,(function(s){switch(s.label){case 0:return this.shouldUpdateRegionsOfInterest()?[4,this.boundingBoxDetector.getBoundingBoxes(e,!1,!0)]:[3,2];case 1:return n=s.sent(),r=n.boxes,a=n.scaleFactor,0===r.length?(this.regionsOfInterest=[],[2,null]):(o=r.map((function(e){var t,n,r={startPoint:(0,ce.L9e)(e.box.startPoint).arraySync(),endPoint:(0,ce.L9e)(e.box.endPoint).arraySync()},o=Ne(Ce((n=a,{startPoint:[(t=r).startPoint[0]*n[0],t.startPoint[1]*n[1]],endPoint:[t.endPoint[0]*n[0],t.endPoint[1]*n[1]]})));return fe({},o,{landmarks:e.landmarks.arraySync()})})),r.forEach((function(e){null!=e&&null!=e.startPoint&&(e.startEndTensor.dispose(),e.startPoint.dispose(),e.endPoint.dispose())})),this.updateRegionsOfInterest(o),this.runsWithoutFaceDetector=0,[3,3]);case 2:this.runsWithoutFaceDetector++,s.label=3;case 3:return[2,(0,ce.lub)((function(){return i.regionsOfInterest.map((function(n,r){var a,o=n.landmarks.length>=468,s=Re[0],u=Re[1];!1===o&&(s=Pe[0],u=Pe[1]),a=function(e,t){var n;return(n=Math.PI/2-Math.atan2(-(t[1]-e[1]),t[0]-e[0]))-2*Math.PI*Math.floor((n+Math.PI)/(2*Math.PI))}(n.landmarks[s],n.landmarks[u]);var c=Ee({startPoint:n.startPoint,endPoint:n.endPoint}),l=[c[0]/e.shape[2],c[1]/e.shape[1]],f=e,p=Te;0!==a&&(f=ce.BHj.rotateWithOffset(e,a,0,l),p=Ae(-a,c));var d={startPoint:n.startPoint,endPoint:n.endPoint},h=(0,ce.hiC)(function(e,t,n){var r=t.shape[1],a=t.shape[2],o=[[e.startPoint[1]/r,e.startPoint[0]/a,e.endPoint[1]/r,e.endPoint[0]/a]];return ce.BHj.cropAndResize(t,o,[0],n,"bilinear",0)}(d,f,[i.meshHeight,i.meshWidth]),255),v=i.meshDetector.predict(h),m=v[1],g=v[2],y=(0,ce.XLQ)(g,[-1,3]).arraySync();if(t){var b=i.getEyeBox(y,h,Fe[0],Fe[1],!0),x=b.box,w=b.boxSize,k=b.crop,S=i.getEyeBox(y,h,je[0],je[1]),E=S.box,C=S.boxSize,N=S.crop,T=i.irisModel.predict((0,ce.zoF)([k,N])).dataSync(),I=T.slice(0,228),O=i.getEyeCoords(I,x,w,!0),_=O.rawCoords,D=O.iris,A=T.slice(228),R=i.getEyeCoords(A,E,C),P=R.rawCoords,M=R.iris,F=i.getLeftToRightEyeDepthDifference(y);Math.abs(F)<30?(ze(y,_,"left"),ze(y,P,"right")):F<1?ze(y,_,"left",["EyeUpper0","EyeLower0"]):ze(y,P,"right",["EyeUpper0","EyeLower0"]);var L=i.getAdjustedIrisCoords(y,D,"left"),j=i.getAdjustedIrisCoords(y,M,"right");y=y.concat(L).concat(j)}var Z=i.transformRawCoords(y,n,a,p),z=(0,ce.odF)(Z),B=Ce(i.calculateLandmarksBoundingBox(Z)),U=Ne(B);return i.regionsOfInterest[r]=fe({},U,{landmarks:z.arraySync()}),{coords:(0,ce.odF)(y,[y.length,3]),scaledCoords:z,box:B,flag:(0,ce.L9e)(m)}}))}))]}}))}))},e.prototype.updateRegionsOfInterest=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=this.regionsOfInterest[t],a=0;if(r&&r.startPoint){var o=n.startPoint,i=o[0],s=o[1],u=n.endPoint,c=u[0],l=u[1],f=r.startPoint,p=f[0],d=f[1],h=r.endPoint,v=h[0],m=h[1],g=Math.max(i,p),y=Math.max(s,d),b=(Math.min(c,v)-g)*(Math.min(l,m)-y);a=b/((c-i)*(l-s)+(v-p)*(m-s)-b)}a<.25&&(this.regionsOfInterest[t]=n)}this.regionsOfInterest=this.regionsOfInterest.slice(0,e.length)},e.prototype.clearRegionOfInterest=function(e){null!=this.regionsOfInterest[e]&&(this.regionsOfInterest=this.regionsOfInterest.slice(0,e).concat(this.regionsOfInterest.slice(e+1)))},e.prototype.shouldUpdateRegionsOfInterest=function(){var e=this.regionsOfInterest.length,t=0===e;return 1===this.maxFaces||t?t:e!==this.maxFaces&&this.runsWithoutFaceDetector>=this.maxContinuousChecks},e.prototype.calculateLandmarksBoundingBox=function(e){var t=e.map((function(e){return e[0]})),n=e.map((function(e){return e[1]}));return{startPoint:[Math.min.apply(Math,t),Math.min.apply(Math,n)],endPoint:[Math.max.apply(Math,t),Math.max.apply(Math,n)]}},e}(),Ue=[[.499976992607117,.652534008026123],[.500025987625122,.547487020492554],[.499974012374878,.602371990680695],[.482113003730774,.471979022026062],[.500150978565216,.527155995368958],[.499909996986389,.498252987861633],[.499523013830185,.40106201171875],[.289712011814117,.380764007568359],[.499954998493195,.312398016452789],[.499987006187439,.269918978214264],[.500023007392883,.107050001621246],[.500023007392883,.666234016418457],[.5000159740448,.679224014282227],[.500023007392883,.692348003387451],[.499976992607117,.695277988910675],[.499976992607117,.70593398809433],[.499976992607117,.719385027885437],[.499976992607117,.737019002437592],[.499967992305756,.781370997428894],[.499816000461578,.562981009483337],[.473773002624512,.573909997940063],[.104906998574734,.254140973091125],[.365929991006851,.409575998783112],[.338757991790771,.41302502155304],[.311120003461838,.409460008144379],[.274657994508743,.389131009578705],[.393361985683441,.403706014156342],[.345234006643295,.344011008739471],[.370094001293182,.346076011657715],[.319321990013123,.347265005111694],[.297903001308441,.353591024875641],[.24779200553894,.410809993743896],[.396889001131058,.842755019664764],[.280097991228104,.375599980354309],[.106310002505779,.399955987930298],[.2099249958992,.391353011131287],[.355807989835739,.534406006336212],[.471751004457474,.65040397644043],[.474155008792877,.680191993713379],[.439785003662109,.657229006290436],[.414617002010345,.66654098033905],[.450374007225037,.680860996246338],[.428770989179611,.682690978050232],[.374971002340317,.727805018424988],[.486716985702515,.547628998756409],[.485300987958908,.527395009994507],[.257764995098114,.314490020275116],[.401223003864288,.455172002315521],[.429818987846375,.548614978790283],[.421351999044418,.533740997314453],[.276895999908447,.532056987285614],[.483370006084442,.499586999416351],[.33721199631691,.282882988452911],[.296391993761063,.293242990970612],[.169294998049736,.193813979625702],[.447580009698868,.302609980106354],[.392390012741089,.353887975215912],[.354490011930466,.696784019470215],[.067304998636246,.730105042457581],[.442739009857178,.572826027870178],[.457098007202148,.584792017936707],[.381974011659622,.694710969924927],[.392388999462128,.694203019142151],[.277076005935669,.271932005882263],[.422551989555359,.563233017921448],[.385919004678726,.281364023685455],[.383103013038635,.255840003490448],[.331431001424789,.119714021682739],[.229923993349075,.232002973556519],[.364500999450684,.189113974571228],[.229622006416321,.299540996551514],[.173287004232407,.278747975826263],[.472878992557526,.666198015213013],[.446828007698059,.668527007102966],[.422762006521225,.673889994621277],[.445307999849319,.580065965652466],[.388103008270264,.693961024284363],[.403039008378983,.706539988517761],[.403629004955292,.693953037261963],[.460041999816895,.557139039039612],[.431158006191254,.692366003990173],[.452181994915009,.692366003990173],[.475387006998062,.692366003990173],[.465828001499176,.779190003871918],[.472328990697861,.736225962638855],[.473087012767792,.717857003211975],[.473122000694275,.704625964164734],[.473033010959625,.695277988910675],[.427942007780075,.695277988910675],[.426479011774063,.703539967536926],[.423162013292313,.711845993995667],[.4183090031147,.720062971115112],[.390094995498657,.639572978019714],[.013953999616206,.560034036636353],[.499913990497589,.58014702796936],[.413199990987778,.69539999961853],[.409626007080078,.701822996139526],[.468080013990402,.601534962654114],[.422728985548019,.585985004901886],[.463079988956451,.593783974647522],[.37211999297142,.47341400384903],[.334562003612518,.496073007583618],[.411671012639999,.546965003013611],[.242175996303558,.14767599105835],[.290776997804642,.201445996761322],[.327338010072708,.256527006626129],[.399509996175766,.748921036720276],[.441727995872498,.261676013469696],[.429764986038208,.187834024429321],[.412198007106781,.108901023864746],[.288955003023148,.398952007293701],[.218936994671822,.435410976409912],[.41278201341629,.398970007896423],[.257135003805161,.355440020561218],[.427684992551804,.437960982322693],[.448339998722076,.536936044692993],[.178560003638268,.45755398273468],[.247308000922203,.457193970680237],[.286267012357712,.467674970626831],[.332827985286713,.460712015628815],[.368755996227264,.447206974029541],[.398963987827301,.432654976844788],[.476410001516342,.405806005001068],[.189241006970406,.523923993110657],[.228962004184723,.348950982093811],[.490725994110107,.562400996685028],[.404670000076294,.485132992267609],[.019469000399113,.401564002037048],[.426243007183075,.420431017875671],[.396993011236191,.548797011375427],[.266469985246658,.376977026462555],[.439121007919312,.51895797252655],[.032313998788595,.644356966018677],[.419054001569748,.387154996395111],[.462783008813858,.505746960639954],[.238978996872902,.779744982719421],[.198220998048782,.831938028335571],[.107550002634525,.540755033493042],[.183610007166862,.740257024765015],[.134409993886948,.333683013916016],[.385764002799988,.883153975009918],[.490967005491257,.579378008842468],[.382384985685349,.508572995662689],[.174399003386497,.397670984268188],[.318785011768341,.39623498916626],[.343364000320435,.400596976280212],[.396100014448166,.710216999053955],[.187885001301765,.588537991046906],[.430987000465393,.944064974784851],[.318993002176285,.898285031318665],[.266247987747192,.869701027870178],[.500023007392883,.190576016902924],[.499976992607117,.954452991485596],[.366169989109039,.398822009563446],[.393207013607025,.39553701877594],[.410373002290726,.391080021858215],[.194993004202843,.342101991176605],[.388664990663528,.362284004688263],[.365961998701096,.355970978736877],[.343364000320435,.355356991291046],[.318785011768341,.35834002494812],[.301414996385574,.363156020641327],[.058132998645306,.319076001644135],[.301414996385574,.387449026107788],[.499987989664078,.618434011936188],[.415838003158569,.624195992946625],[.445681989192963,.566076993942261],[.465844005346298,.620640993118286],[.49992299079895,.351523995399475],[.288718998432159,.819945991039276],[.335278987884521,.852819979190826],[.440512001514435,.902418971061707],[.128294005990028,.791940987110138],[.408771991729736,.373893976211548],[.455606997013092,.451801002025604],[.499877005815506,.908990025520325],[.375436991453171,.924192011356354],[.11421000212431,.615022003650665],[.448662012815475,.695277988910675],[.4480200111866,.704632043838501],[.447111994028091,.715808033943176],[.444831997156143,.730794012546539],[.430011987686157,.766808986663818],[.406787008047104,.685672998428345],[.400738000869751,.681069016456604],[.392399996519089,.677703022956848],[.367855995893478,.663918972015381],[.247923001646996,.601333022117615],[.452769994735718,.420849978923798],[.43639200925827,.359887003898621],[.416164010763168,.368713974952698],[.413385987281799,.692366003990173],[.228018000721931,.683571994304657],[.468268007040024,.352671027183533],[.411361992359161,.804327011108398],[.499989002943039,.469825029373169],[.479153990745544,.442654013633728],[.499974012374878,.439637005329132],[.432112008333206,.493588984012604],[.499886006116867,.866917014122009],[.49991300702095,.821729004383087],[.456548988819122,.819200992584229],[.344549000263214,.745438992977142],[.37890899181366,.574010014533997],[.374292999505997,.780184984207153],[.319687992334366,.570737957954407],[.357154995203018,.604269981384277],[.295284003019333,.621580958366394],[.447750002145767,.862477004528046],[.410986006259918,.508723020553589],[.31395098567009,.775308012962341],[.354128003120422,.812552988529205],[.324548006057739,.703992962837219],[.189096003770828,.646299958229065],[.279776990413666,.71465802192688],[.1338230073452,.682700991630554],[.336768001317978,.644733011722565],[.429883986711502,.466521978378296],[.455527991056442,.548622965812683],[.437114000320435,.558896005153656],[.467287987470627,.529924988746643],[.414712011814117,.335219979286194],[.37704598903656,.322777986526489],[.344107985496521,.320150971412659],[.312875986099243,.32233202457428],[.283526003360748,.333190023899078],[.241245999932289,.382785975933075],[.102986000478268,.468762993812561],[.267612010240555,.424560010433197],[.297879010438919,.433175981044769],[.333433985710144,.433878004550934],[.366427004337311,.426115989685059],[.396012008190155,.416696012020111],[.420121014118195,.41022801399231],[.007561000064015,.480777025222778],[.432949006557465,.569517970085144],[.458638995885849,.479089021682739],[.473466008901596,.545744001865387],[.476087987422943,.563830018043518],[.468472003936768,.555056989192963],[.433990985155106,.582361996173859],[.483518004417419,.562983989715576],[.482482999563217,.57784903049469],[.42645001411438,.389798998832703],[.438998997211456,.39649498462677],[.450067013502121,.400434017181396],[.289712011814117,.368252992630005],[.276670008897781,.363372981548309],[.517862021923065,.471948027610779],[.710287988185883,.380764007568359],[.526226997375488,.573909997940063],[.895093023777008,.254140973091125],[.634069979190826,.409575998783112],[.661242008209229,.41302502155304],[.688880026340485,.409460008144379],[.725341975688934,.389131009578705],[.606630027294159,.40370500087738],[.654766023159027,.344011008739471],[.629905998706818,.346076011657715],[.680678009986877,.347265005111694],[.702096998691559,.353591024875641],[.75221198797226,.410804986953735],[.602918028831482,.842862963676453],[.719901978969574,.375599980354309],[.893692970275879,.399959981441498],[.790081977844238,.391354024410248],[.643998026847839,.534487962722778],[.528249025344849,.65040397644043],[.525849997997284,.680191040039062],[.560214996337891,.657229006290436],[.585384011268616,.66654098033905],[.549625992774963,.680860996246338],[.57122802734375,.682691991329193],[.624852001667023,.72809898853302],[.513050019741058,.547281980514526],[.51509702205658,.527251958847046],[.742246985435486,.314507007598877],[.598631024360657,.454979002475739],[.570338010787964,.548575043678284],[.578631997108459,.533622980117798],[.723087012767792,.532054007053375],[.516445994377136,.499638974666595],[.662801027297974,.282917976379395],[.70362401008606,.293271005153656],[.830704987049103,.193813979625702],[.552385985851288,.302568018436432],[.607609987258911,.353887975215912],[.645429015159607,.696707010269165],[.932694971561432,.730105042457581],[.557260990142822,.572826027870178],[.542901992797852,.584792017936707],[.6180260181427,.694710969924927],[.607590973377228,.694203019142151],[.722943007946014,.271963000297546],[.577413976192474,.563166975975037],[.614082992076874,.281386971473694],[.616907000541687,.255886018276215],[.668509006500244,.119913995265961],[.770092010498047,.232020974159241],[.635536015033722,.189248979091644],[.77039098739624,.299556016921997],[.826722025871277,.278755009174347],[.527121007442474,.666198015213013],[.553171992301941,.668527007102966],[.577238023281097,.673889994621277],[.554691970348358,.580065965652466],[.611896991729736,.693961024284363],[.59696102142334,.706539988517761],[.596370995044708,.693953037261963],[.539958000183105,.557139039039612],[.568841993808746,.692366003990173],[.547818005084991,.692366003990173],[.52461302280426,.692366003990173],[.534089982509613,.779141008853912],[.527670979499817,.736225962638855],[.526912987232208,.717857003211975],[.526877999305725,.704625964164734],[.526966989040375,.695277988910675],[.572058022022247,.695277988910675],[.573521018028259,.703539967536926],[.57683801651001,.711845993995667],[.581691026687622,.720062971115112],[.609944999217987,.639909982681274],[.986046016216278,.560034036636353],[.5867999792099,.69539999961853],[.590372025966644,.701822996139526],[.531915009021759,.601536989212036],[.577268004417419,.585934996604919],[.536915004253387,.593786001205444],[.627542972564697,.473352015018463],[.665585994720459,.495950996875763],[.588353991508484,.546862006187439],[.757824003696442,.14767599105835],[.709249973297119,.201507985591888],[.672684013843536,.256581008434296],[.600408971309662,.74900496006012],[.55826598405838,.261672019958496],[.570303976535797,.187870979309082],[.588165998458862,.109044015407562],[.711045026779175,.398952007293701],[.781069993972778,.435405015945435],[.587247014045715,.398931980133057],[.742869973182678,.355445981025696],[.572156012058258,.437651991844177],[.55186802148819,.536570012569427],[.821442008018494,.457556009292603],[.752701997756958,.457181990146637],[.71375697851181,.467626988887787],[.66711300611496,.460672974586487],[.631101012229919,.447153985500336],[.6008620262146,.432473003864288],[.523481011390686,.405627012252808],[.810747981071472,.523926019668579],[.771045982837677,.348959028720856],[.509127020835876,.562718033790588],[.595292985439301,.485023975372314],[.980530977249146,.401564002037048],[.573499977588654,.420000016689301],[.602994978427887,.548687994480133],[.733529984951019,.376977026462555],[.560611009597778,.519016981124878],[.967685997486115,.644356966018677],[.580985009670258,.387160003185272],[.537728011608124,.505385041236877],[.760966002941132,.779752969741821],[.801778972148895,.831938028335571],[.892440974712372,.54076099395752],[.816350996494293,.740260004997253],[.865594983100891,.333687007427216],[.614073991775513,.883246004581451],[.508952975273132,.579437971115112],[.617941975593567,.508316040039062],[.825608015060425,.397674977779388],[.681214988231659,.39623498916626],[.656635999679565,.400596976280212],[.603900015354156,.710216999053955],[.81208598613739,.588539004325867],[.56801301240921,.944564998149872],[.681007981300354,.898285031318665],[.733752012252808,.869701027870178],[.633830010890961,.398822009563446],[.606792986392975,.39553701877594],[.589659988880157,.391062021255493],[.805015981197357,.342108011245728],[.611334979534149,.362284004688263],[.634037971496582,.355970978736877],[.656635999679565,.355356991291046],[.681214988231659,.35834002494812],[.698584973812103,.363156020641327],[.941866993904114,.319076001644135],[.698584973812103,.387449026107788],[.584177017211914,.624107003211975],[.554318010807037,.566076993942261],[.534153997898102,.62064003944397],[.711217999458313,.819975018501282],[.664629995822906,.852871000766754],[.559099972248077,.902631998062134],[.871706008911133,.791940987110138],[.591234028339386,.373893976211548],[.544341027736664,.451583981513977],[.624562978744507,.924192011356354],[.88577002286911,.615028977394104],[.551338016986847,.695277988910675],[.551980018615723,.704632043838501],[.552887976169586,.715808033943176],[.555167973041534,.730794012546539],[.569944024085999,.767035007476807],[.593203008174896,.685675978660583],[.599261999130249,.681069016456604],[.607599973678589,.677703022956848],[.631937980651855,.663500010967255],[.752032995223999,.601315021514893],[.547226011753082,.420395016670227],[.563543975353241,.359827995300293],[.583841025829315,.368713974952698],[.586614012718201,.692366003990173],[.771915018558502,.683578014373779],[.531597018241882,.352482974529266],[.588370978832245,.804440975189209],[.52079701423645,.442565023899078],[.567984998226166,.493479013442993],[.543282985687256,.819254994392395],[.655317008495331,.745514988899231],[.621008992195129,.574018001556396],[.625559985637665,.78031200170517],[.680198013782501,.570719003677368],[.64276397228241,.604337990283966],[.704662978649139,.621529996395111],[.552012026309967,.862591981887817],[.589071989059448,.508637011051178],[.685944974422455,.775357007980347],[.645735025405884,.812640011310577],[.675342977046967,.703978002071381],[.810858011245728,.646304965019226],[.72012197971344,.714666962623596],[.866151988506317,.682704985141754],[.663187026977539,.644596993923187],[.570082008838654,.466325998306274],[.544561982154846,.548375964164734],[.562758982181549,.558784961700439],[.531987011432648,.530140042304993],[.585271000862122,.335177004337311],[.622952997684479,.32277899980545],[.655896008014679,.320163011550903],[.687132000923157,.322345972061157],[.716481983661652,.333200991153717],[.758756995201111,.382786989212036],[.897013008594513,.468769013881683],[.732392013072968,.424547016620636],[.70211398601532,.433162987232208],[.66652500629425,.433866024017334],[.633504986763,.426087975502014],[.603875994682312,.416586995124817],[.579657971858978,.409945011138916],[.992439985275269,.480777025222778],[.567192018032074,.569419980049133],[.54136598110199,.478899002075195],[.526564002037048,.546118021011353],[.523913025856018,.563830018043518],[.531529009342194,.555056989192963],[.566035985946655,.582329034805298],[.51631098985672,.563053965568542],[.5174720287323,.577877044677734],[.573594987392426,.389806985855103],[.560697972774506,.395331978797913],[.549755990505219,.399751007556915],[.710287988185883,.368252992630005],[.723330020904541,.363372981548309]];function We(e){return pe(this,void 0,void 0,(function(){var t,n,r,a,o,i,s,u,c,l,f,p,d,h,v,m;return de(this,(function(g){switch(g.label){case 0:return t=e.maxContinuousChecks,n=void 0===t?5:t,r=e.detectionConfidence,a=void 0===r?.9:r,o=e.maxFaces,i=void 0===o?10:o,s=e.iouThreshold,u=void 0===s?.3:s,c=e.scoreThreshold,l=void 0===c?.75:c,f=e.shouldLoadIrisModel,p=void 0===f||f,d=e.modelUrl,h=e.detectorModelUrl,v=e.irisModelUrl,p?[4,Promise.all([Ve(h,i,u,l),He(d),Ge(v)])]:[3,2];case 1:return m=g.sent(),[3,4];case 2:return[4,Promise.all([Ve(h,i,u,l),He(d)])];case 3:m=g.sent(),g.label=4;case 4:return[2,new Ke(m[0],m[1],n,a,i,p?m[2]:null)]}}))}))}function Ve(e,t,n,r){return pe(this,void 0,void 0,(function(){return de(this,(function(a){return[2,we({modelUrl:e,maxFaces:t,iouThreshold:n,scoreThreshold:r})]}))}))}function He(e){return pe(this,void 0,void 0,(function(){return de(this,(function(t){return null!=e?[2,(0,le.YL)(e)]:[2,(0,le.YL)("https://tfhub.dev/mediapipe/tfjs-model/facemesh/1/default/1",{fromTFHub:!0})]}))}))}function Ge(e){return pe(this,void 0,void 0,(function(){return de(this,(function(t){return null!=e?[2,(0,le.YL)(e)]:[2,(0,le.YL)("https://tfhub.dev/mediapipe/tfjs-model/iris/1/default/2",{fromTFHub:!0})]}))}))}function qe(e,t){if(e.mesh instanceof ce.esB){var n=(0,ce.lub)((function(){var n=(0,ce.RRF)([t-1,0,0]),r=(0,ce.RRF)([1,-1,1]);return(0,ce.lub)((function(){return[(0,ce.zoF)([(0,ce.luU)(t-1,(0,ce.tPi)(e.boundingBox.topLeft,0,1)),(0,ce.tPi)(e.boundingBox.topLeft,1,1)]),(0,ce.zoF)([(0,ce.luU)(t-1,(0,ce.tPi)(e.boundingBox.bottomRight,0,1)),(0,ce.tPi)(e.boundingBox.bottomRight,1,1)]),(0,ce.dC7)((0,ce.luU)(n,e.mesh),r),(0,ce.dC7)((0,ce.luU)(n,e.scaledMesh),r)]}))})),r=n[0],a=n[1],o=n[2],i=n[3];return Object.assign({},e,{boundingBox:{topLeft:r,bottomRight:a},mesh:o,scaledMesh:i})}return Object.assign({},e,{boundingBox:{topLeft:[t-1-e.boundingBox.topLeft[0],e.boundingBox.topLeft[1]],bottomRight:[t-1-e.boundingBox.bottomRight[0],e.boundingBox.bottomRight[1]]},mesh:e.mesh.map((function(e){var n=e.slice(0);return n[0]=t-1-e[0],n})),scaledMesh:e.scaledMesh.map((function(e){var n=e.slice(0);return n[0]=t-1-e[0],n}))})}var Xe,Ke=function(){function e(e,t,n,r,a,o){this.kind="MediaPipeFaceMesh",this.pipeline=new Be(e,t,192,192,n,a,o),this.detectionConfidence=r}return e.getAnnotations=function(){return ke},e.getUVCoords=function(){return Ue},e.prototype.estimateFaces=function(e){return pe(this,void 0,void 0,(function(){var t,n,r,a,o,i,s,u,c,l,f,p,d=this;return de(this,(function(h){switch(h.label){case 0:if(t=e.returnTensors,n=void 0!==t&&t,r=e.flipHorizontal,a=void 0!==r&&r,o=e.predictIrises,i=void 0===o||o,s=e.input,i&&null==this.pipeline.irisModel)throw new Error("The iris model was not loaded as part of facemesh. Please initialize the model with facemesh.load({shouldLoadIrisModel: true}).");return u=function(e){return e instanceof ce.esB?[e.shape[0],e.shape[1]]:[e.height,e.width]}(s),c=u[1],l=(0,ce.lub)((function(){return s instanceof ce.esB||(s=ce.Xhn.fromPixels(s)),(0,ce.dt4)((0,ce.pju)(s,"float32"),0)})),"webgl"!==(0,ce.N_N)()?[3,2]:(p=(0,ce.OBj)().get("WEBGL_PACK_DEPTHWISECONV"),(0,ce.OBj)().set("WEBGL_PACK_DEPTHWISECONV",!0),[4,this.pipeline.predict(l,i)]);case 1:return f=h.sent(),(0,ce.OBj)().set("WEBGL_PACK_DEPTHWISECONV",p),[3,4];case 2:return[4,this.pipeline.predict(l,i)];case 3:f=h.sent(),h.label=4;case 4:return l.dispose(),null!=f&&f.length>0?[2,Promise.all(f.map((function(e,t){return pe(d,void 0,void 0,(function(){var r,o,s,u,l,f,p,d,h,v,m,g,y,b,x=this;return de(this,(function(w){switch(w.label){case 0:return r=e.coords,o=e.scaledCoords,s=e.box,u=e.flag,l=[u],n||(l=l.concat([r,o])),[4,Promise.all(l.map((function(e){return pe(x,void 0,void 0,(function(){return de(this,(function(t){return[2,e.array()]}))}))})))];case 1:if(f=w.sent(),p=f[0],u.dispose(),p<this.detectionConfidence&&this.pipeline.clearRegionOfInterest(t),n)return d={kind:"MediaPipePredictionTensors",faceInViewConfidence:p,mesh:r,scaledMesh:o,boundingBox:{topLeft:(0,ce.RRF)(s.startPoint),bottomRight:(0,ce.RRF)(s.endPoint)}},a?[2,qe(d,c)]:[2,d];for(b in h=f.slice(1),v=h[0],m=h[1],o.dispose(),r.dispose(),g={kind:"MediaPipePredictionValues",faceInViewConfidence:p,boundingBox:{topLeft:s.startPoint,bottomRight:s.endPoint},mesh:v,scaledMesh:m},a&&(g=qe(g,c)),y={},ke)(i||!1===b.includes("Iris"))&&(y[b]=ke[b].map((function(e){return g.scaledMesh[e]})));return g.annotations=y,[2,g]}}))}))})))]:[2,[]]}}))}))},e}();function Ye(e,t){return void 0===e&&(e=Xe.mediapipeFacemesh),void 0===t&&(t={}),pe(this,void 0,void 0,(function(){return de(this,(function(n){if(e===Xe.mediapipeFacemesh)return[2,We(t)];throw new Error(e+" is not a valid package name.")}))}))}!function(e){e.mediapipeFacemesh="mediapipe-facemesh"}(Xe||(Xe={}));n(6322);var Qe=n(97),$e=n.n(Qe),Je=n(184);var et=function(t){var n=(0,e.useRef)(null),r=(0,e.useRef)(null),a=t.color,o=function(){var e=(0,u.Z)(l().mark((function e(){var o,s;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye(Xe.mediapipeFacemesh);case 2:o=e.sent,setTimeout((function(){if("undefined"===typeof n.current||null===n.current||4!==n.current.video.readyState)return alert("\uc0ac\uc6a9 \uac00\ub2a5\ud55c \ucea0\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."),void t.setTryOn(!t.tryOn)}),3e3),setInterval((function(){s(o,a)}),750),s=function(){var e=(0,u.Z)(l().mark((function e(t,a){var o,s,u,c,f;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"===typeof n.current||null===n.current||4!==n.current.video.readyState){e.next=13;break}return o=n.current.video,s=n.current.video.videoWidth,u=n.current.video.videoHeight,n.current.video.width=s,n.current.video.height=u,r.current.width=s,r.current.height=u,e.next=10,t.estimateFaces({input:o});case 10:c=e.sent,f=r.current.getContext("2d"),requestAnimationFrame((function(){i(c,f,a)}));case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=function(e,t,n){e.length>0&&e.forEach((function(e){var r,a=e.annotations.lipsLowerOuter,o=e.annotations.lipsLowerInner,i=e.annotations.lipsUpperOuter,s=e.annotations.lipsUpperInner;for(t.beginPath(),t.moveTo(a[0][0],a[0][1]),r=1;r<a.length-1;r++)t.lineTo(a[r][0],a[r][1]);for(r=o.length-1;r>=0;r--)t.lineTo(o[r][0],o[r][1]);for(t.lineTo(a[0][0],a[0][1]),t.moveTo(i[0][0],i[0][1]),r=1;r<i.length-1;r++)t.lineTo(i[r][0],i[r][1]);for(r=s.length-1;r>=0;r--)t.lineTo(s[r][0],s[r][1]);t.fillStyle=n,t.globalAlpha=.7,t.fill()}))};return(0,e.useEffect)((function(){o()}),[]),(0,Je.jsxs)("div",{className:"makeup-wrap",children:[(0,Je.jsx)("div",{className:"cam-wrap",children:(0,Je.jsx)($e(),{ref:n,className:"cam"})}),(0,Je.jsx)("div",{className:"canvas-wrap",children:(0,Je.jsx)("canvas",{ref:r,className:"canvas"})})]})},tt=n(5717),nt=n.p+"static/media/colortest_full.574729d9215d796716c5.png",rt=n.p+"static/media/loading.1a62bf7153f8736798ed.gif",at={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ot=e.createContext&&e.createContext(at),it=function(){return it=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},it.apply(this,arguments)},st=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function ut(t){return t&&t.map((function(t,n){return e.createElement(t.tag,it({key:n},t.attr),ut(t.child))}))}function ct(t){return function(n){return e.createElement(lt,it({attr:it({},t.attr)},n),ut(t.child))}}function lt(t){var n=function(n){var r,a=t.attr,o=t.size,i=t.title,s=st(t,["attr","size","title"]),u=o||n.size||"1em";return n.className&&(r=n.className),t.className&&(r=(r?r+" ":"")+t.className),e.createElement("svg",it({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,a,s,{className:r,style:it(it({color:t.color||n.color},n.style),t.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),i&&e.createElement("title",null,i),t.children)};return void 0!==ot?e.createElement(ot.Consumer,null,(function(e){return n(e)})):n(at)}function ft(e){return ct({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M923 283.6a260.04 260.04 0 0 0-56.9-82.8 264.4 264.4 0 0 0-84-55.5A265.34 265.34 0 0 0 679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 0 0-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9z"}}]})(e)}function pt(e){return ct({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-80 600c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V360c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v304zm224 0c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V360c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v304z"}}]})(e)}function dt(e){return ct({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm144.1 454.9L437.7 677.8a8.02 8.02 0 0 1-12.7-6.5V353.7a8 8 0 0 1 12.7-6.5L656.1 506a7.9 7.9 0 0 1 0 12.9z"}}]})(e)}function ht(e){return ct({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 0 0 .6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0 0 46.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z"}}]})(e)}function vt(e){return ct({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 0 0-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}},{tag:"path",attr:{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]})(e)}function mt(e){return ct({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M518.3 459a8 8 0 0 0-12.6 0l-112 141.7a7.98 7.98 0 0 0 6.3 12.9h73.9V856c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V613.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 459z"}},{tag:"path",attr:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0 1 52.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 0 1-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]})(e)}function gt(e){return ct({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 0 0 0 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]})(e)}function yt(e){return ct({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M880 310H732.4c13.6-21.4 21.6-46.8 21.6-74 0-76.1-61.9-138-138-138-41.4 0-78.7 18.4-104 47.4-25.3-29-62.6-47.4-104-47.4-76.1 0-138 61.9-138 138 0 27.2 7.9 52.6 21.6 74H144c-17.7 0-32 14.3-32 32v200c0 4.4 3.6 8 8 8h40v344c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V550h40c4.4 0 8-3.6 8-8V342c0-17.7-14.3-32-32-32zm-334-74c0-38.6 31.4-70 70-70s70 31.4 70 70-31.4 70-70 70h-70v-70zm-138-70c38.6 0 70 31.4 70 70v70h-70c-38.6 0-70-31.4-70-70s31.4-70 70-70zM180 482V378h298v104H180zm48 68h250v308H228V550zm568 308H546V550h250v308zm48-376H546V378h298v104z"}}]})(e)}function bt(e){return ct({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M923 283.6a260.04 260.04 0 0 0-56.9-82.8 264.4 264.4 0 0 0-84-55.5A265.34 265.34 0 0 0 679.7 125c-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5a258.44 258.44 0 0 0-56.9 82.8c-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3.1-35.3-7-69.6-20.9-101.9zM512 814.8S156 586.7 156 385.5C156 283.6 240.3 201 344.3 201c73.1 0 136.5 40.8 167.7 100.4C543.2 241.8 606.6 201 679.7 201c104 0 188.3 82.6 188.3 184.5 0 201.2-356 429.3-356 429.3z"}}]})(e)}function xt(e){return ct({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0 0 11.6 0l43.6-43.5a8.2 8.2 0 0 0 0-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]})(e)}function wt(e){return ct({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M288 421a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm352 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0zM512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm263 711c-34.2 34.2-74 61-118.3 79.8C611 874.2 562.3 884 512 884c-50.3 0-99-9.8-144.8-29.2A370.4 370.4 0 0 1 248.9 775c-34.2-34.2-61-74-79.8-118.3C149.8 611 140 562.3 140 512s9.8-99 29.2-144.8A370.4 370.4 0 0 1 249 248.9c34.2-34.2 74-61 118.3-79.8C413 149.8 461.7 140 512 140c50.3 0 99 9.8 144.8 29.2A370.4 370.4 0 0 1 775.1 249c34.2 34.2 61 74 79.8 118.3C874.2 413 884 461.7 884 512s-9.8 99-29.2 144.8A368.89 368.89 0 0 1 775 775zM664 533h-48.1c-4.2 0-7.8 3.2-8.1 7.4C604 589.9 562.5 629 512 629s-92.1-39.1-95.8-88.6c-.3-4.2-3.9-7.4-8.1-7.4H360a8 8 0 0 0-8 8.4c4.4 84.3 74.5 151.6 160 151.6s155.6-67.3 160-151.6a8 8 0 0 0-8-8.4z"}}]})(e)}function kt(e){return ct({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M858.5 763.6a374 374 0 0 0-80.6-119.5 375.63 375.63 0 0 0-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 0 0-80.6 119.5A371.7 371.7 0 0 0 136 901.8a8 8 0 0 0 8 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 0 0 8-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]})(e)}var St=n(9611);function Et(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,St.Z)(e,t)}function Ct(e){return"/"===e.charAt(0)}function Nt(e,t){for(var n=t,r=n+1,a=e.length;r<a;n+=1,r+=1)e[n]=e[r];e.pop()}var Tt=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],a=t&&t.split("/")||[],o=e&&Ct(e),i=t&&Ct(t),s=o||i;if(e&&Ct(e)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var u=a[a.length-1];n="."===u||".."===u||""===u}else n=!1;for(var c=0,l=a.length;l>=0;l--){var f=a[l];"."===f?Nt(a,l):".."===f?(Nt(a,l),c++):c&&(Nt(a,l),c--)}if(!s)for(;c--;c)a.unshift("..");!s||""===a[0]||a[0]&&Ct(a[0])||a.unshift("");var p=a.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p},It="Invariant failed";function Ot(e,t){if(!e)throw new Error(It)}function _t(e){return"/"===e.charAt(0)?e:"/"+e}function Dt(e){return"/"===e.charAt(0)?e.substr(1):e}function At(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function Rt(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function Pt(e){var t=e.pathname,n=e.search,r=e.hash,a=t||"/";return n&&"?"!==n&&(a+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(a+="#"===r.charAt(0)?r:"#"+r),a}function Mt(e,t,n,r){var a;"string"===typeof e?(a=function(e){var t=e||"/",n="",r="",a=t.indexOf("#");-1!==a&&(r=t.substr(a),t=t.substr(0,a));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),a.state=t):(void 0===(a=x({},e)).pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==t&&void 0===a.state&&(a.state=t));try{a.pathname=decodeURI(a.pathname)}catch(Qf){throw Qf instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):Qf}return n&&(a.key=n),r?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=Tt(a.pathname,r.pathname)):a.pathname=r.pathname:a.pathname||(a.pathname="/"),a}function Ft(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,a){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof r?r(o,a):a(!0):a(!1!==o)}else a(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var Lt=!("undefined"===typeof window||!window.document||!window.document.createElement);function jt(e,t){t(window.confirm(e))}var Zt="popstate",zt="hashchange";function Bt(){try{return window.history.state||{}}catch(Qf){return{}}}function Ut(e){void 0===e&&(e={}),Lt||Ot(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),a=e,o=a.forceRefresh,i=void 0!==o&&o,s=a.getUserConfirmation,u=void 0===s?jt:s,c=a.keyLength,l=void 0===c?6:c,f=e.basename?Rt(_t(e.basename)):"";function p(e){var t=e||{},n=t.key,r=t.state,a=window.location,o=a.pathname+a.search+a.hash;return f&&(o=At(o,f)),Mt(o,r,n)}function d(){return Math.random().toString(36).substr(2,l)}var h=Ft();function v(e){x(I,e),I.length=t.length,h.notifyListeners(I.location,I.action)}function m(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||b(p(e.state))}function g(){b(p(Bt()))}var y=!1;function b(e){if(y)y=!1,v();else{h.confirmTransitionTo(e,"POP",u,(function(t){t?v({action:"POP",location:e}):function(e){var t=I.location,n=k.indexOf(t.key);-1===n&&(n=0);var r=k.indexOf(e.key);-1===r&&(r=0);var a=n-r;a&&(y=!0,E(a))}(e)}))}}var w=p(Bt()),k=[w.key];function S(e){return f+Pt(e)}function E(e){t.go(e)}var C=0;function N(e){1===(C+=e)&&1===e?(window.addEventListener(Zt,m),r&&window.addEventListener(zt,g)):0===C&&(window.removeEventListener(Zt,m),r&&window.removeEventListener(zt,g))}var T=!1;var I={length:t.length,action:"POP",location:w,createHref:S,push:function(e,r){var a="PUSH",o=Mt(e,r,d(),I.location);h.confirmTransitionTo(o,a,u,(function(e){if(e){var r=S(o),s=o.key,u=o.state;if(n)if(t.pushState({key:s,state:u},null,r),i)window.location.href=r;else{var c=k.indexOf(I.location.key),l=k.slice(0,c+1);l.push(o.key),k=l,v({action:a,location:o})}else window.location.href=r}}))},replace:function(e,r){var a="REPLACE",o=Mt(e,r,d(),I.location);h.confirmTransitionTo(o,a,u,(function(e){if(e){var r=S(o),s=o.key,u=o.state;if(n)if(t.replaceState({key:s,state:u},null,r),i)window.location.replace(r);else{var c=k.indexOf(I.location.key);-1!==c&&(k[c]=o.key),v({action:a,location:o})}else window.location.replace(r)}}))},go:E,goBack:function(){E(-1)},goForward:function(){E(1)},block:function(e){void 0===e&&(e=!1);var t=h.setPrompt(e);return T||(N(1),T=!0),function(){return T&&(T=!1,N(-1)),t()}},listen:function(e){var t=h.appendListener(e);return N(1),function(){N(-1),t()}}};return I}var Wt="hashchange",Vt={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+Dt(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:Dt,decodePath:_t},slash:{encodePath:_t,decodePath:_t}};function Ht(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function Gt(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function qt(e){window.location.replace(Ht(window.location.href)+"#"+e)}function Xt(e){void 0===e&&{},Lt||Ot(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,a=void 0===r?jt:r,o=n.hashType,i=void 0===o?"slash":o,s=e.basename?Rt(_t(e.basename)):"",u=Vt[i],c=u.encodePath,l=u.decodePath;function f(){var e=l(Gt());return s&&At(e,s),Mt(e)}var p=Ft();function d(e){x(N,e),N.length=t.length,p.notifyListeners(N.location,N.action)}var h=!1,v=null;function m(){var e,t,n=Gt(),r=c(n);if(n!==r)qt(r);else{var o=f(),i=N.location;if(!h&&(o,i.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(v===Pt(o))return;null,function(e){if(h)!1,d();else{var t="POP";p.confirmTransitionTo(e,t,a,(function(n){n?d({action:t,location:e}):function(e){var t=N.location,n=w.lastIndexOf(Pt(t));-1===n&&0;var r=w.lastIndexOf(Pt(e));-1===r&&0;var a=n-r;a&&(!0,k(a))}(e)}))}}(o)}}var g=Gt(),y=c(g);g!==y&&qt(y);var b=f(),w=[Pt(b)];function k(e){t.go(e)}var S=0;function E(e){1===(S+=e)&&1===e?window.addEventListener(Wt,m):0===S&&window.removeEventListener(Wt,m)}var C=!1;var N={length:t.length,action:"POP",location:b,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&Ht(window.location.href),n+"#"+c(s+Pt(e))},push:function(e,t){var n="PUSH",r=Mt(e,void 0,void 0,N.location);p.confirmTransitionTo(r,n,a,(function(e){if(e){var t=Pt(r),a=c(s+t);if(Gt()!==a){t,function(e){window.location.hash=e}(a);var o=w.lastIndexOf(Pt(N.location)),i=w.slice(0,o+1);i.push(t),i,d({action:n,location:r})}else d()}}))},replace:function(e,t){var n="REPLACE",r=Mt(e,void 0,void 0,N.location);p.confirmTransitionTo(r,n,a,(function(e){if(e){var t=Pt(r),a=c(s+t);Gt()!==a&&(t,qt(a));var o=w.indexOf(Pt(N.location));-1!==o&&(w[o]=t),d({action:n,location:r})}}))},go:k,goBack:function(){k(-1)},goForward:function(){k(1)},block:function(e){void 0===e&&!1;var t=p.setPrompt(e);return C||(E(1),!0),function(){return C&&(!1,E(-1)),t()}},listen:function(e){var t=p.appendListener(e);return E(1),function(){E(-1),t()}}};return N}function Kt(e,t,n){return Math.min(Math.max(e,t),n)}function Yt(e){void 0===e&&{};var t=e,n=t.getUserConfirmation,r=t.initialEntries,a=void 0===r?["/"]:r,o=t.initialIndex,i=void 0===o?0:o,s=t.keyLength,u=void 0===s?6:s,c=Ft();function l(e){x(m,e),m.length=m.entries.length,c.notifyListeners(m.location,m.action)}function f(){return Math.random().toString(36).substr(2,u)}var p=Kt(i,0,a.length-1),d=a.map((function(e){return Mt(e,void 0,"string"===typeof e?f():e.key||f())})),h=Pt;function v(e){var t=Kt(m.index+e,0,m.entries.length-1),r=m.entries[t];c.confirmTransitionTo(r,"POP",n,(function(e){e?l({action:"POP",location:r,index:t}):l()}))}var m={length:d.length,action:"POP",location:d[p],index:p,entries:d,createHref:h,push:function(e,t){var r="PUSH",a=Mt(e,t,f(),m.location);c.confirmTransitionTo(a,r,n,(function(e){if(e){var t=m.index+1,n=m.entries.slice(0);n.length>t?n.splice(t,n.length-t,a):n.push(a),l({action:r,location:a,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",a=Mt(e,t,f(),m.location);c.confirmTransitionTo(a,r,n,(function(e){e&&(m.entries[m.index]=a,l({action:r,location:a}))}))},go:v,goBack:function(){v(-1)},goForward:function(){v(1)},canGo:function(e){var t=m.index+e;return t>=0&&t<m.entries.length},block:function(e){return void 0===e&&!1,c.setPrompt(e)},listen:function(e){return c.appendListener(e)}};return m}var Qt=n(2007),$t=n.n(Qt),Jt=1073741823,en="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};function tn(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var nn=e.createContext||function(t,n){var r,a,o="__create-react-context-"+function(){var e="__global_unique_id__";return en[e]=(en[e]||0)+1}()+"__",i=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).emitter=tn(t.props.value),t}Et(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[o]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,a=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,a)?(t="function"===typeof n?n(r,a):Jt,0!==(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(e.Component);i.childContextTypes=((r={})[o]=$t().object.isRequired,r);var s=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).state={value:t.getValue()},t.onUpdate=function(e,n){0!==((0|t.observedBits)&n)&&t.setState({value:t.getValue()})},t}Et(n,e);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?Jt:t},r.componentDidMount=function(){this.context[o]&&this.context[o].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?Jt:e},r.componentWillUnmount=function(){this.context[o]&&this.context[o].off(this.onUpdate)},r.getValue=function(){return this.context[o]?this.context[o].get():t},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(e.Component);return s.contextTypes=((a={})[o]=$t().object,a),{Provider:i,Consumer:s}},rn=nn,an=n(371),on=n.n(an),sn=(n(7810),function(e){var t=rn();return t.displayName=e,t}),un=sn("Router-History"),cn=sn("Router"),ln=function(t){function n(e){var n;return(n=t.call(this,e)||this).state={location:e.history.location},n._isMounted=!1,n._pendingLocation=null,e.staticContext||(n.unlisten=e.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}Et(n,t),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},r.render=function(){return e.createElement(cn.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},e.createElement(un.Provider,{children:this.props.children||null,value:this.props.history}))},n}(e.Component);e.Component;e.Component;var fn={},pn=0;function dn(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,a=n.exact,o=void 0!==a&&a,i=n.strict,s=void 0!==i&&i,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=fn[n]||(fn[n]={});if(r[e])return r[e];var a=[],o={regexp:on()(e,a,t),keys:a};return pn<1e4&&(r[e]=o,pn++),o}(n,{end:o,strict:s,sensitive:c}),a=r.regexp,i=r.keys,u=a.exec(e);if(!u)return null;var l=u[0],f=u.slice(1),p=e===l;return o&&!p?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:p,params:i.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var hn=function(t){function n(){return t.apply(this,arguments)||this}return Et(n,t),n.prototype.render=function(){var t=this;return e.createElement(cn.Consumer,null,(function(n){n||Ot(!1);var r=t.props.location||n.location,a=x({},n,{location:r,match:t.props.computedMatch?t.props.computedMatch:t.props.path?dn(r.pathname,t.props):n.match}),o=t.props,i=o.children,s=o.component,u=o.render;return Array.isArray(i)&&function(t){return 0===e.Children.count(t)}(i)&&(i=null),e.createElement(cn.Provider,{value:a},a.match?i?"function"===typeof i?i(a):i:s?e.createElement(s,a):u?u(a):null:"function"===typeof i?i(a):null)}))},n}(e.Component);function vn(e){return"/"===e.charAt(0)?e:"/"+e}function mn(e,t){if(!e)return t;var n=vn(e);return 0!==t.pathname.indexOf(n)?t:x({},t,{pathname:t.pathname.substr(n.length)})}function gn(e){return"string"===typeof e?e:Pt(e)}function yn(e){return function(){Ot(!1)}}function bn(){}e.Component;var xn=function(t){function n(){return t.apply(this,arguments)||this}return Et(n,t),n.prototype.render=function(){var t=this;return e.createElement(cn.Consumer,null,(function(n){n||Ot(!1);var r,a,o=t.props.location||n.location;return e.Children.forEach(t.props.children,(function(t){if(null==a&&e.isValidElement(t)){r=t;var i=t.props.path||t.props.from;a=i?dn(o.pathname,x({},t.props,{path:i})):n.match}})),a?e.cloneElement(r,{location:o,computedMatch:a}):null}))},n}(e.Component);function wn(t){var n="withRouter("+(t.displayName||t.name)+")",r=function(n){var r=n.wrappedComponentRef,a=w(n,["wrappedComponentRef"]);return e.createElement(cn.Consumer,null,(function(n){return n||Ot(!1),e.createElement(t,x({},a,n,{ref:r}))}))};return r.displayName=n,r.WrappedComponent=t,S()(r,t)}var kn=e.useContext;function Sn(){return kn(cn).location}var En=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).history=Ut(e.props),e}return Et(n,t),n.prototype.render=function(){return e.createElement(ln,{history:this.history,children:this.props.children})},n}(e.Component);e.Component;var Cn=function(e,t){return"function"===typeof e?e(t):e},Nn=function(e,t){return"string"===typeof e?Mt(e,null,null,t):e},Tn=function(e){return e},In=e.forwardRef;"undefined"===typeof In&&(In=Tn);var On=In((function(t,n){var r=t.innerRef,a=t.navigate,o=t.onClick,i=w(t,["innerRef","navigate","onClick"]),s=i.target,u=x({},i,{onClick:function(e){try{o&&o(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),a())}});return u.ref=Tn!==In&&n||r,e.createElement("a",u)}));var _n=In((function(t,n){var r=t.component,a=void 0===r?On:r,o=t.replace,i=t.to,s=t.innerRef,u=w(t,["component","replace","to","innerRef"]);return e.createElement(cn.Consumer,null,(function(t){t||Ot(!1);var r=t.history,c=Nn(Cn(i,t.location),t.location),l=c?r.createHref(c):"",f=x({},u,{href:l,navigate:function(){var e=Cn(i,t.location),n=Pt(t.location)===Pt(Nn(e));(o||n?r.replace:r.push)(e)}});return Tn!==In?f.ref=n||s:f.innerRef=s,e.createElement(a,f)}))})),Dn=function(e){return e},An=e.forwardRef;"undefined"===typeof An&&(An=Dn);An((function(t,n){var r=t["aria-current"],a=void 0===r?"page":r,o=t.activeClassName,i=void 0===o?"active":o,s=t.activeStyle,u=t.className,c=t.exact,l=t.isActive,f=t.location,p=t.sensitive,d=t.strict,h=t.style,v=t.to,m=t.innerRef,g=w(t,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return e.createElement(cn.Consumer,null,(function(t){t||Ot(!1);var r=f||t.location,o=Nn(Cn(v,r),r),y=o.pathname,b=y&&y.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),w=b?dn(r.pathname,{path:b,exact:c,sensitive:p,strict:d}):null,k=!!(l?l(w,r):w),S="function"===typeof u?u(k):u,E="function"===typeof h?h(k):h;k&&(S=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(S,i),E=x({},E,s));var C=x({"aria-current":k&&a||null,className:S,style:E,to:o},g);return Dn!==An?C.ref=n||m:C.innerRef=m,e.createElement(_n,C)}))}));var Rn=$((function(e){return{navTG:e.reducer1}}))((function(t){(0,e.useEffect)((function(){t.dispatch({type:"nav-on"})}),[t.navTG]);var n,r=(0,e.useRef)(null),o=(0,e.useRef)(null),i="https://teachablemachine.withgoogle.com/models/LstXi4uuR/",c=(0,e.useState)(!1),f=(0,a.Z)(c,2),p=f[0],d=f[1],h=(0,e.useState)(""),v=(0,a.Z)(h,2),m=v[0],g=v[1],y=(0,e.useState)(""),b=(0,a.Z)(y,2),x=b[0],w=b[1],k=i+"model.json",S=i+"metadata.json";function E(){return(E=(0,u.Z)(l().mark((function e(){var t,r;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,ue.zD(k,S);case 3:return n=e.sent,t=document.getElementById("pic"),e.next=7,n.predict(t,!1);case 7:(r=e.sent).sort((function(e,t){return parseFloat(t.probability)-parseFloat(e.probability)})),console.log(r[0].className),e.t0=r[0].className,e.next="\ubd04"===e.t0?13:"\uc5ec\ub984"===e.t0?17:"\uac00\uc744"===e.t0?21:"\uaca8\uc6b8"===e.t0?25:29;break;case 13:return g("\ubd04 \uc6dc"),w("\ucd94\ucc9c \uceec\ub7ec : \uce74\uba5c\uc0c9, \ubcf5\uc22d\uc544\uc0c9, \uace8\ub4dc\uc0c9"),Z("\ubd04\uc6dc"),e.abrupt("break",30);case 17:return g("\uc5ec\ub984 \ucfe8"),Z("\uc5ec\ub984\ucfe8"),w("\ucd94\ucc9c \uceec\ub7ec : \ub77c\ubca4\ub354\uc0c9, \uc5f0\ubd84\ud64d\uc0c9, \uc5f0\ud558\ub298\uc0c9"),e.abrupt("break",30);case 21:return g("\uac00\uc744 \uc6dc"),Z("\uac00\uc744\uc6dc"),w("\ucd94\ucc9c \uceec\ub7ec : \uc5f0\ud68c\uc0c9, \uac80\uc815\uc0c9"),e.abrupt("break",30);case 25:return g("\uaca8\uc6b8 \ucfe8"),Z("\uaca8\uc6b8\ucfe8"),w("\ucd94\ucc9c \uceec\ub7ec : \uace8\ub4dc\ubca0\uc774\uc9c0, \ub204\ub4dc\ud1a4"),e.abrupt("break",30);case 29:g("\uc54c\uc218\uc5c6\uc74c");case 30:d(!1);case 31:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=(0,e.useState)(""),N=(0,a.Z)(C,2),T=N[0],I=N[1],O=function(){var e=(0,u.Z)(l().mark((function e(){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye(Xe.mediapipeFacemesh);case 2:t=e.sent,g(""),w(""),j(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=(0,e.useState)(),D=(0,a.Z)(_,2),A=D[0],R=D[1],P=(0,e.useState)(),M=(0,a.Z)(P,2),F=M[0],L=M[1],j=function(){var e=(0,u.Z)(l().mark((function e(t){var n,a,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"===typeof r.current||null===r.current){e.next=10;break}return o.current.width=r.current.width,o.current.height=r.current.height,n=document.getElementById("pic"),e.next=6,t.estimateFaces({input:n});case 6:a=e.sent,i=o.current.getContext("2d"),R(a),L(i);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(e){t.refreshFunction(e)},z={color:"inherit",textDecoration:"none",maxHeight:"75px"};return(0,Je.jsxs)("div",{className:"colortest-wrap",children:[p&&(0,Je.jsx)("div",{className:"loading-wrap",children:(0,Je.jsx)("img",{src:rt,alt:"loading"})}),(0,Je.jsx)("div",{className:"colortest-left-wrap",children:(0,Je.jsxs)("div",{style:{position:"relative"},children:[(0,Je.jsx)("div",{style:{position:"absolute"},children:T&&(0,Je.jsx)("canvas",{ref:o})}),T?(0,Je.jsx)("img",{id:"pic",ref:r,alt:"sample",src:T,onLoad:function(){return O()}}):(0,Je.jsx)("img",{src:nt,alt:""})]})}),(0,Je.jsxs)("div",{className:"colortest-right-wrap",children:[(0,Je.jsx)("div",{className:"colortest-right-wrap-title",children:(0,Je.jsx)("h1",{children:"\ud37c\uc2a4\ub110 \uceec\ub7ec\ud14c\uc2a4\ud2b8 "})}),(0,Je.jsx)("div",{className:"colortest-right-wrap-span",children:(0,Je.jsx)("span",{children:"\ub9bd\ud53d \uba38\uc2e0\ub7ec\ub2dd \ud559\uc2b5 \ubaa8\ub378\uc744 \ud1b5\ud574 \ud37c\uc2a4\ub110 \uceec\ub7ec\ub97c \uc9c4\ub2e8\ud569\ub2c8\ub2e4."})}),(0,Je.jsxs)("div",{style:{alignItems:"center",justifyContent:"center"},children:[(0,Je.jsx)("input",{name:"imgUpload",type:"file",accept:"image/*",onChange:function(e){I(URL.createObjectURL(e.target.files[0]))},id:"input-image",style:{display:"none"}}),(0,Je.jsx)("div",{children:(0,Je.jsxs)("span",{children:["\ud1a4 \ud310\uc815 \uacb0\uacfc:",m]})}),(0,Je.jsx)("div",{children:(0,Je.jsx)("span",{className:"resultExplain",children:x})}),m&&(0,Je.jsx)("div",{className:"test-slide-wrap",children:(0,Je.jsx)(tt.Z,s(s({},{dots:!1,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1}),{},{children:t.Products.slice(0,10).map((function(e){return(0,Je.jsxs)("div",{className:"test-slide-img",onClick:function(){return function(e,t,n){t.clearRect(0,0,o.current.width,o.current.height),e.length>0&&e.forEach((function(e){var r,a=e.annotations.lipsLowerOuter,o=e.annotations.lipsLowerInner,i=e.annotations.lipsUpperOuter,s=e.annotations.lipsUpperInner;for(t.beginPath(),t.moveTo(a[0][0],a[0][1]),r=1;r<a.length-1;r++)t.lineTo(a[r][0],a[r][1]);for(r=o.length-1;r>=0;r--)t.lineTo(o[r][0],o[r][1]);for(t.lineTo(a[0][0],a[0][1]),t.moveTo(i[0][0],i[0][1]),r=1;r<i.length-1;r++)t.lineTo(i[r][0],i[r][1]);for(r=s.length-1;r>=0;r--)t.lineTo(s[r][0],s[r][1]);t.fillStyle=n,t.globalAlpha=.6,t.fill()}))}(A,F,e.color)},children:[(0,Je.jsx)("img",{src:"http://localhost:5000/".concat(e.images[0]),alt:""}),(0,Je.jsxs)("div",{className:"product-content-wrap",children:[(0,Je.jsx)(_n,{to:"./product/".concat(e._id),style:z,children:(0,Je.jsxs)("span",{className:"product-title",children:[m," \ucd94\ucc9c \uc81c\ud488:",e.title]})}),(0,Je.jsx)("div",{className:"color-box",style:{backgroundColor:"".concat(e.color),width:"20px",height:"20px",borderRadius:"10px",marginTop:"3%"}}),(0,Je.jsxs)("span",{className:"product-price",children:[e.price," \uc6d0"]})]})]})}))}))})]}),(0,Je.jsxs)("div",{className:"btn-wrap",children:[(0,Je.jsx)("div",{className:"input-image-wrap",children:(0,Je.jsxs)("label",{className:"input-image-btn",for:"input-image",children:[(0,Je.jsx)("div",{className:"icon-wrap",children:(0,Je.jsx)(mt,{})}),(0,Je.jsx)("span",{children:"\uc5c5\ub85c\ub4dc"})]})}),(0,Je.jsx)("div",{className:"input-image-wrap",children:(0,Je.jsxs)("label",{className:"input-image-btn",onClick:function(){return function(){return E.apply(this,arguments)}()},children:[(0,Je.jsx)("div",{className:"icon-wrap",children:(0,Je.jsx)(wt,{})}),(0,Je.jsx)("span",{children:"\ud14c\uc2a4\ud2b8"})]})})]}),(0,Je.jsx)("div",{children:(0,Je.jsx)("span",{className:"test-span",children:"*\ub9bd\uc2a4\ud2f1 \uc0ac\uc9c4\uc744 \ud074\ub9ad\ud558\uba74 \ud14c\uc2a4\ud2b8\ud574\ubcfc \uc218 \uc788\uc2b5\ub2c8\ub2e4."})})]})]})}));function Pn(e,t){if(null==e)return{};var n,r,a=w(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Mn=n(1694),Fn=n.n(Mn),Ln=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},jn=e.createContext(null);n(2176);function Zn(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function zn(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function Bn(t,n){return Object.keys(n).reduce((function(r,a){var o,i=r,s=i[Zn(a)],u=i[a],c=w(i,[Zn(a),a].map(zn)),l=n[a],f=function(t,n,r){var a=(0,e.useRef)(void 0!==t),o=(0,e.useState)(n),i=o[0],s=o[1],u=void 0!==t,c=a.current;return a.current=u,!u&&c&&i!==n&&s(n),[u?t:i,(0,e.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];r&&r.apply(void 0,[e].concat(n)),s(e)}),[r])]}(u,s,t[l]),p=f[0],d=f[1];return x({},c,((o={})[a]=p,o[l]=d,o))}),t)}function Un(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function Wn(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function Vn(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}Un.__suppressDeprecationWarning=!0,Wn.__suppressDeprecationWarning=!0,Vn.__suppressDeprecationWarning=!0;var Hn=/-(.)/g;var Gn=["xxl","xl","lg","md","sm","xs"],qn=e.createContext({prefixes:{},breakpoints:Gn});qn.Consumer,qn.Provider;function Xn(t,n){var r=(0,e.useContext)(qn).prefixes;return t||r[n]||n}var Kn=["className","bsPrefix","as"],Yn=function(e){return e[0].toUpperCase()+function(e){return e.replace(Hn,(function(e,t){return t.toUpperCase()}))}(e).slice(1)};function Qn(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.displayName,a=void 0===r?Yn(t):r,o=n.Component,i=n.defaultProps,u=e.forwardRef((function(e,n){var r=e.className,a=e.bsPrefix,i=e.as,u=void 0===i?o||"div":i,c=Pn(e,Kn),l=Xn(a,t);return(0,Je.jsx)(u,s({ref:n,className:Fn()(r,l)},c))}));return u.defaultProps=i,u.displayName=a,u}var $n=["bsPrefix","className","as"],Jn=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,a=e.as,o=Pn(e,$n);n=Xn(n,"navbar-brand");var i=a||(o.href?"a":"span");return(0,Je.jsx)(i,s(s({},o),{},{ref:t,className:Fn()(r,n)}))}));Jn.displayName="NavbarBrand";var er=Jn;function tr(e){return e&&e.ownerDocument||document}function nr(e,t){return function(e){var t=tr(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var rr=/([A-Z])/g;var ar=/^ms-/;function or(e){return function(e){return e.replace(rr,"-$1").toLowerCase()}(e).replace(ar,"-ms-")}var ir=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var sr=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(or(t))||nr(e).getPropertyValue(or(t));Object.keys(t).forEach((function(a){var o=t[a];o||0===o?!function(e){return!(!e||!ir.test(e))}(a)?n+=or(a)+": "+o+";":r+=a+"("+o+") ":e.style.removeProperty(or(a))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n},ur=!1,cr=e.createContext(null),lr="unmounted",fr="exited",pr="entering",dr="entered",hr="exiting",vr=function(n){function r(e,t){var r;r=n.call(this,e,t)||this;var a,o=t&&!t.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?o?(a=fr,r.appearStatus=pr):a=dr:a=e.unmountOnExit||e.mountOnEnter?lr:fr,r.state={status:a},r.nextCallback=null,r}Et(r,n),r.getDerivedStateFromProps=function(e,t){return e.in&&t.status===lr?{status:fr}:null};var a=r.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==pr&&n!==dr&&(t=pr):n!==pr&&n!==dr||(t=hr)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===pr?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===fr&&this.setState({status:lr})},a.performEnter=function(e){var n=this,r=this.props.enter,a=this.context?this.context.isMounting:e,o=this.props.nodeRef?[a]:[t.findDOMNode(this),a],i=o[0],s=o[1],u=this.getTimeouts(),c=a?u.appear:u.enter;!e&&!r||ur?this.safeSetState({status:dr},(function(){n.props.onEntered(i)})):(this.props.onEnter(i,s),this.safeSetState({status:pr},(function(){n.props.onEntering(i,s),n.onTransitionEnd(c,(function(){n.safeSetState({status:dr},(function(){n.props.onEntered(i,s)}))}))})))},a.performExit=function(){var e=this,n=this.props.exit,r=this.getTimeouts(),a=this.props.nodeRef?void 0:t.findDOMNode(this);n&&!ur?(this.props.onExit(a),this.safeSetState({status:hr},(function(){e.props.onExiting(a),e.onTransitionEnd(r.exit,(function(){e.safeSetState({status:fr},(function(){e.props.onExited(a)}))}))}))):this.safeSetState({status:fr},(function(){e.props.onExited(a)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,n){this.setNextCallback(n);var r=this.props.nodeRef?this.props.nodeRef.current:t.findDOMNode(this),a=null==e&&!this.props.addEndListener;if(r&&!a){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],i=o[0],s=o[1];this.props.addEndListener(i,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},a.render=function(){var t=this.state.status;if(t===lr)return null;var n=this.props,r=n.children,a=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,w(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return e.createElement(cr.Provider,{value:null},"function"===typeof r?r(t,a):e.cloneElement(e.Children.only(r),a))},r}(e.Component);function mr(){}vr.contextType=cr,vr.propTypes={},vr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:mr,onEntering:mr,onEntered:mr,onExit:mr,onExiting:mr,onExited:mr},vr.UNMOUNTED=lr,vr.EXITED=fr,vr.ENTERING=pr,vr.ENTERED=dr,vr.EXITING=hr;var gr=vr,yr=!("undefined"===typeof window||!window.document||!window.document.createElement),br=!1,xr=!1;try{var wr={get passive(){return br=!0},get once(){return xr=br=!0}};yr&&(window.addEventListener("test",wr,wr),window.removeEventListener("test",wr,!0))}catch(Qf){}var kr=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!xr){var a=r.once,o=r.capture,i=n;!xr&&a&&(i=n.__once||function e(r){this.removeEventListener(t,e,o),n.call(this,r)},n.__once=i),e.addEventListener(t,i,br?r:o)}e.addEventListener(t,n,r)};var Sr=function(e,t,n,r){var a=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,a),n.__once&&e.removeEventListener(t,n.__once,a)};var Er=function(e,t,n,r){return kr(e,t,n,r),function(){Sr(e,t,n,r)}};function Cr(e,t,n){void 0===n&&(n=5);var r=!1,a=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var a=document.createEvent("HTMLEvents");a.initEvent(t,n,r),e.dispatchEvent(a)}}(e,"transitionend",!0)}),t+n),o=Er(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(a),o()}}function Nr(e,t,n,r){null==n&&(n=function(e){var t=sr(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var a=Cr(e,n,r),o=Er(e,"transitionend",t);return function(){a(),o()}}function Tr(e,t){var n=sr(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function Ir(e,t){var n=Tr(e,"transitionDuration"),r=Tr(e,"transitionDelay"),a=Nr(e,(function(n){n.target===e&&(a(),t(n))}),n+r)}var Or=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];e.apply(this,r),t.apply(this,r)}}),null)};function _r(e){e.offsetHeight}var Dr=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var Ar=function(t,n){return(0,e.useMemo)((function(){return function(e,t){var n=Dr(e),r=Dr(t);return function(e){n&&n(e),r&&r(e)}}(t,n)}),[t,n])};var Rr,Pr=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],Mr=e.forwardRef((function(n,r){var a=n.onEnter,o=n.onEntering,i=n.onEntered,u=n.onExit,c=n.onExiting,l=n.onExited,f=n.addEndListener,p=n.children,d=n.childRef,h=Pn(n,Pr),v=(0,e.useRef)(null),m=Ar(v,d),g=function(e){var n;m((n=e)&&"setState"in n?t.findDOMNode(n):null!=n?n:null)},y=function(e){return function(t){e&&v.current&&e(v.current,t)}},b=(0,e.useCallback)(y(a),[a]),x=(0,e.useCallback)(y(o),[o]),w=(0,e.useCallback)(y(i),[i]),k=(0,e.useCallback)(y(u),[u]),S=(0,e.useCallback)(y(c),[c]),E=(0,e.useCallback)(y(l),[l]),C=(0,e.useCallback)(y(f),[f]);return(0,Je.jsx)(gr,s(s({ref:r},h),{},{onEnter:b,onEntered:w,onEntering:x,onExit:k,onExited:E,onExiting:S,addEndListener:C,nodeRef:v,children:"function"===typeof p?function(e,t){return p(e,s(s({},t),{},{ref:g}))}:e.cloneElement(p,{ref:g})}))})),Fr=Mr,Lr=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"],jr={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function Zr(e,t){var n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],r=jr[e];return n+parseInt(sr(t,r[0]),10)+parseInt(sr(t,r[1]),10)}var zr=(Rr={},(0,o.Z)(Rr,fr,"collapse"),(0,o.Z)(Rr,hr,"collapsing"),(0,o.Z)(Rr,pr,"collapsing"),(0,o.Z)(Rr,dr,"collapse show"),Rr),Br={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:Zr},Ur=e.forwardRef((function(t,n){var r=t.onEnter,a=t.onEntering,o=t.onEntered,i=t.onExit,u=t.onExiting,c=t.className,l=t.children,f=t.dimension,p=void 0===f?"height":f,d=t.getDimensionValue,h=void 0===d?Zr:d,v=Pn(t,Lr),m="function"===typeof p?p():p,g=(0,e.useMemo)((function(){return Or((function(e){e.style[m]="0"}),r)}),[m,r]),y=(0,e.useMemo)((function(){return Or((function(e){var t="scroll".concat(m[0].toUpperCase()).concat(m.slice(1));e.style[m]="".concat(e[t],"px")}),a)}),[m,a]),b=(0,e.useMemo)((function(){return Or((function(e){e.style[m]=null}),o)}),[m,o]),x=(0,e.useMemo)((function(){return Or((function(e){e.style[m]="".concat(h(m,e),"px"),_r(e)}),i)}),[i,h,m]),w=(0,e.useMemo)((function(){return Or((function(e){e.style[m]=null}),u)}),[m,u]);return(0,Je.jsx)(Fr,s(s({ref:n,addEndListener:Ir},v),{},{"aria-expanded":v.role?v.in:null,onEnter:g,onEntering:y,onEntered:b,onExit:x,onExiting:w,childRef:l.ref,children:function(t,n){return e.cloneElement(l,s(s({},n),{},{className:Fn()(c,l.props.className,zr[t],"width"===m&&"collapse-horizontal")}))}}))}));Ur.defaultProps=Br;var Wr=Ur,Vr=e.createContext(null);Vr.displayName="NavbarContext";var Hr=Vr,Gr=["children","bsPrefix"],qr=e.forwardRef((function(t,n){var r=t.children,a=t.bsPrefix,o=Pn(t,Gr);a=Xn(a,"navbar-collapse");var i=(0,e.useContext)(Hr);return(0,Je.jsx)(Wr,s(s({in:!(!i||!i.expanded)},o),{},{children:(0,Je.jsx)("div",{ref:n,className:a,children:r})}))}));qr.displayName="NavbarCollapse";var Xr=qr;var Kr=function(t){var n=(0,e.useRef)(t);return(0,e.useEffect)((function(){n.current=t}),[t]),n};function Yr(t){var n=Kr(t);return(0,e.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}var Qr=["bsPrefix","className","children","label","as","onClick"],$r=e.forwardRef((function(t,n){var r=t.bsPrefix,a=t.className,o=t.children,i=t.label,u=t.as,c=void 0===u?"button":u,l=t.onClick,f=Pn(t,Qr);r=Xn(r,"navbar-toggler");var p=(0,e.useContext)(Hr)||{},d=p.onToggle,h=p.expanded,v=Yr((function(e){l&&l(e),d&&d()}));return"button"===c&&(f.type="button"),(0,Je.jsx)(c,s(s({},f),{},{ref:n,onClick:v,"aria-label":i,className:Fn()(a,r,!h&&"collapsed"),children:o||(0,Je.jsx)("span",{className:"".concat(r,"-icon")})}))}));$r.displayName="NavbarToggle",$r.defaultProps={label:"Toggle navigation"};var Jr=$r,ea="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,ta="undefined"!==typeof document||ea?e.useLayoutEffect:e.useEffect,na=new WeakMap,ra=function(e,t){if(e&&t){var n=na.get(t)||new Map;na.set(t,n);var r=n.get(e);return r||((r=t.matchMedia(e)).refCount=0,n.set(r.media,r)),r}};function aa(t,n){void 0===n&&(n="undefined"===typeof window?void 0:window);var r=ra(t,n),a=(0,e.useState)((function(){return!!r&&r.matches})),o=a[0],i=a[1];return ta((function(){var e=ra(t,n);if(!e)return i(!1);var r=na.get(n),a=function(){i(e.matches)};return e.refCount++,e.addListener(a),a(),function(){e.removeListener(a),e.refCount--,e.refCount<=0&&(null==r||r.delete(e.media)),e=void 0}}),[t]),o}var oa=function(t){var n=Object.keys(t);function r(e,t){return e===t?t:e?e+" and "+t:t}function a(e){var r=function(e){return n[Math.min(n.indexOf(e)+1,n.length-1)]}(e),a=t[r];return"(max-width: "+(a="number"===typeof a?a-.2+"px":"calc("+a+" - 0.2px)")+")"}return function(n,o,i){var s,u;"object"===typeof n?(s=n,i=o,o=!0):((u={})[n]=o=o||!0,s=u);var c=(0,e.useMemo)((function(){return Object.entries(s).reduce((function(e,n){var o=n[0],i=n[1];return"up"!==i&&!0!==i||(e=r(e,function(e){var n=t[e];return"number"===typeof n&&(n+="px"),"(min-width: "+n+")"}(o))),"down"!==i&&!0!==i||(e=r(e,a(o))),e}),"")}),[JSON.stringify(s)]);return aa(c,i)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),ia=oa;function sa(e){void 0===e&&(e=tr());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(Qf){return e.body}}function ua(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function ca(t){var n=function(t){var n=(0,e.useRef)(t);return n.current=t,n}(t);(0,e.useEffect)((function(){return function(){return n.current()}}),[])}var la=n(5671),fa=n(3144);function pa(e){return"".concat("data-rr-ui-").concat(e)}var da=pa("modal-open"),ha=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.ownerDocument,r=t.handleContainerOverflow,a=void 0===r||r,o=t.isRTL,i=void 0!==o&&o;(0,la.Z)(this,e),this.handleContainerOverflow=a,this.isRTL=i,this.modals=[],this.ownerDocument=n}return(0,fa.Z)(e,[{key:"getScrollbarWidth",value:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}},{key:"getElement",value:function(){return(this.ownerDocument||document).body}},{key:"setModalAttributes",value:function(e){}},{key:"removeModalAttributes",value:function(e){}},{key:"setContainerStyle",value:function(e){var t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style=(0,o.Z)({overflow:r.style.overflow},n,r.style[n]),e.scrollBarWidth&&(t[n]="".concat(parseInt(sr(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(da,""),sr(r,t)}},{key:"reset",value:function(){var e=this;(0,r.Z)(this.modals).forEach((function(t){return e.remove(t)}))}},{key:"removeContainerStyle",value:function(e){var t=this.getElement();t.removeAttribute(da),Object.assign(t.style,e.style)}},{key:"add",value:function(e){var t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}},{key:"isTopModal",value:function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}]),e}(),va=ha,ma=(0,e.createContext)(yr?window:void 0);ma.Provider;function ga(){return(0,e.useContext)(ma)}var ya=function(e,t){var n;return yr?null==e?(t||tr()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),null!=(n=e)&&n.nodeType&&e||null):null};var ba,xa=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function wa(t){var n=ga(),r=t||function(e){return ba||(ba=new va({ownerDocument:null==e?void 0:e.document})),ba}(n),a=(0,e.useRef)({dialog:null,backdrop:null});return Object.assign(a.current,{add:function(){return r.add(a.current)},remove:function(){return r.remove(a.current)},isTopModal:function(){return r.isTopModal(a.current)},setDialogRef:(0,e.useCallback)((function(e){a.current.dialog=e}),[]),setBackdropRef:(0,e.useCallback)((function(e){a.current.backdrop=e}),[])})}var ka=(0,e.forwardRef)((function(n,r){var o=n.show,i=void 0!==o&&o,s=n.role,u=void 0===s?"dialog":s,c=n.className,l=n.style,f=n.children,p=n.backdrop,d=void 0===p||p,h=n.keyboard,v=void 0===h||h,m=n.onBackdropClick,g=n.onEscapeKeyDown,y=n.transition,b=n.backdropTransition,x=n.autoFocus,w=void 0===x||x,k=n.enforceFocus,S=void 0===k||k,E=n.restoreFocus,C=void 0===E||E,N=n.restoreFocusOptions,T=n.renderDialog,I=n.renderBackdrop,O=void 0===I?function(e){return(0,Je.jsx)("div",Object.assign({},e))}:I,_=n.manager,D=n.container,A=n.onShow,R=n.onHide,P=void 0===R?function(){}:R,M=n.onExit,F=n.onExited,L=n.onExiting,j=n.onEnter,Z=n.onEntering,z=n.onEntered,B=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(n,xa),U=function(t,n){var r=ga(),o=(0,e.useState)((function(){return ya(t,null==r?void 0:r.document)})),i=(0,a.Z)(o,2),s=i[0],u=i[1];if(!s){var c=ya(t);c&&u(c)}return(0,e.useEffect)((function(){n&&s&&n(s)}),[n,s]),(0,e.useEffect)((function(){var e=ya(t);e!==s&&u(e)}),[t,s]),s}(D),W=wa(_),V=function(){var t=(0,e.useRef)(!0),n=(0,e.useRef)((function(){return t.current}));return(0,e.useEffect)((function(){return t.current=!0,function(){t.current=!1}}),[]),n.current}(),H=function(t){var n=(0,e.useRef)(null);return(0,e.useEffect)((function(){n.current=t})),n.current}(i),G=(0,e.useState)(!i),q=(0,a.Z)(G,2),X=q[0],K=q[1],Y=(0,e.useRef)(null);(0,e.useImperativeHandle)(r,(function(){return W}),[W]),yr&&!H&&i&&(Y.current=sa()),y||i||X?i&&X&&K(!1):K(!0);var Q=Yr((function(){if(W.add(),re.current=Er(document,"keydown",te),ne.current=Er(document,"focus",(function(){return setTimeout(J)}),!0),A&&A(),w){var e=sa(document);W.dialog&&e&&!ua(W.dialog,e)&&(Y.current=e,W.dialog.focus())}})),$=Yr((function(){var e;(W.remove(),null==re.current||re.current(),null==ne.current||ne.current(),C)&&(null==(e=Y.current)||null==e.focus||e.focus(N),Y.current=null)}));(0,e.useEffect)((function(){i&&U&&Q()}),[i,U,Q]),(0,e.useEffect)((function(){X&&$()}),[X,$]),ca((function(){$()}));var J=Yr((function(){if(S&&V()&&W.isTopModal()){var e=sa();W.dialog&&e&&!ua(W.dialog,e)&&W.dialog.focus()}})),ee=Yr((function(e){e.target===e.currentTarget&&(null==m||m(e),!0===d&&P())})),te=Yr((function(e){v&&27===e.keyCode&&W.isTopModal()&&(null==g||g(e),e.defaultPrevented||P())})),ne=(0,e.useRef)(),re=(0,e.useRef)(),ae=y;if(!U||!(i||ae&&!X))return null;var oe=Object.assign({role:u,ref:W.setDialogRef,"aria-modal":"dialog"===u||void 0},B,{style:l,className:c,tabIndex:-1}),ie=T?T(oe):(0,Je.jsx)("div",Object.assign({},oe,{children:e.cloneElement(f,{role:"document"})}));ae&&(ie=(0,Je.jsx)(ae,{appear:!0,unmountOnExit:!0,in:!!i,onExit:M,onExiting:L,onExited:function(){K(!0),null==F||F.apply(void 0,arguments)},onEnter:j,onEntering:Z,onEntered:z,children:ie}));var se=null;if(d){var ue=b;se=O({ref:W.setBackdropRef,onClick:ee}),ue&&(se=(0,Je.jsx)(ue,{appear:!0,in:!!i,children:se}))}return(0,Je.jsx)(Je.Fragment,{children:t.createPortal((0,Je.jsxs)(Je.Fragment,{children:[se,ie]}),U)})}));ka.displayName="Modal";var Sa,Ea=Object.assign(ka,{Manager:va}),Ca=["className","children","transitionClasses"],Na=(Sa={},(0,o.Z)(Sa,pr,"show"),(0,o.Z)(Sa,dr,"show"),Sa),Ta=e.forwardRef((function(t,n){var r=t.className,a=t.children,o=t.transitionClasses,i=void 0===o?{}:o,u=Pn(t,Ca),c=(0,e.useCallback)((function(e,t){_r(e),null==u.onEnter||u.onEnter(e,t)}),[u]);return(0,Je.jsx)(Fr,s(s({ref:n,addEndListener:Ir},u),{},{onEnter:c,childRef:a.ref,children:function(t,n){return e.cloneElement(a,s(s({},n),{},{className:Fn()("fade",r,a.props.className,Na[t],i[t])}))}}))}));Ta.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},Ta.displayName="Fade";var Ia,Oa=Ta,_a=Qn("offcanvas-body"),Da=["bsPrefix","className","children"],Aa=(Ia={},(0,o.Z)(Ia,pr,"show"),(0,o.Z)(Ia,dr,"show"),Ia),Ra=e.forwardRef((function(t,n){var r=t.bsPrefix,a=t.className,o=t.children,i=Pn(t,Da);return r=Xn(r,"offcanvas"),(0,Je.jsx)(Fr,s(s({ref:n,addEndListener:Ir},i),{},{childRef:o.ref,children:function(t,n){return e.cloneElement(o,s(s({},n),{},{className:Fn()(a,o.props.className,(t===pr||t===hr)&&"".concat(r,"-toggling"),Aa[t])}))}}))}));Ra.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},Ra.displayName="OffcanvasToggling";var Pa=Ra,Ma=e.createContext({onHide:function(){}}),Fa=["className","variant"],La={"aria-label":$t().string,onClick:$t().func,variant:$t().oneOf(["white"])},ja=e.forwardRef((function(e,t){var n=e.className,r=e.variant,a=Pn(e,Fa);return(0,Je.jsx)("button",s({ref:t,type:"button",className:Fn()("btn-close",r&&"btn-close-".concat(r),n)},a))}));ja.displayName="CloseButton",ja.propTypes=La,ja.defaultProps={"aria-label":"Close"};var Za=ja,za=["closeLabel","closeVariant","closeButton","onHide","children"],Ba=e.forwardRef((function(t,n){var r=t.closeLabel,a=t.closeVariant,o=t.closeButton,i=t.onHide,u=t.children,c=Pn(t,za),l=(0,e.useContext)(Ma),f=Yr((function(){null==l||l.onHide(),null==i||i()}));return(0,Je.jsxs)("div",s(s({ref:n},c),{},{children:[u,o&&(0,Je.jsx)(Za,{"aria-label":r,variant:a,onClick:f})]}))}));Ba.defaultProps={closeLabel:"Close",closeButton:!1};var Ua=Ba,Wa=["bsPrefix","className"],Va=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,a=Pn(e,Wa);return n=Xn(n,"offcanvas-header"),(0,Je.jsx)(Ua,s(s({ref:t},a),{},{className:Fn()(r,n)}))}));Va.displayName="OffcanvasHeader",Va.defaultProps={closeLabel:"Close",closeButton:!1};var Ha,Ga=Va,qa=Qn("offcanvas-title",{Component:(Ha="h5",e.forwardRef((function(e,t){return(0,Je.jsx)("div",s(s({},e),{},{ref:t,className:Fn()(e.className,Ha)}))})))}),Xa=n(1752),Ka=n(1120),Ya=n(136),Qa=n(7277);var $a=Function.prototype.bind.call(Function.prototype.call,[].slice);function Ja(e,t){return $a(e.querySelectorAll(t))}function eo(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var to,no=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",ro=".sticky-top",ao=".navbar-toggler",oo=function(e){(0,Ya.Z)(n,e);var t=(0,Qa.Z)(n);function n(){return(0,la.Z)(this,n),t.apply(this,arguments)}return(0,fa.Z)(n,[{key:"adjustAndStore",value:function(e,t,n){var r=t.style[e];t.dataset[e]=r,sr(t,(0,o.Z)({},e,"".concat(parseFloat(sr(t,e))+n,"px")))}},{key:"restore",value:function(e,t){var n=t.dataset[e];void 0!==n&&(delete t.dataset[e],sr(t,(0,o.Z)({},e,n)))}},{key:"setContainerStyle",value:function(e){var t=this;(0,Xa.Z)((0,Ka.Z)(n.prototype),"setContainerStyle",this).call(this,e);var r=this.getElement();if(function(e,t){e.classList?e.classList.add(t):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}(r,"modal-open"),e.scrollBarWidth){var a=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";Ja(r,no).forEach((function(n){return t.adjustAndStore(a,n,e.scrollBarWidth)})),Ja(r,ro).forEach((function(n){return t.adjustAndStore(o,n,-e.scrollBarWidth)})),Ja(r,ao).forEach((function(n){return t.adjustAndStore(o,n,e.scrollBarWidth)}))}}},{key:"removeContainerStyle",value:function(e){var t=this;(0,Xa.Z)((0,Ka.Z)(n.prototype),"removeContainerStyle",this).call(this,e);var r=this.getElement();!function(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=eo(e.className,t):e.setAttribute("class",eo(e.className&&e.className.baseVal||"",t))}(r,"modal-open");var a=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";Ja(r,no).forEach((function(e){return t.restore(a,e)})),Ja(r,ro).forEach((function(e){return t.restore(o,e)})),Ja(r,ao).forEach((function(e){return t.restore(o,e)}))}}]),n}(va);var io=oo,so=["bsPrefix","className","children","aria-labelledby","placement","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"];function uo(e){return(0,Je.jsx)(Pa,s({},e))}function co(e){return(0,Je.jsx)(Oa,s({},e))}var lo=e.forwardRef((function(t,n){var r=t.bsPrefix,a=t.className,o=t.children,i=t["aria-labelledby"],u=t.placement,c=t.show,l=t.backdrop,f=t.keyboard,p=t.scroll,d=t.onEscapeKeyDown,h=t.onShow,v=t.onHide,m=t.container,g=t.autoFocus,y=t.enforceFocus,b=t.restoreFocus,x=t.restoreFocusOptions,w=t.onEntered,k=t.onExit,S=t.onExiting,E=t.onEnter,C=t.onEntering,N=t.onExited,T=t.backdropClassName,I=t.manager,O=Pn(t,so),_=(0,e.useRef)();r=Xn(r,"offcanvas");var D=((0,e.useContext)(Hr)||{}).onToggle,A=Yr((function(){null==D||D(),null==v||v()})),R=(0,e.useMemo)((function(){return{onHide:A}}),[A]);var P=(0,e.useCallback)((function(e){return(0,Je.jsx)("div",s(s({},e),{},{className:Fn()("".concat(r,"-backdrop"),T)}))}),[T,r]);return(0,Je.jsx)(Ma.Provider,{value:R,children:(0,Je.jsx)(Ea,{show:c,ref:n,backdrop:l,container:m,keyboard:f,autoFocus:g,enforceFocus:y&&!p,restoreFocus:b,restoreFocusOptions:x,onEscapeKeyDown:d,onShow:h,onHide:A,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==E||E.apply(void 0,[e].concat(n))},onEntering:C,onEntered:w,onExit:k,onExiting:S,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==N||N.apply(void 0,n)},manager:I||(p?(_.current||(_.current=new io({handleContainerOverflow:!1})),_.current):function(e){return to||(to=new oo(e)),to}()),transition:uo,backdropTransition:co,renderBackdrop:P,renderDialog:function(e){return(0,Je.jsx)("div",s(s(s({role:"dialog"},e),O),{},{className:Fn()(a,r,"".concat(r,"-").concat(u)),"aria-labelledby":i,children:o}))}})})}));lo.displayName="Offcanvas",lo.defaultProps={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start"};var fo=Object.assign(lo,{Body:_a,Header:Ga,Title:qa}),po=["className","bsPrefix","backdrop","backdropClassName","keyboard","scroll","placement","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onShow","onHide","onEscapeKeyDown","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],ho=e.forwardRef((function(t,n){var r=t.className,a=t.bsPrefix,o=t.backdrop,i=t.backdropClassName,u=t.keyboard,c=t.scroll,l=t.placement,f=t.autoFocus,p=t.enforceFocus,d=t.restoreFocus,h=t.restoreFocusOptions,v=t.onShow,m=t.onHide,g=t.onEscapeKeyDown,y=t.onEnter,b=t.onEntering,x=t.onEntered,w=t.onExit,k=t.onExiting,S=t.onExited,E=Pn(t,po),C=(0,e.useContext)(Hr);a=Xn(a,"offcanvas");var N="string"===typeof(null==C?void 0:C.expand),T=ia(N?C.expand:"xs","up");return N&&T?(0,Je.jsx)("div",s(s({ref:n},E),{},{className:Fn()(r,a,"".concat(a,"-").concat(l))})):(0,Je.jsx)(fo,s({ref:n,show:!(null==C||!C.expanded),bsPrefix:a,backdrop:o,backdropClassName:i,keyboard:u,scroll:c,placement:l,autoFocus:f,enforceFocus:p,restoreFocus:d,restoreFocusOptions:h,onShow:v,onHide:m,onEscapeKeyDown:g,onEnter:y,onEntering:b,onEntered:x,onExit:w,onExiting:k,onExited:S},E))}));ho.displayName="NavbarOffcanvas";var vo=ho,mo=["bsPrefix","expand","variant","bg","fixed","sticky","className","as","expanded","onToggle","onSelect","collapseOnSelect"],go=Qn("navbar-text",{Component:"span"}),yo=e.forwardRef((function(t,n){var r=Bn(t,{expanded:"onToggle"}),a=r.bsPrefix,o=r.expand,i=r.variant,u=r.bg,c=r.fixed,l=r.sticky,f=r.className,p=r.as,d=void 0===p?"nav":p,h=r.expanded,v=r.onToggle,m=r.onSelect,g=r.collapseOnSelect,y=Pn(r,mo),b=Xn(a,"navbar"),x=(0,e.useCallback)((function(){null==m||m.apply(void 0,arguments),g&&h&&(null==v||v(!1))}),[m,g,h,v]);void 0===y.role&&"nav"!==d&&(y.role="navigation");var w="".concat(b,"-expand");"string"===typeof o&&(w="".concat(w,"-").concat(o));var k=(0,e.useMemo)((function(){return{onToggle:function(){return null==v?void 0:v(!h)},bsPrefix:b,expanded:!!h,expand:o}}),[b,h,o,v]);return(0,Je.jsx)(Hr.Provider,{value:k,children:(0,Je.jsx)(jn.Provider,{value:x,children:(0,Je.jsx)(d,s(s({ref:n},y),{},{className:Fn()(f,b,o&&w,i&&"".concat(b,"-").concat(i),u&&"bg-".concat(u),l&&"sticky-".concat(l),c&&"fixed-".concat(c))}))})})}));yo.defaultProps={expand:!0,variant:"light",collapseOnSelect:!1},yo.displayName="Navbar";var bo=Object.assign(yo,{Brand:er,Collapse:Xr,Offcanvas:vo,Text:go,Toggle:Jr}),xo=["bsPrefix","fluid","as","className"],wo=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.fluid,a=e.as,o=void 0===a?"div":a,i=e.className,u=Pn(e,xo),c=Xn(n,"container"),l="string"===typeof r?"-".concat(r):"-fluid";return(0,Je.jsx)(o,s(s({ref:t},u),{},{className:Fn()(i,r?"".concat(c).concat(l):c)}))}));wo.displayName="Container",wo.defaultProps={fluid:!1};var ko=wo;n(1322);var So=e.createContext(null);So.displayName="NavContext";var Eo=So,Co=e.createContext(null),No=["as","disabled"];function To(e){var t=e.tagName,n=e.disabled,r=e.href,a=e.target,o=e.rel,i=e.onClick,s=e.tabIndex,u=void 0===s?0:s,c=e.type;t||(t=null!=r||null!=a||null!=o?"a":"button");var l={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},l];var f=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==i||i(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:"button",disabled:void 0,tabIndex:n?void 0:u,href:r,target:"a"===t?a:void 0,"aria-disabled":n||void 0,rel:"a"===t?o:void 0,onClick:f,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),f(e))}},l]}var Io=e.forwardRef((function(e,t){var n=e.as,r=e.disabled,o=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,No),i=To(Object.assign({tagName:n,disabled:r},o)),s=(0,a.Z)(i,2),u=s[0],c=s[1].tagName;return(0,Je.jsx)(c,Object.assign({},o,u,{ref:t}))}));Io.displayName="Button";var Oo=Io,_o=["as","active","eventKey"];function Do(t){var n=t.key,r=t.onClick,a=t.active,o=t.id,i=t.role,s=t.disabled,u=(0,e.useContext)(jn),c=(0,e.useContext)(Eo),l=(0,e.useContext)(Co),f=a,p={role:i};if(c){i||"tablist"!==c.role||(p.role="tab");var d=c.getControllerId(null!=n?n:null),h=c.getControlledId(null!=n?n:null);p[pa("event-key")]=n,p.id=d||o,!(f=null==a&&null!=n?c.activeKey===n:a)&&(null!=l&&l.unmountOnExit||null!=l&&l.mountOnEnter)||(p["aria-controls"]=h)}return"tab"===p.role&&(s&&(p.tabIndex=-1,p["aria-disabled"]=!0),f?p["aria-selected"]=f:p.tabIndex=-1),p.onClick=Yr((function(e){s||(null==r||r(e),null!=n&&u&&!e.isPropagationStopped()&&u(n,e))})),[p,{isActive:f}]}var Ao=e.forwardRef((function(e,t){var n=e.as,r=void 0===n?Oo:n,o=e.active,i=e.eventKey,s=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,_o),u=Do(Object.assign({key:Ln(i,s.href),active:o},s)),c=(0,a.Z)(u,2),l=c[0],f=c[1];return l[pa("active")]=f.isActive,(0,Je.jsx)(r,Object.assign({},s,l,{ref:t}))}));Ao.displayName="NavItem";var Ro=Ao,Po=["as","onSelect","activeKey","role","onKeyDown"];var Mo=function(){},Fo=pa("event-key"),Lo=e.forwardRef((function(t,n){var r,a,o=t.as,i=void 0===o?"div":o,s=t.onSelect,u=t.activeKey,c=t.role,l=t.onKeyDown,f=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,Po),p=(0,e.useReducer)((function(e){return!e}),!1)[1],d=(0,e.useRef)(!1),h=(0,e.useContext)(jn),v=(0,e.useContext)(Co);v&&(c=c||"tablist",u=v.activeKey,r=v.getControlledId,a=v.getControllerId);var m=(0,e.useRef)(null),g=function(e){var t=m.current;if(!t)return null;var n=Ja(t,"[".concat(Fo,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;var a=n.indexOf(r);if(-1===a)return null;var o=a+e;return o>=n.length&&(o=0),o<0&&(o=n.length-1),n[o]},y=function(e,t){null!=e&&(null==s||s(e,t),null==h||h(e,t))};(0,e.useEffect)((function(){if(m.current&&d.current){var e=m.current.querySelector("[".concat(Fo,"][aria-selected=true]"));null==e||e.focus()}d.current=!1}));var b=Ar(n,m);return(0,Je.jsx)(jn.Provider,{value:y,children:(0,Je.jsx)(Eo.Provider,{value:{role:c,activeKey:Ln(u),getControlledId:r||Mo,getControllerId:a||Mo},children:(0,Je.jsx)(i,Object.assign({},f,{onKeyDown:function(e){if(null==l||l(e),v){var t,n;switch(e.key){case"ArrowLeft":case"ArrowUp":t=g(-1);break;case"ArrowRight":case"ArrowDown":t=g(1);break;default:return}if(t)e.preventDefault(),y(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),d.current=!0,p()}},ref:b,role:c}))})})}));Lo.displayName="Nav";var jo=Object.assign(Lo,{Item:Ro}),Zo=e.createContext(null);Zo.displayName="CardHeaderContext";var zo=Zo,Bo=Qn("nav-item");new WeakMap;var Uo=["onKeyDown"];var Wo=e.forwardRef((function(e,t){var n,r=e.onKeyDown,o=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,Uo),i=To(Object.assign({tagName:"a"},o)),s=(0,a.Z)(i,1)[0],u=Yr((function(e){s.onKeyDown(e),null==r||r(e)}));return((n=o.href)&&"#"!==n.trim()||o.role)&&"button"!==o.role?(0,Je.jsx)("a",Object.assign({ref:t},o,{onKeyDown:r})):(0,Je.jsx)("a",Object.assign({ref:t},o,s,{onKeyDown:u}))}));Wo.displayName="Anchor";var Vo=Wo,Ho=["bsPrefix","className","as","active","eventKey"],Go=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,o=e.as,i=void 0===o?Vo:o,u=e.active,c=e.eventKey,l=Pn(e,Ho);n=Xn(n,"nav-link");var f=Do(s({key:Ln(c,l.href),active:u},l)),p=(0,a.Z)(f,2),d=p[0],h=p[1];return(0,Je.jsx)(i,s(s(s({},l),d),{},{ref:t,className:Fn()(r,n,l.disabled&&"disabled",h.isActive&&"active")}))}));Go.displayName="NavLink",Go.defaultProps={disabled:!1};var qo=Go,Xo=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"],Ko=e.forwardRef((function(t,n){var r,a,i,u=Bn(t,{activeKey:"onSelect"}),c=u.as,l=void 0===c?"div":c,f=u.bsPrefix,p=u.variant,d=u.fill,h=u.justify,v=u.navbar,m=u.navbarScroll,g=u.className,y=u.activeKey,b=Pn(u,Xo),x=Xn(f,"nav"),w=!1,k=(0,e.useContext)(Hr),S=(0,e.useContext)(zo);return k?(a=k.bsPrefix,w=null==v||v):S&&(i=S.cardHeaderBsPrefix),(0,Je.jsx)(jo,s({as:l,ref:n,activeKey:y,className:Fn()(g,(r={},(0,o.Z)(r,x,!w),(0,o.Z)(r,"".concat(a,"-nav"),w),(0,o.Z)(r,"".concat(a,"-nav-scroll"),w&&m),(0,o.Z)(r,"".concat(i,"-").concat(p),!!i),(0,o.Z)(r,"".concat(x,"-").concat(p),!!p),(0,o.Z)(r,"".concat(x,"-fill"),d),(0,o.Z)(r,"".concat(x,"-justified"),h),r))},b))}));Ko.displayName="Nav",Ko.defaultProps={justify:!1,fill:!1};var Yo,Qo=Object.assign(Ko,{Item:Bo,Link:qo}),$o=["title","titleId"];function Jo(){return Jo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jo.apply(this,arguments)}function ei(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ti(t,n){var r=t.title,a=t.titleId,o=ei(t,$o);return e.createElement("svg",Jo({baseProfile:"tiny",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 211.3 92.3",xmlSpace:"preserve",ref:n,"aria-labelledby":a},o),r?e.createElement("title",{id:a},r):null,Yo||(Yo=e.createElement("g",{id:"XMLID_1_"},e.createElement("path",{fill:"current",fillRule:"evenodd",id:"XMLID_3_",d:"M35.1,62.1c-1.8,0-3.8-0.4-6-1.1c-3.1-1.1-6-2.5-8.7-4.3c-1-0.7-2.1-1.4-3.1-2.2c-1.9,1.8-4,2.7-6.3,2.7 c-1,0-1.9-0.2-2.9-0.6c-1.1-0.4-2-1-2.5-1.8c-0.6-0.8-0.8-1.7-0.8-2.7c0-0.3,0-0.6,0.1-0.9c0.3-1.5,1.1-2.5,2.3-3.1 c1.1-0.6,2.3-0.9,3.6-0.9c1.2,0,2.3,0.2,3.4,0.6h0c0.2-1.6,0.4-3.2,0.4-4.8c0.1-3.2,0.1-6.5,0.1-9.7c0-0.6,0-1.3,0-1.9 c0-0.6,0-1.3,0-1.9c0-0.7,0-1.5-0.1-2.2c-3.5-0.9-6.5-2.3-8.8-4.3c-2.5-2.2-3.9-5-4.2-8.3c0-0.4-0.1-0.8-0.1-1.2 c0-4.1,1.3-6.8,3.8-8.1C6.2,5.3,7,5.2,7.8,5.2c1.1,0,2.2,0.2,3.2,0.7c0.4,0.2,0.5,0.4,0.5,0.7c0,0.4-0.2,0.7-0.5,1.1 c-0.7,0.8-1.3,1.6-1.9,2.6c-1.1,2.2-1.6,4.5-1.6,6.9v0.3c0,3,1.1,5.1,3.2,6.3l0.1,0.1c1.3,0.6,2.6,1.1,4,1.4l0-4.8 c0-4.2,0.2-7.3,0.6-9.4c0.3-1.8,0.9-3.4,1.8-5c0.9-1.6,2.1-2.8,3.6-3.8C22.2,1.4,23.8,1,25.5,1c1,0,2,0.2,3,0.6 c1,0.4,1.8,1,2.5,1.7c1,1.1,1.7,2.4,2.2,3.8c0.5,1.5,0.7,2.9,0.7,4.4c0,0.5,0,1.1-0.1,1.6c-0.3,3.1-1.3,5.9-2.9,8.5 c-0.9,1.4-2,2.7-3.4,3.7c-1.8,1.4-3.9,2.2-6.3,2.6L21.1,39c0,2-0.1,3.9-0.3,5.9c-0.2,2-0.6,3.9-1.3,5.8l0.1,0.1 c2.8,1.5,5.7,2.9,8.6,4.2c2.6,1.3,5.4,2.2,8.3,2.9l0.1,0c0.5,0.1,1.1,0.2,1.7,0.2c0.9,0,1.6-0.3,2.1-1l0.3-0.3 c0.3-0.3,0.6-0.4,0.9-0.4c0.2,0,0.3,0,0.5,0.1c0.2,0.1,0.3,0.2,0.4,0.4c0.1,0.2,0.1,0.3,0.1,0.5c0,0.1,0,0.2-0.1,0.3 c-0.7,1.5-1.6,2.6-2.9,3.3c-1.1,0.6-2.3,1-3.7,1.1L35.1,62.1z M9.8,54.7c0.3,0,0.6,0,0.9-0.1c1.3-0.4,2.2-1.4,2.7-3L13,51.3 c-0.2-0.1-0.4-0.3-0.6-0.4c-1.1-0.6-2.2-0.9-3.1-0.9c-1.1,0-1.8,0.5-2.2,1.4C7,51.8,6.9,52,6.9,52.3c0,0.7,0.3,1.3,0.9,1.7 S9.1,54.7,9.8,54.7z M21.2,25.8c1.1-0.1,2.1-0.4,3-0.9c2.6-1.3,4.5-3.3,5.7-6c0.8-1.7,1.4-3.5,1.7-5.3c0.1-0.4,0.1-1.1,0.1-2 c0-0.7-0.1-1.5-0.2-2.4c0,0,0,0,0-0.1c0,0,0-0.1,0-0.1c-0.3-1-0.7-1.9-1.4-2.7c-0.5-0.6-1.2-0.9-1.9-1.1l-0.6,0 c-0.5,0-0.9,0.1-1.5,0.3c-0.7,0.3-1.3,0.7-1.9,1.3c-0.6,0.7-1.1,1.6-1.4,2.6c-0.3,1-0.6,2-0.8,3c-0.5,2.5-0.7,5-0.7,7.6L21.2,25.8z "}),e.createElement("path",{fill:"current",fillRule:"evenodd",id:"XMLID_7_",d:"M48.8,62.2l-0.8,0c-2-0.2-3.7-1-5.1-2.4c-1-1.1-1.6-2.4-2-3.9c-0.6-2.1-0.9-4.8-0.9-8c0-2.2,0.1-5.3,0.3-9.2 l0.3-7.3c0-1.1,0.5-1.8,1.4-2.2c0.9-0.3,1.9-0.4,2.9-0.4c0.5,0,1,0,1.5,0.1l0.2,0c0.8,0,1.4,0.2,1.7,0.6c0.3,0.4,0.4,0.8,0.4,1.2 l-0.3,5c-0.3,3.5-0.4,6.9-0.4,10.4c0,2.3,0.1,4.7,0.4,7c0.1,0.7,0.2,1.4,0.3,2.1c0.2,0.7,0.5,1.4,0.9,1.9c0.4,0.4,0.9,0.6,1.4,0.6 c0.1,0,0.2,0,0.3,0c1-0.3,2-1.2,3-2.8c1.4-2.1,2.6-4.4,3.4-6.8l2.8-7.6c0.2-0.6,0.6-0.9,1.2-0.9c0.4,0,0.7,0.2,1,0.5 c0.2,0.2,0.2,0.5,0.2,0.8l0,0.3l-0.8,2.1l-1.3,3.6c-1.2,3.5-2.6,6.8-4.3,10c-0.5,1-1.2,1.8-2,2.7C52.8,61.3,50.9,62.2,48.8,62.2z  M45,26.6c-1.2,0-2.2-0.6-3-1.7c-0.3-0.5-0.5-1.1-0.5-1.7c0-0.8,0.3-1.6,0.8-2.3c0.8-0.8,1.6-1.2,2.6-1.2c0.4,0,0.8,0.1,1.1,0.2 c1.5,0.7,2.3,1.7,2.3,3.2c0,0.8-0.3,1.5-0.8,2.1C47,26.1,46.1,26.6,45,26.6z"}),e.createElement("path",{fill:"current",fillRule:"evenodd",id:"XMLID_10_",d:"M64.8,91.3H63c-0.8,0-1.4-0.1-1.9-0.4c-0.6-0.5-1-1-1.1-1.7c-0.1-0.6-0.1-1.1-0.1-1.7v-0.9 c-0.1-5.8-0.1-12.7-0.1-20.8c0-10.8,0.1-21.7,0.2-32.6v-1c0-1.6,0.5-2.5,1.5-2.8c0.6-0.2,1.2-0.2,1.8-0.3c0.6,0,1.2,0,1.7,0 c0.5,0,1,0.1,1.5,0.2c0.5,0.1,0.9,0.4,1.2,0.8c0.2,0.5,0.3,1,0.3,1.6v1.5c0,1.3-0.1,2.5-0.1,3.6c1-2.2,2.4-3.9,4.1-5.1 c1.7-1.2,3.7-1.8,6-1.8c1.3,0,2.5,0.2,3.7,0.7c1.2,0.4,2.2,1.2,3,2.2c2.1,2.6,3.1,6.1,3.1,10.5c0,2.3-0.4,4.7-1.1,7.1 c1.9-1,3.4-2.4,4.5-4.2c1.1-1.8,2-3.7,2.7-5.8c0.1-0.3,0.3-0.5,0.5-0.6c0.2-0.1,0.4-0.2,0.7-0.2c0.3,0,0.6,0.1,0.9,0.3 c0.3,0.2,0.4,0.5,0.4,0.8l-0.1,0.4c-1,3-2.3,5.6-4,7.8c-1.7,2.2-3.9,3.8-6.7,4.6c-1.8,3.8-4.4,6.4-7.8,7.9 c-1.1,0.5-2.2,0.8-3.3,0.8c-0.8,0-1.7-0.2-2.5-0.6c-0.8-0.4-1.4-1-1.8-1.8c-0.3-0.7-0.5-1.4-0.5-2.2c0-1.5,0.6-2.8,1.7-4 c1-0.8,2-1.3,3.2-1.5c1.2-0.2,2.5-0.3,3.7-0.3c0.9-3.3,1.4-6.7,1.4-10.1c0-2.1-0.2-3.9-0.5-5.5c-0.5-2.4-1.6-3.6-3-3.6 c-0.9,0-1.8,0.3-2.6,0.8c-1.6,1.1-2.8,2.7-3.7,5c-0.8,2-1.3,4-1.5,6.1c-0.3,2.1-0.4,4.2-0.4,6.3v13.3c0,10.7-0.1,18.5-0.2,23.5 c0,0.8,0,1.4-0.1,1.8c-0.1,0.5-0.3,0.9-0.7,1.2C66.4,91.2,65.7,91.3,64.8,91.3z M73.6,59.4c0.8,0,1.4-0.5,2-1.4 c0.9-1.2,1.5-2.4,1.8-3.6c-0.1,0-0.2-0.1-0.3-0.1l-0.5,0c-1.3,0-2.4,0.3-3.5,1c-0.3,0.3-0.6,0.6-0.8,1.1c-0.2,0.5-0.3,0.9-0.3,1.4 c0,0.4,0.1,0.8,0.3,1.1C72.6,59.2,73,59.4,73.6,59.4z"}),e.createElement("path",{fill:"current",fillRule:"evenodd",id:"XMLID_13_",d:"M98.1,91.3h-1.7c-0.8,0-1.4-0.1-1.9-0.4c-0.6-0.5-1-1-1.1-1.7c-0.1-0.6-0.1-1.1-0.1-1.7v-0.9 c-0.1-5.8-0.1-12.7-0.1-20.8c0-10.8,0.1-21.7,0.2-32.6v-1c0-1.6,0.5-2.5,1.5-2.8c0.6-0.2,1.2-0.2,1.8-0.3c0.6,0,1.2,0,1.7,0 c0.5,0,1,0.1,1.5,0.2c0.5,0.1,0.9,0.4,1.2,0.8c0.2,0.5,0.3,1,0.3,1.6v1.5c0,1.3-0.1,2.5-0.1,3.6c1-2.2,2.4-3.9,4.1-5.1 c1.7-1.2,3.7-1.8,6-1.8c1.3,0,2.5,0.2,3.7,0.7c1.2,0.4,2.2,1.2,3,2.2c2.1,2.6,3.1,6.1,3.1,10.5c0,2.3-0.4,4.7-1.1,7.1 c1.9-1,3.4-2.4,4.5-4.2c1.1-1.8,2-3.7,2.7-5.8c0.1-0.3,0.3-0.5,0.5-0.6c0.2-0.1,0.4-0.2,0.7-0.2c0.3,0,0.6,0.1,0.9,0.3 c0.3,0.2,0.4,0.5,0.4,0.8l-0.1,0.4c-1,3-2.3,5.6-4,7.8c-1.7,2.2-3.9,3.8-6.7,4.6c-1.8,3.8-4.4,6.4-7.8,7.9 c-1.1,0.5-2.2,0.8-3.3,0.8c-0.8,0-1.7-0.2-2.5-0.6c-0.8-0.4-1.4-1-1.8-1.8c-0.3-0.7-0.5-1.4-0.5-2.2c0-1.5,0.6-2.8,1.7-4 c1-0.8,2-1.3,3.2-1.5c1.2-0.2,2.5-0.3,3.7-0.3c0.9-3.3,1.4-6.7,1.4-10.1c0-2.1-0.2-3.9-0.5-5.5c-0.5-2.4-1.6-3.6-3-3.6 c-0.9,0-1.8,0.3-2.6,0.8c-1.6,1.1-2.8,2.7-3.7,5c-0.8,2-1.3,4-1.5,6.1c-0.3,2.1-0.4,4.2-0.4,6.3v13.3c0,10.7-0.1,18.5-0.2,23.5 c0,0.8,0,1.4-0.1,1.8c-0.1,0.5-0.3,0.9-0.7,1.2C99.7,91.2,99.1,91.3,98.1,91.3z M106.9,59.4c0.8,0,1.4-0.5,2-1.4 c0.9-1.2,1.5-2.4,1.8-3.6c-0.1,0-0.2-0.1-0.3-0.1l-0.5,0c-1.3,0-2.4,0.3-3.5,1c-0.3,0.3-0.6,0.6-0.8,1.1c-0.2,0.5-0.3,0.9-0.3,1.4 c0,0.4,0.1,0.8,0.3,1.1C105.9,59.2,106.3,59.4,106.9,59.4z"}),e.createElement("path",{fill:"current",fillRule:"evenodd",id:"XMLID_16_",d:"M135.3,62.2l-0.8,0c-2-0.2-3.7-1-5.1-2.4c-1-1.1-1.6-2.4-2-3.9c-0.6-2.1-0.9-4.8-0.9-8 c0-2.2,0.1-5.3,0.3-9.2l0.3-7.3c0-1.1,0.5-1.8,1.4-2.2c0.9-0.3,1.9-0.4,2.9-0.4c0.5,0,1,0,1.5,0.1l0.2,0c0.8,0,1.4,0.2,1.7,0.6 c0.3,0.4,0.4,0.8,0.4,1.2l-0.3,5c-0.3,3.5-0.4,6.9-0.4,10.4c0,2.3,0.1,4.7,0.4,7c0.1,0.7,0.2,1.4,0.3,2.1c0.2,0.7,0.5,1.4,0.9,1.9 c0.4,0.4,0.9,0.6,1.4,0.6c0.1,0,0.2,0,0.3,0c1-0.3,2-1.2,3-2.8c1.4-2.1,2.6-4.4,3.4-6.8l2.8-7.6c0.2-0.6,0.6-0.9,1.2-0.9 c0.4,0,0.7,0.2,1,0.5c0.2,0.2,0.2,0.5,0.2,0.8l0,0.3l-0.8,2.1l-1.3,3.6c-1.2,3.5-2.6,6.8-4.3,10c-0.5,1-1.2,1.8-2,2.7 C139.3,61.3,137.4,62.2,135.3,62.2z M131.5,26.6c-1.2,0-2.2-0.6-3-1.7c-0.3-0.5-0.5-1.1-0.5-1.7c0-0.8,0.3-1.6,0.8-2.3 c0.8-0.8,1.6-1.2,2.6-1.2c0.4,0,0.8,0.1,1.1,0.2c1.5,0.7,2.3,1.7,2.3,3.2c0,0.8-0.3,1.5-0.8,2.1C133.4,26.1,132.6,26.6,131.5,26.6z "}),e.createElement("path",{fill:"current",fillRule:"evenodd",id:"XMLID_19_",d:"M158.3,62.1c-2.8,0-5.3-0.9-7.6-2.8c-1.8-1.6-3.1-3.5-4-5.8c-0.8-2.3-1.2-4.6-1.2-6.9c0-4,1-7.7,3.1-11 c1.8-2.9,4.3-4.9,7.6-6c1-0.3,1.9-0.4,2.7-0.4c2.4,0,4.4,0.8,6.1,2.5c1.7,1.7,2.8,3.7,3.3,6.2l0,0.3c0,0.4-0.1,0.7-0.4,0.9 c-0.3,0.2-0.6,0.3-0.9,0.3c-0.6,0-0.9-0.3-1.1-0.9c-0.3-1.4-0.8-2.7-1.6-4.1c-0.8-1.3-1.9-2.2-3.3-2.5l-0.5,0 c-0.8,0-1.6,0.3-2.3,0.9c-1.1,1.1-2,2.3-2.6,3.8c-0.8,1.6-1.3,3.3-1.6,5.1c-0.3,1.8-0.5,3.8-0.5,5.9c0,2.5,0.5,4.9,1.6,7.2 c0.5,0.8,1.1,1.6,1.9,2.1c0.8,0.6,1.7,0.9,2.7,0.9c1.3,0,2.6-0.3,3.8-0.8c1.2-0.6,2.4-1.2,3.4-2.1c2.2-1.8,4-4,5.4-6.6 c1.4-2.5,2.4-5.2,3.3-7.9c0.2-0.6,0.6-0.9,1.2-0.9c0.3,0,0.6,0.1,0.9,0.3s0.4,0.5,0.4,0.8c0,0.1-0.1,0.4-0.2,0.8 c-0.6,2-1.4,4.1-2.4,6.1c-2.9,6.4-6.6,10.8-11.4,13.1C162.2,61.7,160.3,62.1,158.3,62.1z"}),e.createElement("path",{fill:"current",fillRule:"evenodd",id:"XMLID_21_",d:"M179.7,62.1h-1.4c-0.6,0-1.2-0.1-1.8-0.2c-0.8-0.3-1.2-0.9-1.4-1.7c-0.2-0.8-0.3-1.6-0.3-2.3 c0-7.8,0-13.2,0-16.3c0-10.6,0.4-19.5,1.1-26.5c0.5-5.3,1.5-9,3-11.1c0.8-1.1,1.8-1.9,3.1-2.5c0.8-0.3,1.6-0.4,2.4-0.4 c1.5,0,2.9,0.5,4.2,1.4c2,1.5,2.9,3.8,2.9,6.9v0.4c0,3-0.6,6-1.8,8.8c-1.1,2.7-2.6,5.2-4.5,7.5l-0.2,0.2c-0.6,0.8-1.3,1.5-2.1,2.1 c-0.1,1.6-0.1,3.1-0.1,4.7c0.9-1.3,1.9-2.4,3.2-3.3c1.6-1.2,3.3-1.7,5.1-1.7c1.3,0,2.5,0.4,3.6,1.1c1.4,1.1,2.1,2.7,2.1,4.7 c0,0.8-0.1,1.5-0.3,2.3c-0.8,2.9-2.4,5.3-4.8,7.2c-1.3,1-2.7,1.7-4.2,2.2c0.5,1,1,1.9,1.6,2.9c1.3,2.4,2.8,4.7,4.5,6.8 c0.3,0.4,0.7,0.8,1,1.2c0.7,0.7,1.5,1.1,2.3,1.1c0.2,0,0.5,0,0.7-0.1c0.5-0.2,1-0.5,1.4-1c0.9-0.9,1.7-1.9,2.4-3.1 c2.3-4.1,4.2-8.4,5.7-12.9c0.2-0.6,0.6-0.9,1.2-0.9c0.3,0,0.6,0.1,0.8,0.3c0.3,0.2,0.4,0.5,0.4,0.8c0,0.1,0,0.3-0.1,0.4 c-2.1,5.7-4.3,10.6-6.7,14.6c-0.7,1.2-1.3,2.2-1.8,2.8c-0.6,0.9-1.4,1.6-2.3,2.3c-1.2,0.8-2.5,1.1-3.8,1.1c-0.3,0-0.5,0-0.7,0 c-1.6-0.2-3.1-0.8-4.4-1.7c-2.4-1.6-4.7-4.5-6.8-8.6c0,2.6,0,4.6,0.1,6c0,0.3,0,0.6,0,0.9c0,0.7-0.1,1.4-0.3,2 c-0.2,0.6-0.7,1-1.5,1.2C180.8,62.1,180.3,62.1,179.7,62.1z M182.9,43.4c0,0,0.1,0,0.1,0l0.7-0.4l0.2-0.2c2.4-2.3,4.4-5.1,5.9-8.3 c0.3-0.6,0.5-1.2,0.7-1.6c0.1-0.4,0.2-1,0.2-1.8c0,0,0-0.1-0.1-0.1c0,0-0.1-0.1-0.3-0.1c-0.3,0-0.6,0.1-0.9,0.2 c-0.3,0.1-0.5,0.2-0.8,0.2c-1.7,0.9-3.1,2.3-4.1,4.1c-1,1.9-1.5,3.8-1.6,5.7c0,0.2,0,0.3-0.1,0.4V43.4z M183.3,24.9 c4-4.8,6-9.9,6-15.4c0-2.8-0.7-4.5-2.2-5.2l-0.3,0.1c-0.4,0.4-0.7,0.8-0.9,1.3l-0.4,1.1c-0.8,2.7-1.4,5.7-1.7,8.8 S183.4,21.9,183.3,24.9z"}))))}var ni=e.forwardRef(ti);n.p;function ri(e){return ct({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10 18a7.952 7.952 0 0 0 4.897-1.688l4.396 4.396 1.414-1.414-4.396-4.396A7.952 7.952 0 0 0 18 10c0-4.411-3.589-8-8-8s-8 3.589-8 8 3.589 8 8 8zm0-14c3.309 0 6 2.691 6 6s-2.691 6-6 6-6-2.691-6-6 2.691-6 6-6z"}},{tag:"path",attr:{d:"M11.412 8.586c.379.38.588.882.588 1.414h2a3.977 3.977 0 0 0-1.174-2.828c-1.514-1.512-4.139-1.512-5.652 0l1.412 1.416c.76-.758 2.07-.756 2.826-.002z"}}]})(e)}function ai(e){return ct({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0zm3.5 7.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5z"}}]})(e)}function oi(e){return ct({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 0a8 8 0 1 1 0 16A8 8 0 0 1 8 0zM4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5z"}}]})(e)}function ii(e){return ct({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M6.717 3.55A.5.5 0 0 1 7 4v8a.5.5 0 0 1-.812.39L3.825 10.5H1.5A.5.5 0 0 1 1 10V6a.5.5 0 0 1 .5-.5h2.325l2.363-1.89a.5.5 0 0 1 .529-.06zm7.137 2.096a.5.5 0 0 1 0 .708L12.207 8l1.647 1.646a.5.5 0 0 1-.708.708L11.5 8.707l-1.646 1.647a.5.5 0 0 1-.708-.708L10.793 8 9.146 6.354a.5.5 0 1 1 .708-.708L11.5 7.293l1.646-1.647a.5.5 0 0 1 .708 0z"}}]})(e)}function si(e){return ct({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11.536 14.01A8.473 8.473 0 0 0 14.026 8a8.473 8.473 0 0 0-2.49-6.01l-.708.707A7.476 7.476 0 0 1 13.025 8c0 2.071-.84 3.946-2.197 5.303l.708.707z"}},{tag:"path",attr:{d:"M10.121 12.596A6.48 6.48 0 0 0 12.025 8a6.48 6.48 0 0 0-1.904-4.596l-.707.707A5.483 5.483 0 0 1 11.025 8a5.483 5.483 0 0 1-1.61 3.89l.706.706z"}},{tag:"path",attr:{d:"M8.707 11.182A4.486 4.486 0 0 0 10.025 8a4.486 4.486 0 0 0-1.318-3.182L8 5.525A3.489 3.489 0 0 1 9.025 8 3.49 3.49 0 0 1 8 10.475l.707.707zM6.717 3.55A.5.5 0 0 1 7 4v8a.5.5 0 0 1-.812.39L3.825 10.5H1.5A.5.5 0 0 1 1 10V6a.5.5 0 0 1 .5-.5h2.325l2.363-1.89a.5.5 0 0 1 .529-.06z"}}]})(e)}function ui(e){return ct({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12 8a.5.5 0 0 1-.5.5H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5a.5.5 0 0 1 .5.5z"}}]})(e)}function ci(e){return ct({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8z"}}]})(e)}function li(e){return ct({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M8 1a2 2 0 0 1 2 2v2H6V3a2 2 0 0 1 2-2zm3 4V3a3 3 0 1 0-6 0v2H3.36a1.5 1.5 0 0 0-1.483 1.277L.85 13.13A2.5 2.5 0 0 0 3.322 16h9.355a2.5 2.5 0 0 0 2.473-2.87l-1.028-6.853A1.5 1.5 0 0 0 12.64 5H11zm-1 1v1.5a.5.5 0 0 0 1 0V6h1.639a.5.5 0 0 1 .494.426l1.028 6.851A1.5 1.5 0 0 1 12.678 15H3.322a1.5 1.5 0 0 1-1.483-1.723l1.028-6.851A.5.5 0 0 1 3.36 6H5v1.5a.5.5 0 1 0 1 0V6h4z"}}]})(e)}var fi=n(9702);function pi(e,t){void 0===t&&(t={});var n=function(e){if(e&&"j"===e[0]&&":"===e[1])return e.substr(2);return e}(e);if(function(e,t){return"undefined"===typeof t&&(t=!e||"{"!==e[0]&&"["!==e[0]&&'"'!==e[0]),!t}(n,t.doNotParse))try{return JSON.parse(n)}catch(Qf){}return e}var di=function(){return di=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},di.apply(this,arguments)},hi=function(){function e(e,t){var n=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=function(e,t){return"string"===typeof e?fi.Q(e,t):"object"===typeof e&&null!==e?e:{}}(e,t),new Promise((function(){n.HAS_DOCUMENT_COOKIE="object"===typeof document&&"string"===typeof document.cookie})).catch((function(){}))}return e.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=fi.Q(document.cookie,e))},e.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},e.prototype.get=function(e,t,n){return void 0===t&&(t={}),this._updateBrowserValues(n),pi(this.cookies[e],t)},e.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var n={};for(var r in this.cookies)n[r]=pi(this.cookies[r],e);return n},e.prototype.set=function(e,t,n){var r;"object"===typeof t&&(t=JSON.stringify(t)),this.cookies=di(di({},this.cookies),((r={})[e]=t,r)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=fi.q(e,t,n)),this._emitChange({name:e,value:t,options:n})},e.prototype.remove=function(e,t){var n=t=di(di({},t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=di({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=fi.q(e,"",n)),this._emitChange({name:e,value:void 0,options:t})},e.prototype.addChangeListener=function(e){this.changeListeners.push(e)},e.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},e}(),vi=(new hi,n(1002));function mi(e){return!(!e.addonBefore&&!e.addonAfter)}function gi(e){return!!(e.prefix||e.suffix||e.allowClear)}function yi(e,t,n,r){if(n){var a=t;if("click"===t.type){var o=e.cloneNode(!0);return a=Object.create(t,{target:{value:o},currentTarget:{value:o}}),o.value="",void n(a)}if(void 0!==r)return a=Object.create(t,{target:{value:e},currentTarget:{value:e}}),e.value=r,void n(a);n(a)}}function bi(e){return"undefined"===typeof e||null===e?"":String(e)}var xi=function(t){var n=t.inputElement,r=t.prefixCls,a=t.prefix,i=t.suffix,s=t.addonBefore,u=t.addonAfter,c=t.className,l=t.style,f=t.affixWrapperClassName,p=t.groupClassName,d=t.wrapperClassName,h=t.disabled,v=t.readOnly,m=t.focused,g=t.triggerFocus,y=t.allowClear,b=t.value,x=t.handleReset,w=t.hidden,k=(0,e.useRef)(null),S=(0,e.cloneElement)(n,{value:b,hidden:w});if(gi(t)){var E,C="".concat(r,"-affix-wrapper"),N=Fn()(C,(E={},(0,o.Z)(E,"".concat(C,"-disabled"),h),(0,o.Z)(E,"".concat(C,"-focused"),m),(0,o.Z)(E,"".concat(C,"-readonly"),v),(0,o.Z)(E,"".concat(C,"-input-with-clear-btn"),i&&y&&b),E),!mi(t)&&c,f),T=(i||y)&&e.createElement("span",{className:"".concat(r,"-suffix")},function(){var t;if(!y)return null;var n=!h&&!v&&b,a="".concat(r,"-clear-icon"),s="object"===(0,vi.Z)(y)&&(null===y||void 0===y?void 0:y.clearIcon)?y.clearIcon:"\u2716";return e.createElement("span",{onClick:x,onMouseDown:function(e){return e.preventDefault()},className:Fn()(a,(t={},(0,o.Z)(t,"".concat(a,"-hidden"),!n),(0,o.Z)(t,"".concat(a,"-has-suffix"),!!i),t)),role:"button",tabIndex:-1},s)}(),i);S=e.createElement("span",{className:N,style:l,hidden:!mi(t)&&w,onMouseDown:function(e){var t;(null===(t=k.current)||void 0===t?void 0:t.contains(e.target))&&(null===g||void 0===g||g())},ref:k},a&&e.createElement("span",{className:"".concat(r,"-prefix")},a),(0,e.cloneElement)(n,{style:null,value:b,hidden:null}),T)}if(mi(t)){var I="".concat(r,"-group"),O="".concat(I,"-addon"),_=Fn()("".concat(r,"-wrapper"),I,d),D=Fn()("".concat(r,"-group-wrapper"),c,p);return e.createElement("span",{className:D,style:l,hidden:w},e.createElement("span",{className:_},s&&e.createElement("span",{className:O},s),(0,e.cloneElement)(S,{style:null,hidden:null}),u&&e.createElement("span",{className:O},u)))}return S};function wi(e,t){var n=s({},e);return Array.isArray(t)&&t.forEach((function(e){delete n[e]})),n}function ki(t){var n=e.useRef(!1),r=e.useState(t),o=(0,a.Z)(r,2),i=o[0],s=o[1];return e.useEffect((function(){return n.current=!1,function(){n.current=!0}}),[]),[i,function(e,t){t&&n.current||s(e)}]}function Si(t,n){var r=n||{},o=r.defaultValue,i=r.value,s=r.onChange,u=r.postState,c=ki((function(){return void 0!==i?i:void 0!==o?"function"===typeof o?o():o:"function"===typeof t?t():t})),l=(0,a.Z)(c,2),f=l[0],p=l[1],d=void 0!==i?i:f;u&&(d=u(d));var h=e.useRef(s);h.current=s;var v=e.useCallback((function(e,t){p(e,t),d!==e&&h.current&&h.current(e,d)}),[d,h]),m=e.useRef(i);return e.useEffect((function(){void 0===i&&i!==m.current&&p(i),m.current=i}),[i]),[d,v]}var Ei=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","type","inputClassName"],Ci=(0,e.forwardRef)((function(t,n){var i=t.autoComplete,u=t.onChange,c=t.onFocus,l=t.onBlur,f=t.onPressEnter,p=t.onKeyDown,d=t.prefixCls,h=void 0===d?"rc-input":d,v=t.disabled,m=t.htmlSize,g=t.className,y=t.maxLength,b=t.suffix,x=t.showCount,w=t.type,k=void 0===w?"text":w,S=t.inputClassName,E=Pn(t,Ei),C=Si(t.defaultValue,{value:t.value}),N=(0,a.Z)(C,2),T=N[0],I=N[1],O=(0,e.useState)(!1),_=(0,a.Z)(O,2),D=_[0],A=_[1],R=(0,e.useRef)(null),P=function(e){R.current&&function(e,t){if(e){e.focus(t);var n=(t||{}).cursor;if(n){var r=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(r,r);break;default:e.setSelectionRange(0,r)}}}}(R.current,e)};(0,e.useImperativeHandle)(n,(function(){return{focus:P,blur:function(){var e;null===(e=R.current)||void 0===e||e.blur()},setSelectionRange:function(e,t,n){var r;null===(r=R.current)||void 0===r||r.setSelectionRange(e,t,n)},select:function(){var e;null===(e=R.current)||void 0===e||e.select()},input:R.current}})),(0,e.useEffect)((function(){A((function(e){return(!e||!v)&&e}))}),[v]);var M=function(e){void 0===t.value&&I(e.target.value),R.current&&yi(R.current,e,u)},F=function(e){f&&"Enter"===e.key&&f(e),null===p||void 0===p||p(e)},L=function(e){A(!0),null===c||void 0===c||c(e)},j=function(e){A(!1),null===l||void 0===l||l(e)};return e.createElement(xi,s(s({},E),{},{prefixCls:h,className:g,inputElement:function(){var n=wi(t,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","affixWrapperClassName","groupClassName","inputClassName","wrapperClassName","htmlSize"]);return e.createElement("input",s(s({autoComplete:i},n),{},{onChange:M,onFocus:L,onBlur:j,onKeyDown:F,className:Fn()(h,(0,o.Z)({},"".concat(h,"-disabled"),v),S,!mi(t)&&!gi(t)&&g),ref:R,size:m,type:k}))}(),handleReset:function(e){I(""),P(),R.current&&yi(R.current,e,u)},value:bi(T),focused:D,triggerFocus:P,suffix:function(){var t=Number(y)>0;if(b||x){var n=(0,r.Z)(bi(T)).length,a="object"===(0,vi.Z)(x)?x.formatter({count:n,maxLength:y}):"".concat(n).concat(t?" / ".concat(y):"");return e.createElement(e.Fragment,null,!!x&&e.createElement("span",{className:Fn()("".concat(h,"-show-count-suffix"),(0,o.Z)({},"".concat(h,"-show-count-has-suffix"),!!b))},a),b)}return null}(),disabled:v}))})),Ni=Ci,Ti={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"},Ii=(0,e.createContext)({});function Oi(e,t){(function(e){return"string"===typeof e&&-1!==e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"===typeof e&&-1!==e.indexOf("%")}(e);return e=360===t?e:Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(String(e*t),10)/100),Math.abs(e-t)<1e-6?1:e=360===t?(e<0?e%t+t:e%t)/parseFloat(String(t)):e%t/parseFloat(String(t))}function _i(e){return e<=1?"".concat(100*Number(e),"%"):e}function Di(e){return 1===e.length?"0"+e:String(e)}function Ai(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*n*(t-e):n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Ri(e){return Pi(e)/255}function Pi(e){return parseInt(e,16)}var Mi={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Fi(e){var t={r:0,g:0,b:0},n=1,r=null,a=null,o=null,i=!1,s=!1;return"string"===typeof e&&(e=function(e){if(0===(e=e.trim().toLowerCase()).length)return!1;var t=!1;if(Mi[e])e=Mi[e],t=!0;else if("transparent"===e)return{r:0,g:0,b:0,a:0,format:"name"};var n=zi.rgb.exec(e);if(n)return{r:n[1],g:n[2],b:n[3]};if(n=zi.rgba.exec(e))return{r:n[1],g:n[2],b:n[3],a:n[4]};if(n=zi.hsl.exec(e))return{h:n[1],s:n[2],l:n[3]};if(n=zi.hsla.exec(e))return{h:n[1],s:n[2],l:n[3],a:n[4]};if(n=zi.hsv.exec(e))return{h:n[1],s:n[2],v:n[3]};if(n=zi.hsva.exec(e))return{h:n[1],s:n[2],v:n[3],a:n[4]};if(n=zi.hex8.exec(e))return{r:Pi(n[1]),g:Pi(n[2]),b:Pi(n[3]),a:Ri(n[4]),format:t?"name":"hex8"};if(n=zi.hex6.exec(e))return{r:Pi(n[1]),g:Pi(n[2]),b:Pi(n[3]),format:t?"name":"hex"};if(n=zi.hex4.exec(e))return{r:Pi(n[1]+n[1]),g:Pi(n[2]+n[2]),b:Pi(n[3]+n[3]),a:Ri(n[4]+n[4]),format:t?"name":"hex8"};if(n=zi.hex3.exec(e))return{r:Pi(n[1]+n[1]),g:Pi(n[2]+n[2]),b:Pi(n[3]+n[3]),format:t?"name":"hex"};return!1}(e)),"object"===typeof e&&(Bi(e.r)&&Bi(e.g)&&Bi(e.b)?(t=function(e,t,n){return{r:255*Oi(e,255),g:255*Oi(t,255),b:255*Oi(n,255)}}(e.r,e.g,e.b),i=!0,s="%"===String(e.r).substr(-1)?"prgb":"rgb"):Bi(e.h)&&Bi(e.s)&&Bi(e.v)?(r=_i(e.s),a=_i(e.v),t=function(e,t,n){e=6*Oi(e,360),t=Oi(t,100),n=Oi(n,100);var r=Math.floor(e),a=e-r,o=n*(1-t),i=n*(1-a*t),s=n*(1-(1-a)*t),u=r%6;return{r:255*[n,i,o,o,s,n][u],g:255*[s,n,n,i,o,o][u],b:255*[o,o,s,n,n,i][u]}}(e.h,r,a),i=!0,s="hsv"):Bi(e.h)&&Bi(e.s)&&Bi(e.l)&&(r=_i(e.s),o=_i(e.l),t=function(e,t,n){var r,a,o;if(e=Oi(e,360),t=Oi(t,100),n=Oi(n,100),0===t)a=n,o=n,r=n;else{var i=n<.5?n*(1+t):n+t-n*t,s=2*n-i;r=Ai(s,i,e+1/3),a=Ai(s,i,e),o=Ai(s,i,e-1/3)}return{r:255*r,g:255*a,b:255*o}}(e.h,r,o),i=!0,s="hsl"),Object.prototype.hasOwnProperty.call(e,"a")&&(n=e.a)),n=function(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}(n),{ok:i,format:e.format||s,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}var Li="(?:".concat("[-\\+]?\\d*\\.\\d+%?",")|(?:").concat("[-\\+]?\\d+%?",")"),ji="[\\s|\\(]+(".concat(Li,")[,|\\s]+(").concat(Li,")[,|\\s]+(").concat(Li,")\\s*\\)?"),Zi="[\\s|\\(]+(".concat(Li,")[,|\\s]+(").concat(Li,")[,|\\s]+(").concat(Li,")[,|\\s]+(").concat(Li,")\\s*\\)?"),zi={CSS_UNIT:new RegExp(Li),rgb:new RegExp("rgb"+ji),rgba:new RegExp("rgba"+Zi),hsl:new RegExp("hsl"+ji),hsla:new RegExp("hsla"+Zi),hsv:new RegExp("hsv"+ji),hsva:new RegExp("hsva"+Zi),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function Bi(e){return Boolean(zi.CSS_UNIT.exec(String(e)))}var Ui=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function Wi(e){var t=function(e,t,n){e=Oi(e,255),t=Oi(t,255),n=Oi(n,255);var r=Math.max(e,t,n),a=Math.min(e,t,n),o=0,i=r,s=r-a,u=0===r?0:s/r;if(r===a)o=0;else{switch(r){case e:o=(t-n)/s+(t<n?6:0);break;case t:o=(n-e)/s+2;break;case n:o=(e-t)/s+4}o/=6}return{h:o,s:u,v:i}}(e.r,e.g,e.b);return{h:360*t.h,s:t.s,v:t.v}}function Vi(e){var t=e.r,n=e.g,r=e.b;return"#".concat(function(e,t,n,r){var a=[Di(Math.round(e).toString(16)),Di(Math.round(t).toString(16)),Di(Math.round(n).toString(16))];return r&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}(t,n,r,!1))}function Hi(e,t,n){var r=n/100;return{r:(t.r-e.r)*r+e.r,g:(t.g-e.g)*r+e.g,b:(t.b-e.b)*r+e.b}}function Gi(e,t,n){var r;return(r=Math.round(e.h)>=60&&Math.round(e.h)<=240?n?Math.round(e.h)-2*t:Math.round(e.h)+2*t:n?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?r+=360:r>=360&&(r-=360),r}function qi(e,t,n){return 0===e.h&&0===e.s?e.s:((r=n?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(r=1),n&&5===t&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2)));var r}function Xi(e,t,n){var r;return(r=n?e.v+.05*t:e.v-.15*t)>1&&(r=1),Number(r.toFixed(2))}function Ki(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[],r=Fi(e),a=5;a>0;a-=1){var o=Wi(r),i=Vi(Fi({h:Gi(o,a,!0),s:qi(o,a,!0),v:Xi(o,a,!0)}));n.push(i)}n.push(Vi(r));for(var s=1;s<=4;s+=1){var u=Wi(r),c=Vi(Fi({h:Gi(u,s),s:qi(u,s),v:Xi(u,s)}));n.push(c)}return"dark"===t.theme?Ui.map((function(e){var r=e.index,a=e.opacity;return Vi(Hi(Fi(t.backgroundColor||"#141414"),Fi(n[r]),100*a))})):n}var Yi={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Qi={},$i={};Object.keys(Yi).forEach((function(e){Qi[e]=Ki(Yi[e]),Qi[e].primary=Qi[e][5],$i[e]=Ki(Yi[e],{theme:"dark",backgroundColor:"#141414"}),$i[e].primary=$i[e][5]}));Qi.red,Qi.volcano,Qi.gold,Qi.orange,Qi.yellow,Qi.lime,Qi.green,Qi.cyan,Qi.blue,Qi.geekblue,Qi.purple,Qi.magenta,Qi.grey;var Ji={};function es(e,t){0}function ts(e,t,n){t||Ji[n]||(e(!1,n),Ji[n]=!0)}var ns=function(e,t){ts(es,e,t)};function rs(){return!("undefined"===typeof window||!window.document||!window.document.createElement)}var as="rc-util-key";function os(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mark;return t?t.startsWith("data-")?t:"data-".concat(t):as}function is(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function ss(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!rs())return null;var r,a=document.createElement("style");(null===(t=n.csp)||void 0===t?void 0:t.nonce)&&(a.nonce=null===(r=n.csp)||void 0===r?void 0:r.nonce);a.innerHTML=e;var o=is(n),i=o.firstChild;return n.prepend&&o.prepend?o.prepend(a):n.prepend&&i?o.insertBefore(a,i):o.appendChild(a),a}var us=new Map;function cs(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=is(t);return Array.from(us.get(n).children).find((function(n){return"STYLE"===n.tagName&&n.getAttribute(os(t))===e}))}function ls(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=is(n);if(!us.has(r)){var a=ss("",n),o=a.parentNode;us.set(r,o),o.removeChild(a)}var i=cs(t,n);if(i){var s,u,c;if((null===(s=n.csp)||void 0===s?void 0:s.nonce)&&i.nonce!==(null===(u=n.csp)||void 0===u?void 0:u.nonce))i.nonce=null===(c=n.csp)||void 0===c?void 0:c.nonce;return i.innerHTML!==e&&(i.innerHTML=e),i}var l=ss(e,n);return l.setAttribute(os(n),t),l}function fs(e){return"object"===(0,vi.Z)(e)&&"string"===typeof e.name&&"string"===typeof e.theme&&("object"===(0,vi.Z)(e.icon)||"function"===typeof e.icon)}function ps(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,n){var r=e[n];if("class"===n)t.className=r,delete t.class;else t[n]=r;return t}),{})}function ds(t,n,r){return r?e.createElement(t.tag,s(s({key:n},ps(t.attrs)),r),(t.children||[]).map((function(e,r){return ds(e,"".concat(n,"-").concat(t.tag,"-").concat(r))}))):e.createElement(t.tag,s({key:n},ps(t.attrs)),(t.children||[]).map((function(e,r){return ds(e,"".concat(n,"-").concat(t.tag,"-").concat(r))})))}function hs(e){return Ki(e)[0]}function vs(e){return e?Array.isArray(e)?e:[e]:[]}var ms="\n.anticon {\n  display: inline-block;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n",gs=["icon","className","onClick","style","primaryColor","secondaryColor"],ys={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var bs=function(t){var n,r,a=t.icon,o=t.className,i=t.onClick,u=t.style,c=t.primaryColor,l=t.secondaryColor,f=Pn(t,gs),p=ys;if(c&&(p={primaryColor:c,secondaryColor:l||hs(c)}),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ms,n=(0,e.useContext)(Ii).csp;(0,e.useEffect)((function(){ls(t,"@ant-design-icons",{prepend:!0,csp:n})}),[])}(),n=fs(a),r="icon should be icon definiton, but got ".concat(a),ns(n,"[@ant-design/icons] ".concat(r)),!fs(a))return null;var d=a;return d&&"function"===typeof d.icon&&(d=s(s({},d),{},{icon:d.icon(p.primaryColor,p.secondaryColor)})),ds(d.icon,"svg-".concat(d.name),s({className:o,onClick:i,style:u,"data-icon":d.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},f))};bs.displayName="IconReact",bs.getTwoToneColors=function(){return s({},ys)},bs.setTwoToneColors=function(e){var t=e.primaryColor,n=e.secondaryColor;ys.primaryColor=t,ys.secondaryColor=n||hs(t),ys.calculated=!!n};var xs=bs;function ws(e){var t=vs(e),n=(0,a.Z)(t,2),r=n[0],o=n[1];return xs.setTwoToneColors({primaryColor:r,secondaryColor:o})}var ks=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];ws("#1890ff");var Ss=e.forwardRef((function(t,n){var r,i=t.className,u=t.icon,c=t.spin,l=t.rotate,f=t.tabIndex,p=t.onClick,d=t.twoToneColor,h=Pn(t,ks),v=e.useContext(Ii).prefixCls,m=void 0===v?"anticon":v,g=Fn()(m,(r={},(0,o.Z)(r,"".concat(m,"-").concat(u.name),!!u.name),(0,o.Z)(r,"".concat(m,"-spin"),!!c||"loading"===u.name),r),i),y=f;void 0===y&&p&&(y=-1);var b=l?{msTransform:"rotate(".concat(l,"deg)"),transform:"rotate(".concat(l,"deg)")}:void 0,x=vs(d),w=(0,a.Z)(x,2),k=w[0],S=w[1];return e.createElement("span",s(s({role:"img","aria-label":u.name},h),{},{ref:n,tabIndex:y,onClick:p,className:g}),e.createElement(xs,{icon:u,primaryColor:k,secondaryColor:S,style:b}))}));Ss.displayName="AntdIcon",Ss.getTwoToneColor=function(){var e=xs.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},Ss.setTwoToneColor=ws;var Es=Ss,Cs=function(t,n){return e.createElement(Es,s(s({},t),{},{ref:n,icon:Ti}))};Cs.displayName="CloseCircleFilled";var Ns=e.forwardRef(Cs),Ts=n(3873);function Is(t,n,r){var a=e.useRef({});return"value"in a.current&&!r(a.current.condition,n)||(a.current.value=t(),a.current.condition=n),a.current.value}function Os(e,t){"function"===typeof e?e(t):"object"===(0,vi.Z)(e)&&e&&"current"in e&&(e.current=t)}function _s(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter((function(e){return e}));return r.length<=1?r[0]:function(e){t.forEach((function(t){Os(t,e)}))}}function Ds(e){var t,n,r=(0,Ts.isMemo)(e)?e.type.type:e.type;return!("function"===typeof r&&!(null===(t=r.prototype)||void 0===t?void 0:t.render))&&!("function"===typeof e&&!(null===(n=e.prototype)||void 0===n?void 0:n.render))}var As=e.createContext(void 0),Rs=function(t){var n=t.children,r=t.size;return e.createElement(As.Consumer,null,(function(t){return e.createElement(As.Provider,{value:r||t},n)}))},Ps=As,Ms=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t};Ms("warning","error","");function Fs(e,t,n){var r;return Fn()((r={},(0,o.Z)(r,"".concat(e,"-status-success"),"success"===t),(0,o.Z)(r,"".concat(e,"-status-warning"),"warning"===t),(0,o.Z)(r,"".concat(e,"-status-error"),"error"===t),(0,o.Z)(r,"".concat(e,"-status-validating"),"validating"===t),(0,o.Z)(r,"".concat(e,"-has-feedback"),n),r))}var Ls=function(e,t){return t||e},js={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},Zs={lang:x({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},{locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"}),timePickerLocale:x({},js)},zs="${label} is not a valid ${type}",Bs={locale:"en",Pagination:{items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},DatePicker:Zs,TimePicker:js,Calendar:Zs,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:zs,method:zs,array:zs,object:zs,number:zs,date:zs,boolean:zs,integer:zs,float:zs,regexp:zs,email:zs,url:zs,hex:zs},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"}},Us=Bs,Ws=(0,e.createContext)(void 0),Vs=function(e){(0,Ya.Z)(n,e);var t=(0,Qa.Z)(n);function n(){return(0,la.Z)(this,n),t.apply(this,arguments)}return(0,fa.Z)(n,[{key:"getLocale",value:function(){var e=this.props,t=e.componentName,n=e.defaultLocale||Us[null!==t&&void 0!==t?t:"global"],r=this.context,a=t&&r?r[t]:{};return x(x({},n instanceof Function?n():n),a||{})}},{key:"getLocaleCode",value:function(){var e=this.context,t=e&&e.locale;return e&&e.exist&&!t?Us.locale:t}},{key:"render",value:function(){return this.props.children(this.getLocale(),this.getLocaleCode(),this.context)}}]),n}(e.Component);Vs.defaultProps={componentName:"global"},Vs.contextType=Ws;var Hs=function(){var t=(0,e.useContext(Js).getPrefixCls)("empty-img-default");return e.createElement("svg",{className:t,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},e.createElement("g",{fill:"none",fillRule:"evenodd"},e.createElement("g",{transform:"translate(24 31.67)"},e.createElement("ellipse",{className:"".concat(t,"-ellipse"),cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"}),e.createElement("path",{className:"".concat(t,"-path-1"),d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"}),e.createElement("path",{className:"".concat(t,"-path-2"),d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",transform:"translate(13.56)"}),e.createElement("path",{className:"".concat(t,"-path-3"),d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"}),e.createElement("path",{className:"".concat(t,"-path-4"),d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"})),e.createElement("path",{className:"".concat(t,"-path-5"),d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"}),e.createElement("g",{className:"".concat(t,"-g"),transform:"translate(149.65 15.383)"},e.createElement("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"}),e.createElement("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"}))))},Gs=function(){var t=(0,e.useContext(Js).getPrefixCls)("empty-img-simple");return e.createElement("svg",{className:t,width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},e.createElement("g",{transform:"translate(0 1)",fill:"none",fillRule:"evenodd"},e.createElement("ellipse",{className:"".concat(t,"-ellipse"),cx:"32",cy:"33",rx:"32",ry:"7"}),e.createElement("g",{className:"".concat(t,"-g"),fillRule:"nonzero"},e.createElement("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"}),e.createElement("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",className:"".concat(t,"-path")}))))},qs=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Xs=e.createElement(Hs,null),Ks=e.createElement(Gs,null),Ys=function(t){var n=t.className,r=t.prefixCls,a=t.image,i=void 0===a?Xs:a,s=t.description,u=t.children,c=t.imageStyle,l=qs(t,["className","prefixCls","image","description","children","imageStyle"]),f=e.useContext(Js),p=f.getPrefixCls,d=f.direction;return e.createElement(Vs,{componentName:"Empty"},(function(t){var a,f=p("empty",r),h="undefined"!==typeof s?s:t.description,v="string"===typeof h?h:"empty",m=null;return m="string"===typeof i?e.createElement("img",{alt:v,src:i}):i,e.createElement("div",x({className:Fn()(f,(a={},(0,o.Z)(a,"".concat(f,"-normal"),i===Ks),(0,o.Z)(a,"".concat(f,"-rtl"),"rtl"===d),a),n)},l),e.createElement("div",{className:"".concat(f,"-image"),style:c},m),h&&e.createElement("div",{className:"".concat(f,"-description")},h),u&&e.createElement("div",{className:"".concat(f,"-footer")},u))}))};Ys.PRESENTED_IMAGE_DEFAULT=Xs,Ys.PRESENTED_IMAGE_SIMPLE=Ks;var Qs=Ys,$s=function(t){return e.createElement(eu,null,(function(n){var r=(0,n.getPrefixCls)("empty");switch(t){case"Table":case"List":return e.createElement(Qs,{image:Qs.PRESENTED_IMAGE_SIMPLE});case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return e.createElement(Qs,{image:Qs.PRESENTED_IMAGE_SIMPLE,className:"".concat(r,"-small")});default:return e.createElement(Qs,null)}}))},Js=e.createContext({getPrefixCls:function(e,t){return t||(e?"ant-".concat(e):"ant")},renderEmpty:$s}),eu=Js.Consumer;var tu=n(7326);function nu(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[];return e.Children.forEach(t,(function(e){(void 0!==e&&null!==e||n.keepEmpty)&&(Array.isArray(e)?r=r.concat(nu(e)):(0,Ts.isFragment)(e)&&e.props?r=r.concat(nu(e.props.children,n)):r.push(e))})),r}var ru="RC_FORM_INTERNAL_HOOKS",au=function(){ns(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},ou=e.createContext({getFieldValue:au,getFieldsValue:au,getFieldError:au,getFieldWarning:au,getFieldsError:au,isFieldsTouched:au,isFieldTouched:au,isFieldValidating:au,isFieldsValidating:au,resetFields:au,setFields:au,setFieldsValue:au,validateFields:au,submit:au,getInternalHooks:function(){return au(),{dispatch:au,initEntityValue:au,registerField:au,useSubscribe:au,setInitialValues:au,destroyForm:au,setCallbacks:au,registerWatch:au,getFields:au,setValidateMessages:au,setPreserve:au,getInitialValue:au}}});function iu(e){return void 0===e||null===e?[]:Array.isArray(e)?e:[e]}function su(){return su=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},su.apply(this,arguments)}function uu(e){return uu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},uu(e)}function cu(e,t){return cu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},cu(e,t)}function lu(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Qf){return!1}}function fu(e,t,n){return fu=lu()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var a=new(Function.bind.apply(e,r));return n&&cu(a,n.prototype),a},fu.apply(null,arguments)}function pu(e){var t="function"===typeof Map?new Map:void 0;return pu=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return fu(e,arguments,uu(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),cu(r,e)},pu(e)}var du=/%[sdj%]/g;function hu(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var n=e.field;t[n]=t[n]||[],t[n].push(e)})),t}function vu(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=0,o=n.length;if("function"===typeof e)return e.apply(null,n);if("string"===typeof e){var i=e.replace(du,(function(e){if("%%"===e)return"%";if(a>=o)return e;switch(e){case"%s":return String(n[a++]);case"%d":return Number(n[a++]);case"%j":try{return JSON.stringify(n[a++])}catch(Ae){return"[Circular]"}break;default:return e}}));return i}return e}function mu(e,t){return void 0===e||null===e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!==typeof e||e))}function gu(e,t,n){var r=0,a=e.length;!function o(i){if(i&&i.length)n(i);else{var s=r;r+=1,s<a?t(e[s],o):n([])}}([])}var yu=function(e){var t,n;function r(t,n){var r;return(r=e.call(this,"Async Validation Error")||this).errors=t,r.fields=n,r}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,cu(t,n),r}(pu(Error));function bu(e,t,n,r,a){if(t.first){var o=new Promise((function(t,o){var i=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push.apply(t,e[n]||[])})),t}(e);gu(i,n,(function(e){return r(e),e.length?o(new yu(e,hu(e))):t(a)}))}));return o.catch((function(e){return e})),o}var i=!0===t.firstFields?Object.keys(e):t.firstFields||[],s=Object.keys(e),u=s.length,c=0,l=[],f=new Promise((function(t,o){var f=function(e){if(l.push.apply(l,e),++c===u)return r(l),l.length?o(new yu(l,hu(l))):t(a)};s.length||(r(l),t(a)),s.forEach((function(t){var r=e[t];-1!==i.indexOf(t)?gu(r,n,f):function(e,t,n){var r=[],a=0,o=e.length;function i(e){r.push.apply(r,e||[]),++a===o&&n(r)}e.forEach((function(e){t(e,i)}))}(r,n,f)}))}));return f.catch((function(e){return e})),f}function xu(e,t){return function(n){var r,a;return r=e.fullFields?function(e,t){for(var n=e,r=0;r<t.length;r++){if(void 0==n)return n;n=n[t[r]]}return n}(t,e.fullFields):t[n.field||e.fullField],(a=n)&&void 0!==a.message?(n.field=n.field||e.fullField,n.fieldValue=r,n):{message:"function"===typeof n?n():n,fieldValue:r,field:n.field||e.fullField}}}function wu(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"===typeof r&&"object"===typeof e[n]?e[n]=su({},e[n],r):e[n]=r}return e}var ku=function(e,t,n,r,a,o){!e.required||n.hasOwnProperty(e.field)&&!mu(t,o||e.type)||r.push(vu(a.messages.required,e.fullField))},Su={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Eu={integer:function(e){return Eu.number(e)&&parseInt(e,10)===e},float:function(e){return Eu.number(e)&&!Eu.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(Qf){return!1}},date:function(e){return"function"===typeof e.getTime&&"function"===typeof e.getMonth&&"function"===typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"===typeof e},object:function(e){return"object"===typeof e&&!Eu.array(e)},method:function(e){return"function"===typeof e},email:function(e){return"string"===typeof e&&e.length<=320&&!!e.match(Su.email)},url:function(e){return"string"===typeof e&&e.length<=2048&&!!e.match(Su.url)},hex:function(e){return"string"===typeof e&&!!e.match(Su.hex)}},Cu={required:ku,whitespace:function(e,t,n,r,a){(/^\s+$/.test(t)||""===t)&&r.push(vu(a.messages.whitespace,e.fullField))},type:function(e,t,n,r,a){if(e.required&&void 0===t)ku(e,t,n,r,a);else{var o=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(o)>-1?Eu[o](t)||r.push(vu(a.messages.types[o],e.fullField,e.type)):o&&typeof t!==e.type&&r.push(vu(a.messages.types[o],e.fullField,e.type))}},range:function(e,t,n,r,a){var o="number"===typeof e.len,i="number"===typeof e.min,s="number"===typeof e.max,u=t,c=null,l="number"===typeof t,f="string"===typeof t,p=Array.isArray(t);if(l?c="number":f?c="string":p&&(c="array"),!c)return!1;p&&(u=t.length),f&&(u=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),o?u!==e.len&&r.push(vu(a.messages[c].len,e.fullField,e.len)):i&&!s&&u<e.min?r.push(vu(a.messages[c].min,e.fullField,e.min)):s&&!i&&u>e.max?r.push(vu(a.messages[c].max,e.fullField,e.max)):i&&s&&(u<e.min||u>e.max)&&r.push(vu(a.messages[c].range,e.fullField,e.min,e.max))},enum:function(e,t,n,r,a){e.enum=Array.isArray(e.enum)?e.enum:[],-1===e.enum.indexOf(t)&&r.push(vu(a.messages.enum,e.fullField,e.enum.join(", ")))},pattern:function(e,t,n,r,a){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||r.push(vu(a.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"===typeof e.pattern){new RegExp(e.pattern).test(t)||r.push(vu(a.messages.pattern.mismatch,e.fullField,t,e.pattern))}}},Nu=function(e,t,n,r,a){var o=e.type,i=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(mu(t,o)&&!e.required)return n();Cu.required(e,t,r,i,a,o),mu(t,o)||Cu.type(e,t,r,i,a)}n(i)},Tu={string:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(mu(t,"string")&&!e.required)return n();Cu.required(e,t,r,o,a,"string"),mu(t,"string")||(Cu.type(e,t,r,o,a),Cu.range(e,t,r,o,a),Cu.pattern(e,t,r,o,a),!0===e.whitespace&&Cu.whitespace(e,t,r,o,a))}n(o)},method:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(mu(t)&&!e.required)return n();Cu.required(e,t,r,o,a),void 0!==t&&Cu.type(e,t,r,o,a)}n(o)},number:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(""===t&&(t=void 0),mu(t)&&!e.required)return n();Cu.required(e,t,r,o,a),void 0!==t&&(Cu.type(e,t,r,o,a),Cu.range(e,t,r,o,a))}n(o)},boolean:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(mu(t)&&!e.required)return n();Cu.required(e,t,r,o,a),void 0!==t&&Cu.type(e,t,r,o,a)}n(o)},regexp:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(mu(t)&&!e.required)return n();Cu.required(e,t,r,o,a),mu(t)||Cu.type(e,t,r,o,a)}n(o)},integer:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(mu(t)&&!e.required)return n();Cu.required(e,t,r,o,a),void 0!==t&&(Cu.type(e,t,r,o,a),Cu.range(e,t,r,o,a))}n(o)},float:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(mu(t)&&!e.required)return n();Cu.required(e,t,r,o,a),void 0!==t&&(Cu.type(e,t,r,o,a),Cu.range(e,t,r,o,a))}n(o)},array:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if((void 0===t||null===t)&&!e.required)return n();Cu.required(e,t,r,o,a,"array"),void 0!==t&&null!==t&&(Cu.type(e,t,r,o,a),Cu.range(e,t,r,o,a))}n(o)},object:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(mu(t)&&!e.required)return n();Cu.required(e,t,r,o,a),void 0!==t&&Cu.type(e,t,r,o,a)}n(o)},enum:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(mu(t)&&!e.required)return n();Cu.required(e,t,r,o,a),void 0!==t&&Cu.enum(e,t,r,o,a)}n(o)},pattern:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(mu(t,"string")&&!e.required)return n();Cu.required(e,t,r,o,a),mu(t,"string")||Cu.pattern(e,t,r,o,a)}n(o)},date:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(mu(t,"date")&&!e.required)return n();var i;if(Cu.required(e,t,r,o,a),!mu(t,"date"))i=t instanceof Date?t:new Date(t),Cu.type(e,i,r,o,a),i&&Cu.range(e,i.getTime(),r,o,a)}n(o)},url:Nu,hex:Nu,email:Nu,required:function(e,t,n,r,a){var o=[],i=Array.isArray(t)?"array":typeof t;Cu.required(e,t,r,o,a,i),n(o)},any:function(e,t,n,r,a){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(mu(t)&&!e.required)return n();Cu.required(e,t,r,o,a)}n(o)}};function Iu(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var Ou=Iu(),_u=function(){function e(e){this.rules=null,this._messages=Ou,this.define(e)}var t=e.prototype;return t.define=function(e){var t=this;if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==typeof e||Array.isArray(e))throw new Error("Rules must be an object");this.rules={},Object.keys(e).forEach((function(n){var r=e[n];t.rules[n]=Array.isArray(r)?r:[r]}))},t.messages=function(e){return e&&(this._messages=wu(Iu(),e)),this._messages},t.validate=function(t,n,r){var a=this;void 0===n&&(n={}),void 0===r&&(r=function(){});var o=t,i=n,s=r;if("function"===typeof i&&(s=i,i={}),!this.rules||0===Object.keys(this.rules).length)return s&&s(null,o),Promise.resolve(o);if(i.messages){var u=this.messages();u===Ou&&(u=Iu()),wu(u,i.messages),i.messages=u}else i.messages=this.messages();var c={};(i.keys||Object.keys(this.rules)).forEach((function(e){var n=a.rules[e],r=o[e];n.forEach((function(n){var i=n;"function"===typeof i.transform&&(o===t&&(o=su({},o)),r=o[e]=i.transform(r)),(i="function"===typeof i?{validator:i}:su({},i)).validator=a.getValidationMethod(i),i.validator&&(i.field=e,i.fullField=i.fullField||e,i.type=a.getType(i),c[e]=c[e]||[],c[e].push({rule:i,value:r,source:o,field:e}))}))}));var l={};return bu(c,i,(function(t,n){var r,a=t.rule,s=("object"===a.type||"array"===a.type)&&("object"===typeof a.fields||"object"===typeof a.defaultField);function u(e,t){return su({},t,{fullField:a.fullField+"."+e,fullFields:a.fullFields?[].concat(a.fullFields,[e]):[e]})}function c(r){void 0===r&&(r=[]);var c=Array.isArray(r)?r:[r];!i.suppressWarning&&c.length&&e.warning("async-validator:",c),c.length&&void 0!==a.message&&(c=[].concat(a.message));var f=c.map(xu(a,o));if(i.first&&f.length)return l[a.field]=1,n(f);if(s){if(a.required&&!t.value)return void 0!==a.message?f=[].concat(a.message).map(xu(a,o)):i.error&&(f=[i.error(a,vu(i.messages.required,a.field))]),n(f);var p={};a.defaultField&&Object.keys(t.value).map((function(e){p[e]=a.defaultField})),p=su({},p,t.rule.fields);var d={};Object.keys(p).forEach((function(e){var t=p[e],n=Array.isArray(t)?t:[t];d[e]=n.map(u.bind(null,e))}));var h=new e(d);h.messages(i.messages),t.rule.options&&(t.rule.options.messages=i.messages,t.rule.options.error=i.error),h.validate(t.value,t.rule.options||i,(function(e){var t=[];f&&f.length&&t.push.apply(t,f),e&&e.length&&t.push.apply(t,e),n(t.length?t:null)}))}else n(f)}if(s=s&&(a.required||!a.required&&t.value),a.field=t.field,a.asyncValidator)r=a.asyncValidator(a,t.value,c,t.source,i);else if(a.validator){try{r=a.validator(a,t.value,c,t.source,i)}catch(f){null==console.error||console.error(f),setTimeout((function(){throw f}),0),c(f.message)}!0===r?c():!1===r?c("function"===typeof a.message?a.message(a.fullField||a.field):a.message||(a.fullField||a.field)+" fails"):r instanceof Array?c(r):r instanceof Error&&c(r.message)}r&&r.then&&r.then((function(){return c()}),(function(e){return c(e)}))}),(function(e){!function(e){var t=[],n={};function r(e){var n;Array.isArray(e)?t=(n=t).concat.apply(n,e):t.push(e)}for(var a=0;a<e.length;a++)r(e[a]);t.length?(n=hu(t),s(t,n)):s(null,o)}(e)}),o)},t.getType=function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!==typeof e.validator&&e.type&&!Tu.hasOwnProperty(e.type))throw new Error(vu("Unknown rule type %s",e.type));return e.type||"string"},t.getValidationMethod=function(e){if("function"===typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?Tu.required:Tu[this.getType(e)]||void 0},e}();_u.register=function(e,t){if("function"!==typeof t)throw new Error("Cannot register a validator by type, validator is not a function");Tu[e]=t},_u.warning=function(){},_u.messages=Ou,_u.validators=Tu;var Du="'${name}' is not a valid ${type}",Au={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Du,method:Du,array:Du,object:Du,number:Du,date:Du,boolean:Du,integer:Du,float:Du,regexp:Du,email:Du,url:Du,hex:Du},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}};function Ru(e,t){for(var n=e,r=0;r<t.length;r+=1){if(null===n||void 0===n)return;n=n[t[r]]}return n}var Pu=n(4506);function Mu(e,t,n,a){if(!t.length)return n;var o,i=(0,Pu.Z)(t),u=i[0],c=i.slice(1);return o=e||"number"!==typeof u?Array.isArray(e)?(0,r.Z)(e):s({},e):[],a&&void 0===n&&1===c.length?delete o[u][c[0]]:o[u]=Mu(o[u],c,n,a),o}function Fu(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.length&&r&&void 0===n&&!Ru(e,t.slice(0,-1))?e:Mu(e,t,n,r)}function Lu(e){return Array.isArray(e)?function(e){return e.map((function(e){return Lu(e)}))}(e):"object"===(0,vi.Z)(e)&&null!==e?function(e){if(Object.getPrototypeOf(e)===Object.prototype){var t={};for(var n in e)t[n]=Lu(e[n]);return t}return e}(e):e}var ju=Lu;function Zu(e){return iu(e)}function zu(e,t){return Ru(e,t)}function Bu(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=Fu(e,t,n,r);return a}function Uu(e,t){var n={};return t.forEach((function(t){var r=zu(e,t);n=Bu(n,t,r)})),n}function Wu(e,t){return e&&e.some((function(e){return qu(e,t)}))}function Vu(e){return"object"===(0,vi.Z)(e)&&null!==e&&Object.getPrototypeOf(e)===Object.prototype}function Hu(e,t){var n=Array.isArray(e)?(0,r.Z)(e):s({},e);return t?(Object.keys(t).forEach((function(e){var r=n[e],a=t[e],o=Vu(r)&&Vu(a);n[e]=o?Hu(r,a||{}):ju(a)})),n):n}function Gu(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce((function(e,t){return Hu(e,t)}),e)}function qu(e,t){return!(!e||!t||e.length!==t.length)&&e.every((function(e,n){return t[n]===e}))}function Xu(e){var t=arguments.length<=1?void 0:arguments[1];return t&&t.target&&"object"===(0,vi.Z)(t.target)&&e in t.target?t.target[e]:t}function Ku(e,t,n){var a=e.length;if(t<0||t>=a||n<0||n>=a)return e;var o=e[t],i=t-n;return i>0?[].concat((0,r.Z)(e.slice(0,n)),[o],(0,r.Z)(e.slice(n,t)),(0,r.Z)(e.slice(t+1,a))):i<0?[].concat((0,r.Z)(e.slice(0,t)),(0,r.Z)(e.slice(t+1,n+1)),[o],(0,r.Z)(e.slice(n+1,a))):e}var Yu=_u;function Qu(e,t){return e.replace(/\$\{\w+\}/g,(function(e){var n=e.slice(2,-1);return t[n]}))}var $u="CODE_LOGIC_ERROR";function Ju(e,t,n,r,a){return ec.apply(this,arguments)}function ec(){return ec=(0,u.Z)(l().mark((function t(n,a,i,u,c){var f,p,d,h,v,m,g,y,b;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return delete(f=s({},i)).ruleIndex,f.validator&&(p=f.validator,f.validator=function(){try{return p.apply(void 0,arguments)}catch(e){return console.error(e),Promise.reject($u)}}),d=null,f&&"array"===f.type&&f.defaultField&&(d=f.defaultField,delete f.defaultField),h=new Yu((0,o.Z)({},n,[f])),v=Gu({},Au,u.validateMessages),h.messages(v),m=[],t.prev=9,t.next=12,Promise.resolve(h.validate((0,o.Z)({},n,a),s({},u)));case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(9),t.t0.errors&&(m=t.t0.errors.map((function(t,n){var r=t.message,a=r===$u?v.default:r;return e.isValidElement(a)?e.cloneElement(a,{key:"error_".concat(n)}):a})));case 17:if(m.length||!d){t.next=22;break}return t.next=20,Promise.all(a.map((function(e,t){return Ju("".concat(n,".").concat(t),e,d,u,c)})));case 20:return g=t.sent,t.abrupt("return",g.reduce((function(e,t){return[].concat((0,r.Z)(e),(0,r.Z)(t))}),[]));case 22:return y=s(s({},i),{},{name:n,enum:(i.enum||[]).join(", ")},c),b=m.map((function(e){return"string"===typeof e?Qu(e,y):e})),t.abrupt("return",b);case 25:case"end":return t.stop()}}),t,null,[[9,14]])}))),ec.apply(this,arguments)}function tc(e,t,n,r,a,o){var i,c=e.join("."),f=n.map((function(e,t){var n=e.validator,r=s(s({},e),{},{ruleIndex:t});return n&&(r.validator=function(e,t,r){var a=!1,o=n(e,t,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Promise.resolve().then((function(){ns(!a,"Your validator function has already return a promise. `callback` will be ignored."),a||r.apply(void 0,t)}))}));a=o&&"function"===typeof o.then&&"function"===typeof o.catch,ns(a,"`callback` is deprecated. Please return a promise instead."),a&&o.then((function(){r()})).catch((function(e){r(e||" ")}))}),r})).sort((function(e,t){var n=e.warningOnly,r=e.ruleIndex,a=t.warningOnly,o=t.ruleIndex;return!!n===!!a?r-o:n?1:-1}));if(!0===a)i=new Promise(function(){var e=(0,u.Z)(l().mark((function e(n,a){var i,s,u;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=0;case 1:if(!(i<f.length)){e.next=12;break}return s=f[i],e.next=5,Ju(c,t,s,r,o);case 5:if(!(u=e.sent).length){e.next=9;break}return a([{errors:u,rule:s}]),e.abrupt("return");case 9:i+=1,e.next=1;break;case 12:n([]);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());else{var p=f.map((function(e){return Ju(c,t,e,r,o).then((function(t){return{errors:t,rule:e}}))}));i=(a?function(e){return rc.apply(this,arguments)}(p):function(e){return nc.apply(this,arguments)}(p)).then((function(e){return Promise.reject(e)}))}return i.catch((function(e){return e})),i}function nc(){return(nc=(0,u.Z)(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t).then((function(e){var t;return(t=[]).concat.apply(t,(0,r.Z)(e))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rc(){return(rc=(0,u.Z)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.abrupt("return",new Promise((function(e){t.forEach((function(r){r.then((function(r){r.errors.length&&e([r]),(n+=1)===t.length&&e([])}))}))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ac=["name"],oc=[];function ic(e,t,n,r,a,o){return"function"===typeof e?e(t,n,"source"in o?{source:o.source}:{}):r!==a}var sc=function(t){(0,Ya.Z)(a,t);var n=(0,Qa.Z)(a);function a(t){var i;((0,la.Z)(this,a),(i=n.call(this,t)).state={resetCount:0},i.cancelRegisterFunc=null,i.mounted=!1,i.touched=!1,i.dirty=!1,i.validatePromise=null,i.prevValidating=void 0,i.errors=oc,i.warnings=oc,i.cancelRegister=function(){var e=i.props,t=e.preserve,n=e.isListField,r=e.name;i.cancelRegisterFunc&&i.cancelRegisterFunc(n,t,Zu(r)),i.cancelRegisterFunc=null},i.getNamePath=function(){var e=i.props,t=e.name,n=e.fieldContext.prefixName,a=void 0===n?[]:n;return void 0!==t?[].concat((0,r.Z)(a),(0,r.Z)(t)):[]},i.getRules=function(){var e=i.props,t=e.rules,n=void 0===t?[]:t,r=e.fieldContext;return n.map((function(e){return"function"===typeof e?e(r):e}))},i.refresh=function(){i.mounted&&i.setState((function(e){return{resetCount:e.resetCount+1}}))},i.triggerMetaEvent=function(e){var t=i.props.onMetaChange;null===t||void 0===t||t(s(s({},i.getMeta()),{},{destroy:e}))},i.onStoreChange=function(e,t,n){var r=i.props,a=r.shouldUpdate,o=r.dependencies,s=void 0===o?[]:o,u=r.onReset,c=n.store,l=i.getNamePath(),f=i.getValue(e),p=i.getValue(c),d=t&&Wu(t,l);switch("valueUpdate"===n.type&&"external"===n.source&&f!==p&&(i.touched=!0,i.dirty=!0,i.validatePromise=null,i.errors=oc,i.warnings=oc,i.triggerMetaEvent()),n.type){case"reset":if(!t||d)return i.touched=!1,i.dirty=!1,i.validatePromise=null,i.errors=oc,i.warnings=oc,i.triggerMetaEvent(),null===u||void 0===u||u(),void i.refresh();break;case"remove":if(a)return void i.reRender();break;case"setField":if(d){var h=n.data;return"touched"in h&&(i.touched=h.touched),"validating"in h&&!("originRCField"in h)&&(i.validatePromise=h.validating?Promise.resolve([]):null),"errors"in h&&(i.errors=h.errors||oc),"warnings"in h&&(i.warnings=h.warnings||oc),i.dirty=!0,i.triggerMetaEvent(),void i.reRender()}if(a&&!l.length&&ic(a,e,c,f,p,n))return void i.reRender();break;case"dependenciesUpdate":if(s.map(Zu).some((function(e){return Wu(n.relatedFields,e)})))return void i.reRender();break;default:if(d||(!s.length||l.length||a)&&ic(a,e,c,f,p,n))return void i.reRender()}!0===a&&i.reRender()},i.validateRules=function(e){var t=i.getNamePath(),n=i.getValue(),a=Promise.resolve().then((function(){if(!i.mounted)return[];var o=i.props,s=o.validateFirst,u=void 0!==s&&s,c=o.messageVariables,l=(e||{}).triggerName,f=i.getRules();l&&(f=f.filter((function(e){var t=e.validateTrigger;return!t||iu(t).includes(l)})));var p=tc(t,n,f,e,u,c);return p.catch((function(e){return e})).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oc;if(i.validatePromise===a){i.validatePromise=null;var t=[],n=[];e.forEach((function(e){var a=e.rule.warningOnly,o=e.errors,i=void 0===o?oc:o;a?n.push.apply(n,(0,r.Z)(i)):t.push.apply(t,(0,r.Z)(i))})),i.errors=t,i.warnings=n,i.triggerMetaEvent(),i.reRender()}})),p}));return i.validatePromise=a,i.dirty=!0,i.errors=oc,i.warnings=oc,i.triggerMetaEvent(),i.reRender(),a},i.isFieldValidating=function(){return!!i.validatePromise},i.isFieldTouched=function(){return i.touched},i.isFieldDirty=function(){return!(!i.dirty&&void 0===i.props.initialValue)||void 0!==(0,i.props.fieldContext.getInternalHooks(ru).getInitialValue)(i.getNamePath())},i.getErrors=function(){return i.errors},i.getWarnings=function(){return i.warnings},i.isListField=function(){return i.props.isListField},i.isList=function(){return i.props.isList},i.isPreserve=function(){return i.props.preserve},i.getMeta=function(){return i.prevValidating=i.isFieldValidating(),{touched:i.isFieldTouched(),validating:i.prevValidating,errors:i.errors,warnings:i.warnings,name:i.getNamePath()}},i.getOnlyChild=function(t){if("function"===typeof t){var n=i.getMeta();return s(s({},i.getOnlyChild(t(i.getControlled(),n,i.props.fieldContext))),{},{isFunction:!0})}var r=nu(t);return 1===r.length&&e.isValidElement(r[0])?{child:r[0],isFunction:!1}:{child:r,isFunction:!1}},i.getValue=function(e){var t=i.props.fieldContext.getFieldsValue,n=i.getNamePath();return zu(e||t(!0),n)},i.getControlled=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=i.props,n=t.trigger,r=t.validateTrigger,a=t.getValueFromEvent,u=t.normalize,c=t.valuePropName,l=t.getValueProps,f=t.fieldContext,p=void 0!==r?r:f.validateTrigger,d=i.getNamePath(),h=f.getInternalHooks,v=f.getFieldsValue,m=h(ru),g=m.dispatch,y=i.getValue(),b=l||function(e){return(0,o.Z)({},c,e)},x=e[n],w=s(s({},e),b(y));w[n]=function(){var e;i.touched=!0,i.dirty=!0,i.triggerMetaEvent();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e=a?a.apply(void 0,n):Xu.apply(void 0,[c].concat(n)),u&&(e=u(e,y,v(!0))),g({type:"updateValue",namePath:d,value:e}),x&&x.apply(void 0,n)};var k=iu(p||[]);return k.forEach((function(e){var t=w[e];w[e]=function(){t&&t.apply(void 0,arguments);var n=i.props.rules;n&&n.length&&g({type:"validateField",namePath:d,triggerName:e})}})),w},t.fieldContext)&&(0,(0,t.fieldContext.getInternalHooks)(ru).initEntityValue)((0,tu.Z)(i));return i}return(0,fa.Z)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.shouldUpdate,n=e.fieldContext;if(this.mounted=!0,n){var r=(0,n.getInternalHooks)(ru).registerField;this.cancelRegisterFunc=r(this)}!0===t&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var t,n=this.state.resetCount,r=this.props.children,a=this.getOnlyChild(r),o=a.child;return a.isFunction?t=o:e.isValidElement(o)?t=e.cloneElement(o,this.getControlled(o.props)):(ns(!o,"`children` of Field is not validate ReactElement."),t=o),e.createElement(e.Fragment,{key:n},t)}}]),a}(e.Component);sc.contextType=ou,sc.defaultProps={trigger:"onChange",valuePropName:"value"};var uc=function(t){var n=t.name,r=Pn(t,ac),a=e.useContext(ou),o=void 0!==n?Zu(n):void 0,i="keep";return r.isListField||(i="_".concat((o||[]).join("_"))),e.createElement(sc,x({key:i,name:o},r,{fieldContext:a}))},cc=e.createContext(null),lc=function(t){var n=t.name,a=t.initialValue,o=t.children,i=t.rules,u=t.validateTrigger,c=e.useContext(ou),l=e.useRef({keys:[],id:0}).current,f=e.useMemo((function(){var e=Zu(c.prefixName)||[];return[].concat((0,r.Z)(e),(0,r.Z)(Zu(n)))}),[c.prefixName,n]),p=e.useMemo((function(){return s(s({},c),{},{prefixName:f})}),[c,f]),d=e.useMemo((function(){return{getKey:function(e){var t=f.length,n=e[t];return[l.keys[n],e.slice(t+1)]}}}),[f]);if("function"!==typeof o)return ns(!1,"Form.List only accepts function as children."),null;return e.createElement(cc.Provider,{value:d},e.createElement(ou.Provider,{value:p},e.createElement(uc,{name:[],shouldUpdate:function(e,t,n){return"internal"!==n.source&&e!==t},rules:i,validateTrigger:u,initialValue:a,isList:!0},(function(e,t){var n=e.value,a=void 0===n?[]:n,i=e.onChange,s=c.getFieldValue,u=function(){return s(f||[])||[]},p={add:function(e,t){var n=u();t>=0&&t<=n.length?(l.keys=[].concat((0,r.Z)(l.keys.slice(0,t)),[l.id],(0,r.Z)(l.keys.slice(t))),i([].concat((0,r.Z)(n.slice(0,t)),[e],(0,r.Z)(n.slice(t))))):(l.keys=[].concat((0,r.Z)(l.keys),[l.id]),i([].concat((0,r.Z)(n),[e]))),l.id+=1},remove:function(e){var t=u(),n=new Set(Array.isArray(e)?e:[e]);n.size<=0||(l.keys=l.keys.filter((function(e,t){return!n.has(t)})),i(t.filter((function(e,t){return!n.has(t)}))))},move:function(e,t){if(e!==t){var n=u();e<0||e>=n.length||t<0||t>=n.length||(l.keys=Ku(l.keys,e,t),i(Ku(n,e,t)))}}},d=a||[];return Array.isArray(d)||(d=[]),o(d.map((function(e,t){var n=l.keys[t];return void 0===n&&(l.keys[t]=l.id,n=l.keys[t],l.id+=1),{name:t,key:n,isListField:!0}})),p,t)}))))};var fc="__@field_split__";function pc(e){return e.map((function(e){return"".concat((0,vi.Z)(e),":").concat(e)})).join(fc)}var dc=function(){function e(){(0,la.Z)(this,e),this.kvs=new Map}return(0,fa.Z)(e,[{key:"set",value:function(e,t){this.kvs.set(pc(e),t)}},{key:"get",value:function(e){return this.kvs.get(pc(e))}},{key:"update",value:function(e,t){var n=t(this.get(e));n?this.set(e,n):this.delete(e)}},{key:"delete",value:function(e){this.kvs.delete(pc(e))}},{key:"map",value:function(e){return(0,r.Z)(this.kvs.entries()).map((function(t){var n=(0,a.Z)(t,2),r=n[0],o=n[1],i=r.split(fc);return e({key:i.map((function(e){var t=e.match(/^([^:]*):(.*)$/),n=(0,a.Z)(t,3),r=n[1],o=n[2];return"number"===r?Number(o):o})),value:o})}))}},{key:"toJSON",value:function(){var e={};return this.map((function(t){var n=t.key,r=t.value;return e[n.join(".")]=r,null})),e}}]),e}(),hc=dc,vc=["name","errors"],mc=(0,fa.Z)((function e(t){var n=this;(0,la.Z)(this,e),this.formHooked=!1,this.forceRootUpdate=void 0,this.subscribable=!0,this.store={},this.fieldEntities=[],this.initialValues={},this.callbacks={},this.validateMessages=null,this.preserve=null,this.lastValidatePromise=null,this.getForm=function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}},this.getInternalHooks=function(e){return e===ru?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(ns(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)},this.useSubscribe=function(e){n.subscribable=e},this.prevWithoutPreserves=null,this.setInitialValues=function(e,t){if(n.initialValues=e||{},t){var r,a=Gu({},e,n.store);null===(r=n.prevWithoutPreserves)||void 0===r||r.map((function(t){var n=t.key;a=Bu(a,n,zu(e,n))})),n.prevWithoutPreserves=null,n.updateStore(a)}},this.destroyForm=function(){var e=new hc;n.getFieldEntities(!0).forEach((function(t){t.isPreserve()||e.set(t.getNamePath(),!0)})),n.prevWithoutPreserves=e},this.getInitialValue=function(e){var t=zu(n.initialValues,e);return e.length?ju(t):t},this.setCallbacks=function(e){n.callbacks=e},this.setValidateMessages=function(e){n.validateMessages=e},this.setPreserve=function(e){n.preserve=e},this.watchList=[],this.registerWatch=function(e){return n.watchList.push(e),function(){n.watchList=n.watchList.filter((function(t){return t!==e}))}},this.notifyWatch=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(n.watchList.length){var t=n.getFieldsValue();n.watchList.forEach((function(n){n(t,e)}))}},this.timeoutId=null,this.warningUnhooked=function(){0},this.updateStore=function(e){n.store=e},this.getFieldEntities=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?n.fieldEntities.filter((function(e){return e.getNamePath().length})):n.fieldEntities},this.getFieldsMap=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new hc;return n.getFieldEntities(e).forEach((function(e){var n=e.getNamePath();t.set(n,e)})),t},this.getFieldEntitiesForNamePathList=function(e){if(!e)return n.getFieldEntities(!0);var t=n.getFieldsMap(!0);return e.map((function(e){var n=Zu(e);return t.get(n)||{INVALIDATE_NAME_PATH:Zu(e)}}))},this.getFieldsValue=function(e,t){if(n.warningUnhooked(),!0===e&&!t)return n.store;var r=n.getFieldEntitiesForNamePathList(Array.isArray(e)?e:null),a=[];return r.forEach((function(n){var r,o="INVALIDATE_NAME_PATH"in n?n.INVALIDATE_NAME_PATH:n.getNamePath();if(e||!(null===(r=n.isListField)||void 0===r?void 0:r.call(n)))if(t){var i="getMeta"in n?n.getMeta():null;t(i)&&a.push(o)}else a.push(o)})),Uu(n.store,a.map(Zu))},this.getFieldValue=function(e){n.warningUnhooked();var t=Zu(e);return zu(n.store,t)},this.getFieldsError=function(e){return n.warningUnhooked(),n.getFieldEntitiesForNamePathList(e).map((function(t,n){return t&&!("INVALIDATE_NAME_PATH"in t)?{name:t.getNamePath(),errors:t.getErrors(),warnings:t.getWarnings()}:{name:Zu(e[n]),errors:[],warnings:[]}}))},this.getFieldError=function(e){n.warningUnhooked();var t=Zu(e);return n.getFieldsError([t])[0].errors},this.getFieldWarning=function(e){n.warningUnhooked();var t=Zu(e);return n.getFieldsError([t])[0].warnings},this.isFieldsTouched=function(){n.warningUnhooked();for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var o,i=t[0],s=t[1],u=!1;0===t.length?o=null:1===t.length?Array.isArray(i)?(o=i.map(Zu),u=!1):(o=null,u=i):(o=i.map(Zu),u=s);var c=n.getFieldEntities(!0),l=function(e){return e.isFieldTouched()};if(!o)return u?c.every(l):c.some(l);var f=new hc;o.forEach((function(e){f.set(e,[])})),c.forEach((function(e){var t=e.getNamePath();o.forEach((function(n){n.every((function(e,n){return t[n]===e}))&&f.update(n,(function(t){return[].concat((0,r.Z)(t),[e])}))}))}));var p=function(e){return e.some(l)},d=f.map((function(e){return e.value}));return u?d.every(p):d.some(p)},this.isFieldTouched=function(e){return n.warningUnhooked(),n.isFieldsTouched([e])},this.isFieldsValidating=function(e){n.warningUnhooked();var t=n.getFieldEntities();if(!e)return t.some((function(e){return e.isFieldValidating()}));var r=e.map(Zu);return t.some((function(e){var t=e.getNamePath();return Wu(r,t)&&e.isFieldValidating()}))},this.isFieldValidating=function(e){return n.warningUnhooked(),n.isFieldsValidating([e])},this.resetWithFieldInitialValue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new hc,a=n.getFieldEntities(!0);a.forEach((function(e){var n=e.props.initialValue,r=e.getNamePath();if(void 0!==n){var a=t.get(r)||new Set;a.add({entity:e,value:n}),t.set(r,a)}}));var o,i=function(a){a.forEach((function(a){if(void 0!==a.props.initialValue){var o=a.getNamePath();if(void 0!==n.getInitialValue(o))ns(!1,"Form already set 'initialValues' with path '".concat(o.join("."),"'. Field can not overwrite it."));else{var i=t.get(o);if(i&&i.size>1)ns(!1,"Multiple Field with path '".concat(o.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(i){var s=n.getFieldValue(o);e.skipExist&&void 0!==s||n.updateStore(Bu(n.store,o,(0,r.Z)(i)[0].value))}}}}))};e.entities?o=e.entities:e.namePathList?(o=[],e.namePathList.forEach((function(e){var n,a=t.get(e);a&&(n=o).push.apply(n,(0,r.Z)((0,r.Z)(a).map((function(e){return e.entity}))))}))):o=a,i(o)},this.resetFields=function(e){n.warningUnhooked();var t=n.store;if(!e)return n.updateStore(Gu({},n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(t,null,{type:"reset"}),void n.notifyWatch();var r=e.map(Zu);r.forEach((function(e){var t=n.getInitialValue(e);n.updateStore(Bu(n.store,e,t))})),n.resetWithFieldInitialValue({namePathList:r}),n.notifyObservers(t,r,{type:"reset"}),n.notifyWatch(r)},this.setFields=function(e){n.warningUnhooked();var t=n.store,r=[];e.forEach((function(e){var a=e.name,o=(e.errors,Pn(e,vc)),i=Zu(a);r.push(i),"value"in o&&n.updateStore(Bu(n.store,i,o.value)),n.notifyObservers(t,[i],{type:"setField",data:e})})),n.notifyWatch(r)},this.getFields=function(){return n.getFieldEntities(!0).map((function(e){var t=e.getNamePath(),r=s(s({},e.getMeta()),{},{name:t,value:n.getFieldValue(t)});return Object.defineProperty(r,"originRCField",{value:!0}),r}))},this.initEntityValue=function(e){var t=e.props.initialValue;if(void 0!==t){var r=e.getNamePath();void 0===zu(n.store,r)&&n.updateStore(Bu(n.store,r,t))}},this.registerField=function(e){n.fieldEntities.push(e);var t=e.getNamePath();if(n.notifyWatch([t]),void 0!==e.props.initialValue){var r=n.store;n.resetWithFieldInitialValue({entities:[e],skipExist:!0}),n.notifyObservers(r,[e.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(r,a){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];n.fieldEntities=n.fieldEntities.filter((function(t){return t!==e}));var i=void 0!==a?a:n.preserve;if(!1===i&&(!r||o.length>1)){var s=r?void 0:n.getInitialValue(t);if(t.length&&n.getFieldValue(t)!==s&&n.fieldEntities.every((function(e){return!qu(e.getNamePath(),t)}))){var u=n.store;n.updateStore(Bu(u,t,s,!0)),n.notifyObservers(u,[t],{type:"remove"}),n.triggerDependenciesUpdate(u,t)}}n.notifyWatch([t])}},this.dispatch=function(e){switch(e.type){case"updateValue":var t=e.namePath,r=e.value;n.updateValue(t,r);break;case"validateField":var a=e.namePath,o=e.triggerName;n.validateFields([a],{triggerName:o})}},this.notifyObservers=function(e,t,r){if(n.subscribable){var a=s(s({},r),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach((function(n){(0,n.onStoreChange)(e,t,a)}))}else n.forceRootUpdate()},this.triggerDependenciesUpdate=function(e,t){var a=n.getDependencyChildrenFields(t);return a.length&&n.validateFields(a),n.notifyObservers(e,a,{type:"dependenciesUpdate",relatedFields:[t].concat((0,r.Z)(a))}),a},this.updateValue=function(e,t){var a=Zu(e),o=n.store;n.updateStore(Bu(n.store,a,t)),n.notifyObservers(o,[a],{type:"valueUpdate",source:"internal"}),n.notifyWatch([a]);var i=n.triggerDependenciesUpdate(o,a),s=n.callbacks.onValuesChange;s&&s(Uu(n.store,[a]),n.getFieldsValue());n.triggerOnFieldsChange([a].concat((0,r.Z)(i)))},this.setFieldsValue=function(e){n.warningUnhooked();var t=n.store;if(e){var r=Gu(n.store,e);n.updateStore(r)}n.notifyObservers(t,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()},this.getDependencyChildrenFields=function(e){var t=new Set,r=[],a=new hc;n.getFieldEntities().forEach((function(e){(e.props.dependencies||[]).forEach((function(t){var n=Zu(t);a.update(n,(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Set;return t.add(e),t}))}))}));return function e(n){(a.get(n)||new Set).forEach((function(n){if(!t.has(n)){t.add(n);var a=n.getNamePath();n.isFieldDirty()&&a.length&&(r.push(a),e(a))}}))}(e),r},this.triggerOnFieldsChange=function(e,t){var r=n.callbacks.onFieldsChange;if(r){var a=n.getFields();if(t){var o=new hc;t.forEach((function(e){var t=e.name,n=e.errors;o.set(t,n)})),a.forEach((function(e){e.errors=o.get(e.name)||e.errors}))}r(a.filter((function(t){var n=t.name;return Wu(e,n)})),a)}},this.validateFields=function(e,t){n.warningUnhooked();var a=!!e,o=a?e.map(Zu):[],i=[];n.getFieldEntities(!0).forEach((function(u){if(a||o.push(u.getNamePath()),(null===t||void 0===t?void 0:t.recursive)&&a){var c=u.getNamePath();c.every((function(t,n){return e[n]===t||void 0===e[n]}))&&o.push(c)}if(u.props.rules&&u.props.rules.length){var l=u.getNamePath();if(!a||Wu(o,l)){var f=u.validateRules(s({validateMessages:s(s({},Au),n.validateMessages)},t));i.push(f.then((function(){return{name:l,errors:[],warnings:[]}})).catch((function(e){var t=[],n=[];return e.forEach((function(e){var a=e.rule.warningOnly,o=e.errors;a?n.push.apply(n,(0,r.Z)(o)):t.push.apply(t,(0,r.Z)(o))})),t.length?Promise.reject({name:l,errors:t,warnings:n}):{name:l,errors:t,warnings:n}})))}}}));var u=function(e){var t=!1,n=e.length,r=[];return e.length?new Promise((function(a,o){e.forEach((function(e,i){e.catch((function(e){return t=!0,e})).then((function(e){n-=1,r[i]=e,n>0||(t&&o(r),a(r))}))}))})):Promise.resolve([])}(i);n.lastValidatePromise=u,u.catch((function(e){return e})).then((function(e){var t=e.map((function(e){return e.name}));n.notifyObservers(n.store,t,{type:"validateFinish"}),n.triggerOnFieldsChange(t,e)}));var c=u.then((function(){return n.lastValidatePromise===u?Promise.resolve(n.getFieldsValue(o)):Promise.reject([])})).catch((function(e){var t=e.filter((function(e){return e&&e.errors.length}));return Promise.reject({values:n.getFieldsValue(o),errorFields:t,outOfDate:n.lastValidatePromise!==u})}));return c.catch((function(e){return e})),c},this.submit=function(){n.warningUnhooked(),n.validateFields().then((function(e){var t=n.callbacks.onFinish;if(t)try{t(e)}catch(r){console.error(r)}})).catch((function(e){var t=n.callbacks.onFinishFailed;t&&t(e)}))},this.forceRootUpdate=t}));var gc=function(t){var n=e.useRef(),r=e.useState({}),o=(0,a.Z)(r,2)[1];if(!n.current)if(t)n.current=t;else{var i=new mc((function(){o({})}));n.current=i.getForm()}return[n.current]},yc=e.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),bc=function(t){var n=t.validateMessages,r=t.onFormChange,a=t.onFormFinish,i=t.children,u=e.useContext(yc),c=e.useRef({});return e.createElement(yc.Provider,{value:s(s({},u),{},{validateMessages:s(s({},u.validateMessages),n),triggerFormChange:function(e,t){r&&r(e,{changedFields:t,forms:c.current}),u.triggerFormChange(e,t)},triggerFormFinish:function(e,t){a&&a(e,{values:t,forms:c.current}),u.triggerFormFinish(e,t)},registerForm:function(e,t){e&&(c.current=s(s({},c.current),{},(0,o.Z)({},e,t))),u.registerForm(e,t)},unregisterForm:function(e){var t=s({},c.current);delete t[e],c.current=t,u.unregisterForm(e)}})},i)},xc=yc,wc=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed"],kc=function(t,n){var o=t.name,i=t.initialValues,u=t.fields,c=t.form,l=t.preserve,f=t.children,p=t.component,d=void 0===p?"form":p,h=t.validateMessages,v=t.validateTrigger,m=void 0===v?"onChange":v,g=t.onValuesChange,y=t.onFieldsChange,b=t.onFinish,w=t.onFinishFailed,k=Pn(t,wc),S=e.useContext(xc),E=gc(c),C=(0,a.Z)(E,1)[0],N=C.getInternalHooks(ru),T=N.useSubscribe,I=N.setInitialValues,O=N.setCallbacks,_=N.setValidateMessages,D=N.setPreserve,A=N.destroyForm;e.useImperativeHandle(n,(function(){return C})),e.useEffect((function(){return S.registerForm(o,C),function(){S.unregisterForm(o)}}),[S,C,o]),_(s(s({},S.validateMessages),h)),O({onValuesChange:g,onFieldsChange:function(e){if(S.triggerFormChange(o,e),y){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];y.apply(void 0,[e].concat(n))}},onFinish:function(e){S.triggerFormFinish(o,e),b&&b(e)},onFinishFailed:w}),D(l);var R,P=e.useRef(null);I(i,!P.current),P.current||(P.current=!0),e.useEffect((function(){return A}),[]);var M="function"===typeof f;M?R=f(C.getFieldsValue(!0),C):R=f;T(!M);var F=e.useRef();e.useEffect((function(){(function(e,t){if(e===t)return!0;if(!e&&t||e&&!t)return!1;if(!e||!t||"object"!==(0,vi.Z)(e)||"object"!==(0,vi.Z)(t))return!1;var n=Object.keys(e),a=Object.keys(t),o=new Set([].concat((0,r.Z)(n),(0,r.Z)(a)));return(0,r.Z)(o).every((function(n){var r=e[n],a=t[n];return"function"===typeof r&&"function"===typeof a||r===a}))})(F.current||[],u||[])||C.setFields(u||[]),F.current=u}),[u,C]);var L=e.useMemo((function(){return s(s({},C),{},{validateTrigger:m})}),[C,m]),j=e.createElement(ou.Provider,{value:L},R);return!1===d?j:e.createElement(d,x({},k,{onSubmit:function(e){e.preventDefault(),e.stopPropagation(),C.submit()},onReset:function(e){var t;e.preventDefault(),C.resetFields(),null===(t=k.onReset)||void 0===t||t.call(k,e)}}),j)};function Sc(e){try{return JSON.stringify(e)}catch(t){return Math.random()}}var Ec=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,r=(0,e.useState)(),o=(0,a.Z)(r,2),i=o[0],s=o[1],u=(0,e.useMemo)((function(){return Sc(i)}),[i]),c=(0,e.useRef)(u);c.current=u;var l=(0,e.useContext)(ou),f=n||l,p=f&&f._init,d=Zu(t),h=(0,e.useRef)(d);return h.current=d,(0,e.useEffect)((function(){if(p){var e=f.getFieldsValue,t=(0,(0,f.getInternalHooks)(ru).registerWatch)((function(e){var t=zu(e,h.current),n=Sc(t);c.current!==n&&s(t)})),n=zu(e(),h.current);return s(n),t}}),[]),i},Cc=e.forwardRef(kc);Cc.FormProvider=bc,Cc.Field=uc,Cc.List=lc,Cc.useForm=gc,Cc.useWatch=Ec;var Nc=Cc,Tc=e.createContext({labelAlign:"right",vertical:!1,itemRef:function(){}}),Ic=e.createContext(null),Oc=e.createContext({prefixCls:""}),_c=e.createContext({}),Dc=function(t){var n=t.children,r=(0,e.useMemo)((function(){return{}}),[]);return e.createElement(_c.Provider,{value:r},n)};var Ac=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function Rc(e,t,n,r){if(n){var a=t;if("click"===t.type){var o=e.cloneNode(!0);return a=Object.create(t,{target:{value:o},currentTarget:{value:o}}),o.value="",void n(a)}if(void 0!==r)return a=Object.create(t,{target:{value:e},currentTarget:{value:e}}),e.value=r,void n(a);n(a)}}var Pc=(0,e.forwardRef)((function(t,n){var r,a,i,s=t.prefixCls,u=t.bordered,c=void 0===u||u,l=t.status,f=t.size,p=t.onBlur,d=t.onFocus,h=t.suffix,v=t.allowClear,m=t.addonAfter,g=t.addonBefore,y=Ac(t,["prefixCls","bordered","status","size","onBlur","onFocus","suffix","allowClear","addonAfter","addonBefore"]),b=e.useContext(Js),w=b.getPrefixCls,k=b.direction,S=b.input,E=w("input",s),C=(0,e.useRef)(null),N=e.useContext(Ps),T=f||N,I=(0,e.useContext)(_c),O=I.status,_=I.hasFeedback,D=I.feedbackIcon,A=Ls(O,l),R=function(e){return!!(e.prefix||e.suffix||e.allowClear)}(t)||!!_,P=(0,e.useRef)(R);(0,e.useEffect)((function(){R&&P.current,P.current=R}),[R]);var M=(0,e.useRef)([]),F=function(){M.current.push(window.setTimeout((function(){var e,t,n,r;(null===(e=C.current)||void 0===e?void 0:e.input)&&"password"===(null===(t=C.current)||void 0===t?void 0:t.input.getAttribute("type"))&&(null===(n=C.current)||void 0===n?void 0:n.input.hasAttribute("value"))&&(null===(r=C.current)||void 0===r||r.input.removeAttribute("value"))})))};(0,e.useEffect)((function(){return F(),function(){return M.current.forEach((function(e){return window.clearTimeout(e)}))}}),[]);var L,j=(_||h)&&e.createElement(e.Fragment,null,h,_&&D);return"object"===(0,vi.Z)(v)&&(null===v||void 0===v?void 0:v.clearIcon)?L=v:v&&(L={clearIcon:e.createElement(Ns,null)}),e.createElement(Ni,x({ref:_s(n,C),prefixCls:E,autoComplete:null===S||void 0===S?void 0:S.autoComplete},y,{onBlur:function(e){F(),null===p||void 0===p||p(e)},onFocus:function(e){F(),null===d||void 0===d||d(e)},suffix:j,allowClear:L,addonAfter:m&&e.createElement(Dc,null,m),addonBefore:g&&e.createElement(Dc,null,g),inputClassName:Fn()((r={},(0,o.Z)(r,"".concat(E,"-sm"),"small"===T),(0,o.Z)(r,"".concat(E,"-lg"),"large"===T),(0,o.Z)(r,"".concat(E,"-rtl"),"rtl"===k),(0,o.Z)(r,"".concat(E,"-borderless"),!c),r),!R&&Fs(E,A)),affixWrapperClassName:Fn()((a={},(0,o.Z)(a,"".concat(E,"-affix-wrapper-sm"),"small"===T),(0,o.Z)(a,"".concat(E,"-affix-wrapper-lg"),"large"===T),(0,o.Z)(a,"".concat(E,"-affix-wrapper-rtl"),"rtl"===k),(0,o.Z)(a,"".concat(E,"-affix-wrapper-borderless"),!c),a),Fs("".concat(E,"-affix-wrapper"),A,_)),wrapperClassName:Fn()((0,o.Z)({},"".concat(E,"-group-rtl"),"rtl"===k)),groupClassName:Fn()((i={},(0,o.Z)(i,"".concat(E,"-group-wrapper-sm"),"small"===T),(0,o.Z)(i,"".concat(E,"-group-wrapper-lg"),"large"===T),(0,o.Z)(i,"".concat(E,"-group-wrapper-rtl"),"rtl"===k),i),Fs("".concat(E,"-group-wrapper"),A,_))}))})),Mc=Pc,Fc=function(t){var n,r=(0,e.useContext)(Js),a=r.getPrefixCls,i=r.direction,s=t.prefixCls,u=t.className,c=void 0===u?"":u,l=a("input-group",s),f=Fn()(l,(n={},(0,o.Z)(n,"".concat(l,"-lg"),"large"===t.size),(0,o.Z)(n,"".concat(l,"-sm"),"small"===t.size),(0,o.Z)(n,"".concat(l,"-compact"),t.compact),(0,o.Z)(n,"".concat(l,"-rtl"),"rtl"===i),n),c),p=(0,e.useContext)(_c),d=(0,e.useMemo)((function(){return x(x({},p),{isFormItemInput:!1})}),[p]);return e.createElement("span",{className:f,style:t.style,onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,onFocus:t.onFocus,onBlur:t.onBlur},e.createElement(_c.Provider,{value:d},t.children))},Lc={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"},jc=function(t,n){return e.createElement(Es,s(s({},t),{},{ref:n,icon:Lc}))};jc.displayName="SearchOutlined";var Zc=e.forwardRef(jc),zc=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Bc=e.createContext(void 0),Uc=function(t){var n,r=e.useContext(Js),a=r.getPrefixCls,i=r.direction,s=t.prefixCls,u=t.size,c=t.className,l=zc(t,["prefixCls","size","className"]),f=a("btn-group",s),p="";switch(u){case"large":p="lg";break;case"small":p="sm"}var d=Fn()(f,(n={},(0,o.Z)(n,"".concat(f,"-").concat(p),p),(0,o.Z)(n,"".concat(f,"-rtl"),"rtl"===i),n),c);return e.createElement(Bc.Provider,{value:u},e.createElement("div",x({},l,{className:d})))},Wc=function(e){return+setTimeout(e,16)},Vc=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(Wc=function(e){return window.requestAnimationFrame(e)},Vc=function(e){return window.cancelAnimationFrame(e)});var Hc=0,Gc=new Map;function qc(e){Gc.delete(e)}function Xc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Hc+=1;function r(t){if(0===t)qc(n),e();else{var a=Wc((function(){r(t-1)}));Gc.set(n,a)}}return r(t),n}Xc.cancel=function(e){var t=Gc.get(e);return qc(t),Vc(t)};var Kc=0,Yc={};function Qc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Kc++,r=t;function a(){(r-=1)<=0?(e(),delete Yc[n]):Yc[n]=Xc(a)}return Yc[n]=Xc(a),n}Qc.cancel=function(e){void 0!==e&&(Xc.cancel(Yc[e]),delete Yc[e])},Qc.ids=Yc;var $c,Jc=e.isValidElement;function el(t,n){return function(t,n,r){return Jc(t)?e.cloneElement(t,"function"===typeof r?r(t.props||{}):r):n}(t,t,n)}function tl(e){return!e||null===e.offsetParent||e.hidden}function nl(e){var t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return!(t&&t[1]&&t[2]&&t[3])||!(t[1]===t[2]&&t[2]===t[3])}var rl=function(t){(0,Ya.Z)(r,t);var n=(0,Qa.Z)(r);function r(){var t;return(0,la.Z)(this,r),(t=n.apply(this,arguments)).containerRef=e.createRef(),t.animationStart=!1,t.destroyed=!1,t.onClick=function(e,n){var r,a,o=t.props,i=o.insertExtraNode;if(!(o.disabled||!e||tl(e)||e.className.indexOf("-leave")>=0)){t.extraNode=document.createElement("div");var s=(0,tu.Z)(t).extraNode,u=t.context.getPrefixCls;s.className="".concat(u(""),"-click-animating-node");var c=t.getAttributeName();if(e.setAttribute(c,"true"),n&&"#ffffff"!==n&&"rgb(255, 255, 255)"!==n&&nl(n)&&!/rgba\((?:\d*, ){3}0\)/.test(n)&&"transparent"!==n){s.style.borderColor=n;var l=(null===(r=e.getRootNode)||void 0===r?void 0:r.call(e))||e.ownerDocument,f=l instanceof Document?l.body:null!==(a=l.firstChild)&&void 0!==a?a:l;$c=ls("\n      [".concat(u(""),"-click-animating-without-extra-node='true']::after, .").concat(u(""),"-click-animating-node {\n        --antd-wave-shadow-color: ").concat(n,";\n      }"),"antd-wave",{csp:t.csp,attachTo:f})}i&&e.appendChild(s),["transition","animation"].forEach((function(n){e.addEventListener("".concat(n,"start"),t.onTransitionStart),e.addEventListener("".concat(n,"end"),t.onTransitionEnd)}))}},t.onTransitionStart=function(e){if(!t.destroyed){var n=t.containerRef.current;e&&e.target===n&&!t.animationStart&&t.resetEffect(n)}},t.onTransitionEnd=function(e){e&&"fadeEffect"===e.animationName&&t.resetEffect(e.target)},t.bindAnimationEvent=function(e){if(e&&e.getAttribute&&!e.getAttribute("disabled")&&!(e.className.indexOf("disabled")>=0)){var n=function(n){if("INPUT"!==n.target.tagName&&!tl(n.target)){t.resetEffect(e);var r=getComputedStyle(e).getPropertyValue("border-top-color")||getComputedStyle(e).getPropertyValue("border-color")||getComputedStyle(e).getPropertyValue("background-color");t.clickWaveTimeoutId=window.setTimeout((function(){return t.onClick(e,r)}),0),Qc.cancel(t.animationStartId),t.animationStart=!0,t.animationStartId=Qc((function(){t.animationStart=!1}),10)}};return e.addEventListener("click",n,!0),{cancel:function(){e.removeEventListener("click",n,!0)}}}},t.renderWave=function(n){var r=n.csp,a=t.props.children;if(t.csp=r,!e.isValidElement(a))return a;var o=t.containerRef;return Ds(a)&&(o=_s(a.ref,t.containerRef)),el(a,{ref:o})},t}return(0,fa.Z)(r,[{key:"componentDidMount",value:function(){var e=this.containerRef.current;e&&1===e.nodeType&&(this.instance=this.bindAnimationEvent(e))}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.cancel(),this.clickWaveTimeoutId&&clearTimeout(this.clickWaveTimeoutId),this.destroyed=!0}},{key:"getAttributeName",value:function(){var e=this.context.getPrefixCls,t=this.props.insertExtraNode;return"".concat(e(""),t?"-click-animating":"-click-animating-without-extra-node")}},{key:"resetEffect",value:function(e){var t=this;if(e&&e!==this.extraNode&&e instanceof Element){var n=this.props.insertExtraNode,r=this.getAttributeName();e.setAttribute(r,"false"),$c&&($c.innerHTML=""),n&&this.extraNode&&e.contains(this.extraNode)&&e.removeChild(this.extraNode),["transition","animation"].forEach((function(n){e.removeEventListener("".concat(n,"start"),t.onTransitionStart),e.removeEventListener("".concat(n,"end"),t.onTransitionEnd)}))}}},{key:"render",value:function(){return e.createElement(eu,null,this.renderWave)}}]),r}(e.Component);function al(e){return e instanceof HTMLElement?e:t.findDOMNode(e)}function ol(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit".concat(e)]="webkit".concat(t),n["Moz".concat(e)]="moz".concat(t),n["ms".concat(e)]="MS".concat(t),n["O".concat(e)]="o".concat(t.toLowerCase()),n}rl.contextType=Js;var il=function(e,t){var n={animationend:ol("Animation","AnimationEnd"),transitionend:ol("Transition","TransitionEnd")};return e&&("AnimationEvent"in t||delete n.animationend.animation,"TransitionEvent"in t||delete n.transitionend.transition),n}(rs(),"undefined"!==typeof window?window:{}),sl={};if(rs()){var ul=document.createElement("div");sl=ul.style}var cl={};function ll(e){if(cl[e])return cl[e];var t=il[e];if(t)for(var n=Object.keys(t),r=n.length,a=0;a<r;a+=1){var o=n[a];if(Object.prototype.hasOwnProperty.call(t,o)&&o in sl)return cl[e]=t[o],cl[e]}return""}var fl=ll("animationend"),pl=ll("transitionend"),dl=!(!fl||!pl),hl=fl||"animationend",vl=pl||"transitionend";function ml(e,t){if(!e)return null;if("object"===(0,vi.Z)(e)){var n=t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}));return e[n]}return"".concat(e,"-").concat(t)}var gl="none",yl="appear",bl="enter",xl="leave",wl="none",kl="prepare",Sl="start",El="active",Cl="end",Nl=rs()?e.useLayoutEffect:e.useEffect,Tl=[kl,Sl,El,Cl];function Il(e){return e===El||e===Cl}var Ol=function(t,n){var r=ki(wl),o=(0,a.Z)(r,2),i=o[0],s=o[1],u=function(){var t=e.useRef(null);function n(){Xc.cancel(t.current)}return e.useEffect((function(){return function(){n()}}),[]),[function e(r){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;n();var o=Xc((function(){a<=1?r({isCanceled:function(){return o!==t.current}}):e(r,a-1)}));t.current=o},n]}(),c=(0,a.Z)(u,2),l=c[0],f=c[1];return Nl((function(){if(i!==wl&&i!==Cl){var e=Tl.indexOf(i),t=Tl[e+1],r=n(i);false===r?s(t,!0):l((function(e){function n(){e.isCanceled()||s(t,!0)}!0===r?n():Promise.resolve(r).then(n)}))}}),[t,i]),e.useEffect((function(){return function(){f()}}),[]),[function(){s(kl,!0)},i]};function _l(t,n,r,i){var u=i.motionEnter,c=void 0===u||u,l=i.motionAppear,f=void 0===l||l,p=i.motionLeave,d=void 0===p||p,h=i.motionDeadline,v=i.motionLeaveImmediately,m=i.onAppearPrepare,g=i.onEnterPrepare,y=i.onLeavePrepare,b=i.onAppearStart,x=i.onEnterStart,w=i.onLeaveStart,k=i.onAppearActive,S=i.onEnterActive,E=i.onLeaveActive,C=i.onAppearEnd,N=i.onEnterEnd,T=i.onLeaveEnd,I=i.onVisibleChanged,O=ki(),_=(0,a.Z)(O,2),D=_[0],A=_[1],R=ki(gl),P=(0,a.Z)(R,2),M=P[0],F=P[1],L=ki(null),j=(0,a.Z)(L,2),Z=j[0],z=j[1],B=(0,e.useRef)(!1),U=(0,e.useRef)(null);function W(){return r()}var V=(0,e.useRef)(!1);function H(e){var t=W();if(!e||e.deadline||e.target===t){var n,r=V.current;M===yl&&r?n=null===C||void 0===C?void 0:C(t,e):M===bl&&r?n=null===N||void 0===N?void 0:N(t,e):M===xl&&r&&(n=null===T||void 0===T?void 0:T(t,e)),M!==gl&&r&&!1!==n&&(F(gl,!0),z(null,!0))}}var G=function(t){var n=(0,e.useRef)(),r=(0,e.useRef)(t);r.current=t;var a=e.useCallback((function(e){r.current(e)}),[]);function o(e){e&&(e.removeEventListener(vl,a),e.removeEventListener(hl,a))}return e.useEffect((function(){return function(){o(n.current)}}),[]),[function(e){n.current&&n.current!==e&&o(n.current),e&&e!==n.current&&(e.addEventListener(vl,a),e.addEventListener(hl,a),n.current=e)},o]}(H),q=(0,a.Z)(G,1)[0],X=e.useMemo((function(){var e,t,n;switch(M){case yl:return e={},(0,o.Z)(e,kl,m),(0,o.Z)(e,Sl,b),(0,o.Z)(e,El,k),e;case bl:return t={},(0,o.Z)(t,kl,g),(0,o.Z)(t,Sl,x),(0,o.Z)(t,El,S),t;case xl:return n={},(0,o.Z)(n,kl,y),(0,o.Z)(n,Sl,w),(0,o.Z)(n,El,E),n;default:return{}}}),[M]),K=Ol(M,(function(e){if(e===kl){var t=X.prepare;return!!t&&t(W())}var n;$ in X&&z((null===(n=X[$])||void 0===n?void 0:n.call(X,W(),null))||null);return $===El&&(q(W()),h>0&&(clearTimeout(U.current),U.current=setTimeout((function(){H({deadline:!0})}),h))),true})),Y=(0,a.Z)(K,2),Q=Y[0],$=Y[1],J=Il($);V.current=J,Nl((function(){A(n);var e,r=B.current;(B.current=!0,t)&&(!r&&n&&f&&(e=yl),r&&n&&c&&(e=bl),(r&&!n&&d||!r&&v&&!n&&d)&&(e=xl),e&&(F(e),Q()))}),[n]),(0,e.useEffect)((function(){(M===yl&&!f||M===bl&&!c||M===xl&&!d)&&F(gl)}),[f,c,d]),(0,e.useEffect)((function(){return function(){B.current=!1,clearTimeout(U.current)}}),[]),(0,e.useEffect)((function(){void 0!==D&&M===gl&&(null===I||void 0===I||I(D))}),[D,M]);var ee=Z;return X.prepare&&$===Sl&&(ee=s({transition:"none"},ee)),[M,$,ee,null!==D&&void 0!==D?D:n]}var Dl=function(e){(0,Ya.Z)(n,e);var t=(0,Qa.Z)(n);function n(){return(0,la.Z)(this,n),t.apply(this,arguments)}return(0,fa.Z)(n,[{key:"render",value:function(){return this.props.children}}]),n}(e.Component),Al=Dl;var Rl=function(t){var n=t;function r(e){return!(!e.motionName||!n)}"object"===(0,vi.Z)(t)&&(n=t.transitionSupport);var i=e.forwardRef((function(t,n){var i=t.visible,u=void 0===i||i,c=t.removeOnLeave,l=void 0===c||c,f=t.forceRender,p=t.children,d=t.motionName,h=t.leavedClassName,v=t.eventProps,m=r(t),g=(0,e.useRef)(),y=(0,e.useRef)();var b=_l(m,u,(function(){try{return g.current instanceof HTMLElement?g.current:al(y.current)}catch(Qf){return null}}),t),x=(0,a.Z)(b,4),w=x[0],k=x[1],S=x[2],E=x[3],C=e.useRef(E);E&&(C.current=!0);var N,T=e.useCallback((function(e){g.current=e,Os(n,e)}),[n]),I=s(s({},v),{},{visible:u});if(p)if(w!==gl&&r(t)){var O,_;k===kl?_="prepare":Il(k)?_="active":k===Sl&&(_="start"),N=p(s(s({},I),{},{className:Fn()(ml(d,w),(O={},(0,o.Z)(O,ml(d,"".concat(w,"-").concat(_)),_),(0,o.Z)(O,d,"string"===typeof d),O)),style:S}),T)}else N=E?p(s({},I),T):!l&&C.current?p(s(s({},I),{},{className:h}),T):f?p(s(s({},I),{},{style:{display:"none"}}),T):null;else N=null;e.isValidElement(N)&&Ds(N)&&(N.ref||(N=e.cloneElement(N,{ref:T})));return e.createElement(Al,{ref:y},N)}));return i.displayName="CSSMotion",i}(dl),Pl="add",Ml="keep",Fl="remove",Ll="removed";function jl(e){var t;return s(s({},t=e&&"object"===(0,vi.Z)(e)&&"key"in e?e:{key:e}),{},{key:String(t.key)})}function Zl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(jl)}function zl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=0,a=t.length,o=Zl(e),i=Zl(t);o.forEach((function(e){for(var t=!1,o=r;o<a;o+=1){var u=i[o];if(u.key===e.key){r<o&&(n=n.concat(i.slice(r,o).map((function(e){return s(s({},e),{},{status:Pl})}))),r=o),n.push(s(s({},u),{},{status:Ml})),r+=1,t=!0;break}}t||n.push(s(s({},e),{},{status:Fl}))})),r<a&&(n=n.concat(i.slice(r).map((function(e){return s(s({},e),{},{status:Pl})}))));var u={};n.forEach((function(e){var t=e.key;u[t]=(u[t]||0)+1}));var c=Object.keys(u).filter((function(e){return u[e]>1}));return c.forEach((function(e){n=n.filter((function(t){var n=t.key,r=t.status;return n!==e||r!==Fl})),n.forEach((function(t){t.key===e&&(t.status=Ml)}))})),n}var Bl=["component","children","onVisibleChanged","onAllRemoved"],Ul=["status"],Wl=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];var Vl=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Rl,r=function(t){(0,Ya.Z)(a,t);var r=(0,Qa.Z)(a);function a(){var e;(0,la.Z)(this,a);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=r.call.apply(r,[this].concat(n))).state={keyEntities:[]},e.removeKey=function(t){var n=e.state.keyEntities.map((function(e){return e.key!==t?e:s(s({},e),{},{status:Ll})}));return e.setState({keyEntities:n}),n.filter((function(e){return e.status!==Ll})).length},e}return(0,fa.Z)(a,[{key:"render",value:function(){var t=this,r=this.state.keyEntities,a=this.props,o=a.component,i=a.children,s=a.onVisibleChanged,u=a.onAllRemoved,c=Pn(a,Bl),l=o||e.Fragment,f={};return Wl.forEach((function(e){f[e]=c[e],delete c[e]})),delete c.keys,e.createElement(l,c,r.map((function(r){var a=r.status,o=Pn(r,Ul),c=a===Pl||a===Ml;return e.createElement(n,x({},f,{key:o.key,visible:c,eventProps:o,onVisibleChanged:function(e){(null===s||void 0===s||s(e,{key:o.key}),e)||0===t.removeKey(o.key)&&u&&u()}}),i)})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.keys,r=t.keyEntities,a=Zl(n);return{keyEntities:zl(r,a).filter((function(e){var t=r.find((function(t){var n=t.key;return e.key===n}));return!t||t.status!==Ll||e.status!==Fl}))}}}]),a}(e.Component);return r.defaultProps={component:"div"},r}(dl),Hl=Rl,Gl={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},ql=function(t,n){return e.createElement(Es,s(s({},t),{},{ref:n,icon:Gl}))};ql.displayName="LoadingOutlined";var Xl=e.forwardRef(ql),Kl=function(){return{width:0,opacity:0,transform:"scale(0)"}},Yl=function(e){return{width:e.scrollWidth,opacity:1,transform:"scale(1)"}},Ql=function(t){var n=t.prefixCls,r=!!t.loading;return t.existIcon?e.createElement("span",{className:"".concat(n,"-loading-icon")},e.createElement(Xl,null)):e.createElement(Hl,{visible:r,motionName:"".concat(n,"-loading-icon-motion"),removeOnLeave:!0,onAppearStart:Kl,onAppearActive:Yl,onEnterStart:Kl,onEnterActive:Yl,onLeaveStart:Yl,onLeaveActive:Kl},(function(t,r){var a=t.className,o=t.style;return e.createElement("span",{className:"".concat(n,"-loading-icon"),style:o,ref:r},e.createElement(Xl,{className:a}))}))},$l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Jl=/^[\u4e00-\u9fa5]{2}$/,ef=Jl.test.bind(Jl);function tf(e){return"text"===e||"link"===e}function nf(t,n){if(null!=t){var r,a=n?" ":"";return"string"!==typeof t&&"number"!==typeof t&&"string"===typeof t.type&&ef(t.props.children)?el(t,{children:t.props.children.split("").join(a)}):"string"===typeof t?ef(t)?e.createElement("span",null,t.split("").join(a)):e.createElement("span",null,t):(r=t,e.isValidElement(r)&&r.type===e.Fragment?e.createElement("span",null,t):t)}}Ms("default","primary","ghost","dashed","link","text"),Ms("default","circle","round"),Ms("submit","button","reset");var rf=function(t,n){var r,i=t.loading,s=void 0!==i&&i,u=t.prefixCls,c=t.type,l=void 0===c?"default":c,f=t.danger,p=t.shape,d=void 0===p?"default":p,h=t.size,v=t.className,m=t.children,g=t.icon,y=t.ghost,b=void 0!==y&&y,w=t.block,k=void 0!==w&&w,S=t.htmlType,E=void 0===S?"button":S,C=$l(t,["loading","prefixCls","type","danger","shape","size","className","children","icon","ghost","block","htmlType"]),N=e.useContext(Ps),T=e.useContext(Bc),I=e.useState(!!s),O=(0,a.Z)(I,2),_=O[0],D=O[1],A=e.useState(!1),R=(0,a.Z)(A,2),P=R[0],M=R[1],F=e.useContext(Js),L=F.getPrefixCls,j=F.autoInsertSpaceInButton,Z=F.direction,z=n||e.createRef(),B=function(){return 1===e.Children.count(m)&&!g&&!tf(l)},U="object"===(0,vi.Z)(s)&&s.delay?s.delay||!0:!!s;e.useEffect((function(){var e=null;return"number"===typeof U?e=window.setTimeout((function(){e=null,D(U)}),U):D(U),function(){e&&(window.clearTimeout(e),e=null)}}),[U]),e.useEffect((function(){if(z&&z.current&&!1!==j){var e=z.current.textContent;B()&&ef(e)?P||M(!0):P&&M(!1)}}),[z]);var W=function(e){var n=t.onClick,r=t.disabled;_||r?e.preventDefault():null===n||void 0===n||n(e)},V=L("btn",u),H=!1!==j,G=T||h||N,q=G&&{large:"lg",small:"sm",middle:void 0}[G]||"",X=_?"loading":g,K=Fn()(V,(r={},(0,o.Z)(r,"".concat(V,"-").concat(d),"default"!==d&&d),(0,o.Z)(r,"".concat(V,"-").concat(l),l),(0,o.Z)(r,"".concat(V,"-").concat(q),q),(0,o.Z)(r,"".concat(V,"-icon-only"),!m&&0!==m&&!!X),(0,o.Z)(r,"".concat(V,"-background-ghost"),b&&!tf(l)),(0,o.Z)(r,"".concat(V,"-loading"),_),(0,o.Z)(r,"".concat(V,"-two-chinese-chars"),P&&H),(0,o.Z)(r,"".concat(V,"-block"),k),(0,o.Z)(r,"".concat(V,"-dangerous"),!!f),(0,o.Z)(r,"".concat(V,"-rtl"),"rtl"===Z),r),v),Y=g&&!_?g:e.createElement(Ql,{existIcon:!!g,prefixCls:V,loading:!!_}),Q=m||0===m?function(t,n){var r=!1,a=[];return e.Children.forEach(t,(function(e){var t=(0,vi.Z)(e),n="string"===t||"number"===t;if(r&&n){var o=a.length-1,i=a[o];a[o]="".concat(i).concat(e)}else a.push(e);r=n})),e.Children.map(a,(function(e){return nf(e,n)}))}(m,B()&&H):null,$=wi(C,["navigate"]);if(void 0!==$.href)return e.createElement("a",x({},$,{className:K,onClick:W,ref:z}),Y,Q);var J=e.createElement("button",x({},C,{type:E,className:K,onClick:W,ref:z}),Y,Q);return tf(l)?J:e.createElement(rl,{disabled:!!_},J)},af=e.forwardRef(rf);af.displayName="Button",af.Group=Uc,af.__ANT_BUTTON=!0;var of=af,sf=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},uf=e.forwardRef((function(t,n){var r,a,i=t.prefixCls,s=t.inputPrefixCls,u=t.className,c=t.size,l=t.suffix,f=t.enterButton,p=void 0!==f&&f,d=t.addonAfter,h=t.loading,v=t.disabled,m=t.onSearch,g=t.onChange,y=t.onCompositionStart,b=t.onCompositionEnd,w=sf(t,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),k=e.useContext(Js),S=k.getPrefixCls,E=k.direction,C=e.useContext(Ps),N=e.useRef(!1),T=c||C,I=e.useRef(null),O=function(e){var t;document.activeElement===(null===(t=I.current)||void 0===t?void 0:t.input)&&e.preventDefault()},_=function(e){var t,n;m&&m(null===(n=null===(t=I.current)||void 0===t?void 0:t.input)||void 0===n?void 0:n.value,e)},D=S("input-search",i),A=S("input",s),R="boolean"===typeof p?e.createElement(Zc,null):null,P="".concat(D,"-button"),M=p||{},F=M.type&&!0===M.type.__ANT_BUTTON;a=F||"button"===M.type?el(M,x({onMouseDown:O,onClick:function(e){var t,n;null===(n=null===(t=null===M||void 0===M?void 0:M.props)||void 0===t?void 0:t.onClick)||void 0===n||n.call(t,e),_(e)},key:"enterButton"},F?{className:P,size:T}:{})):e.createElement(of,{className:P,type:p?"primary":void 0,size:T,disabled:v,key:"enterButton",onMouseDown:O,onClick:_,loading:h,icon:R},p),d&&(a=[a,el(d,{key:"addonAfter"})]);var L=Fn()(D,(r={},(0,o.Z)(r,"".concat(D,"-rtl"),"rtl"===E),(0,o.Z)(r,"".concat(D,"-").concat(T),!!T),(0,o.Z)(r,"".concat(D,"-with-button"),!!p),r),u);return e.createElement(Mc,x({ref:_s(I,n),onPressEnter:function(e){N.current||_(e)}},w,{size:T,onCompositionStart:function(e){N.current=!0,null===y||void 0===y||y(e)},onCompositionEnd:function(e){N.current=!1,null===b||void 0===b||b(e)},prefixCls:A,addonAfter:a,suffix:l,onChange:function(e){e&&e.target&&"click"===e.type&&m&&m(e.target.value,e),g&&g(e)},className:L,disabled:v}))}));uf.displayName="Search";var cf=uf,lf=n(474),ff=new Map;var pf=new lf.default((function(e){e.forEach((function(e){var t,n=e.target;null===(t=ff.get(n))||void 0===t||t.forEach((function(e){return e(n)}))}))}));var df=function(e){(0,Ya.Z)(n,e);var t=(0,Qa.Z)(n);function n(){return(0,la.Z)(this,n),t.apply(this,arguments)}return(0,fa.Z)(n,[{key:"render",value:function(){return this.props.children}}]),n}(e.Component),hf=e.createContext(null);function vf(t){var n=t.children,r=t.disabled,a=e.useRef(null),o=e.useRef(null),i=e.useContext(hf),u="function"===typeof n,c=u?n(a):n,l=e.useRef({width:-1,height:-1,offsetWidth:-1,offsetHeight:-1}),f=!u&&e.isValidElement(c)&&Ds(c),p=f?c.ref:null,d=e.useMemo((function(){return _s(p,a)}),[p,a]),h=e.useRef(t);h.current=t;var v=e.useCallback((function(e){var t=h.current,n=t.onResize,r=t.data,a=e.getBoundingClientRect(),o=a.width,u=a.height,c=e.offsetWidth,f=e.offsetHeight,p=Math.floor(o),d=Math.floor(u);if(l.current.width!==p||l.current.height!==d||l.current.offsetWidth!==c||l.current.offsetHeight!==f){var v={width:p,height:d,offsetWidth:c,offsetHeight:f};l.current=v;var m=c===Math.round(o)?o:c,g=f===Math.round(u)?u:f,y=s(s({},v),{},{offsetWidth:m,offsetHeight:g});null===i||void 0===i||i(y,e,r),n&&Promise.resolve().then((function(){n(y,e)}))}}),[]);return e.useEffect((function(){var e,t,n=al(a.current)||al(o.current);return n&&!r&&(e=n,t=v,ff.has(e)||(ff.set(e,new Set),pf.observe(e)),ff.get(e).add(t)),function(){return function(e,t){ff.has(e)&&(ff.get(e).delete(t),ff.get(e).size||(pf.unobserve(e),ff.delete(e)))}(n,v)}}),[a.current,r]),e.createElement(df,{ref:o},f?e.cloneElement(c,{ref:d}):c)}function mf(t){var n=t.children;return("function"===typeof n?[n]:nu(n)).map((function(n,r){var a=(null===n||void 0===n?void 0:n.key)||"".concat("rc-observer-key","-").concat(r);return e.createElement(vf,x({},t,{key:a}),n)}))}mf.Collection=function(t){var n=t.children,r=t.onBatchResize,a=e.useRef(0),o=e.useRef([]),i=e.useContext(hf),s=e.useCallback((function(e,t,n){a.current+=1;var s=a.current;o.current.push({size:e,element:t,data:n}),Promise.resolve().then((function(){s===a.current&&(null===r||void 0===r||r(o.current),o.current=[])})),null===i||void 0===i||i(e,t,n)}),[r,i]);return e.createElement(hf.Provider,{value:s},n)};var gf,yf=mf,bf="\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",xf=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"],wf={};function kf(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&wf[n])return wf[n];var r=window.getComputedStyle(e),a=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),o=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),i=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),s=xf.map((function(e){return"".concat(e,":").concat(r.getPropertyValue(e))})).join(";"),u={sizingStyle:s,paddingSize:o,borderSize:i,boxSizing:a};return t&&n&&(wf[n]=u),u}var Sf,Ef=n(9613),Cf=n.n(Ef);!function(e){e[e.NONE=0]="NONE",e[e.RESIZING=1]="RESIZING",e[e.RESIZED=2]="RESIZED"}(Sf||(Sf={}));var Nf=function(t){(0,Ya.Z)(r,t);var n=(0,Qa.Z)(r);function r(t){var a;return(0,la.Z)(this,r),(a=n.call(this,t)).nextFrameActionId=void 0,a.resizeFrameId=void 0,a.textArea=void 0,a.saveTextArea=function(e){a.textArea=e},a.handleResize=function(e){var t=a.state.resizeStatus,n=a.props,r=n.autoSize,o=n.onResize;t===Sf.NONE&&("function"===typeof o&&o(e),r&&a.resizeOnNextFrame())},a.resizeOnNextFrame=function(){cancelAnimationFrame(a.nextFrameActionId),a.nextFrameActionId=requestAnimationFrame(a.resizeTextarea)},a.resizeTextarea=function(){var e=a.props.autoSize;if(e&&a.textArea){var t=e.minRows,n=e.maxRows,r=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;gf||((gf=document.createElement("textarea")).setAttribute("tab-index","-1"),gf.setAttribute("aria-hidden","true"),document.body.appendChild(gf)),e.getAttribute("wrap")?gf.setAttribute("wrap",e.getAttribute("wrap")):gf.removeAttribute("wrap");var a=kf(e,t),o=a.paddingSize,i=a.borderSize,s=a.boxSizing,u=a.sizingStyle;gf.setAttribute("style","".concat(u,";").concat(bf)),gf.value=e.value||e.placeholder||"";var c,l=Number.MIN_SAFE_INTEGER,f=Number.MAX_SAFE_INTEGER,p=gf.scrollHeight;if("border-box"===s?p+=i:"content-box"===s&&(p-=o),null!==n||null!==r){gf.value=" ";var d=gf.scrollHeight-o;null!==n&&(l=d*n,"border-box"===s&&(l=l+o+i),p=Math.max(l,p)),null!==r&&(f=d*r,"border-box"===s&&(f=f+o+i),c=p>f?"":"hidden",p=Math.min(f,p))}return{height:p,minHeight:l,maxHeight:f,overflowY:c,resize:"none"}}(a.textArea,!1,t,n);a.setState({textareaStyles:r,resizeStatus:Sf.RESIZING},(function(){cancelAnimationFrame(a.resizeFrameId),a.resizeFrameId=requestAnimationFrame((function(){a.setState({resizeStatus:Sf.RESIZED},(function(){a.resizeFrameId=requestAnimationFrame((function(){a.setState({resizeStatus:Sf.NONE}),a.fixFirefoxAutoScroll()}))}))}))}))}},a.renderTextArea=function(){var t=a.props,n=t.prefixCls,r=void 0===n?"rc-textarea":n,i=t.autoSize,u=t.onResize,c=t.className,l=t.disabled,f=a.state,p=f.textareaStyles,d=f.resizeStatus,h=wi(a.props,["prefixCls","onPressEnter","autoSize","defaultValue","onResize"]),v=Fn()(r,c,(0,o.Z)({},"".concat(r,"-disabled"),l));"value"in h&&(h.value=h.value||"");var m=s(s(s({},a.props.style),p),d===Sf.RESIZING?{overflowX:"hidden",overflowY:"hidden"}:null);return e.createElement(yf,{onResize:a.handleResize,disabled:!(i||u)},e.createElement("textarea",x({},h,{className:v,style:m,ref:a.saveTextArea})))},a.state={textareaStyles:{},resizeStatus:Sf.NONE},a}return(0,fa.Z)(r,[{key:"componentDidUpdate",value:function(e){e.value===this.props.value&&Cf()(e.autoSize,this.props.autoSize)||this.resizeTextarea()}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.nextFrameActionId),cancelAnimationFrame(this.resizeFrameId)}},{key:"fixFirefoxAutoScroll",value:function(){try{if(document.activeElement===this.textArea){var e=this.textArea.selectionStart,t=this.textArea.selectionEnd;this.textArea.setSelectionRange(e,t)}}catch(Qf){}}},{key:"render",value:function(){return this.renderTextArea()}}]),r}(e.Component),Tf=Nf,If=function(t){(0,Ya.Z)(r,t);var n=(0,Qa.Z)(r);function r(e){var t;(0,la.Z)(this,r),(t=n.call(this,e)).resizableTextArea=void 0,t.focus=function(){t.resizableTextArea.textArea.focus()},t.saveTextArea=function(e){t.resizableTextArea=e},t.handleChange=function(e){var n=t.props.onChange;t.setValue(e.target.value,(function(){t.resizableTextArea.resizeTextarea()})),n&&n(e)},t.handleKeyDown=function(e){var n=t.props,r=n.onPressEnter,a=n.onKeyDown;13===e.keyCode&&r&&r(e),a&&a(e)};var a="undefined"===typeof e.value||null===e.value?e.defaultValue:e.value;return t.state={value:a},t}return(0,fa.Z)(r,[{key:"setValue",value:function(e,t){"value"in this.props||this.setState({value:e},t)}},{key:"blur",value:function(){this.resizableTextArea.textArea.blur()}},{key:"render",value:function(){return e.createElement(Tf,x({},this.props,{value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,ref:this.saveTextArea}))}}],[{key:"getDerivedStateFromProps",value:function(e){return"value"in e?{value:e.value}:null}}]),r}(e.Component),Of=If,_f=Ms("text","input");var Df=function(t){(0,Ya.Z)(r,t);var n=(0,Qa.Z)(r);function r(){return(0,la.Z)(this,r),n.apply(this,arguments)}return(0,fa.Z)(r,[{key:"renderClearIcon",value:function(t){var n,r=this.props,a=r.value,i=r.disabled,s=r.readOnly,u=r.handleReset,c=r.suffix,l=!i&&!s&&a,f="".concat(t,"-clear-icon");return e.createElement(Ns,{onClick:u,onMouseDown:function(e){return e.preventDefault()},className:Fn()((n={},(0,o.Z)(n,"".concat(f,"-hidden"),!l),(0,o.Z)(n,"".concat(f,"-has-suffix"),!!c),n),f),role:"button"})}},{key:"renderTextAreaWithClearIcon",value:function(t,n,r){var a,i=this.props,s=i.value,u=i.allowClear,c=i.className,l=i.style,f=i.direction,p=i.bordered,d=i.hidden,h=i.status,v=r.status,m=r.hasFeedback;if(!u)return el(n,{value:s});var g,y=Fn()("".concat(t,"-affix-wrapper"),"".concat(t,"-affix-wrapper-textarea-with-clear-btn"),Fs("".concat(t,"-affix-wrapper"),Ls(v,h),m),(a={},(0,o.Z)(a,"".concat(t,"-affix-wrapper-rtl"),"rtl"===f),(0,o.Z)(a,"".concat(t,"-affix-wrapper-borderless"),!p),(0,o.Z)(a,"".concat(c),!((g=this.props).addonBefore||g.addonAfter)&&c),a));return e.createElement("span",{className:y,style:l,hidden:d},el(n,{style:null,value:s}),this.renderClearIcon(t))}},{key:"render",value:function(){var t=this;return e.createElement(_c.Consumer,null,(function(e){var n=t.props,r=n.prefixCls,a=n.inputType,o=n.element;if(a===_f[0])return t.renderTextAreaWithClearIcon(r,o,e)}))}}]),r}(e.Component),Af=Df,Rf=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function Pf(e,t){return(0,r.Z)(e||"").slice(0,t).join("")}function Mf(e,t,n,a){var o=n;return e?o=Pf(n,a):(0,r.Z)(t||"").length<n.length&&(0,r.Z)(n||"").length>a&&(o=t),o}var Ff=e.forwardRef((function(t,n){var i,s=t.prefixCls,u=t.bordered,c=void 0===u||u,l=t.showCount,f=void 0!==l&&l,p=t.maxLength,d=t.className,h=t.style,v=t.size,m=t.onCompositionStart,g=t.onCompositionEnd,y=t.onChange,b=t.status,w=Rf(t,["prefixCls","bordered","showCount","maxLength","className","style","size","onCompositionStart","onCompositionEnd","onChange","status"]),k=e.useContext(Js),S=k.getPrefixCls,E=k.direction,C=e.useContext(Ps),N=e.useContext(_c),T=N.status,I=N.hasFeedback,O=N.isFormItemInput,_=N.feedbackIcon,D=Ls(T,b),A=e.useRef(null),R=e.useRef(null),P=e.useState(!1),M=(0,a.Z)(P,2),F=M[0],L=M[1],j=e.useRef(),Z=e.useRef(0),z=Si(w.defaultValue,{value:w.value}),B=(0,a.Z)(z,2),U=B[0],W=B[1],V=w.hidden,H=function(e,t){void 0===w.value&&(W(e),null===t||void 0===t||t())},G=Number(p)>0,q=S("input",s);e.useImperativeHandle(n,(function(){var e;return{resizableTextArea:null===(e=A.current)||void 0===e?void 0:e.resizableTextArea,focus:function(e){var t,n;!function(e,t){if(e){e.focus(t);var n=(t||{}).cursor;if(n){var r=e.value.length;switch(n){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(r,r);break;default:e.setSelectionRange(0,r)}}}}(null===(n=null===(t=A.current)||void 0===t?void 0:t.resizableTextArea)||void 0===n?void 0:n.textArea,e)},blur:function(){var e;return null===(e=A.current)||void 0===e?void 0:e.blur()}}}));var X=e.createElement(Of,x({},wi(w,["allowClear"]),{className:Fn()((i={},(0,o.Z)(i,"".concat(q,"-borderless"),!c),(0,o.Z)(i,d,d&&!f),(0,o.Z)(i,"".concat(q,"-sm"),"small"===C||"small"===v),(0,o.Z)(i,"".concat(q,"-lg"),"large"===C||"large"===v),i),Fs(q,D)),style:f?void 0:h,prefixCls:q,onCompositionStart:function(e){L(!0),j.current=U,Z.current=e.currentTarget.selectionStart,null===m||void 0===m||m(e)},onChange:function(e){var t=e.target.value;!F&&G&&(t=Mf(e.target.selectionStart>=p+1||e.target.selectionStart===t.length||!e.target.selectionStart,U,t,p));H(t),Rc(e.currentTarget,e,y,t)},onCompositionEnd:function(e){var t;L(!1);var n=e.currentTarget.value;G&&(n=Mf(Z.current>=p+1||Z.current===(null===(t=j.current)||void 0===t?void 0:t.length),j.current,n,p));n!==U&&(H(n),Rc(e.currentTarget,e,y,n)),null===g||void 0===g||g(e)},ref:A})),K=function(e){return"undefined"===typeof e||null===e?"":String(e)}(U);F||!G||null!==w.value&&void 0!==w.value||(K=Pf(K,p));var Y=e.createElement(Af,x({},w,{prefixCls:q,direction:E,inputType:"text",value:K,element:X,handleReset:function(e){var t,n;H("",(function(){var e;null===(e=A.current)||void 0===e||e.focus()})),Rc(null===(n=null===(t=A.current)||void 0===t?void 0:t.resizableTextArea)||void 0===n?void 0:n.textArea,e,y)},ref:R,bordered:c,status:b,style:f?void 0:h}));if(f||I){var Q,$=(0,r.Z)(K).length,J="";return J="object"===(0,vi.Z)(f)?f.formatter({count:$,maxLength:p}):"".concat($).concat(G?" / ".concat(p):""),e.createElement("div",{hidden:V,className:Fn()("".concat(q,"-textarea"),(Q={},(0,o.Z)(Q,"".concat(q,"-textarea-rtl"),"rtl"===E),(0,o.Z)(Q,"".concat(q,"-textarea-show-count"),f),(0,o.Z)(Q,"".concat(q,"-textarea-in-form-item"),O),Q),Fs("".concat(q,"-textarea"),D,I),d),style:h,"data-count":J},Y,I&&e.createElement("span",{className:"".concat(q,"-textarea-suffix")},_))}return Y})),Lf=Ff,jf={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},Zf=function(t,n){return e.createElement(Es,s(s({},t),{},{ref:n,icon:jf}))};Zf.displayName="EyeOutlined";var zf=e.forwardRef(Zf),Bf={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},Uf=function(t,n){return e.createElement(Es,s(s({},t),{},{ref:n,icon:Bf}))};Uf.displayName="EyeInvisibleOutlined";var Wf=e.forwardRef(Uf),Vf=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Hf={click:"onClick",hover:"onMouseOver"},Gf=e.forwardRef((function(t,n){var r=(0,e.useState)(!1),i=(0,a.Z)(r,2),s=i[0],u=i[1],c=function(){t.disabled||u(!s)},l=function(r){var a=r.getPrefixCls,i=t.className,u=t.prefixCls,l=t.inputPrefixCls,f=t.size,p=t.visibilityToggle,d=Vf(t,["className","prefixCls","inputPrefixCls","size","visibilityToggle"]),h=a("input",l),v=a("input-password",u),m=p&&function(n){var r,a=t.action,i=t.iconRender,u=Hf[a]||"",l=(void 0===i?function(){return null}:i)(s),f=(r={},(0,o.Z)(r,u,c),(0,o.Z)(r,"className","".concat(n,"-icon")),(0,o.Z)(r,"key","passwordIcon"),(0,o.Z)(r,"onMouseDown",(function(e){e.preventDefault()})),(0,o.Z)(r,"onMouseUp",(function(e){e.preventDefault()})),r);return e.cloneElement(e.isValidElement(l)?l:e.createElement("span",null,l),f)}(v),g=Fn()(v,i,(0,o.Z)({},"".concat(v,"-").concat(f),!!f)),y=x(x({},wi(d,["suffix","iconRender"])),{type:s?"text":"password",className:g,prefixCls:h,suffix:m});return f&&(y.size=f),e.createElement(Mc,x({ref:n},y))};return e.createElement(eu,null,l)}));Gf.defaultProps={action:"click",visibilityToggle:!0,iconRender:function(t){return t?e.createElement(zf,null):e.createElement(Wf,null)}},Gf.displayName="Password";var qf=Gf,Xf=Mc;Xf.Group=Fc,Xf.Search=cf,Xf.TextArea=Lf,Xf.Password=qf;var Kf=Xf;function Yf(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function Qf(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function $f(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return Qf(n.overflowY,t)||Qf(n.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function Jf(e,t,n,r,a,o,i,s){return o<e&&i>t||o>e&&i<t?0:o<=e&&s<=n||i>=t&&s>=n?o-e-r:i>t&&s<n||o<e&&s>n?i-t+a:0}function ep(e,t){var n=window,r=t.scrollMode,a=t.block,o=t.inline,i=t.boundary,s=t.skipOverflowHiddenElements,u="function"==typeof i?i:function(e){return e!==i};if(!Yf(e))throw new TypeError("Invalid target");for(var c=document.scrollingElement||document.documentElement,l=[],f=e;Yf(f)&&u(f);){if((f=f.parentElement)===c){l.push(f);break}null!=f&&f===document.body&&$f(f)&&!$f(document.documentElement)||null!=f&&$f(f,s)&&l.push(f)}for(var p=n.visualViewport?n.visualViewport.width:innerWidth,d=n.visualViewport?n.visualViewport.height:innerHeight,h=window.scrollX||pageXOffset,v=window.scrollY||pageYOffset,m=e.getBoundingClientRect(),g=m.height,y=m.width,b=m.top,x=m.right,w=m.bottom,k=m.left,S="start"===a||"nearest"===a?b:"end"===a?w:b+g/2,E="center"===o?k+y/2:"end"===o?x:k,C=[],N=0;N<l.length;N++){var T=l[N],I=T.getBoundingClientRect(),O=I.height,_=I.width,D=I.top,A=I.right,R=I.bottom,P=I.left;if("if-needed"===r&&b>=0&&k>=0&&w<=d&&x<=p&&b>=D&&w<=R&&k>=P&&x<=A)return C;var M=getComputedStyle(T),F=parseInt(M.borderLeftWidth,10),L=parseInt(M.borderTopWidth,10),j=parseInt(M.borderRightWidth,10),Z=parseInt(M.borderBottomWidth,10),z=0,B=0,U="offsetWidth"in T?T.offsetWidth-T.clientWidth-F-j:0,W="offsetHeight"in T?T.offsetHeight-T.clientHeight-L-Z:0;if(c===T)z="start"===a?S:"end"===a?S-d:"nearest"===a?Jf(v,v+d,d,L,Z,v+S,v+S+g,g):S-d/2,B="start"===o?E:"center"===o?E-p/2:"end"===o?E-p:Jf(h,h+p,p,F,j,h+E,h+E+y,y),z=Math.max(0,z+v),B=Math.max(0,B+h);else{z="start"===a?S-D-L:"end"===a?S-R+Z+W:"nearest"===a?Jf(D,R,O,L,Z+W,S,S+g,g):S-(D+O/2)+W/2,B="start"===o?E-P-F:"center"===o?E-(P+_/2)+U/2:"end"===o?E-A+j+U:Jf(P,A,_,F,j+U,E,E+y,y);var V=T.scrollLeft,H=T.scrollTop;S+=H-(z=Math.max(0,Math.min(H+z,T.scrollHeight-O+W))),E+=V-(B=Math.max(0,Math.min(V+B,T.scrollWidth-_+U)))}C.push({el:T,top:z,left:B})}return C}function tp(e){return e===Object(e)&&0!==Object.keys(e).length}var np=function(e,t){var n=e.isConnected||e.ownerDocument.documentElement.contains(e);if(tp(t)&&"function"===typeof t.behavior)return t.behavior(n?ep(e,t):[]);if(n){var r=function(e){return!1===e?{block:"end",inline:"nearest"}:tp(e)?e:{block:"start",inline:"nearest"}}(t);return function(e,t){void 0===t&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach((function(e){var r=e.el,a=e.top,o=e.left;r.scroll&&n?r.scroll({top:a,left:o,behavior:t}):(r.scrollTop=a,r.scrollLeft=o)}))}(ep(e,r),r.behavior)}},rp=["parentNode"];function ap(e){return void 0===e||!1===e?[]:Array.isArray(e)?e:[e]}function op(e,t){if(e.length){var n=e.join("_");return t?"".concat(t,"_").concat(n):rp.indexOf(n)>=0?"".concat("form_item","_").concat(n):n}}function ip(e){return ap(e).join("_")}function sp(t){var n=gc(),r=(0,a.Z)(n,1)[0],o=e.useRef({}),i=e.useMemo((function(){return null!==t&&void 0!==t?t:x(x({},r),{__INTERNAL__:{itemRef:function(e){return function(t){var n=ip(e);t?o.current[n]=t:delete o.current[n]}}},scrollToField:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=ap(e),r=op(n,i.__INTERNAL__.name),a=r?document.getElementById(r):null;a&&np(a,x({scrollMode:"if-needed",block:"nearest"},t))},getFieldInstance:function(e){var t=ip(e);return o.current[t]}})}),[t,r]);return[i]}var up=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},cp=function(t,n){var r,i=e.useContext(Ps),s=e.useContext(Js),u=s.getPrefixCls,c=s.direction,l=s.form,f=t.prefixCls,p=t.className,d=void 0===p?"":p,h=t.size,v=void 0===h?i:h,m=t.form,g=t.colon,y=t.labelAlign,b=t.labelWrap,w=t.labelCol,k=t.wrapperCol,S=t.hideRequiredMark,E=t.layout,C=void 0===E?"horizontal":E,N=t.scrollToFirstError,T=t.requiredMark,I=t.onFinishFailed,O=t.name,_=up(t,["prefixCls","className","size","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name"]),D=(0,e.useMemo)((function(){return void 0!==T?T:l&&void 0!==l.requiredMark?l.requiredMark:!S}),[S,T,l]),A=null!==g&&void 0!==g?g:null===l||void 0===l?void 0:l.colon,R=u("form",f),P=Fn()(R,(r={},(0,o.Z)(r,"".concat(R,"-").concat(C),!0),(0,o.Z)(r,"".concat(R,"-hide-required-mark"),!1===D),(0,o.Z)(r,"".concat(R,"-rtl"),"rtl"===c),(0,o.Z)(r,"".concat(R,"-").concat(v),v),r),d),M=sp(m),F=(0,a.Z)(M,1)[0],L=F.__INTERNAL__;L.name=O;var j=(0,e.useMemo)((function(){return{name:O,labelAlign:y,labelCol:w,labelWrap:b,wrapperCol:k,vertical:"vertical"===C,colon:A,requiredMark:D,itemRef:L.itemRef,form:F}}),[O,y,w,k,C,A,D,F]);e.useImperativeHandle(n,(function(){return F}));return e.createElement(Rs,{size:v},e.createElement(Tc.Provider,{value:j},e.createElement(Nc,x({id:O},_,{name:O,onFinishFailed:function(e){null===I||void 0===I||I(e);var t={block:"nearest"};N&&e.errorFields.length&&("object"===(0,vi.Z)(N)&&(t=N),F.scrollToField(e.errorFields[0].name,t))},form:F,className:P}))))},lp=e.forwardRef(cp),fp={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},pp=function(t,n){return e.createElement(Es,s(s({},t),{},{ref:n,icon:fp}))};pp.displayName="CheckCircleFilled";var dp=e.forwardRef(pp),hp={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},vp=function(t,n){return e.createElement(Es,s(s({},t),{},{ref:n,icon:hp}))};vp.displayName="ExclamationCircleFilled";var mp,gp=e.forwardRef(vp),yp=(0,e.createContext)({}),bp=["xxl","xl","lg","md","sm","xs"],xp={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},wp=new Map,kp=-1,Sp={},Ep={matchHandlers:{},dispatch:function(e){return Sp=e,wp.forEach((function(e){return e(Sp)})),wp.size>=1},subscribe:function(e){return wp.size||this.register(),kp+=1,wp.set(kp,e),e(Sp),kp},unsubscribe:function(e){wp.delete(e),wp.size||this.unregister()},unregister:function(){var e=this;Object.keys(xp).forEach((function(t){var n=xp[t],r=e.matchHandlers[n];null===r||void 0===r||r.mql.removeListener(null===r||void 0===r?void 0:r.listener)})),wp.clear()},register:function(){var e=this;Object.keys(xp).forEach((function(t){var n=xp[t],r=function(n){var r=n.matches;e.dispatch(x(x({},Sp),(0,o.Z)({},t,r)))},a=window.matchMedia(n);a.addListener(r),e.matchHandlers[n]={mql:a,listener:r},r(a)}))}},Cp=function(){if(!rs()||!window.document.documentElement)return!1;if(void 0!==mp)return mp;var e=document.createElement("div");return e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e),mp=1===e.scrollHeight,document.body.removeChild(e),mp},Np=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Tp=(Ms("top","middle","bottom","stretch"),Ms("start","end","center","space-around","space-between","space-evenly"),e.forwardRef((function(t,n){var r,i=t.prefixCls,s=t.justify,u=t.align,c=t.className,l=t.style,f=t.children,p=t.gutter,d=void 0===p?0:p,h=t.wrap,v=Np(t,["prefixCls","justify","align","className","style","children","gutter","wrap"]),m=e.useContext(Js),g=m.getPrefixCls,y=m.direction,b=e.useState({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),w=(0,a.Z)(b,2),k=w[0],S=w[1],E=function(){var t=e.useState(!1),n=(0,a.Z)(t,2),r=n[0],o=n[1];return e.useEffect((function(){o(Cp())}),[]),r}(),C=e.useRef(d);e.useEffect((function(){var e=Ep.subscribe((function(e){var t=C.current||0;(!Array.isArray(t)&&"object"===(0,vi.Z)(t)||Array.isArray(t)&&("object"===(0,vi.Z)(t[0])||"object"===(0,vi.Z)(t[1])))&&S(e)}));return function(){return Ep.unsubscribe(e)}}),[]);var N=g("row",i),T=function(){var e=[void 0,void 0];return(Array.isArray(d)?d:[d,void 0]).forEach((function(t,n){if("object"===(0,vi.Z)(t))for(var r=0;r<bp.length;r++){var a=bp[r];if(k[a]&&void 0!==t[a]){e[n]=t[a];break}}else e[n]=t})),e}(),I=Fn()(N,(r={},(0,o.Z)(r,"".concat(N,"-no-wrap"),!1===h),(0,o.Z)(r,"".concat(N,"-").concat(s),s),(0,o.Z)(r,"".concat(N,"-").concat(u),u),(0,o.Z)(r,"".concat(N,"-rtl"),"rtl"===y),r),c),O={},_=null!=T[0]&&T[0]>0?T[0]/-2:void 0,D=null!=T[1]&&T[1]>0?T[1]/-2:void 0;if(_&&(O.marginLeft=_,O.marginRight=_),E){var A=(0,a.Z)(T,2);O.rowGap=A[1]}else D&&(O.marginTop=D,O.marginBottom=D);var R=(0,a.Z)(T,2),P=R[0],M=R[1],F=e.useMemo((function(){return{gutter:[P,M],wrap:h,supportFlexGap:E}}),[P,M,h,E]);return e.createElement(yp.Provider,{value:F},e.createElement("div",x({role:"row"},v,{className:I,style:x(x({},O),l),ref:n}),f))})));Tp.displayName="Row";var Ip=Tp,Op={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"question-circle",theme:"outlined"},_p=function(t,n){return e.createElement(Es,s(s({},t),{},{ref:n,icon:Op}))};_p.displayName="QuestionCircleOutlined";var Dp=e.forwardRef(_p),Ap=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};var Rp=["xs","sm","md","lg","xl","xxl"],Pp=e.forwardRef((function(t,n){var r,a=e.useContext(Js),i=a.getPrefixCls,s=a.direction,u=e.useContext(yp),c=u.gutter,l=u.wrap,f=u.supportFlexGap,p=t.prefixCls,d=t.span,h=t.order,v=t.offset,m=t.push,g=t.pull,y=t.className,b=t.children,w=t.flex,k=t.style,S=Ap(t,["prefixCls","span","order","offset","push","pull","className","children","flex","style"]),E=i("col",p),C={};Rp.forEach((function(e){var n,r={},a=t[e];"number"===typeof a?r.span=a:"object"===(0,vi.Z)(a)&&(r=a||{}),delete S[e],C=x(x({},C),(n={},(0,o.Z)(n,"".concat(E,"-").concat(e,"-").concat(r.span),void 0!==r.span),(0,o.Z)(n,"".concat(E,"-").concat(e,"-order-").concat(r.order),r.order||0===r.order),(0,o.Z)(n,"".concat(E,"-").concat(e,"-offset-").concat(r.offset),r.offset||0===r.offset),(0,o.Z)(n,"".concat(E,"-").concat(e,"-push-").concat(r.push),r.push||0===r.push),(0,o.Z)(n,"".concat(E,"-").concat(e,"-pull-").concat(r.pull),r.pull||0===r.pull),(0,o.Z)(n,"".concat(E,"-rtl"),"rtl"===s),n))}));var N=Fn()(E,(r={},(0,o.Z)(r,"".concat(E,"-").concat(d),void 0!==d),(0,o.Z)(r,"".concat(E,"-order-").concat(h),h),(0,o.Z)(r,"".concat(E,"-offset-").concat(v),v),(0,o.Z)(r,"".concat(E,"-push-").concat(m),m),(0,o.Z)(r,"".concat(E,"-pull-").concat(g),g),r),y,C),T={};if(c&&c[0]>0){var I=c[0]/2;T.paddingLeft=I,T.paddingRight=I}if(c&&c[1]>0&&!f){var O=c[1]/2;T.paddingTop=O,T.paddingBottom=O}return w&&(T.flex=function(e){return"number"===typeof e?"".concat(e," ").concat(e," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(e)?"0 0 ".concat(e):e}(w),!1!==l||T.minWidth||(T.minWidth=0)),e.createElement("div",x({role:"cell"},S,{style:x(x({},T),k),className:N,ref:n}),b)}));Pp.displayName="Col";var Mp=Pp;function Fp(e,t){return!!e&&e.contains(t)}function Lp(e,n,r,a){var o=t.unstable_batchedUpdates?function(e){t.unstable_batchedUpdates(r,e)}:r;return e.addEventListener&&e.addEventListener(n,o,a),{remove:function(){e.removeEventListener&&e.removeEventListener(n,o,a)}}}var jp=(0,e.forwardRef)((function(n,r){var a=n.didUpdate,o=n.getContainer,i=n.children,s=(0,e.useRef)(),u=(0,e.useRef)();(0,e.useImperativeHandle)(r,(function(){return{}}));var c=(0,e.useRef)(!1);return!c.current&&rs()&&(u.current=o(),s.current=u.current.parentNode,c.current=!0),(0,e.useEffect)((function(){null===a||void 0===a||a(n)})),(0,e.useEffect)((function(){return null===u.current.parentNode&&null!==s.current&&s.current.appendChild(u.current),function(){var e,t;null===(e=u.current)||void 0===e||null===(t=e.parentNode)||void 0===t||t.removeChild(u.current)}}),[]),u.current?t.createPortal(i,u.current):null})),Zp=jp;function zp(e,t,n){return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}var Bp=function(){if("undefined"===typeof navigator||"undefined"===typeof window)return!1;var e=navigator.userAgent||navigator.vendor||window.opera;return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(null===e||void 0===e?void 0:e.substr(0,4)))};function Up(e){var t=e.prefixCls,n=e.motion,r=e.animation,a=e.transitionName;return n||(r?{motionName:"".concat(t,"-").concat(r)}:a?{motionName:a}:null)}function Wp(t){var n=t.prefixCls,r=t.visible,a=t.zIndex,o=t.mask,i=t.maskMotion,u=t.maskAnimation,c=t.maskTransitionName;if(!o)return null;var l={};return(i||c||u)&&(l=s({motionAppear:!0},Up({motion:i,prefixCls:n,transitionName:c,animation:u}))),e.createElement(Hl,x({},l,{visible:r,removeOnLeave:!0}),(function(t){var r=t.className;return e.createElement("div",{style:{zIndex:a},className:Fn()("".concat(n,"-mask"),r)})}))}var Vp,Hp=function(e){if(!e)return!1;if(e.offsetParent)return!0;if(e.getBBox){var t=e.getBBox();if(t.width||t.height)return!0}if(e.getBoundingClientRect){var n=e.getBoundingClientRect();if(n.width||n.height)return!0}return!1};function Gp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gp(Object(n),!0).forEach((function(t){Kp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xp(e){return Xp="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xp(e)}function Kp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Yp={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function Qp(){if(void 0!==Vp)return Vp;Vp="";var e=document.createElement("p").style;for(var t in Yp)t+"Transform"in e&&(Vp=t);return Vp}function $p(){return Qp()?"".concat(Qp(),"TransitionProperty"):"transitionProperty"}function Jp(){return Qp()?"".concat(Qp(),"Transform"):"transform"}function ed(e,t){var n=$p();n&&(e.style[n]=t,"transitionProperty"!==n&&(e.style.transitionProperty=t))}function td(e,t){var n=Jp();n&&(e.style[n]=t,"transform"!==n&&(e.style.transform=t))}var nd,rd=/matrix\((.*)\)/,ad=/matrix3d\((.*)\)/;function od(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function id(e,t,n){var r=n;if("object"!==Xp(t))return"undefined"!==typeof r?("number"===typeof r&&(r="".concat(r,"px")),void(e.style[t]=r)):nd(e,t);for(var a in t)t.hasOwnProperty(a)&&id(e,a,t[a])}function sd(e,t){var n=e["page".concat(t?"Y":"X","Offset")],r="scroll".concat(t?"Top":"Left");if("number"!==typeof n){var a=e.document;"number"!==typeof(n=a.documentElement[r])&&(n=a.body[r])}return n}function ud(e){return sd(e)}function cd(e){return sd(e,!0)}function ld(e){var t=function(e){var t,n,r,a=e.ownerDocument,o=a.body,i=a&&a.documentElement;return t=e.getBoundingClientRect(),n=Math.floor(t.left),r=Math.floor(t.top),{left:n-=i.clientLeft||o.clientLeft||0,top:r-=i.clientTop||o.clientTop||0}}(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=ud(r),t.top+=cd(r),t}function fd(e){return null!==e&&void 0!==e&&e==e.window}function pd(e){return fd(e)?e.document:9===e.nodeType?e:e.ownerDocument}var dd=new RegExp("^(".concat(/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,")(?!px)[a-z%]+$"),"i"),hd=/^(top|right|bottom|left)$/;function vd(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function md(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function gd(e,t,n){"static"===id(e,"position")&&(e.style.position="relative");var r=-999,a=-999,o=vd("left",n),i=vd("top",n),s=md(o),u=md(i);"left"!==o&&(r=999),"top"!==i&&(a=999);var c,l="",f=ld(e);("left"in t||"top"in t)&&(l=(c=e).style.transitionProperty||c.style[$p()]||"",ed(e,"none")),"left"in t&&(e.style[s]="",e.style[o]="".concat(r,"px")),"top"in t&&(e.style[u]="",e.style[i]="".concat(a,"px")),od(e);var p=ld(e),d={};for(var h in t)if(t.hasOwnProperty(h)){var v=vd(h,n),m="left"===h?r:a,g=f[h]-p[h];d[v]=v===h?m+g:m-g}id(e,d),od(e),("left"in t||"top"in t)&&ed(e,l);var y={};for(var b in t)if(t.hasOwnProperty(b)){var x=vd(b,n),w=t[b]-f[b];y[x]=b===x?d[x]+w:d[x]-w}id(e,y)}function yd(e,t){var n=ld(e),r=function(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("transform")||t.getPropertyValue(Jp());if(n&&"none"!==n){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}(e),a={x:r.x,y:r.y};"left"in t&&(a.x=r.x+t.left-n.left),"top"in t&&(a.y=r.y+t.top-n.top),function(e,t){var n=window.getComputedStyle(e,null),r=n.getPropertyValue("transform")||n.getPropertyValue(Jp());if(r&&"none"!==r){var a,o=r.match(rd);o?((a=(o=o[1]).split(",").map((function(e){return parseFloat(e,10)})))[4]=t.x,a[5]=t.y,td(e,"matrix(".concat(a.join(","),")"))):((a=r.match(ad)[1].split(",").map((function(e){return parseFloat(e,10)})))[12]=t.x,a[13]=t.y,td(e,"matrix3d(".concat(a.join(","),")")))}else td(e,"translateX(".concat(t.x,"px) translateY(").concat(t.y,"px) translateZ(0)"))}(e,a)}function bd(e,t){for(var n=0;n<e.length;n++)t(e[n])}function xd(e){return"border-box"===nd(e,"boxSizing")}"undefined"!==typeof window&&(nd=window.getComputedStyle?function(e,t,n){var r=n,a="",o=pd(e);return(r=r||o.defaultView.getComputedStyle(e,null))&&(a=r.getPropertyValue(t)||r[t]),a}:function(e,t){var n=e.currentStyle&&e.currentStyle[t];if(dd.test(n)&&!hd.test(t)){var r=e.style,a=r.left,o=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,r.left="fontSize"===t?"1em":n||0,n=r.pixelLeft+"px",r.left=a,e.runtimeStyle.left=o}return""===n?"auto":n});var wd=["margin","border","padding"];function kd(e,t,n){var r,a={},o=e.style;for(r in t)t.hasOwnProperty(r)&&(a[r]=o[r],o[r]=t[r]);for(r in n.call(e),t)t.hasOwnProperty(r)&&(o[r]=a[r])}function Sd(e,t,n){var r,a,o,i=0;for(a=0;a<t.length;a++)if(r=t[a])for(o=0;o<n.length;o++){var s=void 0;s="border"===r?"".concat(r).concat(n[o],"Width"):r+n[o],i+=parseFloat(nd(e,s))||0}return i}var Ed={getParent:function(e){var t=e;do{t=11===t.nodeType&&t.host?t.host:t.parentNode}while(t&&1!==t.nodeType&&9!==t.nodeType);return t}};function Cd(e,t,n){var r=n;if(fd(e))return"width"===t?Ed.viewportWidth(e):Ed.viewportHeight(e);if(9===e.nodeType)return"width"===t?Ed.docWidth(e):Ed.docHeight(e);var a="width"===t?["Left","Right"]:["Top","Bottom"],o="width"===t?Math.floor(e.getBoundingClientRect().width):Math.floor(e.getBoundingClientRect().height),i=xd(e),s=0;(null===o||void 0===o||o<=0)&&(o=void 0,(null===(s=nd(e,t))||void 0===s||Number(s)<0)&&(s=e.style[t]||0),s=parseFloat(s)||0),void 0===r&&(r=i?1:-1);var u=void 0!==o||i,c=o||s;return-1===r?u?c-Sd(e,["border","padding"],a):s:u?1===r?c:c+(2===r?-Sd(e,["border"],a):Sd(e,["margin"],a)):s+Sd(e,wd.slice(r),a)}bd(["Width","Height"],(function(e){Ed["doc".concat(e)]=function(t){var n=t.document;return Math.max(n.documentElement["scroll".concat(e)],n.body["scroll".concat(e)],Ed["viewport".concat(e)](n))},Ed["viewport".concat(e)]=function(t){var n="client".concat(e),r=t.document,a=r.body,o=r.documentElement[n];return"CSS1Compat"===r.compatMode&&o||a&&a[n]||o}}));var Nd={position:"absolute",visibility:"hidden",display:"block"};function Td(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,a=t[0];return 0!==a.offsetWidth?r=Cd.apply(void 0,t):kd(a,Nd,(function(){r=Cd.apply(void 0,t)})),r}function Id(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}bd(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);Ed["outer".concat(t)]=function(t,n){return t&&Td(t,e,n?0:1)};var n="width"===e?["Left","Right"]:["Top","Bottom"];Ed[e]=function(t,r){var a=r;return void 0!==a?t?(xd(t)&&(a+=Sd(t,["padding","border"],n)),id(t,e,a)):void 0:t&&Td(t,e,-1)}}));var Od={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:pd,offset:function(e,t,n){if("undefined"===typeof t)return ld(e);!function(e,t,n){if(n.ignoreShake){var r=ld(e),a=r.left.toFixed(0),o=r.top.toFixed(0),i=t.left.toFixed(0),s=t.top.toFixed(0);if(a===i&&o===s)return}n.useCssRight||n.useCssBottom?gd(e,t,n):n.useCssTransform&&Jp()in document.body.style?yd(e,t):gd(e,t,n)}(e,t,n||{})},isWindow:fd,each:bd,css:id,clone:function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);if(e.overflow)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix:Id,getWindowScrollLeft:function(e){return ud(e)},getWindowScrollTop:function(e){return cd(e)},merge:function(){for(var e={},t=0;t<arguments.length;t++)Od.mix(e,t<0||arguments.length<=t?void 0:arguments[t]);return e},viewportWidth:0,viewportHeight:0};Id(Od,Ed);var _d=Od.getParent;function Dd(e){if(Od.isWindow(e)||9===e.nodeType)return null;var t,n=Od.getDocument(e).body,r=Od.css(e,"position");if(!("fixed"===r||"absolute"===r))return"html"===e.nodeName.toLowerCase()?null:_d(e);for(t=_d(e);t&&t!==n&&9!==t.nodeType;t=_d(t))if("static"!==(r=Od.css(t,"position")))return t;return null}var Ad=Od.getParent;function Rd(e,t){for(var n={left:0,right:1/0,top:0,bottom:1/0},r=Dd(e),a=Od.getDocument(e),o=a.defaultView||a.parentWindow,i=a.body,s=a.documentElement;r;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===r.clientWidth||r===i||r===s||"visible"===Od.css(r,"overflow")){if(r===i||r===s)break}else{var u=Od.offset(r);u.left+=r.clientLeft,u.top+=r.clientTop,n.top=Math.max(n.top,u.top),n.right=Math.min(n.right,u.left+r.clientWidth),n.bottom=Math.min(n.bottom,u.top+r.clientHeight),n.left=Math.max(n.left,u.left)}r=Dd(r)}var c=null;Od.isWindow(e)||9===e.nodeType||(c=e.style.position,"absolute"===Od.css(e,"position")&&(e.style.position="fixed"));var l=Od.getWindowScrollLeft(o),f=Od.getWindowScrollTop(o),p=Od.viewportWidth(o),d=Od.viewportHeight(o),h=s.scrollWidth,v=s.scrollHeight,m=window.getComputedStyle(i);if("hidden"===m.overflowX&&(h=o.innerWidth),"hidden"===m.overflowY&&(v=o.innerHeight),e.style&&(e.style.position=c),t||function(e){if(Od.isWindow(e)||9===e.nodeType)return!1;var t=Od.getDocument(e),n=t.body,r=null;for(r=Ad(e);r&&r!==n&&r!==t;r=Ad(r))if("fixed"===Od.css(r,"position"))return!0;return!1}(e))n.left=Math.max(n.left,l),n.top=Math.max(n.top,f),n.right=Math.min(n.right,l+p),n.bottom=Math.min(n.bottom,f+d);else{var g=Math.max(h,l+p);n.right=Math.min(n.right,g);var y=Math.max(v,f+d);n.bottom=Math.min(n.bottom,y)}return n.top>=0&&n.left>=0&&n.bottom>n.top&&n.right>n.left?n:null}function Pd(e){var t,n,r;if(Od.isWindow(e)||9===e.nodeType){var a=Od.getWindow(e);t={left:Od.getWindowScrollLeft(a),top:Od.getWindowScrollTop(a)},n=Od.viewportWidth(a),r=Od.viewportHeight(a)}else t=Od.offset(e),n=Od.outerWidth(e),r=Od.outerHeight(e);return t.width=n,t.height=r,t}function Md(e,t){var n=t.charAt(0),r=t.charAt(1),a=e.width,o=e.height,i=e.left,s=e.top;return"c"===n?s+=o/2:"b"===n&&(s+=o),"c"===r?i+=a/2:"r"===r&&(i+=a),{left:i,top:s}}function Fd(e,t,n,r,a){var o=Md(t,n[1]),i=Md(e,n[0]),s=[i.left-o.left,i.top-o.top];return{left:Math.round(e.left-s[0]+r[0]-a[0]),top:Math.round(e.top-s[1]+r[1]-a[1])}}function Ld(e,t,n){return e.left<n.left||e.left+t.width>n.right}function jd(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function Zd(e,t,n){var r=[];return Od.each(e,(function(e){r.push(e.replace(t,(function(e){return n[e]})))})),r}function zd(e,t){return e[t]=-e[t],e}function Bd(e,t){return(/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10))||0}function Ud(e,t){e[0]=Bd(e[0],t.width),e[1]=Bd(e[1],t.height)}function Wd(e,t,n,r){var a=n.points,o=n.offset||[0,0],i=n.targetOffset||[0,0],s=n.overflow,u=n.source||e;o=[].concat(o),i=[].concat(i);var c={},l=0,f=Rd(u,!(!(s=s||{})||!s.alwaysByViewport)),p=Pd(u);Ud(o,p),Ud(i,t);var d=Fd(p,t,a,o,i),h=Od.merge(p,d);if(f&&(s.adjustX||s.adjustY)&&r){if(s.adjustX&&Ld(d,p,f)){var v=Zd(a,/[lr]/gi,{l:"r",r:"l"}),m=zd(o,0),g=zd(i,0);(function(e,t,n){return e.left>n.right||e.left+t.width<n.left})(Fd(p,t,v,m,g),p,f)||(l=1,a=v,o=m,i=g)}if(s.adjustY&&jd(d,p,f)){var y=Zd(a,/[tb]/gi,{t:"b",b:"t"}),b=zd(o,1),x=zd(i,1);(function(e,t,n){return e.top>n.bottom||e.top+t.height<n.top})(Fd(p,t,y,b,x),p,f)||(l=1,a=y,o=b,i=x)}l&&(d=Fd(p,t,a,o,i),Od.mix(h,d));var w=Ld(d,p,f),k=jd(d,p,f);if(w||k){var S=a;w&&(S=Zd(a,/[lr]/gi,{l:"r",r:"l"})),k&&(S=Zd(a,/[tb]/gi,{t:"b",b:"t"})),a=S,o=n.offset||[0,0],i=n.targetOffset||[0,0]}c.adjustX=s.adjustX&&w,c.adjustY=s.adjustY&&k,(c.adjustX||c.adjustY)&&(h=function(e,t,n,r){var a=Od.clone(e),o={width:t.width,height:t.height};return r.adjustX&&a.left<n.left&&(a.left=n.left),r.resizeWidth&&a.left>=n.left&&a.left+o.width>n.right&&(o.width-=a.left+o.width-n.right),r.adjustX&&a.left+o.width>n.right&&(a.left=Math.max(n.right-o.width,n.left)),r.adjustY&&a.top<n.top&&(a.top=n.top),r.resizeHeight&&a.top>=n.top&&a.top+o.height>n.bottom&&(o.height-=a.top+o.height-n.bottom),r.adjustY&&a.top+o.height>n.bottom&&(a.top=Math.max(n.bottom-o.height,n.top)),Od.mix(a,o)}(d,p,f,c))}return h.width!==p.width&&Od.css(u,"width",Od.width(u)+h.width-p.width),h.height!==p.height&&Od.css(u,"height",Od.height(u)+h.height-p.height),Od.offset(u,{left:h.left,top:h.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:a,offset:o,targetOffset:i,overflow:c}}function Vd(e,t,n){var r=n.target||t,a=Pd(r),o=!function(e,t){var n=Rd(e,t),r=Pd(e);return!n||r.left+r.width<=n.left||r.top+r.height<=n.top||r.left>=n.right||r.top>=n.bottom}(r,n.overflow&&n.overflow.alwaysByViewport);return Wd(e,a,n,o)}Vd.__getOffsetParent=Dd,Vd.__getVisibleRectForElement=Rd;var Hd=n(8111),Gd=n.n(Hd);function qd(e,t){var n=null,r=null;var o=new lf.default((function(e){var o=(0,a.Z)(e,1)[0].target;if(document.documentElement.contains(o)){var i=o.getBoundingClientRect(),s=i.width,u=i.height,c=Math.floor(s),l=Math.floor(u);n===c&&r===l||Promise.resolve().then((function(){t({width:c,height:l})})),n=c,r=l}}));return e&&o.observe(e),function(){o.disconnect()}}function Xd(e){return"function"!==typeof e?null:e()}function Kd(e){return"object"===(0,vi.Z)(e)&&e?e:null}var Yd=function(t,n){var r=t.children,o=t.disabled,i=t.target,s=t.align,u=t.onAlign,c=t.monitorWindowResize,l=t.monitorBufferTime,f=void 0===l?0:l,p=e.useRef({}),d=e.useRef(),h=e.Children.only(r),v=e.useRef({});v.current.disabled=o,v.current.target=i,v.current.align=s,v.current.onAlign=u;var m=function(t,n){var r=e.useRef(!1),a=e.useRef(null);function o(){window.clearTimeout(a.current)}return[function e(i){if(o(),r.current&&!0!==i)a.current=window.setTimeout((function(){r.current=!1,e()}),n);else{if(!1===t())return;r.current=!0,a.current=window.setTimeout((function(){r.current=!1}),n)}},function(){r.current=!1,o()}]}((function(){var e=v.current,t=e.disabled,n=e.target,r=e.align,a=e.onAlign;if(!t&&n){var o,i=d.current,s=Xd(n),u=Kd(n);p.current.element=s,p.current.point=u,p.current.align=r;var c=document.activeElement;return s&&Hp(s)?o=Vd(i,s,r):u&&(o=function(e,t,n){var r,a,o=Od.getDocument(e),i=o.defaultView||o.parentWindow,s=Od.getWindowScrollLeft(i),u=Od.getWindowScrollTop(i),c=Od.viewportWidth(i),l=Od.viewportHeight(i),f={left:r="pageX"in t?t.pageX:s+t.clientX,top:a="pageY"in t?t.pageY:u+t.clientY,width:0,height:0},p=r>=0&&r<=s+c&&a>=0&&a<=u+l,d=[n.points[0],"cc"];return Wd(e,f,qp(qp({},n),{},{points:d}),p)}(i,u,r)),function(e,t){e!==document.activeElement&&Fp(t,e)&&"function"===typeof e.focus&&e.focus()}(c,i),a&&o&&a(i,o),!0}return!1}),f),g=(0,a.Z)(m,2),y=g[0],b=g[1],x=e.useRef({cancel:function(){}}),w=e.useRef({cancel:function(){}});e.useEffect((function(){var e,t,n=Xd(i),r=Kd(i);d.current!==w.current.element&&(w.current.cancel(),w.current.element=d.current,w.current.cancel=qd(d.current,y)),p.current.element===n&&((e=p.current.point)===(t=r)||e&&t&&("pageX"in t&&"pageY"in t?e.pageX===t.pageX&&e.pageY===t.pageY:"clientX"in t&&"clientY"in t&&e.clientX===t.clientX&&e.clientY===t.clientY))&&Gd()(p.current.align,s)||(y(),x.current.element!==n&&(x.current.cancel(),x.current.element=n,x.current.cancel=qd(n,y)))})),e.useEffect((function(){o?b():y()}),[o]);var k=e.useRef(null);return e.useEffect((function(){c?k.current||(k.current=Lp(window,"resize",y)):k.current&&(k.current.remove(),k.current=null)}),[c]),e.useEffect((function(){return function(){x.current.cancel(),w.current.cancel(),k.current&&k.current.remove(),b()}}),[]),e.useImperativeHandle(n,(function(){return{forceAlign:function(){return y(!0)}}})),e.isValidElement(h)&&(h=e.cloneElement(h,{ref:_s(h.ref,d)})),h},Qd=e.forwardRef(Yd);Qd.displayName="Align";var $d=Qd,Jd=rs()?e.useLayoutEffect:e.useEffect,eh=["measure","alignPre","align",null,"motion"],th=e.forwardRef((function(t,n){var r=t.visible,o=t.prefixCls,i=t.className,c=t.style,f=t.children,p=t.zIndex,d=t.stretch,h=t.destroyPopupOnHide,v=t.forceRender,m=t.align,g=t.point,y=t.getRootDomNode,b=t.getClassNameFromAlign,w=t.onAlign,k=t.onMouseEnter,S=t.onMouseLeave,E=t.onMouseDown,C=t.onTouchStart,N=(0,e.useRef)(),T=(0,e.useRef)(),I=(0,e.useState)(),O=(0,a.Z)(I,2),_=O[0],D=O[1],A=function(t){var n=e.useState({width:0,height:0}),r=(0,a.Z)(n,2),o=r[0],i=r[1];return[e.useMemo((function(){var e={};if(t){var n=o.width,r=o.height;-1!==t.indexOf("height")&&r?e.height=r:-1!==t.indexOf("minHeight")&&r&&(e.minHeight=r),-1!==t.indexOf("width")&&n?e.width=n:-1!==t.indexOf("minWidth")&&n&&(e.minWidth=n)}return e}),[t,o]),function(e){i({width:e.offsetWidth,height:e.offsetHeight})}]}(d),R=(0,a.Z)(A,2),P=R[0],M=R[1];var F=function(t,n){var r=ki(null),o=(0,a.Z)(r,2),i=o[0],s=o[1],c=(0,e.useRef)();function f(e){s(e,!0)}function p(){Xc.cancel(c.current)}return(0,e.useEffect)((function(){f("measure")}),[t]),(0,e.useEffect)((function(){"measure"===i&&n(),i&&(c.current=Xc((0,u.Z)(l().mark((function e(){var t,n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=eh.indexOf(i),(n=eh[t+1])&&-1!==t&&f(n);case 3:case"end":return e.stop()}}),e)})))))}),[i]),(0,e.useEffect)((function(){return function(){p()}}),[]),[i,function(e){p(),c.current=Xc((function(){f((function(e){switch(i){case"align":return"motion";case"motion":return"stable"}return e})),null===e||void 0===e||e()}))}]}(r,(function(){d&&M(y())})),L=(0,a.Z)(F,2),j=L[0],Z=L[1],z=(0,e.useState)(0),B=(0,a.Z)(z,2),U=B[0],W=B[1],V=(0,e.useRef)();function H(){var e;null===(e=N.current)||void 0===e||e.forceAlign()}function G(e,t){var n=b(t);_!==n&&D(n),W((function(e){return e+1})),"align"===j&&(null===w||void 0===w||w(e,t))}Jd((function(){"alignPre"===j&&W(0)}),[j]),Jd((function(){"align"===j&&(U<2?H():Z((function(){var e;null===(e=V.current)||void 0===e||e.call(V)})))}),[U]);var q=s({},Up(t));function X(){return new Promise((function(e){V.current=e}))}["onAppearEnd","onEnterEnd","onLeaveEnd"].forEach((function(e){var t=q[e];q[e]=function(e,n){return Z(),null===t||void 0===t?void 0:t(e,n)}})),e.useEffect((function(){q.motionName||"motion"!==j||Z()}),[q.motionName,j]),e.useImperativeHandle(n,(function(){return{forceAlign:H,getElement:function(){return T.current}}}));var K=s(s({},P),{},{zIndex:p,opacity:"motion"!==j&&"stable"!==j&&r?0:void 0,pointerEvents:r||"stable"===j?void 0:"none"},c),Y=!0;!(null===m||void 0===m?void 0:m.points)||"align"!==j&&"stable"!==j||(Y=!1);var Q=f;return e.Children.count(f)>1&&(Q=e.createElement("div",{className:"".concat(o,"-content")},f)),e.createElement(Hl,x({visible:r,ref:T,leavedClassName:"".concat(o,"-hidden")},q,{onAppearPrepare:X,onEnterPrepare:X,removeOnLeave:h,forceRender:v}),(function(t,n){var r=t.className,a=t.style,u=Fn()(o,i,_,r);return e.createElement($d,{target:g||y,key:"popup",ref:N,monitorWindowResize:!0,disabled:Y,align:m,onAlign:G},e.createElement("div",{ref:n,className:u,onMouseEnter:k,onMouseLeave:S,onMouseDownCapture:E,onTouchStartCapture:C,style:s(s({},a),K)},Q))}))}));th.displayName="PopupInner";var nh=th,rh=e.forwardRef((function(t,n){var r=t.prefixCls,a=t.visible,o=t.zIndex,i=t.children,u=t.mobile,c=(u=void 0===u?{}:u).popupClassName,l=u.popupStyle,f=u.popupMotion,p=void 0===f?{}:f,d=u.popupRender,h=e.useRef();e.useImperativeHandle(n,(function(){return{forceAlign:function(){},getElement:function(){return h.current}}}));var v=s({zIndex:o},l),m=i;return e.Children.count(i)>1&&(m=e.createElement("div",{className:"".concat(r,"-content")},i)),d&&(m=d(m)),e.createElement(Hl,x({visible:a,ref:h,removeOnLeave:!0},p),(function(t,n){var a=t.className,o=t.style,i=Fn()(r,c,a);return e.createElement("div",{ref:n,className:i,style:s(s({},o),v)},m)}))}));rh.displayName="MobilePopupInner";var ah=rh,oh=["visible","mobile"],ih=e.forwardRef((function(t,n){var r=t.visible,o=t.mobile,i=Pn(t,oh),u=(0,e.useState)(r),c=(0,a.Z)(u,2),l=c[0],f=c[1],p=(0,e.useState)(!1),d=(0,a.Z)(p,2),h=d[0],v=d[1],m=s(s({},i),{},{visible:l});(0,e.useEffect)((function(){f(r),r&&o&&v(Bp())}),[r,o]);var g=h?e.createElement(ah,x({},m,{mobile:o,ref:n})):e.createElement(nh,x({},m,{ref:n}));return e.createElement("div",null,e.createElement(Wp,m),g)}));ih.displayName="Popup";var sh=ih,uh=e.createContext(null);function ch(){}function lh(){return""}function fh(e){return e?e.ownerDocument:window.document}var ph=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"];var dh=function(n){var r=function(r){(0,Ya.Z)(o,r);var a=(0,Qa.Z)(o);function o(n){var r,i;return(0,la.Z)(this,o),(r=a.call(this,n)).popupRef=e.createRef(),r.triggerRef=e.createRef(),r.portalContainer=void 0,r.attachId=void 0,r.clickOutsideHandler=void 0,r.touchOutsideHandler=void 0,r.contextMenuOutsideHandler1=void 0,r.contextMenuOutsideHandler2=void 0,r.mouseDownTimeout=void 0,r.focusTime=void 0,r.preClickTime=void 0,r.preTouchTime=void 0,r.delayTimer=void 0,r.hasPopupMouseDown=void 0,r.onMouseEnter=function(e){var t=r.props.mouseEnterDelay;r.fireEvents("onMouseEnter",e),r.delaySetPopupVisible(!0,t,t?null:e)},r.onMouseMove=function(e){r.fireEvents("onMouseMove",e),r.setPoint(e)},r.onMouseLeave=function(e){r.fireEvents("onMouseLeave",e),r.delaySetPopupVisible(!1,r.props.mouseLeaveDelay)},r.onPopupMouseEnter=function(){r.clearDelayTimer()},r.onPopupMouseLeave=function(e){var t;e.relatedTarget&&!e.relatedTarget.setTimeout&&Fp(null===(t=r.popupRef.current)||void 0===t?void 0:t.getElement(),e.relatedTarget)||r.delaySetPopupVisible(!1,r.props.mouseLeaveDelay)},r.onFocus=function(e){r.fireEvents("onFocus",e),r.clearDelayTimer(),r.isFocusToShow()&&(r.focusTime=Date.now(),r.delaySetPopupVisible(!0,r.props.focusDelay))},r.onMouseDown=function(e){r.fireEvents("onMouseDown",e),r.preClickTime=Date.now()},r.onTouchStart=function(e){r.fireEvents("onTouchStart",e),r.preTouchTime=Date.now()},r.onBlur=function(e){r.fireEvents("onBlur",e),r.clearDelayTimer(),r.isBlurToHide()&&r.delaySetPopupVisible(!1,r.props.blurDelay)},r.onContextMenu=function(e){e.preventDefault(),r.fireEvents("onContextMenu",e),r.setPopupVisible(!0,e)},r.onContextMenuClose=function(){r.isContextMenuToShow()&&r.close()},r.onClick=function(e){if(r.fireEvents("onClick",e),r.focusTime){var t;if(r.preClickTime&&r.preTouchTime?t=Math.min(r.preClickTime,r.preTouchTime):r.preClickTime?t=r.preClickTime:r.preTouchTime&&(t=r.preTouchTime),Math.abs(t-r.focusTime)<20)return;r.focusTime=0}r.preClickTime=0,r.preTouchTime=0,r.isClickToShow()&&(r.isClickToHide()||r.isBlurToHide())&&e&&e.preventDefault&&e.preventDefault();var n=!r.state.popupVisible;(r.isClickToHide()&&!n||n&&r.isClickToShow())&&r.setPopupVisible(!r.state.popupVisible,e)},r.onPopupMouseDown=function(){var e;(r.hasPopupMouseDown=!0,clearTimeout(r.mouseDownTimeout),r.mouseDownTimeout=window.setTimeout((function(){r.hasPopupMouseDown=!1}),0),r.context)&&(e=r.context).onPopupMouseDown.apply(e,arguments)},r.onDocumentClick=function(e){if(!r.props.mask||r.props.maskClosable){var t=e.target,n=r.getRootDomNode(),a=r.getPopupDomNode();Fp(n,t)&&!r.isContextMenuOnly()||Fp(a,t)||r.hasPopupMouseDown||r.close()}},r.getRootDomNode=function(){var e=r.props.getTriggerDOMNode;if(e)return e(r.triggerRef.current);try{var n=al(r.triggerRef.current);if(n)return n}catch(a){}return t.findDOMNode((0,tu.Z)(r))},r.getPopupClassNameFromAlign=function(e){var t=[],n=r.props,a=n.popupPlacement,o=n.builtinPlacements,i=n.prefixCls,s=n.alignPoint,u=n.getPopupClassNameFromAlign;return a&&o&&t.push(function(e,t,n,r){for(var a=n.points,o=Object.keys(e),i=0;i<o.length;i+=1){var s=o[i];if(zp(e[s].points,a,r))return"".concat(t,"-placement-").concat(s)}return""}(o,i,e,s)),u&&t.push(u(e)),t.join(" ")},r.getComponent=function(){var t=r.props,n=t.prefixCls,a=t.destroyPopupOnHide,o=t.popupClassName,i=t.onPopupAlign,s=t.popupMotion,u=t.popupAnimation,c=t.popupTransitionName,l=t.popupStyle,f=t.mask,p=t.maskAnimation,d=t.maskTransitionName,h=t.maskMotion,v=t.zIndex,m=t.popup,g=t.stretch,y=t.alignPoint,b=t.mobile,w=t.forceRender,k=r.state,S=k.popupVisible,E=k.point,C=r.getPopupAlign(),N={};return r.isMouseEnterToShow()&&(N.onMouseEnter=r.onPopupMouseEnter),r.isMouseLeaveToHide()&&(N.onMouseLeave=r.onPopupMouseLeave),N.onMouseDown=r.onPopupMouseDown,N.onTouchStart=r.onPopupMouseDown,e.createElement(sh,x({prefixCls:n,destroyPopupOnHide:a,visible:S,point:y&&E,className:o,align:C,onAlign:i,animation:u,getClassNameFromAlign:r.getPopupClassNameFromAlign},N,{stretch:g,getRootDomNode:r.getRootDomNode,style:l,mask:f,zIndex:v,transitionName:c,maskAnimation:p,maskTransitionName:d,maskMotion:h,ref:r.popupRef,motion:s,mobile:b,forceRender:w}),"function"===typeof m?m():m)},r.attachParent=function(e){Xc.cancel(r.attachId);var t,n=r.props,a=n.getPopupContainer,o=n.getDocument,i=r.getRootDomNode();a?(i||0===a.length)&&(t=a(i)):t=o(r.getRootDomNode()).body,t?t.appendChild(e):r.attachId=Xc((function(){r.attachParent(e)}))},r.getContainer=function(){if(!r.portalContainer){var e=(0,r.props.getDocument)(r.getRootDomNode()).createElement("div");e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",r.portalContainer=e}return r.attachParent(r.portalContainer),r.portalContainer},r.setPoint=function(e){r.props.alignPoint&&e&&r.setState({point:{pageX:e.pageX,pageY:e.pageY}})},r.handlePortalUpdate=function(){r.state.prevPopupVisible!==r.state.popupVisible&&r.props.afterPopupVisibleChange(r.state.popupVisible)},r.triggerContextValue={onPopupMouseDown:r.onPopupMouseDown},i="popupVisible"in n?!!n.popupVisible:!!n.defaultPopupVisible,r.state={prevPopupVisible:i,popupVisible:i},ph.forEach((function(e){r["fire".concat(e)]=function(t){r.fireEvents(e,t)}})),r}return(0,fa.Z)(o,[{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var e,t=this.props;if(this.state.popupVisible)return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(e=t.getDocument(this.getRootDomNode()),this.clickOutsideHandler=Lp(e,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(e=e||t.getDocument(this.getRootDomNode()),this.touchOutsideHandler=Lp(e,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(e=e||t.getDocument(this.getRootDomNode()),this.contextMenuOutsideHandler1=Lp(e,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=Lp(window,"blur",this.onContextMenuClose)));this.clearOutsideHandler()}},{key:"componentWillUnmount",value:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),Xc.cancel(this.attachId)}},{key:"getPopupDomNode",value:function(){var e;return(null===(e=this.popupRef.current)||void 0===e?void 0:e.getElement())||null}},{key:"getPopupAlign",value:function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,r=e.builtinPlacements;return t&&r?function(e,t,n){return s(s({},e[t]||{}),n)}(r,t,n):n}},{key:"setPopupVisible",value:function(e,t){var n=this.props.alignPoint,r=this.state.popupVisible;this.clearDelayTimer(),r!==e&&("popupVisible"in this.props||this.setState({popupVisible:e,prevPopupVisible:r}),this.props.onPopupVisibleChange(e)),n&&t&&e&&this.setPoint(t)}},{key:"delaySetPopupVisible",value:function(e,t,n){var r=this,a=1e3*t;if(this.clearDelayTimer(),a){var o=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=window.setTimeout((function(){r.setPopupVisible(e,o),r.clearDelayTimer()}),a)}else this.setPopupVisible(e,n)}},{key:"clearDelayTimer",value:function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)}},{key:"clearOutsideHandler",value:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)}},{key:"createTwoChains",value:function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire".concat(e)]:t[e]||n[e]}},{key:"isClickToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isContextMenuOnly",value:function(){var e=this.props.action;return"contextMenu"===e||1===e.length&&"contextMenu"===e[0]}},{key:"isContextMenuToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")}},{key:"isClickToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")}},{key:"isMouseEnterToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")}},{key:"isMouseLeaveToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")}},{key:"isFocusToShow",value:function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")}},{key:"isBlurToHide",value:function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")}},{key:"forcePopupAlign",value:function(){var e;this.state.popupVisible&&(null===(e=this.popupRef.current)||void 0===e||e.forceAlign())}},{key:"fireEvents",value:function(e,t){var n=this.props.children.props[e];n&&n(t);var r=this.props[e];r&&r(t)}},{key:"close",value:function(){this.setPopupVisible(!1)}},{key:"render",value:function(){var t=this.state.popupVisible,r=this.props,a=r.children,o=r.forceRender,i=r.alignPoint,u=r.className,c=r.autoDestroy,l=e.Children.only(a),f={key:"trigger"};this.isContextMenuToShow()?f.onContextMenu=this.onContextMenu:f.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(f.onClick=this.onClick,f.onMouseDown=this.onMouseDown,f.onTouchStart=this.onTouchStart):(f.onClick=this.createTwoChains("onClick"),f.onMouseDown=this.createTwoChains("onMouseDown"),f.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(f.onMouseEnter=this.onMouseEnter,i&&(f.onMouseMove=this.onMouseMove)):f.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?f.onMouseLeave=this.onMouseLeave:f.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(f.onFocus=this.onFocus,f.onBlur=this.onBlur):(f.onFocus=this.createTwoChains("onFocus"),f.onBlur=this.createTwoChains("onBlur"));var p=Fn()(l&&l.props&&l.props.className,u);p&&(f.className=p);var d=s({},f);Ds(l)&&(d.ref=_s(this.triggerRef,l.ref));var h,v=e.cloneElement(l,d);return(t||this.popupRef.current||o)&&(h=e.createElement(n,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),!t&&c&&(h=null),e.createElement(uh.Provider,{value:this.triggerContextValue},v,h)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.popupVisible,r={};return void 0!==n&&t.popupVisible!==n&&(r.popupVisible=n,r.prevPopupVisible=t.popupVisible),r}}]),o}(e.Component);return r.contextType=uh,r.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:lh,getDocument:fh,onPopupVisibleChange:ch,afterPopupVisibleChange:ch,onPopupAlign:ch,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[],autoDestroy:!1},r}(Zp),hh={adjustX:1,adjustY:1},vh=[0,0],mh={left:{points:["cr","cl"],overflow:hh,offset:[-4,0],targetOffset:vh},right:{points:["cl","cr"],overflow:hh,offset:[4,0],targetOffset:vh},top:{points:["bc","tc"],overflow:hh,offset:[0,-4],targetOffset:vh},bottom:{points:["tc","bc"],overflow:hh,offset:[0,4],targetOffset:vh},topLeft:{points:["bl","tl"],overflow:hh,offset:[0,-4],targetOffset:vh},leftTop:{points:["tr","tl"],overflow:hh,offset:[-4,0],targetOffset:vh},topRight:{points:["br","tr"],overflow:hh,offset:[0,-4],targetOffset:vh},rightTop:{points:["tl","tr"],overflow:hh,offset:[4,0],targetOffset:vh},bottomRight:{points:["tr","br"],overflow:hh,offset:[0,4],targetOffset:vh},rightBottom:{points:["bl","br"],overflow:hh,offset:[4,0],targetOffset:vh},bottomLeft:{points:["tl","bl"],overflow:hh,offset:[0,4],targetOffset:vh},leftBottom:{points:["br","bl"],overflow:hh,offset:[-4,0],targetOffset:vh}},gh=function(t){var n=t.overlay,r=t.prefixCls,a=t.id,o=t.overlayInnerStyle;return e.createElement("div",{className:"".concat(r,"-inner"),id:a,role:"tooltip",style:o},"function"===typeof n?n():n)},yh=function(t,n){var r=t.overlayClassName,a=t.trigger,o=void 0===a?["hover"]:a,i=t.mouseEnterDelay,u=void 0===i?0:i,c=t.mouseLeaveDelay,l=void 0===c?.1:c,f=t.overlayStyle,p=t.prefixCls,d=void 0===p?"rc-tooltip":p,h=t.children,v=t.onVisibleChange,m=t.afterVisibleChange,g=t.transitionName,y=t.animation,b=t.motion,w=t.placement,k=void 0===w?"right":w,S=t.align,E=void 0===S?{}:S,C=t.destroyTooltipOnHide,N=void 0!==C&&C,T=t.defaultVisible,I=t.getTooltipContainer,O=t.overlayInnerStyle,_=Pn(t,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","motion","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer","overlayInnerStyle"]),D=(0,e.useRef)(null);(0,e.useImperativeHandle)(n,(function(){return D.current}));var A=s({},_);"visible"in t&&(A.popupVisible=t.visible);var R=!1,P=!1;if("boolean"===typeof N)R=N;else if(N&&"object"===(0,vi.Z)(N)){var M=N.keepParent;R=!0===M,P=!1===M}return e.createElement(dh,x({popupClassName:r,prefixCls:d,popup:function(){var n=t.arrowContent,r=void 0===n?null:n,a=t.overlay,o=t.id;return[e.createElement("div",{className:"".concat(d,"-arrow"),key:"arrow"},r),e.createElement(gh,{key:"content",prefixCls:d,id:o,overlay:a,overlayInnerStyle:O})]},action:o,builtinPlacements:mh,popupPlacement:k,ref:D,popupAlign:E,getPopupContainer:I,onPopupVisibleChange:v,afterPopupVisibleChange:m,popupTransitionName:g,popupAnimation:y,popupMotion:b,defaultPopupVisible:T,destroyPopupOnHide:R,autoDestroy:P,mouseLeaveDelay:l,popupStyle:f,mouseEnterDelay:u},A),h)},bh=(0,e.forwardRef)(yh),xh={adjustX:1,adjustY:1},wh={adjustX:0,adjustY:0},kh=[0,0];function Sh(e){return"boolean"===typeof e?e?xh:wh:x(x({},wh),e)}Ms("success","processing","error","default","warning");var Eh=Ms("pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime"),Ch=function(){return{height:0,opacity:0}},Nh=function(e){return{height:e.scrollHeight,opacity:1}},Th=function(e,t){return!0===(null===t||void 0===t?void 0:t.deadline)||"height"===t.propertyName},Ih={motionName:"ant-motion-collapse",onAppearStart:Ch,onEnterStart:Ch,onAppearActive:Nh,onEnterActive:Nh,onLeaveStart:function(e){return{height:e?e.offsetHeight:0}},onLeaveActive:Ch,onAppearEnd:Th,onEnterEnd:Th,onLeaveEnd:Th,motionDeadline:500},Oh=(Ms("bottomLeft","bottomRight","topLeft","topRight"),function(e){return void 0===e||"topLeft"!==e&&"topRight"!==e?"slide-up":"slide-down"}),_h=function(e,t,n){return void 0!==n?n:"".concat(e,"-").concat(t)},Dh=Ih,Ah=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Rh=new RegExp("^(".concat(Eh.join("|"),")(-inverse)?$"));function Ph(t,n){var r=t.type;if((!0===r.__ANT_BUTTON||"button"===t.type)&&t.props.disabled||!0===r.__ANT_SWITCH&&(t.props.disabled||t.props.loading)){var a=function(e,t){var n={},r=x({},e);return t.forEach((function(t){e&&t in e&&(n[t]=e[t],delete r[t])})),{picked:n,omitted:r}}(t.props.style,["position","left","right","top","bottom","float","display","zIndex"]),o=a.picked,i=a.omitted,s=x(x({display:"inline-block"},o),{cursor:"not-allowed",width:t.props.block?"100%":null}),u=el(t,{style:x(x({},i),{pointerEvents:"none"}),className:null});return e.createElement("span",{style:s,className:Fn()(t.props.className,"".concat(n,"-disabled-compatible-wrapper"))},u)}return t}var Mh=e.forwardRef((function(t,n){var r,i=e.useContext(Js),s=i.getPopupContainer,u=i.getPrefixCls,c=i.direction,l=Si(!1,{value:t.visible,defaultValue:t.defaultVisible}),f=(0,a.Z)(l,2),p=f[0],d=f[1],h=function(){var e=t.title,n=t.overlay;return!e&&!n&&0!==e},v=function(){var e=t.builtinPlacements,n=t.arrowPointAtCenter,r=t.autoAdjustOverflow;return e||function(e){var t=e.arrowWidth,n=void 0===t?4:t,r=e.horizontalArrowShift,a=void 0===r?16:r,o=e.verticalArrowShift,i=void 0===o?8:o,s=e.autoAdjustOverflow,u=e.arrowPointAtCenter,c={left:{points:["cr","cl"],offset:[-4,0]},right:{points:["cl","cr"],offset:[4,0]},top:{points:["bc","tc"],offset:[0,-4]},bottom:{points:["tc","bc"],offset:[0,4]},topLeft:{points:["bl","tc"],offset:[-(a+n),-4]},leftTop:{points:["tr","cl"],offset:[-4,-(i+n)]},topRight:{points:["br","tc"],offset:[a+n,-4]},rightTop:{points:["tl","cr"],offset:[4,-(i+n)]},bottomRight:{points:["tr","bc"],offset:[a+n,4]},rightBottom:{points:["bl","cr"],offset:[4,i+n]},bottomLeft:{points:["tl","bc"],offset:[-(a+n),4]},leftBottom:{points:["br","cl"],offset:[-4,i+n]}};return Object.keys(c).forEach((function(e){c[e]=u?x(x({},c[e]),{overflow:Sh(s),targetOffset:kh}):x(x({},mh[e]),{overflow:Sh(s)}),c[e].ignoreShake=!0})),c}({arrowPointAtCenter:n,autoAdjustOverflow:r})},m=t.getPopupContainer,g=Ah(t,["getPopupContainer"]),y=t.prefixCls,b=t.openClassName,w=t.getTooltipContainer,k=t.overlayClassName,S=t.color,E=t.overlayInnerStyle,C=t.children,N=u("tooltip",y),T=u(),I=p;!("visible"in t)&&h()&&(I=!1);var O,_=Ph(Jc(C)?C:e.createElement("span",null,C),N),D=_.props,A=Fn()(D.className,(0,o.Z)({},b||"".concat(N,"-open"),!0)),R=Fn()(k,(r={},(0,o.Z)(r,"".concat(N,"-rtl"),"rtl"===c),(0,o.Z)(r,"".concat(N,"-").concat(S),S&&Rh.test(S)),r)),P=E;return S&&!Rh.test(S)&&(P=x(x({},E),{background:S}),O={"--antd-arrow-background-color":S}),e.createElement(bh,x({},g,{prefixCls:N,overlayClassName:R,getTooltipContainer:m||w||s,ref:n,builtinPlacements:v(),overlay:function(){var e=t.title,n=t.overlay;return 0===e?e:n||e||""}(),visible:I,onVisibleChange:function(e){var n;d(!h()&&e),h()||null===(n=t.onVisibleChange)||void 0===n||n.call(t,e)},onPopupAlign:function(e,t){var n=v(),r=Object.keys(n).find((function(e){return n[e].points[0]===t.points[0]&&n[e].points[1]===t.points[1]}));if(r){var a=e.getBoundingClientRect(),o={top:"50%",left:"50%"};r.indexOf("top")>=0||r.indexOf("Bottom")>=0?o.top="".concat(a.height-t.offset[1],"px"):(r.indexOf("Top")>=0||r.indexOf("bottom")>=0)&&(o.top="".concat(-t.offset[1],"px")),r.indexOf("left")>=0||r.indexOf("Right")>=0?o.left="".concat(a.width-t.offset[0],"px"):(r.indexOf("right")>=0||r.indexOf("Left")>=0)&&(o.left="".concat(-t.offset[0],"px")),e.style.transformOrigin="".concat(o.left," ").concat(o.top)}},overlayInnerStyle:P,arrowContent:e.createElement("span",{className:"".concat(N,"-arrow-content"),style:O}),motion:{motionName:_h(T,"zoom-big-fast",t.transitionName),motionDeadline:1e3}}),I?el(_,{className:A}):_)}));Mh.displayName="Tooltip",Mh.defaultProps={placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,autoAdjustOverflow:!0};var Fh=Mh,Lh=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};var jh=function(t){var n=t.prefixCls,r=t.label,i=t.htmlFor,s=t.labelCol,u=t.labelAlign,c=t.colon,l=t.required,f=t.requiredMark,p=t.tooltip,d=function(t,n){var r=e.useContext(Ws),a=e.useMemo((function(){var e=n||Us[t||"global"],a=t&&r?r[t]:{};return x(x({},"function"===typeof e?e():e),a||{})}),[t,n,r]);return[a]}("Form"),h=(0,a.Z)(d,1)[0];return r?e.createElement(Tc.Consumer,{key:"label"},(function(t){var a,d,v=t.vertical,m=t.labelAlign,g=t.labelCol,y=t.labelWrap,b=t.colon,w=s||g||{},k=u||m,S="".concat(n,"-item-label"),E=Fn()(S,"left"===k&&"".concat(S,"-left"),w.className,(0,o.Z)({},"".concat(S,"-wrap"),!!y)),C=r,N=!0===c||!1!==b&&!1!==c;N&&!v&&"string"===typeof r&&""!==r.trim()&&(C=r.replace(/[:|\uff1a]\s*$/,""));var T=function(t){return t?"object"!==(0,vi.Z)(t)||e.isValidElement(t)?{title:t}:t:null}(p);if(T){var I=T.icon,O=void 0===I?e.createElement(Dp,null):I,_=Lh(T,["icon"]),D=e.createElement(Fh,_,e.cloneElement(O,{className:"".concat(n,"-item-tooltip"),title:""}));C=e.createElement(e.Fragment,null,C,D)}"optional"!==f||l||(C=e.createElement(e.Fragment,null,C,e.createElement("span",{className:"".concat(n,"-item-optional"),title:""},(null===h||void 0===h?void 0:h.optional)||(null===(d=Bs.Form)||void 0===d?void 0:d.optional))));var A=Fn()((a={},(0,o.Z)(a,"".concat(n,"-item-required"),l),(0,o.Z)(a,"".concat(n,"-item-required-mark-optional"),"optional"===f),(0,o.Z)(a,"".concat(n,"-item-no-colon"),!N),a));return e.createElement(Mp,x({},w,{className:E}),e.createElement("label",{htmlFor:i,className:A,title:"string"===typeof r?r:""},C))})):null},Zh=[];function zh(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return{key:"string"===typeof e?e:"".concat(n,"-").concat(r),error:e,errorStatus:t}}function Bh(t){var n=t.help,a=t.helpStatus,i=t.errors,s=void 0===i?Zh:i,u=t.warnings,c=void 0===u?Zh:u,l=t.className,f=e.useContext(Oc).prefixCls,p=e.useContext(Js).getPrefixCls,d="".concat(f,"-item-explain"),h=p(),v=e.useMemo((function(){return void 0!==n&&null!==n?[zh(n,a,"help")]:[].concat((0,r.Z)(s.map((function(e,t){return zh(e,"error","error",t)}))),(0,r.Z)(c.map((function(e,t){return zh(e,"warning","warning",t)}))))}),[n,a,s,c]);return e.createElement(Hl,x({},Dh,{motionName:"".concat(h,"-show-help"),motionAppear:!1,motionEnter:!1,visible:!!v.length,onLeaveStart:function(e){return e.style.height="auto",{height:e.offsetHeight}}}),(function(t){var n=t.className,r=t.style;return e.createElement("div",{className:Fn()(d,n,l),style:r},e.createElement(Vl,x({keys:v},Dh,{motionName:"".concat(h,"-show-help-item"),component:!1}),(function(t){var n=t.key,r=t.error,a=t.errorStatus,i=t.className,s=t.style;return e.createElement("div",{key:n,role:"alert",className:Fn()(i,(0,o.Z)({},"".concat(d,"-").concat(a),a)),style:s},r)})))}))}var Uh=function(t){var n=t.prefixCls,r=t.status,a=t.wrapperCol,o=t.children,i=t.errors,s=t.warnings,u=t._internalItemRender,c=t.extra,l=t.help,f="".concat(n,"-item"),p=e.useContext(Tc),d=a||p.wrapperCol||{},h=Fn()("".concat(f,"-control"),d.className),v=e.useMemo((function(){return x({},p)}),[p]);delete v.labelCol,delete v.wrapperCol;var m=e.createElement("div",{className:"".concat(f,"-control-input")},e.createElement("div",{className:"".concat(f,"-control-input-content")},o)),g=e.useMemo((function(){return{prefixCls:n,status:r}}),[n,r]),y=e.createElement(Oc.Provider,{value:g},e.createElement(Bh,{errors:i,warnings:s,help:l,helpStatus:r,className:"".concat(f,"-explain-connected")})),b=c?e.createElement("div",{className:"".concat(f,"-extra")},c):null,w=u&&"pro_table_render"===u.mark&&u.render?u.render(t,{input:m,errorList:y,extra:b}):e.createElement(e.Fragment,null,m,y,b);return e.createElement(Tc.Provider,{value:v},e.createElement(Mp,x({},d,{className:h}),w))};function Wh(t){var n=e.useState(t),r=(0,a.Z)(n,2),o=r[0],i=r[1];return e.useEffect((function(){var e=setTimeout((function(){i(t)}),t.length?0:10);return function(){clearTimeout(e)}}),[t]),o}var Vh=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Hh=(Ms("success","warning","error","validating",""),e.memo((function(e){return e.children}),(function(e,t){return e.value===t.value&&e.update===t.update})));var Gh={success:dp,warning:gp,error:Ns,validating:Xl};var qh=function(t){var n=t.name,i=t.noStyle,s=t.dependencies,u=t.prefixCls,c=t.style,l=t.className,f=t.shouldUpdate,p=t.hasFeedback,d=t.help,h=t.rules,v=t.validateStatus,m=t.children,g=t.required,y=t.label,b=t.messageVariables,w=t.trigger,k=void 0===w?"onChange":w,S=t.validateTrigger,E=t.hidden,C=Vh(t,["name","noStyle","dependencies","prefixCls","style","className","shouldUpdate","hasFeedback","help","rules","validateStatus","children","required","label","messageVariables","trigger","validateTrigger","hidden"]),N=(0,e.useContext)(Js).getPrefixCls,T=(0,e.useContext)(Tc),I=T.name,O=T.requiredMark,_="function"===typeof m,D=(0,e.useContext)(Ic),A=(0,e.useContext)(ou).validateTrigger,R=void 0!==S?S:A,P=function(e){return!(void 0===e||null===e)}(n),M=N("form",u),F=e.useContext(cc),L=e.useRef(),j=function(t){var n=e.useState(t),r=(0,a.Z)(n,2),o=r[0],i=r[1],s=(0,e.useRef)(null),u=(0,e.useRef)([]),c=(0,e.useRef)(!1);return e.useEffect((function(){return c.current=!1,function(){c.current=!0,Xc.cancel(s.current),s.current=null}}),[]),[o,function(e){c.current||(null===s.current&&(u.current=[],s.current=Xc((function(){s.current=null,i((function(e){var t=e;return u.current.forEach((function(e){t=e(t)})),t}))}))),u.current.push(e))}]}({}),Z=(0,a.Z)(j,2),z=Z[0],B=Z[1],U=ki((function(){return{errors:[],warnings:[],touched:!1,validating:!1,name:[]}})),W=(0,a.Z)(U,2),V=W[0],H=W[1],G=function(e,t){B((function(n){var a=x({},n),o=[].concat((0,r.Z)(e.name.slice(0,-1)),(0,r.Z)(t)).join("__SPLIT__");return e.destroy?delete a[o]:a[o]=e,a}))},q=e.useMemo((function(){var e=(0,r.Z)(V.errors),t=(0,r.Z)(V.warnings);return Object.values(z).forEach((function(n){e.push.apply(e,(0,r.Z)(n.errors||[])),t.push.apply(t,(0,r.Z)(n.warnings||[]))})),[e,t]}),[z,V.errors,V.warnings]),X=(0,a.Z)(q,2),K=X[0],Y=X[1],Q=Wh(K),$=Wh(Y),J=function(){var t=e.useContext(Tc).itemRef,n=e.useRef({});return function(e,r){var a=r&&"object"===(0,vi.Z)(r)&&r.ref,o=e.join("_");return n.current.name===o&&n.current.originRef===a||(n.current.name=o,n.current.originRef=a,n.current.ref=_s(t(e),a)),n.current.ref}}(),ee="";void 0!==v?ee=v:(null===V||void 0===V?void 0:V.validating)?ee="validating":Q.length?ee="error":$.length?ee="warning":(null===V||void 0===V?void 0:V.touched)&&(ee="success");var te=(0,e.useMemo)((function(){var t;if(p){var n=ee&&Gh[ee];t=n?e.createElement("span",{className:Fn()("".concat(M,"-item-feedback-icon"),"".concat(M,"-item-feedback-icon-").concat(ee))},e.createElement(n,null)):null}return{status:ee,hasFeedback:p,feedbackIcon:t,isFormItemInput:!0}}),[ee,p]);function ne(n,r,a){var s;if(i&&!E)return n;var u=(s={},(0,o.Z)(s,"".concat(M,"-item"),!0),(0,o.Z)(s,"".concat(M,"-item-with-help"),void 0!==d&&null!==d||Q.length||$.length),(0,o.Z)(s,"".concat(l),!!l),(0,o.Z)(s,"".concat(M,"-item-has-feedback"),ee&&p),(0,o.Z)(s,"".concat(M,"-item-has-success"),"success"===ee),(0,o.Z)(s,"".concat(M,"-item-has-warning"),"warning"===ee),(0,o.Z)(s,"".concat(M,"-item-has-error"),"error"===ee),(0,o.Z)(s,"".concat(M,"-item-is-validating"),"validating"===ee),(0,o.Z)(s,"".concat(M,"-item-hidden"),E),s);return e.createElement(Ip,x({className:Fn()(u),style:c,key:"row"},wi(C,["colon","extra","fieldKey","requiredMark","getValueFromEvent","getValueProps","htmlFor","id","initialValue","isListField","labelAlign","labelWrap","labelCol","normalize","preserve","tooltip","validateFirst","valuePropName","wrapperCol","_internalItemRender"])),e.createElement(jh,x({htmlFor:r,required:a,requiredMark:O},t,{prefixCls:M})),e.createElement(Uh,x({},t,V,{errors:Q,warnings:$,prefixCls:M,status:ee,help:d}),e.createElement(Ic.Provider,{value:G},e.createElement(_c.Provider,{value:te},n))))}if(!P&&!_&&!s)return ne(m);var re={};return"string"===typeof y?re.label=y:n&&(re.label=String(n)),b&&(re=x(x({},re),b)),e.createElement(uc,x({},t,{messageVariables:re,trigger:k,validateTrigger:R,onMetaChange:function(e){var t=null===F||void 0===F?void 0:F.getKey(e.name);if(H(e.destroy?{errors:[],warnings:[],touched:!1,validating:!1,name:[]}:e,!0),i&&D){var n=e.name;if(e.destroy)n=L.current||n;else if(void 0!==t){var o=(0,a.Z)(t,2),s=o[0],u=o[1];n=[s].concat((0,r.Z)(u)),L.current=n}D(e,n)}}}),(function(a,o,i){var u=ap(n).length&&o?o.name:[],c=op(u,I),l=void 0!==g?g:!(!h||!h.some((function(e){if(e&&"object"===(0,vi.Z)(e)&&e.required&&!e.warningOnly)return!0;if("function"===typeof e){var t=e(i);return t&&t.required&&!t.warningOnly}return!1}))),p=x({},a),d=null;if(Array.isArray(m)&&P)d=m;else if(_&&(!f&&!s||P));else if(!s||_||P)if(Jc(m)){var v=x(x({},m.props),p);v.id||(v.id=c),Ds(m)&&(v.ref=J(u,m)),new Set([].concat((0,r.Z)(ap(k)),(0,r.Z)(ap(R)))).forEach((function(e){v[e]=function(){for(var t,n,r,a,o,i=arguments.length,s=new Array(i),u=0;u<i;u++)s[u]=arguments[u];null===(r=p[e])||void 0===r||(t=r).call.apply(t,[p].concat(s)),null===(o=(a=m.props)[e])||void 0===o||(n=o).call.apply(n,[a].concat(s))}})),d=e.createElement(Hh,{value:p[t.valuePropName||"value"],update:m},el(m,v))}else d=_&&(f||s)&&!P?m(i):m;else;return ne(d,c,l)}))},Xh=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Kh=function(t){var n=t.prefixCls,r=t.children,a=Xh(t,["prefixCls","children"]),o=(0,e.useContext(Js).getPrefixCls)("form",n),i=e.useMemo((function(){return{prefixCls:o,status:"error"}}),[o]);return e.createElement(lc,a,(function(t,n,a){return e.createElement(Oc.Provider,{value:i},r(t.map((function(e){return x(x({},e),{fieldKey:e.key})})),n,{errors:a.errors,warnings:a.warnings}))}))};var Yh=lp;Yh.Item=qh,Yh.List=Kh,Yh.ErrorList=Bh,Yh.useForm=sp,Yh.useFormInstance=function(){return(0,e.useContext)(Tc).form},Yh.useWatch=Ec,Yh.Provider=function(t){var n=wi(t,["prefixCls"]);return e.createElement(bc,n)},Yh.create=function(){};var Qh=Yh;function $h(e,t,n,r){return new(n||(n=Promise))((function(a,o){function i(e){try{u(r.next(e))}catch(Qf){o(Qf)}}function s(e){try{u(r.throw(e))}catch(Qf){o(Qf)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,s)}u((r=r.apply(e,t||[])).next())}))}function Jh(e,t){var n,r,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(Qf){o=[6,Qf],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function ev(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(s){a={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i}Object.create;var tv=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function nv(e,t){var n=function(e){var t=e.name;if(t&&-1!==t.lastIndexOf(".")&&!e.type){var n=t.split(".").pop().toLowerCase(),r=tv.get(n);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}(e);if("string"!==typeof n.path){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:"string"===typeof t?t:"string"===typeof r&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}var rv=[".DS_Store","Thumbs.db"];function av(e){return"object"===typeof e&&null!==e}function ov(e){return cv(e.target.files).map((function(e){return nv(e)}))}function iv(e){return $h(this,void 0,void 0,(function(){return Jh(this,(function(t){switch(t.label){case 0:return[4,Promise.all(e.map((function(e){return e.getFile()})))];case 1:return[2,t.sent().map((function(e){return nv(e)}))]}}))}))}function sv(e,t){return $h(this,void 0,void 0,(function(){var n;return Jh(this,(function(r){switch(r.label){case 0:return null===e?[2,[]]:e.items?(n=cv(e.items).filter((function(e){return"file"===e.kind})),"drop"!==t?[2,n]:[4,Promise.all(n.map(lv))]):[3,2];case 1:return[2,uv(fv(r.sent()))];case 2:return[2,uv(cv(e.files).map((function(e){return nv(e)})))]}}))}))}function uv(e){return e.filter((function(e){return-1===rv.indexOf(e.name)}))}function cv(e){if(null===e)return[];for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function lv(e){if("function"!==typeof e.webkitGetAsEntry)return pv(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?hv(t):pv(e)}function fv(e){return e.reduce((function(e,t){return function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ev(arguments[t]));return e}(e,Array.isArray(t)?fv(t):[t])}),[])}function pv(e){var t=e.getAsFile();if(!t)return Promise.reject(e+" is not a File");var n=nv(t);return Promise.resolve(n)}function dv(e){return $h(this,void 0,void 0,(function(){return Jh(this,(function(t){return[2,e.isDirectory?hv(e):vv(e)]}))}))}function hv(e){var t=e.createReader();return new Promise((function(e,n){var r=[];!function a(){var o=this;t.readEntries((function(t){return $h(o,void 0,void 0,(function(){var o,i,s;return Jh(this,(function(u){switch(u.label){case 0:if(t.length)return[3,5];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return o=u.sent(),e(o),[3,4];case 3:return i=u.sent(),n(i),[3,4];case 4:return[3,6];case 5:s=Promise.all(t.map(dv)),r.push(s),a(),u.label=6;case 6:return[2]}}))}))}),(function(e){n(e)}))}()}))}function vv(e){return $h(this,void 0,void 0,(function(){return Jh(this,(function(t){return[2,new Promise((function(t,n){e.file((function(n){var r=nv(n,e.fullPath);t(r)}),(function(e){n(e)}))}))]}))}))}var mv=n(9998);function gv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gv(Object(n),!0).forEach((function(t){bv(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bv(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(u){s=!0,a=u}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return wv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wv(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wv(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var kv="file-invalid-type",Sv="file-too-large",Ev="file-too-small",Cv="too-many-files",Nv=function(e){e=Array.isArray(e)&&1===e.length?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:kv,message:"File type must be ".concat(t)}},Tv=function(e){return{code:Sv,message:"File is larger than ".concat(e," ").concat(1===e?"byte":"bytes")}},Iv=function(e){return{code:Ev,message:"File is smaller than ".concat(e," ").concat(1===e?"byte":"bytes")}},Ov={code:Cv,message:"Too many files"};function _v(e,t){var n="application/x-moz-file"===e.type||(0,mv.Z)(e,t);return[n,n?null:Nv(t)]}function Dv(e,t,n){if(Av(e.size))if(Av(t)&&Av(n)){if(e.size>n)return[!1,Tv(n)];if(e.size<t)return[!1,Iv(t)]}else{if(Av(t)&&e.size<t)return[!1,Iv(t)];if(Av(n)&&e.size>n)return[!1,Tv(n)]}return[!0,null]}function Av(e){return void 0!==e&&null!==e}function Rv(e){var t=e.files,n=e.accept,r=e.minSize,a=e.maxSize,o=e.multiple,i=e.maxFiles;return!(!o&&t.length>1||o&&i>=1&&t.length>i)&&t.every((function(e){var t=xv(_v(e,n),1)[0],o=xv(Dv(e,r,a),1)[0];return t&&o}))}function Pv(e){return"function"===typeof e.isPropagationStopped?e.isPropagationStopped():"undefined"!==typeof e.cancelBubble&&e.cancelBubble}function Mv(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e})):!!e.target&&!!e.target.files}function Fv(e){e.preventDefault()}function Lv(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}function jv(e){return-1!==e.indexOf("Edge/")}function Zv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return Lv(e)||jv(e)}function zv(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return t.some((function(t){return!Pv(e)&&t&&t.apply(void 0,[e].concat(r)),Pv(e)}))}}function Bv(){return"showOpenFilePicker"in window}function Uv(e){return e="string"===typeof e?e.split(","):e,[{description:"everything",accept:Array.isArray(e)?e.filter((function(e){return"audio/*"===e||"video/*"===e||"image/*"===e||"text/*"===e||/\w+\/[-+.\w]+/g.test(e)})).reduce((function(e,t){return yv(yv({},e),{},bv({},t,[]))}),{}):{}}]}function Wv(e){return e instanceof DOMException&&("AbortError"===e.name||e.code===e.ABORT_ERR)}function Vv(e){return e instanceof DOMException&&("SecurityError"===e.name||e.code===e.SECURITY_ERR)}var Hv=["children"],Gv=["open"],qv=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],Xv=["refKey","onChange","onClick"];function Kv(e){return function(e){if(Array.isArray(e))return $v(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Qv(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yv(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(u){s=!0,a=u}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}(e,t)||Qv(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qv(e,t){if(e){if("string"===typeof e)return $v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$v(e,t):void 0}}function $v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function em(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jv(Object(n),!0).forEach((function(t){tm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nm(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var rm=(0,e.forwardRef)((function(t,n){var r=t.children,a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=em(em({},am),t),r=n.accept,a=n.disabled,o=n.getFilesFromEvent,i=n.maxSize,s=n.minSize,u=n.multiple,c=n.maxFiles,l=n.onDragEnter,f=n.onDragLeave,p=n.onDragOver,d=n.onDrop,h=n.onDropAccepted,v=n.onDropRejected,m=n.onFileDialogCancel,g=n.onFileDialogOpen,y=n.useFsAccessApi,b=n.preventDropOnDocument,x=n.noClick,w=n.noKeyboard,k=n.noDrag,S=n.noDragEventsBubbling,E=n.validator,C=(0,e.useMemo)((function(){return"function"===typeof g?g:um}),[g]),N=(0,e.useMemo)((function(){return"function"===typeof m?m:um}),[m]),T=(0,e.useRef)(null),I=(0,e.useRef)(null),O=Yv((0,e.useReducer)(sm,im),2),_=O[0],D=O[1],A=_.isFocused,R=_.isFileDialogActive,P=_.draggedFiles,M=(0,e.useRef)("undefined"!==typeof window&&window.isSecureContext&&y&&Bv()),F=function(){!M.current&&R&&setTimeout((function(){I.current&&(I.current.files.length||(D({type:"closeDialog"}),N()))}),300)};(0,e.useEffect)((function(){return window.addEventListener("focus",F,!1),function(){window.removeEventListener("focus",F,!1)}}),[I,R,N,M]);var L=(0,e.useRef)([]),j=function(e){T.current&&T.current.contains(e.target)||(e.preventDefault(),L.current=[])};(0,e.useEffect)((function(){return b&&(document.addEventListener("dragover",Fv,!1),document.addEventListener("drop",j,!1)),function(){b&&(document.removeEventListener("dragover",Fv),document.removeEventListener("drop",j))}}),[T,b]);var Z=(0,e.useCallback)((function(e){e.preventDefault(),e.persist(),$(e),L.current=[].concat(Kv(L.current),[e.target]),Mv(e)&&Promise.resolve(o(e)).then((function(t){Pv(e)&&!S||(D({draggedFiles:t,isDragActive:!0,type:"setDraggedFiles"}),l&&l(e))}))}),[o,l,S]),z=(0,e.useCallback)((function(e){e.preventDefault(),e.persist(),$(e);var t=Mv(e);if(t&&e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(n){}return t&&p&&p(e),!1}),[p,S]),B=(0,e.useCallback)((function(e){e.preventDefault(),e.persist(),$(e);var t=L.current.filter((function(e){return T.current&&T.current.contains(e)})),n=t.indexOf(e.target);-1!==n&&t.splice(n,1),L.current=t,t.length>0||(D({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),Mv(e)&&f&&f(e))}),[T,f,S]),U=(0,e.useCallback)((function(e,t){var n=[],a=[];e.forEach((function(e){var t=Yv(_v(e,r),2),o=t[0],u=t[1],c=Yv(Dv(e,s,i),2),l=c[0],f=c[1],p=E?E(e):null;if(o&&l&&!p)n.push(e);else{var d=[u,f];p&&(d=d.concat(p)),a.push({file:e,errors:d.filter((function(e){return e}))})}})),(!u&&n.length>1||u&&c>=1&&n.length>c)&&(n.forEach((function(e){a.push({file:e,errors:[Ov]})})),n.splice(0)),D({acceptedFiles:n,fileRejections:a,type:"setFiles"}),d&&d(n,a,t),a.length>0&&v&&v(a,t),n.length>0&&h&&h(n,t)}),[D,u,r,s,i,c,d,h,v,E]),W=(0,e.useCallback)((function(e){e.preventDefault(),e.persist(),$(e),L.current=[],Mv(e)&&Promise.resolve(o(e)).then((function(t){Pv(e)&&!S||U(t,e)})),D({type:"reset"})}),[o,U,S]),V=(0,e.useCallback)((function(){if(M.current){D({type:"openDialog"}),C();var e={multiple:u,types:Uv(r)};window.showOpenFilePicker(e).then((function(e){return o(e)})).then((function(e){U(e,null),D({type:"closeDialog"})})).catch((function(e){Wv(e)?(N(e),D({type:"closeDialog"})):Vv(e)&&(M.current=!1,I.current&&(I.current.value=null,I.current.click()))}))}else I.current&&(D({type:"openDialog"}),C(),I.current.value=null,I.current.click())}),[D,C,N,y,U,r,u]),H=(0,e.useCallback)((function(e){T.current&&T.current.isEqualNode(e.target)&&(" "!==e.key&&"Enter"!==e.key&&32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),V()))}),[T,V]),G=(0,e.useCallback)((function(){D({type:"focus"})}),[]),q=(0,e.useCallback)((function(){D({type:"blur"})}),[]),X=(0,e.useCallback)((function(){x||(Zv()?setTimeout(V,0):V())}),[x,V]),K=function(e){return a?null:e},Y=function(e){return w?null:K(e)},Q=function(e){return k?null:K(e)},$=function(e){S&&e.stopPropagation()},J=(0,e.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,r=e.role,o=e.onKeyDown,i=e.onFocus,s=e.onBlur,u=e.onClick,c=e.onDragEnter,l=e.onDragOver,f=e.onDragLeave,p=e.onDrop,d=nm(e,qv);return em(em(tm({onKeyDown:Y(zv(o,H)),onFocus:Y(zv(i,G)),onBlur:Y(zv(s,q)),onClick:K(zv(u,X)),onDragEnter:Q(zv(c,Z)),onDragOver:Q(zv(l,z)),onDragLeave:Q(zv(f,B)),onDrop:Q(zv(p,W)),role:"string"===typeof r&&""!==r?r:"button"},n,T),a||w?{}:{tabIndex:0}),d)}}),[T,H,G,q,X,Z,z,B,W,w,k,a]),ee=(0,e.useCallback)((function(e){e.stopPropagation()}),[]),te=(0,e.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,a=e.onChange,o=e.onClick,i=nm(e,Xv);return em(em({},tm({accept:r,multiple:u,type:"file",style:{display:"none"},onChange:K(zv(a,W)),onClick:K(zv(o,ee)),tabIndex:-1},n,I)),i)}}),[I,r,u,W,a]),ne=P.length,re=ne>0&&Rv({files:P,accept:r,minSize:s,maxSize:i,multiple:u,maxFiles:c}),ae=ne>0&&!re;return em(em({},_),{},{isDragAccept:re,isDragReject:ae,isFocused:A&&!a,getRootProps:J,getInputProps:te,rootRef:T,inputRef:I,open:K(V)})}(nm(t,Hv)),o=a.open,i=nm(a,Gv);return(0,e.useImperativeHandle)(n,(function(){return{open:o}}),[o]),e.createElement(e.Fragment,null,r(em(em({},i),{},{open:o})))}));rm.displayName="Dropzone";var am={disabled:!1,getFilesFromEvent:function(e){return $h(this,void 0,void 0,(function(){return Jh(this,(function(t){return av(e)&&av(e.dataTransfer)?[2,sv(e.dataTransfer,e.type)]:function(e){return av(e)&&av(e.target)}(e)?[2,ov(e)]:Array.isArray(e)&&e.every((function(e){return"getFile"in e&&"function"===typeof e.getFile}))?[2,iv(e)]:[2,[]]}))}))},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};rm.defaultProps=am,rm.propTypes={children:$t().func,accept:$t().oneOfType([$t().string,$t().arrayOf($t().string)]),multiple:$t().bool,preventDropOnDocument:$t().bool,noClick:$t().bool,noKeyboard:$t().bool,noDrag:$t().bool,noDragEventsBubbling:$t().bool,minSize:$t().number,maxSize:$t().number,maxFiles:$t().number,disabled:$t().bool,getFilesFromEvent:$t().func,onFileDialogCancel:$t().func,onFileDialogOpen:$t().func,useFsAccessApi:$t().bool,onDragEnter:$t().func,onDragLeave:$t().func,onDragOver:$t().func,onDrop:$t().func,onDropAccepted:$t().func,onDropRejected:$t().func,validator:$t().func};var om=rm,im={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function sm(e,t){switch(t.type){case"focus":return em(em({},e),{},{isFocused:!0});case"blur":return em(em({},e),{},{isFocused:!1});case"openDialog":return em(em({},im),{},{isFileDialogActive:!0});case"closeDialog":return em(em({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":var n=t.isDragActive,r=t.draggedFiles;return em(em({},e),{},{draggedFiles:r,isDragActive:n});case"setFiles":return em(em({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return em({},im);default:return e}}function um(){}var cm=function(t){var n=(0,e.useState)([]),o=(0,a.Z)(n,2),i=o[0],u=o[1];return(0,Je.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,Je.jsx)(om,{onDrop:function(e){var n=new FormData;n.append("file",e[0]),p().post("/api/product/image",n,{header:{"content-type":"multipart/form-data"}}).then((function(e){e.data.success?(u([].concat((0,r.Z)(i),[e.data.filePath])),t.refreshFunction([].concat((0,r.Z)(i),[e.data.filePath]))):alert("\ud30c\uc77c \uc800\uc7a5 \uc2e4\ud328")}))},children:function(e){var t=e.getRootProps,n=e.getInputProps;return(0,Je.jsxs)("div",s(s({style:{width:300,height:240,border:"1px solid lightgray",display:"flex",alignSelf:"center",justifyContent:"center"}},t()),{},{children:[(0,Je.jsx)("input",s({},n())),(0,Je.jsx)("p",{children:"Drag 'n' drop some files here, or click to select files"})]}))}}),(0,Je.jsx)("div",{style:{display:"flex",width:"350px",height:"240px",overflowX:"scroll"},children:i.map((function(e,n){return(0,Je.jsx)("div",{onClick:function(){return function(e){var n=i.indexOf(e),a=(0,r.Z)(i);a.splice(n,1),u(a),t.refreshFunction(a)}(e)},children:(0,Je.jsx)("img",{style:{width:"300px",height:"300px"},src:"http://localhost:5000/".concat(e)})},n)}))})]})};Kf.TextArea;var lm=wn($((function(e){return{navTG:e.reducer1}}))((function(t){(0,e.useEffect)((function(){t.dispatch({type:"nav-on"})}),[t.navTG]);var n=(0,e.useState)(""),r=(0,a.Z)(n,2),o=r[0],i=r[1],s=(0,e.useState)([]),u=(0,a.Z)(s,2),c=u[0],l=u[1],f=(0,e.useState)(0),d=(0,a.Z)(f,2),h=d[0],v=d[1],m=(0,e.useState)("\ub9bd\uc2a4\ud2f1"),g=(0,a.Z)(m,2),y=g[0],b=g[1],x=(0,e.useState)("\ubd04\uc6dc"),w=(0,a.Z)(x,2),k=w[0],S=w[1],E=(0,e.useState)([]),C=(0,a.Z)(E,2),N=C[0],T=C[1],I=(0,e.useState)(""),O=(0,a.Z)(I,2),_=O[0],D=O[1];return(0,Je.jsxs)("div",{className:"upload-wrap",children:[(0,Je.jsx)("div",{children:(0,Je.jsx)("h2",{children:" \uc81c\ud488 \uc5c5\ub85c\ub4dc "})}),(0,Je.jsxs)(Qh,{className:"upload-form",onSubmitCapture:function(e){if(e.preventDefault(),!o||!c||!h||!y||!k||!N||!_)return alert("\ubaa8\ub4e0 \uac12\uc744 \ub123\uc5b4\uc8fc\uc138\uc694.");var n={title:o,description:c,price:h,category:y,tone:k,images:N,color:_};p().post("/api/product",n).then((function(e){e.data.success?(t.history.push("/product/upload"),alert("\uc0c1\ud488\uc744 \uc5c5\ub85c\ub4dc \ud588\uc2b5\ub2c8\ub2e4.")):alert("\uc0c1\ud488 \uc5c5\ub85c\ub4dc \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}))},children:[(0,Je.jsx)(cm,{refreshFunction:function(e){T(e)}}),(0,Je.jsx)("label",{children:"\uc774\ub984"}),(0,Je.jsx)(Kf,{onChange:function(e){i(e.currentTarget.value)},value:o}),(0,Je.jsx)("label",{children:"\uc124\uba85"}),(0,Je.jsx)(cm,{refreshFunction:function(e){l(e)}}),(0,Je.jsx)("label",{children:"\uac00\uaca9"}),(0,Je.jsx)(Kf,{onChange:function(e){v(e.currentTarget.value)},value:h}),(0,Je.jsx)("label",{children:"\uc0c9\uc815\ubcf4"}),(0,Je.jsx)(Kf,{placeholder:"#123456",onChange:function(e){D(e.currentTarget.value)},value:_}),(0,Je.jsxs)("div",{className:"upload-bottom",children:[(0,Je.jsx)("label",{children:"\uce74\ud14c\uace0\ub9ac"}),(0,Je.jsxs)("select",{className:"upload-select",onChange:function(e){b(e.currentTarget.value)},value:y,children:[(0,Je.jsx)("option",{value:"\ub9bd\uc2a4\ud2f1",children:"\ub9bd\uc2a4\ud2f1"},"1"),(0,Je.jsx)("option",{value:"\ub9ac\ud034\ub4dc",children:"\ub9ac\ud034\ub4dc"},"2"),(0,Je.jsx)("option",{value:"\ub9bd\uae00\ub85c\uc2a4",children:"\ub9bd\uae00\ub85c\uc2a4"},"3"),(0,Je.jsx)("option",{value:"\ub9bd\ucf00\uc5b4",children:"\ub9bd\ucf00\uc5b4"},"4")]}),(0,Je.jsx)("label",{children:"\ud1a4"}),(0,Je.jsxs)("select",{className:"upload-select",onChange:function(e){S(e.currentTarget.value)},value:k,children:[(0,Je.jsx)("option",{value:"\ubd04\uc6dc",children:"\ubd04\uc6dc"},"1"),(0,Je.jsx)("option",{value:"\uc5ec\ub984\ucfe8",children:"\uc5ec\ub984\ucfe8"},"2"),(0,Je.jsx)("option",{value:"\uac00\uc744\uc6dc",children:"\uac00\uc744\uc6dc"},"3"),(0,Je.jsx)("option",{value:"\uaca8\uc6b8\ucfe8",children:"\uaca8\uc6b8\ucfe8"},"4")]}),(0,Je.jsx)(of,{className:"upload-btn",htmlType:"submit",children:"\ud655\uc778"})]})]})]})})));function fm(t){var n,r=t.prefixCls,a=t.value,o=t.current,i=t.offset,s=void 0===i?0:i;return s&&(n={position:"absolute",top:"".concat(s,"00%"),left:0}),e.createElement("span",{style:n,className:Fn()("".concat(r,"-only-unit"),{current:o})},a)}function pm(e,t,n){for(var r=e,a=0;(r+10)%10!==t;)r+=n,a+=n;return a}function dm(t){var n,r,o=t.prefixCls,i=t.count,s=t.value,u=Number(s),c=Math.abs(i),l=e.useState(u),f=(0,a.Z)(l,2),p=f[0],d=f[1],h=e.useState(c),v=(0,a.Z)(h,2),m=v[0],g=v[1],y=function(){d(u),g(c)};if(e.useEffect((function(){var e=setTimeout((function(){y()}),1e3);return function(){clearTimeout(e)}}),[u]),p===u||Number.isNaN(u)||Number.isNaN(p))n=[e.createElement(fm,x({},t,{key:u,current:!0}))],r={transition:"none"};else{n=[];for(var b=u+10,w=[],k=u;k<=b;k+=1)w.push(k);var S=w.findIndex((function(e){return e%10===p}));n=w.map((function(n,r){var a=n%10;return e.createElement(fm,x({},t,{key:n,value:a,offset:r-S,current:r===S}))})),r={transform:"translateY(".concat(-pm(p,u,m<c?1:-1),"00%)")}}return e.createElement("span",{className:"".concat(o,"-only"),style:r,onTransitionEnd:y},n)}var hm=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},vm=function(t){var n=t.prefixCls,r=t.count,a=t.className,o=t.motionClassName,i=t.style,s=t.title,u=t.show,c=t.component,l=void 0===c?"sup":c,f=t.children,p=hm(t,["prefixCls","count","className","motionClassName","style","title","show","component","children"]),d=(0,e.useContext(Js).getPrefixCls)("scroll-number",n),h=x(x({},p),{"data-show":u,style:i,className:Fn()(d,a,o),title:s}),v=r;if(r&&Number(r)%1===0){var m=String(r).split("");v=m.map((function(t,n){return e.createElement(dm,{prefixCls:d,count:Number(r),value:t,key:m.length-n})}))}return i&&i.borderColor&&(h.style=x(x({},i),{boxShadow:"0 0 0 1px ".concat(i.borderColor," inset")})),f?el(f,(function(e){return{className:Fn()("".concat(d,"-custom-component"),null===e||void 0===e?void 0:e.className,o)}})):e.createElement(l,h,v)};function mm(e){return-1!==Eh.indexOf(e)}var gm=function(t){var n,r=t.className,a=t.prefixCls,i=t.style,s=t.color,u=t.children,c=t.text,l=t.placement,f=void 0===l?"end":l,p=e.useContext(Js),d=p.getPrefixCls,h=p.direction,v=d("ribbon",a),m=mm(s),g=Fn()(v,"".concat(v,"-placement-").concat(f),(n={},(0,o.Z)(n,"".concat(v,"-rtl"),"rtl"===h),(0,o.Z)(n,"".concat(v,"-color-").concat(s),m),n),r),y={},b={};return s&&!m&&(y.background=s,b.color=s),e.createElement("div",{className:"".concat(v,"-wrapper")},u,e.createElement("div",{className:g,style:x(x({},y),i)},e.createElement("span",{className:"".concat(v,"-text")},c),e.createElement("div",{className:"".concat(v,"-corner"),style:b})))},ym=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},bm=function(t){var n,r,a=t.prefixCls,i=t.scrollNumberPrefixCls,s=t.children,u=t.status,c=t.text,l=t.color,f=t.count,p=void 0===f?null:f,d=t.overflowCount,h=void 0===d?99:d,v=t.dot,m=void 0!==v&&v,g=t.size,y=void 0===g?"default":g,b=t.title,w=t.offset,k=t.style,S=t.className,E=t.showZero,C=void 0!==E&&E,N=ym(t,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","showZero"]),T=e.useContext(Js),I=T.getPrefixCls,O=T.direction,_=I("badge",a),D=p>h?"".concat(h,"+"):p,A=null!==u&&void 0!==u||null!==l&&void 0!==l,R="0"===D||0===D,P=m&&!R,M=P?"":D,F=(0,e.useMemo)((function(){return(null===M||void 0===M||""===M||R&&!C)&&!P}),[M,R,C,P]),L=(0,e.useRef)(p);F||(L.current=p);var j=L.current,Z=(0,e.useRef)(M);F||(Z.current=M);var z=Z.current,B=(0,e.useRef)(P);F||(B.current=P);var U=(0,e.useMemo)((function(){if(!w)return x({},k);var e={marginTop:w[1]};return"rtl"===O?e.left=parseInt(w[0],10):e.right=-parseInt(w[0],10),x(x({},e),k)}),[O,w,k]),W=null!==b&&void 0!==b?b:"string"===typeof j||"number"===typeof j?j:void 0,V=F||!c?null:e.createElement("span",{className:"".concat(_,"-status-text")},c),H=j&&"object"===(0,vi.Z)(j)?el(j,(function(e){return{style:x(x({},U),e.style)}})):void 0,G=Fn()((n={},(0,o.Z)(n,"".concat(_,"-status-dot"),A),(0,o.Z)(n,"".concat(_,"-status-").concat(u),!!u),(0,o.Z)(n,"".concat(_,"-status-").concat(l),mm(l)),n)),q={};l&&!mm(l)&&(q.background=l);var X=Fn()(_,(r={},(0,o.Z)(r,"".concat(_,"-status"),A),(0,o.Z)(r,"".concat(_,"-not-a-wrapper"),!s),(0,o.Z)(r,"".concat(_,"-rtl"),"rtl"===O),r),S);if(!s&&A){var K=U.color;return e.createElement("span",x({},N,{className:X,style:U}),e.createElement("span",{className:G,style:q}),e.createElement("span",{style:{color:K},className:"".concat(_,"-status-text")},c))}return e.createElement("span",x({},N,{className:X}),s,e.createElement(Hl,{visible:!F,motionName:"".concat(_,"-zoom"),motionAppear:!1,motionDeadline:1e3},(function(t){var n,r=t.className,a=I("scroll-number",i),s=B.current,c=Fn()((n={},(0,o.Z)(n,"".concat(_,"-dot"),s),(0,o.Z)(n,"".concat(_,"-count"),!s),(0,o.Z)(n,"".concat(_,"-count-sm"),"small"===y),(0,o.Z)(n,"".concat(_,"-multiple-words"),!s&&z&&z.toString().length>1),(0,o.Z)(n,"".concat(_,"-status-").concat(u),!!u),(0,o.Z)(n,"".concat(_,"-status-").concat(l),mm(l)),n)),f=x({},U);return l&&!mm(l)&&((f=f||{}).background=l),e.createElement(vm,{prefixCls:a,show:!F,motionClassName:r,className:c,count:z,title:W,style:f,key:"scrollNumber"},H)})),V)};bm.Ribbon=gm;var xm=bm;var wm=wn($((function(e){return{navTG:e.reducer1,playing:e.reducer3,expand:e.reducer5,bg:e.reducer6,login:e.reducer8,bagCount:e.setBagCount}}))((function(t){var n=(0,e.useState)(!1),r=(0,a.Z)(n,2),o=r[0],i=r[1],s=(0,e.useState)(!1),u=(0,a.Z)(s,2),c=u[0],l=u[1];(0,e.useEffect)((function(){p().get("/api/users/auth").then((function(e){l(e.data.isAuth)}))}),[]),(0,e.useEffect)((function(){sessionStorage.setItem("userId",c)}),[c]),(0,e.useEffect)((function(){!function(e){for(var t=0;t++;t<5)setTimeout((function(){e.dispatch({type:"bag-get"})}),250*t)}(t)}),[t]);var f={color:"inherit",textDecoration:"none"};return(0,Je.jsx)(Je.Fragment,{children:(0,Je.jsx)(bo,{bg:"light",variant:"light",className:"".concat(t.navTG?"navON":"nav-wrap"),id:"nav-bar",children:(0,Je.jsxs)(ko,{className:"nav-container",children:[(0,Je.jsxs)("button",{className:"search-btn ".concat(t.navTG?"cb":"cw"),onClick:function(){t.dispatch({type:"expand-on"}),t.dispatch({type:"bg-on"})},children:[(0,Je.jsx)(ri,{}),(0,Je.jsx)("span",{children:"\uac80\uc0c9"})]}),(0,Je.jsxs)("div",{className:"logo-wrap",children:[(0,Je.jsx)(_n,{to:"/home",style:f,onClick:function(){t.dispatch({type:"nav-off"})},children:(0,Je.jsx)(bo.Brand,{children:(0,Je.jsx)("div",{className:"logo-box",children:(0,Je.jsx)(ni,{className:"".concat(t.navTG?"fb":"fw")})})})}),(0,Je.jsxs)("div",{className:"logo-menu ".concat(t.navTG?"cb":"cw"),children:[(0,Je.jsx)(_n,{to:"/lipstick",style:f,children:(0,Je.jsx)("span",{children:"\ub9bd\uc2a4\ud2f1"})}),(0,Je.jsx)(_n,{to:"/liquid",style:f,children:(0,Je.jsx)("span",{children:"\ub9ac\ud034\ub4dc"})}),(0,Je.jsx)(_n,{to:"/gloss",style:f,children:(0,Je.jsx)("span",{children:"\ub9bd \uae00\ub85c\uc2a4"})}),(0,Je.jsx)(_n,{to:"/care",style:f,children:(0,Je.jsx)("span",{children:"\ub9bd \ucf00\uc5b4"})})]})]}),(0,Je.jsxs)(Qo,{className:"nav-menu",children:[c&&o&&(0,Je.jsx)("div",{className:"balloon",onMouseLeave:function(){i(!1)},children:(0,Je.jsxs)("ul",{children:[(0,Je.jsx)(_n,{to:"./history",style:f,children:(0,Je.jsx)("li",{children:(0,Je.jsx)("span",{className:"balloon-item",children:"\uc8fc\ubb38\ub0b4\uc5ed"})})}),(0,Je.jsx)(_n,{to:"./wishlist",style:f,children:(0,Je.jsx)("li",{children:(0,Je.jsx)("span",{className:"balloon-item",children:"\uc704\uc2dc\ub9ac\uc2a4\ud2b8"})})}),(0,Je.jsx)(_n,{to:"./bag",style:f,children:(0,Je.jsx)("li",{children:(0,Je.jsx)("span",{className:"balloon-item",children:"\uc7a5\ubc14\uad6c\ub2c8"})})}),(0,Je.jsx)("li",{children:(0,Je.jsx)("span",{className:"balloon-item",onClick:function(){p().get("/api/users/logout").then((function(e){alert("\ub85c\uadf8\uc544\uc6c3 \ub418\uc5c8\uc2b5\ub2c8\ub2e4."),l(!1),sessionStorage.clear(),t.history.push("/home")}))},children:"\ub85c\uadf8\uc544\uc6c3"})})]})}),(0,Je.jsx)(Qo.Link,{className:"nav-item ".concat(t.navTG?"cb":"cw"),children:(0,Je.jsx)(_n,{onClick:function(){if(!1===c)return alert("\ub85c\uadf8\uc778 \ud6c4 \uc774\uc6a9\ud574\uc8fc\uc138\uc694."),t.history.back(1);t.history.push("/wishlist")},style:f,children:(0,Je.jsx)(bt,{})})}),(0,Je.jsx)(Qo.Link,{className:"nav-item ".concat(t.navTG?"cb":"cw"),children:c?(0,Je.jsx)(_n,{to:"#",style:f,onClick:function(){i(!o)},children:(0,Je.jsx)(kt,{})}):(0,Je.jsx)(_n,{to:"#",style:f,onClick:function(){t.dispatch({type:"bg-on"}),t.dispatch({type:"login-on"}),t.dispatch({type:"nav-off"}),t.dispatch({type:"pause"})},children:(0,Je.jsx)(kt,{})})}),(0,Je.jsx)(xm,{size:"small",count:t.bagCount,style:{marginRight:8,marginTop:12},children:(0,Je.jsx)(Qo.Link,{className:"nav-item ".concat(t.navTG?"cb":"cw"),children:(0,Je.jsx)(_n,{style:f,onClick:function(){if(!1===c)return alert("\ub85c\uadf8\uc778 \ud6c4 \uc774\uc6a9\ud574\uc8fc\uc138\uc694."),t.history.back(1);t.history.push("/bag")},children:(0,Je.jsx)(li,{})})})})]})]})})})})));var km=$((function(e){return{bg:e.reducer6,expand:e.reducer5,myTG:e.reducer8}}))((function(e){return(0,Je.jsx)("div",{style:{position:"fixed",width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.7)",zIndex:"920"},onClick:function(t){e.dispatch({type:"bg-off"}),e.dispatch({type:"nav-off"}),e.dispatch({type:"expand-off"}),e.dispatch({type:"login-off"}),e.dispatch({type:"play"}),e.searchClickHandler(null)}})})),Sm=(n(3317),Ip),Em=Mp,Cm=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Nm=function(t){var n=t.prefixCls,r=t.className,a=t.hoverable,i=void 0===a||a,s=Cm(t,["prefixCls","className","hoverable"]);return e.createElement(eu,null,(function(t){var a=(0,t.getPrefixCls)("card",n),u=Fn()("".concat(a,"-grid"),r,(0,o.Z)({},"".concat(a,"-grid-hoverable"),i));return e.createElement("div",x({},s,{className:u}))}))},Tm=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},Im=function(t){return e.createElement(eu,null,(function(n){var r=n.getPrefixCls,a=t.prefixCls,o=t.className,i=t.avatar,s=t.title,u=t.description,c=Tm(t,["prefixCls","className","avatar","title","description"]),l=r("card",a),f=Fn()("".concat(l,"-meta"),o),p=i?e.createElement("div",{className:"".concat(l,"-meta-avatar")},i):null,d=s?e.createElement("div",{className:"".concat(l,"-meta-title")},s):null,h=u?e.createElement("div",{className:"".concat(l,"-meta-description")},u):null,v=d||h?e.createElement("div",{className:"".concat(l,"-meta-detail")},d,h):null;return e.createElement("div",x({},c,{className:f}),p,v)}))};function Om(t){var n=(0,e.useRef)(),r=(0,e.useRef)(!1);return(0,e.useEffect)((function(){return function(){r.current=!0,Xc.cancel(n.current)}}),[]),function(){for(var e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];r.current||(Xc.cancel(n.current),n.current=Xc((function(){t.apply(void 0,a)})))}}var _m={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var t=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||t>=_m.F1&&t<=_m.F12)return!1;switch(t){case _m.ALT:case _m.CAPS_LOCK:case _m.CONTEXT_MENU:case _m.CTRL:case _m.DOWN:case _m.END:case _m.ESC:case _m.HOME:case _m.INSERT:case _m.LEFT:case _m.MAC_FF_META:case _m.META:case _m.NUMLOCK:case _m.NUM_CENTER:case _m.PAGE_DOWN:case _m.PAGE_UP:case _m.PAUSE:case _m.PRINT_SCREEN:case _m.RIGHT:case _m.SHIFT:case _m.UP:case _m.WIN_KEY:case _m.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=_m.ZERO&&e<=_m.NINE)return!0;if(e>=_m.NUM_ZERO&&e<=_m.NUM_MULTIPLY)return!0;if(e>=_m.A&&e<=_m.Z)return!0;if(-1!==window.navigator.userAgent.indexOf("WebKit")&&0===e)return!0;switch(e){case _m.SPACE:case _m.QUESTION_MARK:case _m.NUM_PLUS:case _m.NUM_MINUS:case _m.NUM_PERIOD:case _m.NUM_DIVISION:case _m.SEMICOLON:case _m.DASH:case _m.EQUALS:case _m.COMMA:case _m.PERIOD:case _m.SLASH:case _m.APOSTROPHE:case _m.SINGLE_QUOTE:case _m.OPEN_SQUARE_BRACKET:case _m.BACKSLASH:case _m.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},Dm=_m;function Am(t,n){var r,a=t.prefixCls,i=t.id,s=t.active,u=t.tab,c=u.key,l=u.tab,f=u.disabled,p=u.closeIcon,d=t.closable,h=t.renderWrapper,v=t.removeAriaLabel,m=t.editable,g=t.onClick,y=t.onRemove,b=t.onFocus,x=t.style,w="".concat(a,"-tab");e.useEffect((function(){return y}),[]);var k=m&&!1!==d&&!f;function S(e){f||g(e)}var E=e.createElement("div",{key:c,ref:n,className:Fn()(w,(r={},(0,o.Z)(r,"".concat(w,"-with-remove"),k),(0,o.Z)(r,"".concat(w,"-active"),s),(0,o.Z)(r,"".concat(w,"-disabled"),f),r)),style:x,onClick:S},e.createElement("div",{role:"tab","aria-selected":s,id:i&&"".concat(i,"-tab-").concat(c),className:"".concat(w,"-btn"),"aria-controls":i&&"".concat(i,"-panel-").concat(c),"aria-disabled":f,tabIndex:f?null:0,onClick:function(e){e.stopPropagation(),S(e)},onKeyDown:function(e){[Dm.SPACE,Dm.ENTER].includes(e.which)&&(e.preventDefault(),S(e))},onFocus:b},l),k&&e.createElement("button",{type:"button","aria-label":v||"remove",tabIndex:0,className:"".concat(w,"-remove"),onClick:function(e){var t;e.stopPropagation(),(t=e).preventDefault(),t.stopPropagation(),m.onEdit("remove",{key:c,event:t})}},p||m.removeIcon||"\xd7"));return h?h(E):E}var Rm=e.forwardRef(Am),Pm={width:0,height:0,left:0,top:0};var Mm={width:0,height:0,left:0,top:0,right:0};var Fm=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],Lm=void 0;function jm(t,n){var r=t.prefixCls,a=t.invalidate,o=t.item,i=t.renderItem,u=t.responsive,c=t.responsiveDisabled,l=t.registerSize,f=t.itemKey,p=t.className,d=t.style,h=t.children,v=t.display,m=t.order,g=t.component,y=void 0===g?"div":g,b=Pn(t,Fm),w=u&&!v;function k(e){l(f,e)}e.useEffect((function(){return function(){k(null)}}),[]);var S,E=i&&o!==Lm?i(o):h;a||(S={opacity:w?0:1,height:w?0:Lm,overflowY:w?"hidden":Lm,order:u?m:Lm,pointerEvents:w?"none":Lm,position:w?"absolute":Lm});var C={};w&&(C["aria-hidden"]=!0);var N=e.createElement(y,x({className:Fn()(!a&&r,p),style:s(s({},S),d)},C,b,{ref:n}),E);return u&&(N=e.createElement(yf,{onResize:function(e){k(e.offsetWidth)},disabled:c},N)),N}var Zm=e.forwardRef(jm);Zm.displayName="Item";var zm=Zm;var Bm=["component"],Um=["className"],Wm=["className"],Vm=function(t,n){var r=e.useContext(Xm);if(!r){var a=t.component,o=void 0===a?"div":a,i=Pn(t,Bm);return e.createElement(o,x({},i,{ref:n}))}var s=r.className,u=Pn(r,Um),c=t.className,l=Pn(t,Wm);return e.createElement(Xm.Provider,{value:null},e.createElement(zm,x({ref:n,className:Fn()(s,c)},u,l)))},Hm=e.forwardRef(Vm);Hm.displayName="RawItem";var Gm=Hm,qm=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],Xm=e.createContext(null),Km="responsive",Ym="invalidate";function Qm(e){return"+ ".concat(e.length," ...")}function $m(t,n){var r=t.prefixCls,o=void 0===r?"rc-overflow":r,i=t.data,u=void 0===i?[]:i,c=t.renderItem,l=t.renderRawItem,f=t.itemKey,p=t.itemWidth,d=void 0===p?10:p,h=t.ssr,v=t.style,m=t.className,g=t.maxCount,y=t.renderRest,b=t.renderRawRest,w=t.suffix,k=t.component,S=void 0===k?"div":k,E=t.itemComponent,C=t.onVisibleChange,N=Pn(t,qm),T=function(){var t=ki({}),n=(0,a.Z)(t,2)[1],r=(0,e.useRef)([]),o=0,i=0;return function(e){var t=o;return o+=1,r.current.length<t+1&&(r.current[t]=e),[r.current[t],function(e){r.current[t]="function"===typeof e?e(r.current[t]):e,Xc.cancel(i),i=Xc((function(){n({},!0)}))}]}}(),I="full"===h,O=T(null),_=(0,a.Z)(O,2),D=_[0],A=_[1],R=D||0,P=T(new Map),M=(0,a.Z)(P,2),F=M[0],L=M[1],j=T(0),Z=(0,a.Z)(j,2),z=Z[0],B=Z[1],U=T(0),W=(0,a.Z)(U,2),V=W[0],H=W[1],G=T(0),q=(0,a.Z)(G,2),X=q[0],K=q[1],Y=(0,e.useState)(null),Q=(0,a.Z)(Y,2),$=Q[0],J=Q[1],ee=(0,e.useState)(null),te=(0,a.Z)(ee,2),ne=te[0],re=te[1],ae=e.useMemo((function(){return null===ne&&I?Number.MAX_SAFE_INTEGER:ne||0}),[ne,D]),oe=(0,e.useState)(!1),ie=(0,a.Z)(oe,2),se=ie[0],ue=ie[1],ce="".concat(o,"-item"),le=Math.max(z,V),fe=g===Km,pe=u.length&&fe,de=g===Ym,he=pe||"number"===typeof g&&u.length>g,ve=(0,e.useMemo)((function(){var e=u;return pe?e=null===D&&I?u:u.slice(0,Math.min(u.length,R/d)):"number"===typeof g&&(e=u.slice(0,g)),e}),[u,d,D,g,pe]),me=(0,e.useMemo)((function(){return pe?u.slice(ae+1):u.slice(ve.length)}),[u,ve,pe,ae]),ge=(0,e.useCallback)((function(e,t){var n;return"function"===typeof f?f(e):null!==(n=f&&(null===e||void 0===e?void 0:e[f]))&&void 0!==n?n:t}),[f]),ye=(0,e.useCallback)(c||function(e){return e},[c]);function be(e,t){re(e),t||(ue(e<u.length-1),null===C||void 0===C||C(e))}function xe(e,t){L((function(n){var r=new Map(n);return null===t?r.delete(e):r.set(e,t),r}))}function we(e){return F.get(ge(ve[e],e))}Jd((function(){if(R&&le&&ve){var e=X,t=ve.length,n=t-1;if(!t)return be(0),void J(null);for(var r=0;r<t;r+=1){var a=we(r);if(I&&(a=a||0),void 0===a){be(r-1,!0);break}if(e+=a,0===n&&e<=R||r===n-1&&e+we(n)<=R){be(n),J(null);break}if(e+le>R){be(r-1),J(e-a-X+V);break}}w&&we(0)+X>R&&J(null)}}),[R,F,V,X,ge,ve]);var ke=se&&!!me.length,Se={};null!==$&&pe&&(Se={position:"absolute",left:$,top:0});var Ee,Ce={prefixCls:ce,responsive:pe,component:E,invalidate:de},Ne=l?function(t,n){var r=ge(t,n);return e.createElement(Xm.Provider,{key:r,value:s(s({},Ce),{},{order:n,item:t,itemKey:r,registerSize:xe,display:n<=ae})},l(t,n))}:function(t,n){var r=ge(t,n);return e.createElement(zm,x({},Ce,{order:n,key:r,item:t,renderItem:ye,itemKey:r,registerSize:xe,display:n<=ae}))},Te={order:ke?ae:Number.MAX_SAFE_INTEGER,className:"".concat(ce,"-rest"),registerSize:function(e,t){H(t),B(V)},display:ke};if(b)b&&(Ee=e.createElement(Xm.Provider,{value:s(s({},Ce),Te)},b(me)));else{var Ie=y||Qm;Ee=e.createElement(zm,x({},Ce,Te),"function"===typeof Ie?Ie(me):Ie)}var Oe=e.createElement(S,x({className:Fn()(!de&&o,m),style:v,ref:n},N),ve.map(Ne),he?Ee:null,w&&e.createElement(zm,x({},Ce,{responsive:fe,responsiveDisabled:!pe,order:ae,className:"".concat(ce,"-suffix"),registerSize:function(e,t){K(t)},display:!0,style:Se}),w));return fe&&(Oe=e.createElement(yf,{onResize:function(e,t){A(t.clientWidth)},disabled:!pe},Oe)),Oe}var Jm=e.forwardRef($m);Jm.displayName="Overflow",Jm.Item=Gm,Jm.RESPONSIVE=Km,Jm.INVALIDATE=Ym;var eg=Jm,tg=["children","locked"],ng=e.createContext(null);function rg(t){var n=t.children,r=t.locked,a=Pn(t,tg),o=e.useContext(ng),i=Is((function(){return function(e,t){var n=s({},e);return Object.keys(t).forEach((function(e){var r=t[e];void 0!==r&&(n[e]=r)})),n}(o,a)}),[o,a],(function(e,t){return!r&&(e[0]!==t[0]||!Cf()(e[1],t[1]))}));return e.createElement(ng.Provider,{value:i},n)}function ag(t,n,r,a){var o=e.useContext(ng),i=o.activeKey,s=o.onActive,u=o.onInactive,c={active:i===t};return n||(c.onMouseEnter=function(e){null===r||void 0===r||r({key:t,domEvent:e}),s(t)},c.onMouseLeave=function(e){null===a||void 0===a||a({key:t,domEvent:e}),u(t)}),c}var og=["item"];function ig(e){var t=e.item,n=Pn(e,og);return Object.defineProperty(n,"item",{get:function(){return ns(!1,"`info.item` is deprecated since we will move to function component that not provides React Node instance in future."),t}}),n}function sg(t){var n=t.icon,r=t.props,a=t.children;return("function"===typeof n?e.createElement(n,s({},r)):n)||a||null}function ug(t){var n=e.useContext(ng),r=n.mode,a=n.rtl,o=n.inlineIndent;if("inline"!==r)return null;return a?{paddingRight:t*o}:{paddingLeft:t*o}}var cg=[],lg=e.createContext(null);function fg(){return e.useContext(lg)}var pg=e.createContext(cg);function dg(t){var n=e.useContext(pg);return e.useMemo((function(){return void 0!==t?[].concat((0,r.Z)(n),[t]):n}),[n,t])}var hg=e.createContext(null),vg=e.createContext(null);function mg(e,t){return void 0===e?null:"".concat(e,"-").concat(t)}function gg(t){return mg(e.useContext(vg),t)}var yg=e.createContext({}),bg=["title","attribute","elementRef"],xg=["style","className","eventKey","warnKey","disabled","itemIcon","children","role","onMouseEnter","onMouseLeave","onClick","onKeyDown","onFocus"],wg=["active"],kg=function(t){(0,Ya.Z)(r,t);var n=(0,Qa.Z)(r);function r(){return(0,la.Z)(this,r),n.apply(this,arguments)}return(0,fa.Z)(r,[{key:"render",value:function(){var t=this.props,n=t.title,r=t.attribute,a=t.elementRef,o=wi(Pn(t,bg),["eventKey"]);return ns(!r,"`attribute` of Menu.Item is deprecated. Please pass attribute directly."),e.createElement(eg.Item,x({},r,{title:"string"===typeof n?n:void 0},o,{ref:a}))}}]),r}(e.Component),Sg=function(t){var n,a=t.style,i=t.className,u=t.eventKey,c=(t.warnKey,t.disabled),l=t.itemIcon,f=t.children,p=t.role,d=t.onMouseEnter,h=t.onMouseLeave,v=t.onClick,m=t.onKeyDown,g=t.onFocus,y=Pn(t,xg),b=gg(u),w=e.useContext(ng),k=w.prefixCls,S=w.onItemClick,E=w.disabled,C=w.overflowDisabled,N=w.itemIcon,T=w.selectedKeys,I=w.onActive,O=e.useContext(yg)._internalRenderMenuItem,_="".concat(k,"-item"),D=e.useRef(),A=e.useRef(),R=E||c,P=dg(u);var M=function(e){return{key:u,keyPath:(0,r.Z)(P).reverse(),item:D.current,domEvent:e}},F=l||N,L=ag(u,R,d,h),j=L.active,Z=Pn(L,wg),z=T.includes(u),B=ug(P.length),U={};"option"===t.role&&(U["aria-selected"]=z);var W=e.createElement(kg,x({ref:D,elementRef:A,role:null===p?"none":p||"menuitem",tabIndex:c?null:-1,"data-menu-id":C&&b?null:b},y,Z,U,{component:"li","aria-disabled":c,style:s(s({},B),a),className:Fn()(_,(n={},(0,o.Z)(n,"".concat(_,"-active"),j),(0,o.Z)(n,"".concat(_,"-selected"),z),(0,o.Z)(n,"".concat(_,"-disabled"),R),n),i),onClick:function(e){if(!R){var t=M(e);null===v||void 0===v||v(ig(t)),S(t)}},onKeyDown:function(e){if(null===m||void 0===m||m(e),e.which===Dm.ENTER){var t=M(e);null===v||void 0===v||v(ig(t)),S(t)}},onFocus:function(e){I(u),null===g||void 0===g||g(e)}}),f,e.createElement(sg,{props:s(s({},t),{},{isSelected:z}),icon:F}));return O&&(W=O(W,t,{selected:z})),W};var Eg=function(t){var n=t.eventKey,r=fg(),a=dg(n);return e.useEffect((function(){if(r)return r.registerPath(n,a),function(){r.unregisterPath(n,a)}}),[a]),r?null:e.createElement(Sg,t)},Cg=["label","children","key","type"];function Ng(t,n){return nu(t).map((function(t,a){if(e.isValidElement(t)){var o,i,s=t.key,u=null!==(o=null===(i=t.props)||void 0===i?void 0:i.eventKey)&&void 0!==o?o:s;(null===u||void 0===u)&&(u="tmp_key-".concat([].concat((0,r.Z)(n),[a]).join("-")));var c={key:u,eventKey:u};return e.cloneElement(t,c)}return t}))}function Tg(t){return(t||[]).map((function(t,n){if(t&&"object"===(0,vi.Z)(t)){var r=t.label,a=t.children,o=t.key,i=t.type,s=Pn(t,Cg),u=null!==o&&void 0!==o?o:"tmp-".concat(n);return a||"group"===i?"group"===i?e.createElement(gy,x({key:u},s,{title:r}),Tg(a)):e.createElement(Vg,x({key:u},s,{title:r}),Tg(a)):"divider"===i?e.createElement(yy,x({key:u},s)):e.createElement(Eg,x({key:u},s),r)}return null})).filter((function(e){return e}))}function Ig(e,t,n){var r=e;return t&&(r=Tg(t)),Ng(r,n)}function Og(t){var n=e.useRef(t);n.current=t;var r=e.useCallback((function(){for(var e,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return null===(e=n.current)||void 0===e?void 0:e.call.apply(e,[n].concat(r))}),[]);return t?r:void 0}var _g=["className","children"],Dg=function(t,n){var r=t.className,a=t.children,o=Pn(t,_g),i=e.useContext(ng),s=i.prefixCls,u=i.mode,c=i.rtl;return e.createElement("ul",x({className:Fn()(s,c&&"".concat(s,"-rtl"),"".concat(s,"-sub"),"".concat(s,"-").concat("inline"===u?"inline":"vertical"),r)},o,{"data-menu-list":!0,ref:n}),a)},Ag=e.forwardRef(Dg);Ag.displayName="SubMenuList";var Rg=Ag,Pg={adjustX:1,adjustY:1},Mg={topLeft:{points:["bl","tl"],overflow:Pg,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:Pg,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:Pg,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:Pg,offset:[4,0]}},Fg={topLeft:{points:["bl","tl"],overflow:Pg,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:Pg,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:Pg,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:Pg,offset:[4,0]}};function Lg(e,t,n){return t||(n?n[e]||n.other:void 0)}var jg={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};function Zg(t){var n=t.prefixCls,r=t.visible,i=t.children,u=t.popup,c=t.popupClassName,l=t.popupOffset,f=t.disabled,p=t.mode,d=t.onVisibleChange,h=e.useContext(ng),v=h.getPopupContainer,m=h.rtl,g=h.subMenuOpenDelay,y=h.subMenuCloseDelay,b=h.builtinPlacements,x=h.triggerSubMenuAction,w=h.forceSubMenuRender,k=h.rootClassName,S=h.motion,E=h.defaultMotions,C=e.useState(!1),N=(0,a.Z)(C,2),T=N[0],I=N[1],O=s(s({},m?Fg:Mg),b),_=jg[p],D=s(s({},Lg(p,S,E)),{},{leavedClassName:"".concat(n,"-hidden"),removeOnLeave:!1,motionAppear:!0}),A=e.useRef();return e.useEffect((function(){return A.current=Xc((function(){I(r)})),function(){Xc.cancel(A.current)}}),[r]),e.createElement(dh,{prefixCls:n,popupClassName:Fn()("".concat(n,"-popup"),(0,o.Z)({},"".concat(n,"-rtl"),m),c,k),stretch:"horizontal"===p?"minWidth":null,getPopupContainer:v,builtinPlacements:O,popupPlacement:_,popupVisible:T,popup:u,popupAlign:l&&{offset:l},action:f?[]:[x],mouseEnterDelay:g,mouseLeaveDelay:y,onPopupVisibleChange:d,forceRender:w,popupMotion:D},i)}function zg(t){var n=t.id,r=t.open,o=t.keyPath,i=t.children,u="inline",c=e.useContext(ng),l=c.prefixCls,f=c.forceSubMenuRender,p=c.motion,d=c.defaultMotions,h=c.mode,v=e.useRef(!1);v.current=h===u;var m=e.useState(!v.current),g=(0,a.Z)(m,2),y=g[0],b=g[1],w=!!v.current&&r;e.useEffect((function(){v.current&&b(!1)}),[h]);var k=s({},Lg(u,p,d));o.length>1&&(k.motionAppear=!1);var S=k.onVisibleChanged;return k.onVisibleChanged=function(e){return v.current||e||b(!0),null===S||void 0===S?void 0:S(e)},y?null:e.createElement(rg,{mode:u,locked:!v.current},e.createElement(Hl,x({visible:w},k,{forceRender:f,removeOnLeave:!1,leavedClassName:"".concat(l,"-hidden")}),(function(t){var r=t.className,a=t.style;return e.createElement(Rg,{id:n,className:r,style:a},i)})))}var Bg=["style","className","title","eventKey","warnKey","disabled","internalPopupClose","children","itemIcon","expandIcon","popupClassName","popupOffset","onClick","onMouseEnter","onMouseLeave","onTitleClick","onTitleMouseEnter","onTitleMouseLeave"],Ug=["active"],Wg=function(t){var n,r=t.style,i=t.className,u=t.title,c=t.eventKey,l=(t.warnKey,t.disabled),f=t.internalPopupClose,p=t.children,d=t.itemIcon,h=t.expandIcon,v=t.popupClassName,m=t.popupOffset,g=t.onClick,y=t.onMouseEnter,b=t.onMouseLeave,w=t.onTitleClick,k=t.onTitleMouseEnter,S=t.onTitleMouseLeave,E=Pn(t,Bg),C=gg(c),N=e.useContext(ng),T=N.prefixCls,I=N.mode,O=N.openKeys,_=N.disabled,D=N.overflowDisabled,A=N.activeKey,R=N.selectedKeys,P=N.itemIcon,M=N.expandIcon,F=N.onItemClick,L=N.onOpenChange,j=N.onActive,Z=e.useContext(yg)._internalRenderSubMenuItem,z=e.useContext(hg).isSubPathKey,B=dg(),U="".concat(T,"-submenu"),W=_||l,V=e.useRef(),H=e.useRef();var G=d||P,q=h||M,X=O.includes(c),K=!D&&X,Y=z(R,c),Q=ag(c,W,k,S),$=Q.active,J=Pn(Q,Ug),ee=e.useState(!1),te=(0,a.Z)(ee,2),ne=te[0],re=te[1],ae=function(e){W||re(e)},oe=e.useMemo((function(){return $||"inline"!==I&&(ne||z([A],c))}),[I,$,A,ne,c,z]),ie=ug(B.length),se=Og((function(e){null===g||void 0===g||g(ig(e)),F(e)})),ue=C&&"".concat(C,"-popup"),ce=e.createElement("div",x({role:"menuitem",style:ie,className:"".concat(U,"-title"),tabIndex:W?null:-1,ref:V,title:"string"===typeof u?u:null,"data-menu-id":D&&C?null:C,"aria-expanded":K,"aria-haspopup":!0,"aria-controls":ue,"aria-disabled":W,onClick:function(e){W||(null===w||void 0===w||w({key:c,domEvent:e}),"inline"===I&&L(c,!X))},onFocus:function(){j(c)}},J),u,e.createElement(sg,{icon:"horizontal"!==I?q:null,props:s(s({},t),{},{isOpen:K,isSubMenu:!0})},e.createElement("i",{className:"".concat(U,"-arrow")}))),le=e.useRef(I);if("inline"!==I&&(le.current=B.length>1?"vertical":I),!D){var fe=le.current;ce=e.createElement(Zg,{mode:fe,prefixCls:U,visible:!f&&K&&"inline"!==I,popupClassName:v,popupOffset:m,popup:e.createElement(rg,{mode:"horizontal"===fe?"vertical":fe},e.createElement(Rg,{id:ue,ref:H},p)),disabled:W,onVisibleChange:function(e){"inline"!==I&&L(c,e)}},ce)}var pe=e.createElement(eg.Item,x({role:"none"},E,{component:"li",style:r,className:Fn()(U,"".concat(U,"-").concat(I),i,(n={},(0,o.Z)(n,"".concat(U,"-open"),K),(0,o.Z)(n,"".concat(U,"-active"),oe),(0,o.Z)(n,"".concat(U,"-selected"),Y),(0,o.Z)(n,"".concat(U,"-disabled"),W),n)),onMouseEnter:function(e){ae(!0),null===y||void 0===y||y({key:c,domEvent:e})},onMouseLeave:function(e){ae(!1),null===b||void 0===b||b({key:c,domEvent:e})}}),ce,!D&&e.createElement(zg,{id:ue,open:K,keyPath:B},p));return Z&&(pe=Z(pe,t,{selected:Y,active:oe,open:K,disabled:W})),e.createElement(rg,{onItemClick:se,mode:"horizontal"===I?"vertical":I,itemIcon:G,expandIcon:q},pe)};function Vg(t){var n,r=t.eventKey,a=t.children,o=dg(r),i=Ng(a,o),s=fg();return e.useEffect((function(){if(s)return s.registerPath(r,o),function(){s.unregisterPath(r,o)}}),[o]),n=s?i:e.createElement(Wg,t,i),e.createElement(pg.Provider,{value:o},n)}function Hg(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Hp(e)){var n=e.nodeName.toLowerCase(),r=["input","select","textarea","button"].includes(n)||e.isContentEditable||"a"===n&&!!e.getAttribute("href"),a=e.getAttribute("tabindex"),o=Number(a),i=null;return a&&!Number.isNaN(o)?i=o:r&&null===i&&(i=0),r&&e.disabled&&(i=null),null!==i&&(i>=0||t&&i<0)}return!1}function Gg(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,r.Z)(e.querySelectorAll("*")).filter((function(e){return Hg(e,t)}));return Hg(e,t)&&n.unshift(e),n}var qg=Dm.LEFT,Xg=Dm.RIGHT,Kg=Dm.UP,Yg=Dm.DOWN,Qg=Dm.ENTER,$g=Dm.ESC,Jg=Dm.HOME,ey=Dm.END,ty=[Kg,Yg,qg,Xg];function ny(e,t){return Gg(e,!0).filter((function(e){return t.has(e)}))}function ry(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!e)return null;var a=ny(e,t),o=a.length,i=a.findIndex((function(e){return n===e}));return r<0?-1===i?i=o-1:i-=1:r>0&&(i+=1),a[i=(i+o)%o]}function ay(t,n,r,a,i,s,u,c,l,f){var p=e.useRef(),d=e.useRef();d.current=n;var h=function(){Xc.cancel(p.current)};return e.useEffect((function(){return function(){h()}}),[]),function(e){var v=e.which;if([].concat(ty,[Qg,$g,Jg,ey]).includes(v)){var m,g,y,b=function(){return m=new Set,g=new Map,y=new Map,s().forEach((function(e){var t=document.querySelector("[data-menu-id='".concat(mg(a,e),"']"));t&&(m.add(t),y.set(t,e),g.set(e,t))})),m};b();var x=function(e,t){for(var n=e||document.activeElement;n;){if(t.has(n))return n;n=n.parentElement}return null}(g.get(n),m),w=y.get(x),k=function(e,t,n,r){var a,i,s,u,c="prev",l="next",f="children",p="parent";if("inline"===e&&r===Qg)return{inlineTrigger:!0};var d=(a={},(0,o.Z)(a,Kg,c),(0,o.Z)(a,Yg,l),a),h=(i={},(0,o.Z)(i,qg,n?l:c),(0,o.Z)(i,Xg,n?c:l),(0,o.Z)(i,Yg,f),(0,o.Z)(i,Qg,f),i),v=(s={},(0,o.Z)(s,Kg,c),(0,o.Z)(s,Yg,l),(0,o.Z)(s,Qg,f),(0,o.Z)(s,$g,p),(0,o.Z)(s,qg,n?f:p),(0,o.Z)(s,Xg,n?p:f),s);switch(null===(u={inline:d,horizontal:h,vertical:v,inlineSub:d,horizontalSub:v,verticalSub:v}["".concat(e).concat(t?"":"Sub")])||void 0===u?void 0:u[r]){case c:return{offset:-1,sibling:!0};case l:return{offset:1,sibling:!0};case p:return{offset:-1,sibling:!1};case f:return{offset:1,sibling:!1};default:return null}}(t,1===u(w,!0).length,r,v);if(!k&&v!==Jg&&v!==ey)return;(ty.includes(v)||[Jg,ey].includes(v))&&e.preventDefault();var S=function(e){if(e){var t=e,n=e.querySelector("a");(null===n||void 0===n?void 0:n.getAttribute("href"))&&(t=n);var r=y.get(e);c(r),h(),p.current=Xc((function(){d.current===r&&t.focus()}))}};if([Jg,ey].includes(v)||k.sibling||!x){var E,C,N=ny(E=x&&"inline"!==t?function(e){for(var t=e;t;){if(t.getAttribute("data-menu-list"))return t;t=t.parentElement}return null}(x):i.current,m);C=v===Jg?N[0]:v===ey?N[N.length-1]:ry(E,m,x,k.offset),S(C)}else if(k.inlineTrigger)l(w);else if(k.offset>0)l(w,!0),h(),p.current=Xc((function(){b();var e=x.getAttribute("aria-controls"),t=ry(document.getElementById(e),m);S(t)}),5);else if(k.offset<0){var T=u(w,!0),I=T[T.length-2],O=g.get(I);l(I,!1),S(O)}}null===f||void 0===f||f(e)}}var oy=Math.random().toFixed(5).toString().slice(2),iy=0;var sy="__RC_UTIL_PATH_SPLIT__",uy=function(e){return e.join(sy)},cy="rc-menu-more";function ly(){var t=e.useState({}),n=(0,a.Z)(t,2)[1],o=(0,e.useRef)(new Map),i=(0,e.useRef)(new Map),s=e.useState([]),u=(0,a.Z)(s,2),c=u[0],l=u[1],f=(0,e.useRef)(0),p=(0,e.useRef)(!1),d=(0,e.useCallback)((function(e,t){var r=uy(t);i.current.set(r,e),o.current.set(e,r),f.current+=1;var a,s=f.current;a=function(){s===f.current&&(p.current||n({}))},Promise.resolve().then(a)}),[]),h=(0,e.useCallback)((function(e,t){var n=uy(t);i.current.delete(n),o.current.delete(e)}),[]),v=(0,e.useCallback)((function(e){l(e)}),[]),m=(0,e.useCallback)((function(e,t){var n=o.current.get(e)||"",r=n.split(sy);return t&&c.includes(r[0])&&r.unshift(cy),r}),[c]),g=(0,e.useCallback)((function(e,t){return e.some((function(e){return m(e,!0).includes(t)}))}),[m]),y=(0,e.useCallback)((function(e){var t="".concat(o.current.get(e)).concat(sy),n=new Set;return(0,r.Z)(i.current.keys()).forEach((function(e){e.startsWith(t)&&n.add(i.current.get(e))})),n}),[]);return e.useEffect((function(){return function(){p.current=!0}}),[]),{registerPath:d,unregisterPath:h,refreshOverflowKeys:v,isSubPathKey:g,getKeyPath:m,getKeys:function(){var e=(0,r.Z)(o.current.keys());return c.length&&e.push(cy),e},getSubPathKeys:y}}var fy=["prefixCls","rootClassName","style","className","tabIndex","items","children","direction","id","mode","inlineCollapsed","disabled","disabledOverflow","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","defaultOpenKeys","openKeys","activeKey","defaultActiveFirst","selectable","multiple","defaultSelectedKeys","selectedKeys","onSelect","onDeselect","inlineIndent","motion","defaultMotions","triggerSubMenuAction","builtinPlacements","itemIcon","expandIcon","overflowedIndicator","overflowedIndicatorPopupClassName","getPopupContainer","onClick","onOpenChange","onKeyDown","openAnimation","openTransitionName","_internalRenderMenuItem","_internalRenderSubMenuItem"],py=[],dy=e.forwardRef((function(t,n){var i,u,c=t.prefixCls,l=void 0===c?"rc-menu":c,f=t.rootClassName,p=t.style,d=t.className,h=t.tabIndex,v=void 0===h?0:h,m=t.items,g=t.children,y=t.direction,b=t.id,w=t.mode,k=void 0===w?"vertical":w,S=t.inlineCollapsed,E=t.disabled,C=t.disabledOverflow,N=t.subMenuOpenDelay,T=void 0===N?.1:N,I=t.subMenuCloseDelay,O=void 0===I?.1:I,_=t.forceSubMenuRender,D=t.defaultOpenKeys,A=t.openKeys,R=t.activeKey,P=t.defaultActiveFirst,M=t.selectable,F=void 0===M||M,L=t.multiple,j=void 0!==L&&L,Z=t.defaultSelectedKeys,z=t.selectedKeys,B=t.onSelect,U=t.onDeselect,W=t.inlineIndent,V=void 0===W?24:W,H=t.motion,G=t.defaultMotions,q=t.triggerSubMenuAction,X=void 0===q?"hover":q,K=t.builtinPlacements,Y=t.itemIcon,Q=t.expandIcon,$=t.overflowedIndicator,J=void 0===$?"...":$,ee=t.overflowedIndicatorPopupClassName,te=t.getPopupContainer,ne=t.onClick,re=t.onOpenChange,ae=t.onKeyDown,oe=(t.openAnimation,t.openTransitionName,t._internalRenderMenuItem),ie=t._internalRenderSubMenuItem,se=Pn(t,fy),ue=e.useMemo((function(){return Ig(g,m,py)}),[g,m]),ce=e.useState(!1),le=(0,a.Z)(ce,2),fe=le[0],pe=le[1],de=e.useRef();(0,e.useImperativeHandle)(n,(function(){return{list:de.current,focus:function(e){var t;null===(t=de.current)||void 0===t||t.focus(e)}}}));var he=function(t){var n=Si(t,{value:t}),r=(0,a.Z)(n,2),o=r[0],i=r[1];return e.useEffect((function(){iy+=1;var e="".concat(oy,"-").concat(iy);i("rc-menu-uuid-".concat(e))}),[]),o}(b),ve="rtl"===y;var me=e.useMemo((function(){return"inline"!==k&&"vertical"!==k||!S?[k,!1]:["vertical",S]}),[k,S]),ge=(0,a.Z)(me,2),ye=ge[0],be=ge[1],xe=e.useState(0),we=(0,a.Z)(xe,2),ke=we[0],Se=we[1],Ee=ke>=ue.length-1||"horizontal"!==ye||C,Ce=Si(D,{value:A,postState:function(e){return e||py}}),Ne=(0,a.Z)(Ce,2),Te=Ne[0],Ie=Ne[1],Oe=function(e){Ie(e),null===re||void 0===re||re(e)},_e=e.useState(Te),De=(0,a.Z)(_e,2),Ae=De[0],Re=De[1],Pe="inline"===ye,Me=e.useRef(!1);e.useEffect((function(){Pe&&Re(Te)}),[Te]),e.useEffect((function(){Me.current?Pe?Ie(Ae):Oe(py):Me.current=!0}),[Pe]);var Fe=ly(),Le=Fe.registerPath,je=Fe.unregisterPath,Ze=Fe.refreshOverflowKeys,ze=Fe.isSubPathKey,Be=Fe.getKeyPath,Ue=Fe.getKeys,We=Fe.getSubPathKeys,Ve=e.useMemo((function(){return{registerPath:Le,unregisterPath:je}}),[Le,je]),He=e.useMemo((function(){return{isSubPathKey:ze}}),[ze]);e.useEffect((function(){Ze(Ee?py:ue.slice(ke+1).map((function(e){return e.key})))}),[ke,Ee]);var Ge=Si(R||P&&(null===(i=ue[0])||void 0===i?void 0:i.key),{value:R}),qe=(0,a.Z)(Ge,2),Xe=qe[0],Ke=qe[1],Ye=Og((function(e){Ke(e)})),Qe=Og((function(){Ke(void 0)})),$e=Si(Z||[],{value:z,postState:function(e){return Array.isArray(e)?e:null===e||void 0===e?py:[e]}}),Je=(0,a.Z)($e,2),et=Je[0],tt=Je[1],nt=Og((function(e){null===ne||void 0===ne||ne(ig(e)),function(e){if(F){var t,n=e.key,a=et.includes(n);t=j?a?et.filter((function(e){return e!==n})):[].concat((0,r.Z)(et),[n]):[n],tt(t);var o=s(s({},e),{},{selectedKeys:t});a?null===U||void 0===U||U(o):null===B||void 0===B||B(o)}!j&&Te.length&&"inline"!==ye&&Oe(py)}(e)})),rt=Og((function(e,t){var n=Te.filter((function(t){return t!==e}));if(t)n.push(e);else if("inline"!==ye){var r=We(e);n=n.filter((function(e){return!r.has(e)}))}Cf()(Te,n)||Oe(n)})),at=Og(te),ot=ay(ye,Xe,ve,he,de,Ue,Be,Ke,(function(e,t){var n=null!==t&&void 0!==t?t:!Te.includes(e);rt(e,n)}),ae);e.useEffect((function(){pe(!0)}),[]);var it=e.useMemo((function(){return{_internalRenderMenuItem:oe,_internalRenderSubMenuItem:ie}}),[oe,ie]),st="horizontal"!==ye||C?ue:ue.map((function(t,n){return e.createElement(rg,{key:t.key,overflowDisabled:n>ke},t)})),ut=e.createElement(eg,x({id:b,ref:de,prefixCls:"".concat(l,"-overflow"),component:"ul",itemComponent:Eg,className:Fn()(l,"".concat(l,"-root"),"".concat(l,"-").concat(ye),d,(u={},(0,o.Z)(u,"".concat(l,"-inline-collapsed"),be),(0,o.Z)(u,"".concat(l,"-rtl"),ve),u),f),dir:y,style:p,role:"menu",tabIndex:v,data:st,renderRawItem:function(e){return e},renderRawRest:function(t){var n=t.length,r=n?ue.slice(-n):null;return e.createElement(Vg,{eventKey:cy,title:J,disabled:Ee,internalPopupClose:0===n,popupClassName:ee},r)},maxCount:"horizontal"!==ye||C?eg.INVALIDATE:eg.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(e){Se(e)},onKeyDown:ot},se));return e.createElement(yg.Provider,{value:it},e.createElement(vg.Provider,{value:he},e.createElement(rg,{prefixCls:l,rootClassName:f,mode:ye,openKeys:Te,rtl:ve,disabled:E,motion:fe?H:null,defaultMotions:fe?G:null,activeKey:Xe,onActive:Ye,onInactive:Qe,selectedKeys:et,inlineIndent:V,subMenuOpenDelay:T,subMenuCloseDelay:O,forceSubMenuRender:_,builtinPlacements:K,triggerSubMenuAction:X,getPopupContainer:at,itemIcon:Y,expandIcon:Q,onItemClick:nt,onOpenChange:rt},e.createElement(hg.Provider,{value:He},ut),e.createElement("div",{style:{display:"none"},"aria-hidden":!0},e.createElement(lg.Provider,{value:Ve},ue)))))})),hy=["className","title","eventKey","children"],vy=["children"],my=function(t){var n=t.className,r=t.title,a=(t.eventKey,t.children),o=Pn(t,hy),i=e.useContext(ng).prefixCls,s="".concat(i,"-item-group");return e.createElement("li",x({},o,{onClick:function(e){return e.stopPropagation()},className:Fn()(s,n)}),e.createElement("div",{className:"".concat(s,"-title"),title:"string"===typeof r?r:void 0},r),e.createElement("ul",{className:"".concat(s,"-list")},a))};function gy(t){var n=t.children,r=Pn(t,vy),a=Ng(n,dg(r.eventKey));return fg()?a:e.createElement(my,wi(r,["warnKey"]),a)}function yy(t){var n=t.className,r=t.style,a=e.useContext(ng).prefixCls;return fg()?null:e.createElement("li",{className:Fn()("".concat(a,"-item-divider"),n),style:r})}var by=dy;by.Item=Eg,by.SubMenu=Vg,by.ItemGroup=gy,by.Divider=yy;var xy=by,wy={adjustX:1,adjustY:1},ky=[0,0],Sy={topLeft:{points:["bl","tl"],overflow:wy,offset:[0,-4],targetOffset:ky},topCenter:{points:["bc","tc"],overflow:wy,offset:[0,-4],targetOffset:ky},topRight:{points:["br","tr"],overflow:wy,offset:[0,-4],targetOffset:ky},bottomLeft:{points:["tl","bl"],overflow:wy,offset:[0,4],targetOffset:ky},bottomCenter:{points:["tc","bc"],overflow:wy,offset:[0,4],targetOffset:ky},bottomRight:{points:["tr","br"],overflow:wy,offset:[0,4],targetOffset:ky}},Ey=Dm.ESC,Cy=Dm.TAB;var Ny=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger"];function Ty(t,n){var r=t.arrow,i=void 0!==r&&r,u=t.prefixCls,c=void 0===u?"rc-dropdown":u,l=t.transitionName,f=t.animation,p=t.align,d=t.placement,h=void 0===d?"bottomLeft":d,v=t.placements,m=void 0===v?Sy:v,g=t.getPopupContainer,y=t.showAction,b=t.hideAction,x=t.overlayClassName,w=t.overlayStyle,k=t.visible,S=t.trigger,E=void 0===S?["hover"]:S,C=Pn(t,Ny),N=e.useState(),T=(0,a.Z)(N,2),I=T[0],O=T[1],_="visible"in t?k:I,D=e.useRef(null);e.useImperativeHandle(n,(function(){return D.current}));var A=e.useRef(null),R="".concat(c,"-menu");!function(t){var n=t.visible,r=t.setTriggerVisible,a=t.triggerRef,o=t.menuRef,i=t.onVisibleChange,s=e.useRef(!1),u=function(){var e,t,o,s;n&&a.current&&(null===(e=a.current)||void 0===e||null===(t=e.triggerRef)||void 0===t||null===(o=t.current)||void 0===o||null===(s=o.focus)||void 0===s||s.call(o),r(!1),"function"===typeof i&&i(!1))},c=function(e){var t;switch(e.keyCode){case Ey:u();break;case Cy:!s.current&&(null===(t=o.current)||void 0===t?void 0:t.focus)?(e.preventDefault(),o.current.focus(),s.current=!0):u()}};e.useEffect((function(){return n?(window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c),s.current=!1}):function(){return null}}),[n])}({visible:_,setTriggerVisible:O,triggerRef:D,menuRef:A,onVisibleChange:t.onVisibleChange});var P=function(){var e=t.overlay;return"function"===typeof e?e():e},M=function(e){var n=t.onOverlayClick,r=P().props;O(!1),n&&n(e),r.onClick&&r.onClick(e)},F=function(){var t,n=P(),r=_s(A,n.ref),a=(t={prefixCls:R},(0,o.Z)(t,"data-dropdown-inject",!0),(0,o.Z)(t,"onClick",M),(0,o.Z)(t,"ref",Ds(n)?r:void 0),t);return"string"===typeof n.type&&(delete a.prefixCls,delete a["data-dropdown-inject"]),e.createElement(e.Fragment,null,i&&e.createElement("div",{className:"".concat(c,"-arrow")}),e.cloneElement(n,a))},L=b;return L||-1===E.indexOf("contextMenu")||(L=["click"]),e.createElement(dh,s(s({builtinPlacements:m},C),{},{prefixCls:c,ref:D,popupClassName:Fn()(x,(0,o.Z)({},"".concat(c,"-show-arrow"),i)),popupStyle:w,action:E,showAction:y,hideAction:L||[],popupPlacement:h,popupAlign:p,popupTransitionName:l,popupAnimation:f,popupVisible:_,stretch:function(){var e=t.minOverlayWidthMatchTrigger,n=t.alignPoint;return"minOverlayWidthMatchTrigger"in t?e:!n}()?"minWidth":"",popup:"function"===typeof t.overlay?F:F(),onPopupVisibleChange:function(e){var n=t.onVisibleChange;O(e),"function"===typeof n&&n(e)},getPopupContainer:g}),function(){var n=t.children,r=n.props?n.props:{},a=Fn()(r.className,function(){var e=t.openClassName;return void 0!==e?e:"".concat(c,"-open")}());return _&&n?e.cloneElement(n,{className:a}):n}())}var Iy=e.forwardRef(Ty);function Oy(t,n){var r=t.prefixCls,a=t.editable,o=t.locale,i=t.style;return a&&!1!==a.showAdd?e.createElement("button",{ref:n,type:"button",className:"".concat(r,"-nav-add"),style:i,"aria-label":(null===o||void 0===o?void 0:o.addAriaLabel)||"Add tab",onClick:function(e){a.onEdit("add",{event:e})}},a.addIcon||"+"):null}var _y=e.forwardRef(Oy);function Dy(t,n){var r=t.prefixCls,i=t.id,s=t.tabs,u=t.locale,c=t.mobile,l=t.moreIcon,f=void 0===l?"More":l,p=t.moreTransitionName,d=t.style,h=t.className,v=t.editable,m=t.tabBarGutter,g=t.rtl,y=t.removeAriaLabel,b=t.onTabClick,x=(0,e.useState)(!1),w=(0,a.Z)(x,2),k=w[0],S=w[1],E=(0,e.useState)(null),C=(0,a.Z)(E,2),N=C[0],T=C[1],I="".concat(i,"-more-popup"),O="".concat(r,"-dropdown"),_=null!==N?"".concat(I,"-").concat(N):null,D=null===u||void 0===u?void 0:u.dropdownAriaLabel;var A=e.createElement(xy,{onClick:function(e){var t=e.key,n=e.domEvent;b(t,n),S(!1)},id:I,tabIndex:-1,role:"listbox","aria-activedescendant":_,selectedKeys:[N],"aria-label":void 0!==D?D:"expanded dropdown"},s.map((function(t){var n=v&&!1!==t.closable&&!t.disabled;return e.createElement(Eg,{key:t.key,id:"".concat(I,"-").concat(t.key),role:"option","aria-controls":i&&"".concat(i,"-panel-").concat(t.key),disabled:t.disabled},e.createElement("span",null,t.tab),n&&e.createElement("button",{type:"button","aria-label":y||"remove",tabIndex:0,className:"".concat(O,"-menu-item-remove"),onClick:function(e){e.stopPropagation(),function(e,t){e.preventDefault(),e.stopPropagation(),v.onEdit("remove",{key:t,event:e})}(e,t.key)}},t.closeIcon||v.removeIcon||"\xd7"))})));function R(e){for(var t=s.filter((function(e){return!e.disabled})),n=t.findIndex((function(e){return e.key===N}))||0,r=t.length,a=0;a<r;a+=1){var o=t[n=(n+e+r)%r];if(!o.disabled)return void T(o.key)}}(0,e.useEffect)((function(){var e=document.getElementById(_);e&&e.scrollIntoView&&e.scrollIntoView(!1)}),[N]),(0,e.useEffect)((function(){k||T(null)}),[k]);var P=(0,o.Z)({},g?"marginRight":"marginLeft",m);s.length||(P.visibility="hidden",P.order=1);var M=Fn()((0,o.Z)({},"".concat(O,"-rtl"),g)),F=c?null:e.createElement(Iy,{prefixCls:O,overlay:A,trigger:["hover"],visible:k,transitionName:p,onVisibleChange:S,overlayClassName:M,mouseEnterDelay:.1,mouseLeaveDelay:.1},e.createElement("button",{type:"button",className:"".concat(r,"-nav-more"),style:P,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":I,id:"".concat(i,"-more"),"aria-expanded":k,onKeyDown:function(e){var t=e.which;if(k)switch(t){case Dm.UP:R(-1),e.preventDefault();break;case Dm.DOWN:R(1),e.preventDefault();break;case Dm.ESC:S(!1);break;case Dm.SPACE:case Dm.ENTER:null!==N&&b(N,e)}else[Dm.DOWN,Dm.SPACE,Dm.ENTER].includes(t)&&(S(!0),e.preventDefault())}},f));return e.createElement("div",{className:Fn()("".concat(r,"-nav-operations"),h),style:d,ref:n},F,e.createElement(_y,{prefixCls:r,locale:u,editable:v}))}var Ay=e.memo(e.forwardRef(Dy),(function(e,t){return t.tabMoving})),Ry=(0,e.createContext)(null),Py=Math.pow(.995,20);function My(t,n){var r=e.useRef(t),o=e.useState({}),i=(0,a.Z)(o,2)[1];return[r.current,function(e){var t="function"===typeof e?e(r.current):e;t!==r.current&&n(t,r.current),r.current=t,i({})}]}var Fy=function(t){var n,r=t.position,a=t.prefixCls,o=t.extra;if(!o)return null;var i={};return o&&"object"===(0,vi.Z)(o)&&!e.isValidElement(o)?i=o:i.right=o,"right"===r&&(n=i.right),"left"===r&&(n=i.left),n?e.createElement("div",{className:"".concat(a,"-extra-content")},n):null};function Ly(t,n){var i,u=e.useContext(Ry),c=u.prefixCls,l=u.tabs,f=t.className,p=t.style,d=t.id,h=t.animated,v=t.activeKey,m=t.rtl,g=t.extra,y=t.editable,b=t.locale,w=t.tabPosition,k=t.tabBarGutter,S=t.children,E=t.onTabClick,C=t.onTabScroll,N=(0,e.useRef)(),T=(0,e.useRef)(),I=(0,e.useRef)(),O=(0,e.useRef)(),_=function(){var t=(0,e.useRef)(new Map);return[function(n){return t.current.has(n)||t.current.set(n,e.createRef()),t.current.get(n)},function(e){t.current.delete(e)}]}(),D=(0,a.Z)(_,2),A=D[0],R=D[1],P="top"===w||"bottom"===w,M=My(0,(function(e,t){P&&C&&C({direction:e>t?"left":"right"})})),F=(0,a.Z)(M,2),L=F[0],j=F[1],Z=My(0,(function(e,t){!P&&C&&C({direction:e>t?"top":"bottom"})})),z=(0,a.Z)(Z,2),B=z[0],U=z[1],W=(0,e.useState)(0),V=(0,a.Z)(W,2),H=V[0],G=V[1],q=(0,e.useState)(0),X=(0,a.Z)(q,2),K=X[0],Y=X[1],Q=(0,e.useState)(null),$=(0,a.Z)(Q,2),J=$[0],ee=$[1],te=(0,e.useState)(null),ne=(0,a.Z)(te,2),re=ne[0],ae=ne[1],oe=(0,e.useState)(0),ie=(0,a.Z)(oe,2),se=ie[0],ue=ie[1],ce=(0,e.useState)(0),le=(0,a.Z)(ce,2),fe=le[0],pe=le[1],de=function(t){var n=(0,e.useRef)([]),r=(0,e.useState)({}),o=(0,a.Z)(r,2)[1],i=(0,e.useRef)("function"===typeof t?t():t),s=Om((function(){var e=i.current;n.current.forEach((function(t){e=t(e)})),n.current=[],i.current=e,o({})}));return[i.current,function(e){n.current.push(e),s()}]}(new Map),he=(0,a.Z)(de,2),ve=he[0],me=he[1],ge=function(t,n,r){return(0,e.useMemo)((function(){for(var e,r=new Map,a=n.get(null===(e=t[0])||void 0===e?void 0:e.key)||Pm,o=a.left+a.width,i=0;i<t.length;i+=1){var u,c=t[i].key,l=n.get(c);l||(l=n.get(null===(u=t[i-1])||void 0===u?void 0:u.key)||Pm);var f=r.get(c)||s({},l);f.right=o-f.left-f.width,r.set(c,f)}return r}),[t.map((function(e){return e.key})).join("_"),n,r])}(l,ve,H),ye="".concat(c,"-nav-operations-hidden"),be=0,xe=0;function we(e){return e<be?be:e>xe?xe:e}P?m?(be=0,xe=Math.max(0,H-J)):(be=Math.min(0,J-H),xe=0):(be=Math.min(0,re-K),xe=0);var ke=(0,e.useRef)(),Se=(0,e.useState)(),Ee=(0,a.Z)(Se,2),Ce=Ee[0],Ne=Ee[1];function Te(){Ne(Date.now())}function Ie(){window.clearTimeout(ke.current)}function Oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=ge.get(e)||{width:0,height:0,left:0,right:0,top:0};if(P){var n=L;m?t.right<L?n=t.right:t.right+t.width>L+J&&(n=t.right+t.width-J):t.left<-L?n=-t.left:t.left+t.width>-L+J&&(n=-(t.left+t.width-J)),U(0),j(we(n))}else{var r=B;t.top<-B?r=-t.top:t.top+t.height>-B+re&&(r=-(t.top+t.height-re)),j(0),U(we(r))}}!function(t,n){var r=(0,e.useState)(),o=(0,a.Z)(r,2),i=o[0],s=o[1],u=(0,e.useState)(0),c=(0,a.Z)(u,2),l=c[0],f=c[1],p=(0,e.useState)(0),d=(0,a.Z)(p,2),h=d[0],v=d[1],m=(0,e.useState)(),g=(0,a.Z)(m,2),y=g[0],b=g[1],x=(0,e.useRef)(),w=(0,e.useRef)(),k=(0,e.useRef)(null);k.current={onTouchStart:function(e){var t=e.touches[0],n=t.screenX,r=t.screenY;s({x:n,y:r}),window.clearInterval(x.current)},onTouchMove:function(e){if(i){e.preventDefault();var t=e.touches[0],r=t.screenX,a=t.screenY;s({x:r,y:a});var o=r-i.x,u=a-i.y;n(o,u);var c=Date.now();f(c),v(c-l),b({x:o,y:u})}},onTouchEnd:function(){if(i&&(s(null),b(null),y)){var e=y.x/h,t=y.y/h,r=Math.abs(e),a=Math.abs(t);if(Math.max(r,a)<.1)return;var o=e,u=t;x.current=window.setInterval((function(){Math.abs(o)<.01&&Math.abs(u)<.01?window.clearInterval(x.current):n(20*(o*=Py),20*(u*=Py))}),20)}},onWheel:function(e){var t=e.deltaX,r=e.deltaY,a=0,o=Math.abs(t),i=Math.abs(r);o===i?a="x"===w.current?t:r:o>i?(a=t,w.current="x"):(a=r,w.current="y"),n(-a,-a)&&e.preventDefault()}},e.useEffect((function(){function e(e){k.current.onTouchMove(e)}function n(e){k.current.onTouchEnd(e)}return document.addEventListener("touchmove",e,{passive:!1}),document.addEventListener("touchend",n,{passive:!1}),t.current.addEventListener("touchstart",(function(e){k.current.onTouchStart(e)}),{passive:!1}),t.current.addEventListener("wheel",(function(e){k.current.onWheel(e)})),function(){document.removeEventListener("touchmove",e),document.removeEventListener("touchend",n)}}),[])}(N,(function(e,t){function n(e,t){e((function(e){return we(e+t)}))}if(P){if(J>=H)return!1;n(j,e)}else{if(re>=K)return!1;n(U,t)}return Ie(),Te(),!0})),(0,e.useEffect)((function(){return Ie(),Ce&&(ke.current=window.setTimeout((function(){Ne(0)}),100)),Ie}),[Ce]);var _e=function(t,n,r,a,o){var i,s,u,c=o.tabs,l=o.tabPosition,f=o.rtl;["top","bottom"].includes(l)?(i="width",s=f?"right":"left",u=Math.abs(n.left)):(i="height",s="top",u=-n.top);var p=n[i],d=r[i],h=a[i],v=p;return d+h>p&&d<p&&(v=p-h),(0,e.useMemo)((function(){if(!c.length)return[0,0];for(var e=c.length,n=e,r=0;r<e;r+=1){var a=t.get(c[r].key)||Mm;if(a[s]+a[i]>u+v){n=r-1;break}}for(var o=0,l=e-1;l>=0;l-=1)if((t.get(c[l].key)||Mm)[s]<u){o=l+1;break}return[o,n]}),[t,u,v,l,c.map((function(e){return e.key})).join("_"),f])}(ge,{width:J,height:re,left:L,top:B},{width:H,height:K},{width:se,height:fe},s(s({},t),{},{tabs:l})),De=(0,a.Z)(_e,2),Ae=De[0],Re=De[1],Pe={};"top"===w||"bottom"===w?Pe[m?"marginRight":"marginLeft"]=k:Pe.marginTop=k;var Me=l.map((function(t,n){var r=t.key;return e.createElement(Rm,{id:d,prefixCls:c,key:r,tab:t,style:0===n?void 0:Pe,closable:t.closable,editable:y,active:r===v,renderWrapper:S,removeAriaLabel:null===b||void 0===b?void 0:b.removeAriaLabel,ref:A(r),onClick:function(e){E(r,e)},onRemove:function(){R(r)},onFocus:function(){Oe(r),Te(),N.current&&(m||(N.current.scrollLeft=0),N.current.scrollTop=0)}})})),Fe=Om((function(){var e,t,n,r,a,o,i=(null===(e=N.current)||void 0===e?void 0:e.offsetWidth)||0,s=(null===(t=N.current)||void 0===t?void 0:t.offsetHeight)||0,u=(null===(n=O.current)||void 0===n?void 0:n.offsetWidth)||0,c=(null===(r=O.current)||void 0===r?void 0:r.offsetHeight)||0;ee(i),ae(s),ue(u),pe(c);var f=((null===(a=T.current)||void 0===a?void 0:a.offsetWidth)||0)-u,p=((null===(o=T.current)||void 0===o?void 0:o.offsetHeight)||0)-c;G(f),Y(p),me((function(){var e=new Map;return l.forEach((function(t){var n=t.key,r=A(n).current;r&&e.set(n,{width:r.offsetWidth,height:r.offsetHeight,left:r.offsetLeft,top:r.offsetTop})})),e}))})),Le=l.slice(0,Ae),je=l.slice(Re+1),Ze=[].concat((0,r.Z)(Le),(0,r.Z)(je)),ze=(0,e.useState)(),Be=(0,a.Z)(ze,2),Ue=Be[0],We=Be[1],Ve=ge.get(v),He=(0,e.useRef)();function Ge(){Xc.cancel(He.current)}(0,e.useEffect)((function(){var e={};return Ve&&(P?(m?e.right=Ve.right:e.left=Ve.left,e.width=Ve.width):(e.top=Ve.top,e.height=Ve.height)),Ge(),He.current=Xc((function(){We(e)})),Ge}),[Ve,P,m]),(0,e.useEffect)((function(){Oe()}),[v,Ve,ge,P]),(0,e.useEffect)((function(){Fe()}),[m,k,v,l.map((function(e){return e.key})).join("_")]);var qe,Xe,Ke,Ye,Qe=!!Ze.length,$e="".concat(c,"-nav-wrap");return P?m?(Xe=L>0,qe=L+J<H):(qe=L<0,Xe=-L+J<H):(Ke=B<0,Ye=-B+re<K),e.createElement("div",{ref:n,role:"tablist",className:Fn()("".concat(c,"-nav"),f),style:p,onKeyDown:function(){Te()}},e.createElement(Fy,{position:"left",extra:g,prefixCls:c}),e.createElement(yf,{onResize:Fe},e.createElement("div",{className:Fn()($e,(i={},(0,o.Z)(i,"".concat($e,"-ping-left"),qe),(0,o.Z)(i,"".concat($e,"-ping-right"),Xe),(0,o.Z)(i,"".concat($e,"-ping-top"),Ke),(0,o.Z)(i,"".concat($e,"-ping-bottom"),Ye),i)),ref:N},e.createElement(yf,{onResize:Fe},e.createElement("div",{ref:T,className:"".concat(c,"-nav-list"),style:{transform:"translate(".concat(L,"px, ").concat(B,"px)"),transition:Ce?"none":void 0}},Me,e.createElement(_y,{ref:O,prefixCls:c,locale:b,editable:y,style:s(s({},0===Me.length?void 0:Pe),{},{visibility:Qe?"hidden":null})}),e.createElement("div",{className:Fn()("".concat(c,"-ink-bar"),(0,o.Z)({},"".concat(c,"-ink-bar-animated"),h.inkBar)),style:Ue}))))),e.createElement(Ay,x({},t,{removeAriaLabel:null===b||void 0===b?void 0:b.removeAriaLabel,ref:I,prefixCls:c,tabs:Ze,className:!Qe&&ye,tabMoving:!!Ce})),e.createElement(Fy,{position:"right",extra:g,prefixCls:c}))}var jy=e.forwardRef(Ly);function Zy(t){var n=t.id,r=t.activeKey,a=t.animated,i=t.tabPosition,s=t.rtl,u=t.destroyInactiveTabPane,c=e.useContext(Ry),l=c.prefixCls,f=c.tabs,p=a.tabPane,d=f.findIndex((function(e){return e.key===r}));return e.createElement("div",{className:Fn()("".concat(l,"-content-holder"))},e.createElement("div",{className:Fn()("".concat(l,"-content"),"".concat(l,"-content-").concat(i),(0,o.Z)({},"".concat(l,"-content-animated"),p)),style:d&&p?(0,o.Z)({},s?"marginRight":"marginLeft","-".concat(d,"00%")):null},f.map((function(t){return e.cloneElement(t.node,{key:t.key,prefixCls:l,tabKey:t.key,id:n,animated:p,active:t.key===r,destroyInactiveTabPane:u})}))))}function zy(t){var n=t.prefixCls,r=t.forceRender,o=t.className,i=t.style,u=t.id,c=t.active,l=t.animated,f=t.destroyInactiveTabPane,p=t.tabKey,d=t.children,h=e.useState(r),v=(0,a.Z)(h,2),m=v[0],g=v[1];e.useEffect((function(){c?g(!0):f&&g(!1)}),[c,f]);var y={};return c||(l?(y.visibility="hidden",y.height=0,y.overflowY="hidden"):y.display="none"),e.createElement("div",{id:u&&"".concat(u,"-panel-").concat(p),role:"tabpanel",tabIndex:c?0:-1,"aria-labelledby":u&&"".concat(u,"-tab-").concat(p),"aria-hidden":!c,style:s(s({},y),i),className:Fn()("".concat(n,"-tabpane"),c&&"".concat(n,"-tabpane-active"),o)},(c||m||r)&&d)}var By=["id","prefixCls","className","children","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","moreIcon","moreTransitionName","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll"],Uy=0;function Wy(t,n){var r,i,u=t.id,c=t.prefixCls,l=void 0===c?"rc-tabs":c,f=t.className,p=t.children,d=t.direction,h=t.activeKey,v=t.defaultActiveKey,m=t.editable,g=t.animated,y=void 0===g?{inkBar:!0,tabPane:!1}:g,b=t.tabPosition,w=void 0===b?"top":b,k=t.tabBarGutter,S=t.tabBarStyle,E=t.tabBarExtraContent,C=t.locale,N=t.moreIcon,T=t.moreTransitionName,I=t.destroyInactiveTabPane,O=t.renderTabBar,_=t.onChange,D=t.onTabClick,A=t.onTabScroll,R=Pn(t,By),P=function(t){return nu(t).map((function(t){return e.isValidElement(t)?s(s({key:void 0!==t.key?String(t.key):void 0},t.props),{},{node:t}):null})).filter((function(e){return e}))}(p),M="rtl"===d;i=!1===y?{inkBar:!1,tabPane:!1}:!0===y?{inkBar:!0,tabPane:!0}:s({inkBar:!0,tabPane:!1},"object"===(0,vi.Z)(y)?y:{});var F=(0,e.useState)(!1),L=(0,a.Z)(F,2),j=L[0],Z=L[1];(0,e.useEffect)((function(){Z(Bp())}),[]);var z=Si((function(){var e;return null===(e=P[0])||void 0===e?void 0:e.key}),{value:h,defaultValue:v}),B=(0,a.Z)(z,2),U=B[0],W=B[1],V=(0,e.useState)((function(){return P.findIndex((function(e){return e.key===U}))})),H=(0,a.Z)(V,2),G=H[0],q=H[1];(0,e.useEffect)((function(){var e,t=P.findIndex((function(e){return e.key===U}));-1===t&&(t=Math.max(0,Math.min(G,P.length-1)),W(null===(e=P[t])||void 0===e?void 0:e.key));q(t)}),[P.map((function(e){return e.key})).join("_"),U,G]);var X=Si(null,{value:u}),K=(0,a.Z)(X,2),Y=K[0],Q=K[1],$=w;j&&!["left","right"].includes(w)&&($="top"),(0,e.useEffect)((function(){u||(Q("rc-tabs-".concat(Uy)),Uy+=1)}),[]);var J,ee={id:Y,activeKey:U,animated:i,tabPosition:$,rtl:M,mobile:j},te=s(s({},ee),{},{editable:m,locale:C,moreIcon:N,moreTransitionName:T,tabBarGutter:k,onTabClick:function(e,t){null===D||void 0===D||D(e,t);var n=e!==U;W(e),n&&(null===_||void 0===_||_(e))},onTabScroll:A,extra:E,style:S,panes:p});return J=O?O(te,jy):e.createElement(jy,te),e.createElement(Ry.Provider,{value:{tabs:P,prefixCls:l}},e.createElement("div",x({ref:n,id:u,className:Fn()(l,"".concat(l,"-").concat($),(r={},(0,o.Z)(r,"".concat(l,"-mobile"),j),(0,o.Z)(r,"".concat(l,"-editable"),m),(0,o.Z)(r,"".concat(l,"-rtl"),M),r),f)},R),J,e.createElement(Zy,x({destroyInactiveTabPane:I},ee,{animated:i}))))}var Vy=e.forwardRef(Wy);Vy.TabPane=zy;var Hy=Vy,Gy={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"},qy=function(t,n){return e.createElement(Es,s(s({},t),{},{ref:n,icon:Gy}))};qy.displayName="EllipsisOutlined";var Xy=e.forwardRef(qy),Ky={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},Yy=function(t,n){return e.createElement(Es,s(s({},t),{},{ref:n,icon:Ky}))};Yy.displayName="PlusOutlined";var Qy=e.forwardRef(Yy),$y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"},Jy=function(t,n){return e.createElement(Es,s(s({},t),{},{ref:n,icon:$y}))};Jy.displayName="CloseOutlined";var eb=e.forwardRef(Jy),tb=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};function nb(t){var n,r=t.type,a=t.className,i=t.size,s=t.onEdit,u=t.hideAdd,c=t.centered,l=t.addIcon,f=tb(t,["type","className","size","onEdit","hideAdd","centered","addIcon"]),p=f.prefixCls,d=f.moreIcon,h=void 0===d?e.createElement(Xy,null):d,v=e.useContext(Js),m=v.getPrefixCls,g=v.direction,y=m("tabs",p);"editable-card"===r&&(n={onEdit:function(e,t){var n=t.key,r=t.event;null===s||void 0===s||s("add"===e?r:n,e)},removeIcon:e.createElement(eb,null),addIcon:l||e.createElement(Qy,null),showAdd:!0!==u});var b=m();return e.createElement(Ps.Consumer,null,(function(t){var s,u=void 0!==i?i:t;return e.createElement(Hy,x({direction:g,moreTransitionName:"".concat(b,"-slide-up")},f,{className:Fn()((s={},(0,o.Z)(s,"".concat(y,"-").concat(u),u),(0,o.Z)(s,"".concat(y,"-card"),["card","editable-card"].includes(r)),(0,o.Z)(s,"".concat(y,"-editable-card"),"editable-card"===r),(0,o.Z)(s,"".concat(y,"-centered"),c),s),a),editable:n,moreIcon:h,prefixCls:y}))}))}nb.TabPane=zy;var rb=nb,ab=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n};var ob=e.forwardRef((function(t,n){var r,a,i,s=e.useContext(Js),u=s.getPrefixCls,c=s.direction,l=e.useContext(Ps),f=t.prefixCls,p=t.className,d=t.extra,h=t.headStyle,v=void 0===h?{}:h,m=t.bodyStyle,g=void 0===m?{}:m,y=t.title,b=t.loading,w=t.bordered,k=void 0===w||w,S=t.size,E=t.type,C=t.cover,N=t.actions,T=t.tabList,I=t.children,O=t.activeTabKey,_=t.defaultActiveTabKey,D=t.tabBarExtraContent,A=t.hoverable,R=t.tabProps,P=void 0===R?{}:R,M=ab(t,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),F=u("card",f),L=0===g.padding||"0px"===g.padding?{padding:24}:void 0,j=e.createElement("div",{className:"".concat(F,"-loading-block")}),Z=e.createElement("div",{className:"".concat(F,"-loading-content"),style:L},e.createElement(Sm,{gutter:8},e.createElement(Em,{span:22},j)),e.createElement(Sm,{gutter:8},e.createElement(Em,{span:8},j),e.createElement(Em,{span:15},j)),e.createElement(Sm,{gutter:8},e.createElement(Em,{span:6},j),e.createElement(Em,{span:18},j)),e.createElement(Sm,{gutter:8},e.createElement(Em,{span:13},j),e.createElement(Em,{span:9},j)),e.createElement(Sm,{gutter:8},e.createElement(Em,{span:4},j),e.createElement(Em,{span:3},j),e.createElement(Em,{span:16},j))),z=void 0!==O,B=x(x({},P),(r={},(0,o.Z)(r,z?"activeKey":"defaultActiveKey",z?O:_),(0,o.Z)(r,"tabBarExtraContent",D),r)),U=T&&T.length?e.createElement(rb,x({size:"large"},B,{className:"".concat(F,"-head-tabs"),onChange:function(e){var n;null===(n=t.onTabChange)||void 0===n||n.call(t,e)}}),T.map((function(t){return e.createElement(rb.TabPane,{tab:t.tab,disabled:t.disabled,key:t.key})}))):null;(y||d||U)&&(i=e.createElement("div",{className:"".concat(F,"-head"),style:v},e.createElement("div",{className:"".concat(F,"-head-wrapper")},y&&e.createElement("div",{className:"".concat(F,"-head-title")},y),d&&e.createElement("div",{className:"".concat(F,"-extra")},d)),U));var W=C?e.createElement("div",{className:"".concat(F,"-cover")},C):null,V=e.createElement("div",{className:"".concat(F,"-body"),style:g},b?Z:I),H=N&&N.length?e.createElement("ul",{className:"".concat(F,"-actions")},function(t){var n=t.map((function(n,r){return e.createElement("li",{style:{width:"".concat(100/t.length,"%")},key:"action-".concat(r)},e.createElement("span",null,n))}));return n}(N)):null,G=wi(M,["onTabChange"]),q=S||l,X=Fn()(F,(a={},(0,o.Z)(a,"".concat(F,"-loading"),b),(0,o.Z)(a,"".concat(F,"-bordered"),k),(0,o.Z)(a,"".concat(F,"-hoverable"),A),(0,o.Z)(a,"".concat(F,"-contain-grid"),function(){var n;return e.Children.forEach(t.children,(function(e){e&&e.type&&e.type===Nm&&(n=!0)})),n}()),(0,o.Z)(a,"".concat(F,"-contain-tabs"),T&&T.length),(0,o.Z)(a,"".concat(F,"-").concat(q),q),(0,o.Z)(a,"".concat(F,"-type-").concat(E),!!E),(0,o.Z)(a,"".concat(F,"-rtl"),"rtl"===c),a),p);return e.createElement("div",x({ref:n},G,{className:X}),i,W,V,H)}));ob.Grid=Nm,ob.Meta=Im;var ib=ob;var sb=$((function(e){return{bg:e.reducer6,expand:e.reducer5}}))((function(t){var n={color:"inherit",textDecoration:"none",maxHeight:"75px",width:"60px",marginRight:"3vw",cursor:"pointer"},r=(0,e.useState)(""),o=(0,a.Z)(r,2),i=o[0],s=o[1],u=(0,e.useState)(!1),c=(0,a.Z)(u,2),l=c[0],f=c[1],p=function(e){null===e?(s(""),t.refreshFunction("")):(s(e.target.innerText),t.refreshFunction(e.target.innerText))},d=t.Products.slice(0),h=t.Products.slice(-8);return(0,Je.jsxs)("div",{className:"expand-wrap",children:[t.bg?(0,Je.jsx)(km,{searchClickHandler:p}):"",(0,Je.jsx)(gr,{in:t.expand,appear:t.expand,timeout:50,children:function(e){return(0,Je.jsxs)("div",{className:"expand-nav-wrap expand-".concat(e),children:[(0,Je.jsx)("div",{className:"expand-top",children:(0,Je.jsxs)("form",{className:"expand-form",children:[(0,Je.jsx)("div",{style:{marginRight:"10px"},children:(0,Je.jsx)(xt,{})}),(0,Je.jsx)("input",{type:"text",value:i,onChange:function(e){!function(e){s(e.currentTarget.value),t.refreshFunction(e.currentTarget.value)}(e)},placeholder:"\uc0c1\ud488\uba85\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."})]})}),(0,Je.jsxs)("div",{className:"expand-bottom",children:[(0,Je.jsxs)("div",{className:"expand-bottom-left",children:[(0,Je.jsx)("span",{style:{fontWeight:"500",marginRight:"3vw",marginTop:"5vh",fontSize:"1rem"},children:"\uc0e4\ub12c \ub9bd"}),(0,Je.jsx)("span",{style:n,value:"\ub9bd\uc2a4\ud2f1",onClick:function(e){p(e),f(!1)},children:"\ub9bd\uc2a4\ud2f1"}),(0,Je.jsx)("span",{style:n,value:"\ub9ac\ud034\ub4dc",onClick:function(e){p(e),f(!1)},children:"\ub9ac\ud034\ub4dc"}),(0,Je.jsx)("span",{style:n,value:"\ub9bd\uae00\ub85c\uc2a4",onClick:function(e){p(e),f(!1)},children:"\ub9bd\uae00\ub85c\uc2a4"}),(0,Je.jsx)("span",{style:n,value:"\ub9bd\ucf00\uc5b4",onClick:function(e){p(e),f(!1)},children:"\ub9bd\ucf00\uc5b4"})]}),(0,Je.jsxs)("div",{className:"expand-bottom-right",children:[(0,Je.jsx)("span",{style:{fontWeight:"500",marginLeft:"3vw",marginTop:"5vh",marginBottom:"4vh",fontSize:"1rem"},children:i?"\uac80\uc0c9\uacb0\uacfc":(0,Je.jsxs)("span",{children:["\uc2e0\uc0c1\ud488 \ub9bd",(0,Je.jsx)(ht,{style:{fontSize:"0.9rem",color:"#FF5959",marginBottom:"10px"}})]})}),(0,Je.jsx)("div",{className:"expand-img-wrap",children:0===d.length?(0,Je.jsx)("span",{style:{marginLeft:"3vw",color:"gray",fontWeight:"300"},children:"\uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."}):i?(0,Je.jsx)("div",{children:(0,Je.jsx)("ul",{className:"slide-".concat(l),children:(0,Je.jsx)("li",{children:d.map((function(e){return(0,Je.jsxs)("div",{className:"expand-img-box-wrap",children:[(0,Je.jsx)("div",{className:"expand-img-box",children:(0,Je.jsx)(Sm,{children:(0,Je.jsx)(Em,{children:(0,Je.jsx)("a",{href:"/product/".concat(e._id),children:(0,Je.jsx)(ib,{bodyStyle:{padding:"0"},cover:(0,Je.jsx)("img",{src:"http://localhost:5000/".concat(e.images[0]),alt:""})})})})})}),(0,Je.jsx)("span",{children:e.title})]})}))})})}):(0,Je.jsx)("div",{children:(0,Je.jsx)("ul",{className:"slide-".concat(l),children:(0,Je.jsx)("li",{children:h.map((function(e){return(0,Je.jsxs)("div",{className:"expand-img-box-wrap",children:[(0,Je.jsx)("div",{className:"expand-img-box",children:(0,Je.jsx)(Sm,{children:(0,Je.jsx)(Em,{children:(0,Je.jsx)("a",{href:"/product/".concat(e._id),children:(0,Je.jsx)(ib,{bodyStyle:{padding:"0"},cover:(0,Je.jsx)("img",{src:"http://localhost:5000/".concat(e.images[0]),alt:""})})})})})}),(0,Je.jsx)("span",{children:e.title})]})}))})})})}),d.length>4&&(0,Je.jsx)("span",{className:"slide-btn-wrap",children:l?(0,Je.jsx)(ui,{className:"slide-btn",onClick:function(){f(!l)}}):(0,Je.jsx)(ci,{className:"slide-btn",onClick:function(){f(!l)}})})]})]})]})}})]})}));function ub(){return{type:"auth_user",payload:p().get("/api/users/auth").then((function(e){return e.data}))}}function cb(e){var t={productId:e};return{type:"add_to_cart",payload:p().post("/api/users/addToCart",t).then((function(e){return e.data}))}}function lb(e){return{type:"remove_wish_item",payload:p().get("/api/users/removeFromWish?id=".concat(e)).then((function(e){return e.data.wish.forEach((function(e){})),e.data}))}}function fb(e){return ct({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"}}]})(e)}var pb=wn($((function(e){return{bg:e.reducer6,tap:e.reducer9,login:e.reducer8}}))((function(t){var n=re(),r=(0,e.useState)(""),o=(0,a.Z)(r,2),i=o[0],s=o[1],u=(0,e.useState)(""),c=(0,a.Z)(u,2),l=c[0],f=c[1],d=function(e){s(e.currentTarget.value)},h=function(e){f(e.currentTarget.value)},v=function(e){var t;e.preventDefault(),n((t={email:i,password:l},{type:"login_user",payload:p().post("/api/users/login",t).then((function(e){return e.data}))})).then((function(e){if(e.payload.loginSuccess){e.payload.userId;sessionStorage.setItem("userId",!0),window.location.replace("/home")}else alert("\uc544\uc774\ub514\uc640 \ube44\ubc00\ubc88\ud638\ub97c \ud655\uc778\ud574\uc8fc\uc138\uc694.")}))};return(0,Je.jsxs)("div",{className:"login-wrap",children:[t.bg?(0,Je.jsx)(km,{}):"ss",(0,Je.jsx)(gr,{in:t.login,appear:t.login,timeout:50,children:function(e){return(0,Je.jsxs)("div",{className:"login-box login-".concat(e),children:[(0,Je.jsxs)("div",{className:"login-box-top",children:[(0,Je.jsx)("h2",{children:"\ub85c\uadf8\uc778"}),(0,Je.jsx)("button",{onClick:function(){t.dispatch({type:"bg-off"}),t.dispatch({type:"nav-off"}),t.dispatch({type:"expand-off"}),t.dispatch({type:"login-off"}),t.dispatch({type:"play"})},children:(0,Je.jsx)(fb,{})})]}),(0,Je.jsx)("div",{className:"login-box-mid",children:(0,Je.jsxs)("form",{className:"login-box-mid-form",style:{display:"flex",flexDirection:"column"},onSubmit:v,children:[(0,Je.jsx)("span",{className:"login-box-mid-form-title mb-3",children:"Members"}),(0,Je.jsx)("span",{className:"mt-5",children:"\uc774\uba54\uc77c*"}),(0,Je.jsx)("input",{type:"email",value:i,onChange:d,required:!0}),(0,Je.jsx)("span",{className:"mt-3",children:"\ube44\ubc00\ubc88\ud638*"}),(0,Je.jsx)("input",{type:"password",value:l,onChange:h,required:!0}),(0,Je.jsx)("button",{className:"login-box-btn",children:"\ub85c\uadf8\uc778"})]})}),(0,Je.jsx)("div",{className:"login-box-bottom",children:(0,Je.jsxs)("div",{className:"login-box-bottom-margin",children:[(0,Je.jsx)("span",{className:"login-box-bottom-title mb-3",children:"Non-Members"}),(0,Je.jsx)("span",{className:"login-box-bottom-content mt-5",children:"\uc0c8\ub85c \uc624\uc2e0 \uace0\uac1d\ub2d8,\xa0\xa0\ud68c\uc6d0 \uac00\uc785\uc744 \ud558\uc2dc\uba74 \ub354 \ub9ce\uc740 \uc11c\ube44\uc2a4\ub97c \uc774\uc6a9\ud558\uc2e4 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),(0,Je.jsx)("div",{children:(0,Je.jsx)(_n,{to:"./register",onClick:function(){t.dispatch({type:"bg-off"}),t.dispatch({type:"nav-on"}),t.dispatch({type:"expand-off"}),t.dispatch({type:"login-off"}),t.dispatch({type:"play"})},children:(0,Je.jsx)("button",{className:"login-box-btn ",children:"\ud68c\uc6d0\uac00\uc785"})})})]})})]})}})]})})));var db=wn($((function(e){return{navTG:e.reducer1}}))((function(t){(0,e.useEffect)((function(){t.dispatch({type:"nav-on"})}),[t.navTG]);var n=re(),r=(0,e.useState)(""),o=(0,a.Z)(r,2),i=o[0],s=o[1],u=(0,e.useState)(""),c=(0,a.Z)(u,2),l=c[0],f=c[1],d=(0,e.useState)(""),h=(0,a.Z)(d,2),v=h[0],m=h[1],g=(0,e.useState)(""),y=(0,a.Z)(g,2),b=y[0],x=y[1];return(0,Je.jsx)("div",{className:"register-wrap",children:(0,Je.jsxs)("form",{className:"register-form",onSubmit:function(e){if(e.preventDefault(),l!==b)return alert("\ube44\ubc00\ubc88\ud638\uc640 \ube44\ubc00\ubc88\ud638 \ud655\uc778\uc774 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.");var r,a={email:i,password:l,name:v},o=document.getElementById("checkbox1").checked,s=document.getElementById("checkbox2").checked;if(!1===o||!1===s)return alert("\ub9bd\ud53d \uc774\uc6a9\uc57d\uad00\uacfc \uac1c\uc778\uc815\ubcf4 \uc218\uc9d1 \ubc0f \uc774\uc6a9\uc5d0 \ub300\ud55c \uc57d\uad00\uc5d0 \ub3d9\uc758 \ud574\uc8fc\uc138\uc694.");n((r=a,{type:"register_user",payload:p().post("/api/users/register",r).then((function(e){return e.data}))})).then((function(e){e.payload.success?(t.history.push("/home"),alert("\ud68c\uc6d0\uac00\uc785\uc5d0 \uc131\uacf5\ud558\uc600\uc2b5\ub2c8\ub2e4.")):alert("\ud68c\uc6d0\uac00\uc785\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4.")}))},children:[(0,Je.jsxs)("div",{className:"register-checkbox-wrap",children:[(0,Je.jsx)("input",{type:"checkbox",className:"register-checkbox",id:"checkbox1"}),(0,Je.jsxs)("label",{for:"checkbox1",className:"register-label",children:["\ub9bd\ud53d \uc774\uc6a9\uc57d\uad00 \ub3d9\uc758",(0,Je.jsx)("small",{children:"(\ud544\uc218)"})]})]}),(0,Je.jsx)("textarea",{spellcheck:"false",className:"register-text",children:"\uc5ec\ub7ec\ubd84\uc744 \ud658\uc601\ud569\ub2c8\ub2e4. \ub9bd\ud53d \uc11c\ube44\uc2a4 \ubc0f \uc81c\ud488(\uc774\ud558 \u2018\uc11c\ube44\uc2a4\u2019)\uc744 \uc774\uc6a9\ud574 \uc8fc\uc154\uc11c \uac10\uc0ac\ud569\ub2c8\ub2e4. \ubcf8 \uc57d\uad00\uc740 \ub2e4\uc591\ud55c \ub9bd\ud53d \uc11c\ube44\uc2a4\uc758 \uc774\uc6a9\uacfc \uad00\ub828\ud558\uc5ec \ub9bd\ud53d \uc11c\ube44\uc2a4\ub97c \uc81c\uacf5\ud558\ub294 \ub9bd\ud53d \uc8fc\uc2dd\ud68c\uc0ac(\uc774\ud558 \u2018\ub9bd\ud53d\u2019)\uc640 \uc774\ub97c \uc774\uc6a9\ud558\ub294 \ub9bd\ud53d \uc11c\ube44\uc2a4 \ud68c\uc6d0(\uc774\ud558 \u2018\ud68c\uc6d0\u2019) \ub610\ub294 \ube44\ud68c\uc6d0\uacfc\uc758 \uad00\uacc4\ub97c \uc124\uba85\ud558\uba70, \uc544\uc6b8\ub7ec \uc5ec\ub7ec\ubd84\uc758 \ub9bd\ud53d \uc11c\ube44\uc2a4 \uc774\uc6a9\uc5d0 \ub3c4\uc6c0\uc774 \ub420 \uc218 \uc788\ub294 \uc720\uc775\ud55c \uc815\ubcf4\ub97c \ud3ec\ud568\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4. \ub9bd\ud53d \uc11c\ube44\uc2a4\ub97c \uc774\uc6a9\ud558\uc2dc\uac70\ub098 \ub9bd\ud53d \uc11c\ube44\uc2a4 \ud68c\uc6d0\uc73c\ub85c \uac00\uc785\ud558\uc2e4 \uacbd\uc6b0 \uc5ec\ub7ec\ubd84\uc740 \ubcf8 \uc57d\uad00 \ubc0f \uad00\ub828 \uc6b4\uc601 \uc815\ucc45\uc744 \ud655\uc778\ud558\uac70\ub098 \ub3d9\uc758\ud558\uac8c \ub418\ubbc0\ub85c, \uc7a0\uc2dc \uc2dc\uac04\uc744 \ub0b4\uc2dc\uc5b4 \uc8fc\uc758 \uae4a\uac8c \uc0b4\ud3b4\ubd10 \uc8fc\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4. \ub2e4\uc591\ud55c \ub9bd\ud53d \uc11c\ube44\uc2a4\ub97c \uc990\uaca8\ubcf4\uc138\uc694. \ub9bd\ud53d\uc740 www.lippick.com\uc744 \ube44\ub86f\ud55c \ub9bd\ud53d \ub3c4\uba54\uc778\uc758 \uc6f9\uc0ac\uc774\ud2b8 \ubc0f \uc751\uc6a9\ud504\ub85c\uadf8\ub7a8(\uc5b4\ud50c\ub9ac\ucf00\uc774\uc158, \uc571)\uc744 \ud1b5\ud574 \uc815\ubcf4 \uac80\uc0c9, \ub2e4\ub978 \uc774\uc6a9\uc790\uc640\uc758 \ucee4\ubba4\ub2c8\ucf00\uc774\uc158, \ucf58\ud150\uce20 \uc81c\uacf5, \uc0c1\ud488 \uc1fc\ud551 \ub4f1 \uc5ec\ub7ec\ubd84\uc758 \uc0dd\ud65c\uc5d0 \ud3b8\ub9ac\ud568\uc744 \ub354\ud560 \uc218 \uc788\ub294 \ub2e4\uc591\ud55c \uc11c\ube44\uc2a4\ub97c \uc81c\uacf5\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4. \uc5ec\ub7ec\ubd84\uc740 PC, \ud734\ub300\ud3f0 \ub4f1 \uc778\ud130\ub137 \uc774\uc6a9\uc774 \uac00\ub2a5\ud55c \uac01\uc885 \ub2e8\ub9d0\uae30\ub97c \ud1b5\ud574 \uac01\uc591\uac01\uc0c9\uc758 \ub9bd\ud53d \uc11c\ube44\uc2a4\ub97c \uc790\uc720\ub86d\uac8c \uc774\uc6a9\ud558\uc2e4 \uc218 \uc788\uc73c\uba70, \uac1c\ubcc4 \uc11c\ube44\uc2a4\ub4e4\uc758 \uad6c\uccb4\uc801\uc778 \ub0b4\uc6a9\uc740 \uac01 \uc11c\ube44\uc2a4 \uc0c1\uc758 \uc548\ub0b4, \uacf5\uc9c0\uc0ac\ud56d, \ub9bd\ud53d \uc6f9\uace0\uac1d\uc13c\ud130(\uc774\ud558 \u2018\uace0\uac1d\uc13c\ud130\u2019) \ub3c4\uc6c0\ub9d0 \ub4f1\uc5d0\uc11c \uc27d\uac8c \ud655\uc778\ud558\uc2e4 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub9bd\ud53d\uc740 \uae30\ubcf8\uc801\uc73c\ub85c \uc5ec\ub7ec\ubd84 \ubaa8\ub450\uc5d0\uac8c \ub3d9\uc77c\ud55c \ub0b4\uc6a9\uc758 \uc11c\ube44\uc2a4\ub97c \uc81c\uacf5\ud569\ub2c8\ub2e4. \ub2e4\ub9cc, '\uccad\uc18c\ub144\ubcf4\ud638\ubc95' \ub4f1 \uad00\ub828 \ubc95\ub839\uc774\ub098 \uae30\ud0c0 \uac1c\ubcc4 \uc11c\ube44\uc2a4 \uc81c\uacf5\uc5d0\uc11c\uc758 \ud2b9\ubcc4\ud55c \ud544\uc694\uc5d0 \uc758\ud574\uc11c \uc5f0\ub839 \ub610\ub294 \uc77c\uc815\ud55c \ub4f1\uae09\uc744 \uae30\uc900\uc73c\ub85c \uc774\uc6a9\uc790\ub97c \uad6c\ubd84\ud558\uc5ec \uc81c\uacf5\ud558\ub294 \uc11c\ube44\uc2a4\uc758 \ub0b4\uc6a9, \uc774\uc6a9 \uc2dc\uac04, \uc774\uc6a9 \ud69f\uc218 \ub4f1\uc744 \ub2e4\ub974\uac8c \ud558\ub294 \ub4f1 \uc77c\ubd80 \uc774\uc6a9\uc744 \uc81c\ud55c\ud558\ub294 \uacbd\uc6b0\uac00 \uc788\uc2b5\ub2c8\ub2e4. \uc790\uc138\ud55c \ub0b4\uc6a9\uc740 \uc5ed\uc2dc \uac01 \uc11c\ube44\uc2a4 \uc0c1\uc758 \uc548\ub0b4, \uacf5\uc9c0\uc0ac\ud56d, \uace0\uac1d\uc13c\ud130 \ub3c4\uc6c0\ub9d0 \ub4f1\uc5d0\uc11c \ud655\uc778\ud558\uc2e4 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub9bd\ud53d \uc11c\ube44\uc2a4\uc5d0\ub294 \uae30\ubcf8\uc801\uc73c\ub85c \ubcf8 \uc57d\uad00\uc774 \uc801\uc6a9\ub429\ub2c8\ub2e4\ub9cc \ub9bd\ud53d\uac00 \ub2e4\uc591\ud55c \uc11c\ube44\uc2a4\ub97c \uc81c\uacf5\ud558\ub294 \uacfc\uc815\uc5d0\uc11c \ubd80\ub4dd\uc774 \ubcf8 \uc57d\uad00 \uc678 \ubcc4\ub3c4\uc758 \uc57d\uad00, \uc6b4\uc601\uc815\ucc45 \ub4f1\uc744 \uc801\uc6a9\ud558\ub294 \uacbd\uc6b0(\uc608, \ub9bd\ud53d\ud398\uc774, V LIVE \ub4f1)\uac00 \uc788\uc2b5\ub2c8\ub2e4. \uadf8\ub9ac\uace0 \ub9bd\ud53d \uacc4\uc5f4\uc0ac\uac00 \uc81c\uacf5\ud558\ub294 \ud2b9\uc815 \uc11c\ube44\uc2a4\uc758 \uacbd\uc6b0\uc5d0\ub3c4(\uc608, LINE, SNOW\ub4f1) \ud574\ub2f9 \uc6b4\uc601 \ud68c\uc0ac\uac00 \uc815\ud55c \uace0\uc720\uc758 \uc57d\uad00, \uc6b4\uc601\uc815\ucc45 \ub4f1\uc774 \uc801\uc6a9\ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774\ub7ec\ud55c \ub0b4\uc6a9\uc740 \uac01\uac01\uc758 \ud574\ub2f9 \uc11c\ube44\uc2a4 \ucd08\uae30 \ud654\uba74\uc5d0\uc11c \ud655\uc778\ud574 \uc8fc\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4. \ud68c\uc6d0\uc73c\ub85c \uac00\uc785\ud558\uc2dc\uba74 \ub9bd\ud53d \uc11c\ube44\uc2a4\ub97c \ubcf4\ub2e4 \ud3b8\ub9ac\ud558\uac8c \uc774\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc5ec\ub7ec\ubd84\uc740 \ubcf8 \uc57d\uad00\uc744 \uc77d\uace0 \ub3d9\uc758\ud558\uc2e0 \ud6c4 \ud68c\uc6d0 \uac00\uc785\uc744 \uc2e0\uccad\ud558\uc2e4 \uc218 \uc788\uc73c\uba70, \ub9bd\ud53d\uc740 \uc774\uc5d0 \ub300\ud55c \uc2b9\ub099\uc744 \ud1b5\ud574 \ud68c\uc6d0 \uac00\uc785 \uc808\ucc28\ub97c \uc644\ub8cc\ud558\uace0 \uc5ec\ub7ec\ubd84\uaed8 \ub9bd\ud53d \uc11c\ube44\uc2a4 \uc774\uc6a9 \uacc4\uc815(\uc774\ud558 \u2018\uacc4\uc815\u2019)\uc744 \ubd80\uc5ec\ud569\ub2c8\ub2e4. \uacc4\uc815\uc774\ub780 \ud68c\uc6d0\uc774 \ub9bd\ud53d \uc11c\ube44\uc2a4\uc5d0 \ub85c\uadf8\uc778\ud55c \uc774\ud6c4 \uc774\uc6a9\ud558\ub294 \uac01\uc885 \uc11c\ube44\uc2a4 \uc774\uc6a9 \uc774\ub825\uc744 \ud68c\uc6d0 \ubcc4\ub85c \uad00\ub9ac\ud558\uae30 \uc704\ud574 \uc124\uc815\ud55c \ud68c\uc6d0 \uc2dd\ubcc4 \ub2e8\uc704\ub97c \ub9d0\ud569\ub2c8\ub2e4. \ud68c\uc6d0\uc740 \uc790\uc2e0\uc758 \uacc4\uc815\uc744 \ud1b5\ud574 \uc880\ub354 \ub2e4\uc591\ud55c \ub9bd\ud53d \uc11c\ube44\uc2a4\ub97c \ubcf4\ub2e4 \ud3b8\ub9ac\ud558\uac8c \uc774\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774\uc640 \uad00\ub828\ud55c \uc0c1\uc138\ud55c \ub0b4\uc6a9\uc740 \uacc4\uc815 \uc6b4\uc601\uc815\ucc45 \ubc0f \uace0\uac1d\uc13c\ud130 \ub0b4 \ub9bd\ud53d \ud68c\uc6d0\uac00\uc785 \ubc29\ubc95 \ub4f1\uc5d0\uc11c \ud655\uc778\ud574 \uc8fc\uc138\uc694. \ub9bd\ud53d\uc740 \ub2e8\uccb4\uc5d0 \uc18d\ud55c \uc5ec\ub7ec \uad6c\uc131\uc6d0\ub4e4\uc774 \uacf5\ub3d9\uc758 \uacc4\uc815\uc73c\ub85c \ub9bd\ud53d \uc11c\ube44\uc2a4\ub97c \ud568\uaed8 \uc774\uc6a9\ud560 \uc218 \uc788\ub3c4\ub85d \ub2e8\uccb4\ud68c\uc6d0 \uacc4\uc815\ub3c4 \ubd80\uc5ec\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4. \ub2e8\uccb4\ud68c\uc6d0 \uad6c\uc131\uc6d0\ub4e4\uc740 \ud558\ub098\uc758 \uacc4\uc815 \ubc0f \uc544\uc774\ub514(ID)\ub97c \uacf5\uc720\ud558\ub418 \uac01\uc790 \uac1c\ubcc4\uc801\uc73c\ub85c \uc124\uc815\ud55c \ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud558\uc5ec \uacc4\uc815\uc5d0 \ub85c\uadf8\uc778\ud558\uace0 \uac01\uc885 \uc11c\ube44\uc2a4\ub97c \uc774\uc6a9\ud558\uac8c \ub429\ub2c8\ub2e4. \ub2e8\uccb4\ud68c\uc6d0\uc740 \uad00\ub9ac\uc790\uc640 \uba64\ubc84\ub85c \uad6c\uc131\ub418\uba70, \uad00\ub9ac\uc790\ub294 \uad6c\uc131\uc6d0 \uc804\ubd80\ub85c\ubd80\ud130 \uad8c\ud55c\uc744 \uc704\uc784 \ubc1b\uc544 \ub2e8\uccb4\ud68c\uc6d0\uc744 \ub300\ud45c\ud558\uace0 \ub2e8\uccb4\ud68c\uc6d0 \uacc4\uc815\uc744 \uc6b4\uc6a9\ud569\ub2c8\ub2e4. \ub530\ub77c\uc11c \uad00\ub9ac\uc790\ub294 \ub2e8\uccb4\ud68c\uc6d0 \uacc4\uc815\uc744 \ud1b5\ud574 \ubcc4\ub3c4 \uc57d\uad00 \ub610\ub294 \uae30\uc874 \uc57d\uad00 \uac1c\uc815\uc5d0 \ub300\ud574 \ub3d9\uc758\ud558\uac70\ub098 \ub2e8\uccb4\ud68c\uc6d0\uc5d0\uc11c \ud0c8\ud1f4\ud560 \uc218 \uc788\uace0, \uba64\ubc84\ub4e4\uc758 \ub2e8\uccb4\ud68c\uc6d0 \uacc4\uc815 \ub85c\uadf8\uc778 \ubc29\ubc95 \ubc0f \uc774\ub97c \ud1b5\ud55c \uac8c\uc2dc\ubb3c \uac8c\uc7ac \ub4f1 \ub9bd\ud53d \uc11c\ube44\uc2a4 \uc774\uc6a9\uc744 \uad00\ub9ac(\uac8c\uc2dc\ubb3c \uc0ad\uc81c \ud3ec\ud568)\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ubcf8 \uc57d\uad00\uc5d0\uc11c \uaddc\uc815\ud55c \uc0ac\ud56d\uc740 \uc6d0\uce59\uc801\uc73c\ub85c \uad6c\uc131\uc6d0 \ubaa8\ub450\uc5d0\uac8c \uc801\uc6a9\ub418\uba70, \uac01\uac01\uc758 \uad6c\uc131\uc6d0\uc740 \ub2e4\ub978 \uad6c\uc131\uc6d0\ub4e4\uc758 \ub2e8\uccb4\ud68c\uc6d0 \uacc4\uc815 \ubc0f \uc544\uc774\ub514(ID)\ub97c \ud1b5\ud55c \uc11c\ube44\uc2a4 \uc774\uc6a9\uc5d0 \uad00\ud574 \uc5f0\ub300\ucc45\uc784\uc744 \ubd80\ub2f4\ud569\ub2c8\ub2e4. \ub2e8\uccb4\ud68c\uc6d0 \uacc4\uc815 \uc0ac\uc6a9\uc5d0\uc11c\uc758 \uad00\ub9ac\uc790, \uba64\ubc84 \ub4f1\uc758 \uad8c\ud55c \ubc0f (\uacf5\ub3d9)\ucc45\uc784\uc5d0 \uad00\ud55c \uc0ac\ud56d \ub4f1\uc740 \uacc4\uc815 \uc6b4\uc601\uc815\ucc45 \ubc0f \uace0\uac1d\uc13c\ud130 \ub0b4 \ub9bd\ud53d \ub2e8\uccb4\ud68c\uc6d0(\ub2e8\uccb4 \uc544\uc774\ub514) \uc18c\uac1c \ub4f1\uc5d0\uc11c \ud655\uc778\ud574 \uc8fc\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4. \uc5ec\ub7ec\ubd84\uc774 \uc81c\uacf5\ud55c \ucf58\ud150\uce20\ub97c \uc18c\uc911\ud788 \ub2e4\ub8f0 \uac83\uc785\ub2c8\ub2e4. \ub9bd\ud53d\uc740 \uc5ec\ub7ec\ubd84\uc774 \uac8c\uc7ac\ud55c \uac8c\uc2dc\ubb3c\uc774 \ub9bd\ud53d \uc11c\ube44\uc2a4\ub97c \ud1b5\ud574 \ub2e4\ub978 \uc774\uc6a9\uc790\ub4e4\uc5d0\uac8c \uc804\ub2ec\ub418\uc5b4 \uc6b0\ub9ac \ubaa8\ub450\uc758 \uc0b6\uc744 \ub354\uc6b1 \ud48d\uc694\ub86d\uac8c \ud574\uc904 \uac83\uc744 \uae30\ub300\ud569\ub2c8\ub2e4. \uac8c\uc2dc\ubb3c\uc740 \uc5ec\ub7ec\ubd84\uc774 \ud0c0\uc778 \ub610\ub294 \uc790\uc2e0\uc774 \ubcf4\uac8c \ud560 \ubaa9\uc801\uc73c\ub85c \ub9bd\ud53d \uc11c\ube44\uc2a4 \uc0c1\uc5d0 \uac8c\uc7ac\ud55c \ubd80\ud638, \ubb38\uc790, \uc74c\uc131, \uc74c\ud5a5, \uadf8\ub9bc, \uc0ac\uc9c4, \ub3d9\uc601\uc0c1, \ub9c1\ud06c \ub4f1\uc73c\ub85c \uad6c\uc131\ub41c \uac01\uc885 \ucf58\ud150\uce20 \uc790\uccb4 \ub610\ub294 \ud30c\uc77c\uc744 \ub9d0\ud569\ub2c8\ub2e4. \ub9bd\ud53d\uc740 \uc5ec\ub7ec\ubd84\uc758 \uc0dd\uac01\uacfc \uac10\uc815\uc774 \ud45c\ud604\ub41c \ucf58\ud150\uce20\ub97c \uc18c\uc911\ud788 \ubcf4\ud638\ud560 \uac83\uc744 \uc57d\uc18d \ub4dc\ub9bd\ub2c8\ub2e4. \uc5ec\ub7ec\ubd84\uc774 \uc81c\uc791\ud558\uc5ec \uac8c\uc7ac\ud55c \uac8c\uc2dc\ubb3c\uc5d0 \ub300\ud55c \uc9c0\uc2dd\uc7ac\uc0b0\uad8c \ub4f1\uc758 \uad8c\ub9ac\ub294 \ub2f9\uc5f0\ud788 \uc5ec\ub7ec\ubd84\uc5d0\uac8c \uc788\uc2b5\ub2c8\ub2e4. \ud55c\ud3b8, \ub9bd\ud53d \uc11c\ube44\uc2a4\ub97c \ud1b5\ud574 \uc5ec\ub7ec\ubd84\uc774 \uac8c\uc7ac\ud55c \uac8c\uc2dc\ubb3c\uc744 \uc801\ubc95\ud558\uac8c \uc81c\uacf5\ud558\ub824\uba74 \ud574\ub2f9 \ucf58\ud150\uce20\uc5d0 \ub300\ud55c \uc800\uc7a5, \ubcf5\uc81c, \uc218\uc815, \uacf5\uc911 \uc1a1\uc2e0, \uc804\uc2dc, \ubc30\ud3ec, 2\ucc28\uc801 \uc800\uc791\ubb3c \uc791\uc131(\ub2e8, \ubc88\uc5ed\uc5d0 \ud55c\ud568) \ub4f1\uc758 \uc774\uc6a9 \uad8c\ud55c(\uae30\ud55c\uacfc \uc9c0\uc5ed \uc81c\ud55c\uc5d0 \uc815\ud568\uc774 \uc5c6\uc73c\uba70, \ubcc4\ub3c4 \ub300\uac00 \uc9c0\uae09\uc774 \uc5c6\ub294 \ub77c\uc774\uc120\uc2a4)\uc774 \ud544\uc694\ud569\ub2c8\ub2e4. \uac8c\uc2dc\ubb3c \uac8c\uc7ac\ub85c \uc5ec\ub7ec\ubd84\uc740 \ub9bd\ud53d\uc5d0\uac8c \uadf8\ub7ec\ud55c \uad8c\ud55c\uc744 \ubd80\uc5ec\ud558\uac8c \ub418\ubbc0\ub85c, \uc5ec\ub7ec\ubd84\uc740 \uc774\uc5d0 \ud544\uc694\ud55c \uad8c\ub9ac\ub97c \ubcf4\uc720\ud558\uace0 \uc788\uc5b4\uc57c \ud569\ub2c8\ub2e4. \ub9bd\ud53d\uc740 \uc5ec\ub7ec\ubd84\uc774 \ubd80\uc5ec\ud574 \uc8fc\uc2e0 \ucf58\ud150\uce20 \uc774\uc6a9 \uad8c\ud55c\uc744 \uc800\uc791\uad8c\ubc95 \ub4f1 \uad00\ub828 \ubc95\ub839\uc5d0\uc11c \uc815\ud558\ub294 \ubc14\uc5d0 \ub530\ub77c \ub9bd\ud53d \uc11c\ube44\uc2a4 \ub0b4 \ub178\ucd9c, \uc11c\ube44\uc2a4 \ud64d\ubcf4\ub97c \uc704\ud55c \ud65c\uc6a9, \uc11c\ube44\uc2a4 \uc6b4\uc601, \uac1c\uc120 \ubc0f \uc0c8\ub85c\uc6b4 \uc11c\ube44\uc2a4 \uac1c\ubc1c\uc744 \uc704\ud55c \uc5f0\uad6c, \uc6f9 \uc811\uadfc\uc131 \ub4f1 \ubc95\ub960\uc0c1 \uc758\ubb34 \uc900\uc218, \uc678\ubd80 \uc0ac\uc774\ud2b8\uc5d0\uc11c\uc758 \uac80\uc0c9, \uc218\uc9d1 \ubc0f \ub9c1\ud06c \ud5c8\uc6a9\uc744 \uc704\ud574\uc11c\ub9cc \uc81c\ud55c\uc801\uc73c\ub85c \ud589\uc0ac\ud560 \uac83\uc785\ub2c8\ub2e4. \ub9cc\uc57d, \uadf8 \ubc16\uc758 \ubaa9\uc801\uc744 \uc704\ud574 \ubd80\ub4dd\uc774 \uc5ec\ub7ec\ubd84\uc758 \ucf58\ud150\uce20\ub97c \uc774\uc6a9\ud558\uace0\uc790 \ud560 \uacbd\uc6b0\uc5d4 \uc0ac\uc804\uc5d0 \uc5ec\ub7ec\ubd84\uaed8 \uc124\uba85\uc744 \ub4dc\ub9ac\uace0 \ub3d9\uc758\ub97c \ubc1b\ub3c4\ub85d \ud558\uaca0\uc2b5\ub2c8\ub2e4. \ub610\ud55c \uc5ec\ub7ec\ubd84\uc774 \uc81c\uacf5\ud55c \uc18c\uc911\ud55c \ucf58\ud150\uce20\ub294 \ub9bd\ud53d \uc11c\ube44\uc2a4\ub97c \uac1c\uc120\ud558\uace0 \uc0c8\ub85c\uc6b4 \ub9bd\ud53d \uc11c\ube44\uc2a4\ub97c \uc81c\uacf5\ud558\uae30 \uc704\ud574 \uc778\uacf5\uc9c0\ub2a5 \ubd84\uc57c \uae30\uc220 \ub4f1\uc758 \uc5f0\uad6c \uac1c\ubc1c \ubaa9\uc801\uc73c\ub85c \ub9bd\ud53d \ubc0f \ub9bd\ud53d \uacc4\uc5f4\uc0ac\uc5d0\uc11c \uc0ac\uc6a9\ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub9bd\ud53d\uc740 \uc9c0\uc18d\uc801\uc778 \uc5f0\uad6c \uac1c\ubc1c\uc744 \ud1b5\ud574 \uc5ec\ub7ec\ubd84\uaed8 \uc880 \ub354 \ud3b8\ub9ac\ud558\uace0 \uc720\uc6a9\ud55c \uc11c\ube44\uc2a4\ub97c \uc81c\uacf5\ud574 \ub4dc\ub9b4 \uc218 \uc788\ub3c4\ub85d \ucd5c\uc120\uc744 \ub2e4\ud558\uaca0\uc2b5\ub2c8\ub2e4. \ub9bd\ud53d\uc740 \uc5ec\ub7ec\ubd84\uc774 \uc790\uc2e0\uc774 \uc81c\uacf5\ud55c \ucf58\ud150\uce20\uc5d0 \ub300\ud55c \ub9bd\ud53d \ub610\ub294 \ub2e4\ub978 \uc774\uc6a9\uc790\ub4e4\uc758 \uc774\uc6a9 \ub610\ub294 \uc811\uadfc\uc744 \ubcf4\ub2e4 \uc27d\uac8c \uad00\ub9ac\ud560 \uc218 \uc788\ub3c4\ub85d \ub2e4\uc591\ud55c \uc218\ub2e8\uc744 \uc81c\uacf5\ud558\uae30 \uc704\ud574 \ub178\ub825\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4. \uc5ec\ub7ec\ubd84\uc740 \ub9bd\ud53d \uc11c\ube44\uc2a4 \ub0b4\uc5d0 \ucf58\ud150\uce20 \uc0ad\uc81c, \ube44\uacf5\uac1c \ub4f1\uc758 \uad00\ub9ac\uae30\ub2a5\uc774 \uc81c\uacf5\ub418\ub294 \uacbd\uc6b0 \uc774\ub97c \ud1b5\ud574 \uc9c1\uc811 \ud0c0\uc778\uc758 \uc774\uc6a9 \ub610\ub294 \uc811\uadfc\uc744 \ud1b5\uc81c\ud560 \uc218 \uc788\uace0, \uace0\uac1d\uc13c\ud130\ub97c \ud1b5\ud574\uc11c\ub3c4 \ucf58\ud150\uce20\uc758 \uc0ad\uc81c, \ube44\uacf5\uac1c, \uac80\uc0c9\uacb0\uacfc \uc81c\uc678 \ub4f1\uc758 \uc870\uce58\ub97c \uc694\uccad\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub2e4\ub9cc, \uc77c\ubd80 \ub9bd\ud53d \uc11c\ube44\uc2a4\uc758 \uacbd\uc6b0 \uc0ad\uc81c, \ube44\uacf5\uac1c \ub4f1\uc758 \ucc98\ub9ac\uac00 \uc5b4\ub824\uc6b8 \uc218 \uc788\uc73c\uba70, \uc774\ub7ec\ud55c \ub0b4\uc6a9\uc740 \uac01 \uc11c\ube44\uc2a4 \uc0c1\uc758 \uc548\ub0b4, \uacf5\uc9c0\uc0ac\ud56d, \uace0\uac1d\uc13c\ud130 \ub3c4\uc6c0\ub9d0 \ub4f1\uc5d0\uc11c \ud655\uc778\ud574 \uc8fc\uc2dc\uae38 \ubd80\ud0c1 \ub4dc\ub9bd\ub2c8\ub2e4. \uc5ec\ub7ec\ubd84\uc758 \uac1c\uc778\uc815\ubcf4\ub97c \uc18c\uc911\ud788 \ubcf4\ud638\ud569\ub2c8\ub2e4. \ub9bd\ud53d\uc740 \uc11c\ube44\uc2a4\uc758 \uc6d0\ud65c\ud55c \uc81c\uacf5\uc744 \uc704\ud558\uc5ec \ud68c\uc6d0\uc774 \ub3d9\uc758\ud55c \ubaa9\uc801\uacfc \ubc94\uc704 \ub0b4\uc5d0\uc11c\ub9cc \uac1c\uc778\uc815\ubcf4\ub97c \uc218\uc9d1\u2219\uc774\uc6a9\ud558\uba70, \uac1c\uc778\uc815\ubcf4 \ubcf4\ud638 \uad00\ub828 \ubc95\ub839\uc5d0 \ub530\ub77c \uc548\uc804\ud558\uac8c \uad00\ub9ac\ud569\ub2c8\ub2e4. \ub9bd\ud53d\uac00 \uc774\uc6a9\uc790 \ubc0f \ud68c\uc6d0\uc5d0 \ub300\ud574 \uad00\ub828 \uac1c\uc778\uc815\ubcf4\ub97c \uc548\uc804\ud558\uac8c \ucc98\ub9ac\ud558\uae30 \uc704\ud558\uc5ec \uae30\uc6b8\uc774\ub294 \ub178\ub825\uc774\ub098 \uae30\ud0c0 \uc0c1\uc138\ud55c \uc0ac\ud56d\uc740 \uac1c\uc778\uc815\ubcf4 \ucc98\ub9ac\ubc29\uce68\uc5d0\uc11c \ud655\uc778\ud558\uc2e4 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub9bd\ud53d\uc740 \uc5ec\ub7ec\ubd84\uc774 \uc11c\ube44\uc2a4\ub97c \uc774\uc6a9\ud558\uae30 \uc704\ud574 \uc77c\uc815 \uae30\uac04 \ub3d9\uc548 \ub85c\uadf8\uc778 \ud639\uc740 \uc811\uc18d\ud55c \uae30\ub85d\uc774 \uc5c6\ub294 \uacbd\uc6b0, \uc804\uc790\uba54\uc77c, \uc11c\ube44\uc2a4 \ub0b4 \uc54c\ub9bc \ub610\ub294 \uae30\ud0c0 \uc801\uc808\ud55c \uc804\uc790\uc801 \uc218\ub2e8\uc744 \ud1b5\ud574 \uc0ac\uc804\uc5d0 \uc548\ub0b4\ud574 \ub4dc\ub9b0 \ud6c4 \uc5ec\ub7ec\ubd84\uc758 \uc815\ubcf4\ub97c \ud30c\uae30\ud558\uac70\ub098 \ubd84\ub9ac \ubcf4\uad00\ud560 \uc218 \uc788\uc73c\uba70, \ub9cc\uc57d \uc774\ub85c \uc778\ud574 \uc11c\ube44\uc2a4 \uc81c\uacf5\uc744 \uc704\ud574 \ud544\uc218\uc801\uc778 \uc815\ubcf4\uac00 \ubd80\uc871\ud574\uc9c8 \uacbd\uc6b0 \ubd80\ub4dd\uc774 \uad00\ub828 \uc11c\ube44\uc2a4 \uc774\uc6a9\uacc4\uc57d\uc744 \ud574\uc9c0\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ud0c0\uc778\uc758 \uad8c\ub9ac\ub97c \uc874\uc911\ud574 \uc8fc\uc138\uc694. \uc5ec\ub7ec\ubd84\uc774 \ubb34\uc2ec\ucf54 \uac8c\uc7ac\ud55c \uac8c\uc2dc\ubb3c\ub85c \uc778\ud574 \ud0c0\uc778\uc758 \uc800\uc791\uad8c\uc774 \uce68\ud574\ub418\uac70\ub098 \uba85\uc608\ud6fc\uc190 \ub4f1 \uad8c\ub9ac \uce68\ud574\uac00 \ubc1c\uc0dd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub9bd\ud53d\uc740 \uc774\uc5d0 \ub300\ud55c \ubb38\uc81c \ud574\uacb0\uc744 \uc704\ud574 \u2018\uc815\ubcf4\ud1b5\uc2e0\ub9dd \uc774\uc6a9\ucd09\uc9c4 \ubc0f \uc815\ubcf4\ubcf4\ud638 \ub4f1\uc5d0 \uad00\ud55c \ubc95\ub960\u2019 \ubc0f \u2018\uc800\uc791\uad8c\ubc95\u2019 \ub4f1\uc744 \uadfc\uac70\ub85c \uad8c\ub9ac\uce68\ud574 \uc8fc\uc7a5\uc790\uc758 \uc694\uccad\uc5d0 \ub530\ub978 \uac8c\uc2dc\ubb3c \uac8c\uc2dc\uc911\ub2e8, \uc6d0 \uac8c\uc2dc\uc790\uc758 \uc774\uc758\uc2e0\uccad\uc5d0 \ub530\ub978 \ud574\ub2f9 \uac8c\uc2dc\ubb3c \uac8c\uc2dc \uc7ac\uac1c \ub4f1\uc744 \ub0b4\uc6a9\uc73c\ub85c \ud558\ub294 \uac8c\uc2dc\uc911\ub2e8\uc694\uccad\uc11c\ube44\uc2a4\ub97c \uc6b4\uc601\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4. \ubcf4\ub2e4 \uc0c1\uc138\ud55c \ub0b4\uc6a9 \ubc0f \uc808\ucc28\ub294 \uace0\uac1d\uc13c\ud130 \ub0b4 \uac8c\uc2dc\uc911\ub2e8\uc694\uccad\uc11c\ube44\uc2a4 \uc18c\uac1c\ub97c \ucc38\uace0\ud574 \uc8fc\uc138\uc694. \ud55c\ud3b8, \ub9bd\ud53d \uc11c\ube44\uc2a4\ub97c \ud1b5\ud574 \ud0c0\uc778\uc758 \ucf58\ud150\uce20\ub97c \uc774\uc6a9\ud55c\ub2e4\uace0 \ud558\uc5ec \uc5ec\ub7ec\ubd84\uc774 \ud574\ub2f9 \ucf58\ud150\uce20\uc5d0 \ub300\ud55c \uc9c0\uc2dd\uc7ac\uc0b0\uad8c\uc744 \ubcf4\uc720\ud558\uac8c \ub418\ub294 \uac83\uc740 \uc544\ub2d9\ub2c8\ub2e4. \uc5ec\ub7ec\ubd84\uc774 \ud574\ub2f9 \ucf58\ud150\uce20\ub97c \uc790\uc720\ub86d\uac8c \uc774\uc6a9\ud558\uae30 \uc704\ud574\uc11c\ub294 \uadf8 \uc774\uc6a9\uc774 \uc800\uc791\uad8c\ubc95 \ub4f1 \uad00\ub828 \ubc95\ub960\uc5d0 \ub530\ub77c \ud5c8\uc6a9\ub418\ub294 \ubc94\uc704 \ub0b4\uc5d0 \uc788\uac70\ub098, \ud574\ub2f9 \ucf58\ud150\uce20\uc758 \uc9c0\uc2dd\uc7ac\uc0b0\uad8c\uc790\ub85c\ubd80\ud130 \ubcc4\ub3c4\uc758 \uc774\uc6a9 \ud5c8\ub77d\uc744 \ubc1b\uc544\uc57c \ud558\ubbc0\ub85c \uac01\ubcc4\ud55c \uc8fc\uc758\uac00 \ud544\uc694\ud569\ub2c8\ub2e4. \ub9bd\ud53d\uc740 \uc5ec\ub7ec\ubd84\uc774 \ub9bd\ud53d \uc11c\ube44\uc2a4\ub97c \ub9c8\uc74c\uaecf \uc774\uc6a9\ud560 \uc218 \uc788\ub3c4\ub85d \uc5ec\ub7ec\ubd84\uaed8 \ub9bd\ud53d \uc11c\ube44\uc2a4\uc5d0 \uc218\ubc18\ub418\ub294 \uad00\ub828 \uc18c\ud504\ud2b8\uc6e8\uc5b4 \uc0ac\uc6a9\uc5d0 \uad00\ud55c \uc774\uc6a9 \uad8c\ud55c\uc744 \ubd80\uc5ec\ud569\ub2c8\ub2e4. \uc774 \uacbd\uc6b0 \uc5ec\ub7ec\ubd84\uc758 \uc790\uc720\ub85c\uc6b4 \uc774\uc6a9\uc740 \ub9bd\ud53d\uac00 \uc81c\uc2dc\ud558\ub294 \uc774\uc6a9 \uc870\uac74\uc5d0 \ubd80\ud569\ud558\ub294 \ubc94\uc704 \ub0b4\uc5d0\uc11c\ub9cc \ud5c8\uc6a9\ub418\uace0, \uc774\ub7ec\ud55c \uad8c\ud55c\uc740 \uc591\ub3c4\uac00 \ubd88\uac00\ub2a5\ud558\uba70, \ube44\ub3c5\uc810\uc801 \uc870\uac74 \ubc0f \ubc95\uc801\uace0\uc9c0\uac00 \uc801\uc6a9\ub41c\ub2e4\ub294 \uc810\uc744 \uc720\uc758\ud574 \uc8fc\uc138\uc694. \ub9bd\ud53d\uc5d0\uc11c \uc81c\uacf5\ud558\ub294 \ub2e4\uc591\ud55c \ud3ec\uc778\ud2b8\ub97c \uc694\uae34\ud558\uac8c \ud65c\uc6a9\ud574 \ubcf4\uc138\uc694. \ub9bd\ud53d\uc740 \uc5ec\ub7ec\ubd84\uc774 \ub9bd\ud53d \uc11c\ube44\uc2a4\ub97c \ud6a8\uc728\uc801\uc73c\ub85c \uc774\uc6a9\ud560 \uc218 \uc788\ub3c4\ub85d \ud3ec\uc778\ud2b8\ub97c \ubd80\uc5ec\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4. \ud3ec\uc778\ud2b8\ub294 \uc5ec\ub7ec\ubd84\uc758 \uc77c\uc815\ud55c \ub9bd\ud53d \uc11c\ube44\uc2a4 \uc774\uc6a9\uacfc \uc5f0\ub3d9\ud558\uc5ec \ub9bd\ud53d\uac00 \uc784\uc758\ub85c \ucc45\uc815\ud558\uac70\ub098 \uc870\uc815\ud558\uc5ec \uc9c0\uae09\ud558\ub294 \uc77c\uc815\ud55c \uacc4\uc0b0 \ub2e8\uc704\ub97c \uac16\ub294 \uc11c\ube44\uc2a4 \uc0c1\uc758 \uac00\uc0c1 \ub370\uc774\ud130\ub97c \ub9d0\ud569\ub2c8\ub2e4. \ud3ec\uc778\ud2b8\ub294 \uc7ac\uc0b0\uc801 \uac00\uce58\uac00 \uc5c6\uae30 \ub54c\ubb38\uc5d0 \uae08\uc804\uc73c\ub85c \ud658\ubd88 \ub610\ub294 \uc804\ud658\ud560 \uc218 \uc5c6\uc9c0\ub9cc, \ud3ec\uc778\ud2b8\uc758 \ub9ce\uace0 \uc801\uc74c\uc5d0 \ub530\ub77c \uc5ec\ub7ec\ubd84\uc758 \ub9bd\ud53d \uc11c\ube44\uc2a4 \uc774\uc6a9\uc5d0 \uc601\ud5a5\uc744 \uc8fc\ub294 \uacbd\uc6b0\uac00 \uc788\uc73c\ubbc0\ub85c \uacbd\uc6b0\uc5d0 \ub530\ub77c \uc801\uc808\ud788 \ud65c\uc6a9\ud574 \ubcf4\uc138\uc694. \ub9bd\ud53d\uc740 \ub9bd\ud53d \uc11c\ube44\uc2a4\uc758 \ud6a8\uc728\uc801 \uc774\uc6a9\uc744 \uc9c0\uc6d0\ud558\uac70\ub098 \uc11c\ube44\uc2a4 \uc6b4\uc601\uc744 \uac1c\uc120\ud558\uae30 \uc704\ud574 \ud544\uc694\ud55c \uacbd\uc6b0 \uc0ac\uc804\uc5d0 \uc5ec\ub7ec\ubd84\uaed8 \uc548\ub0b4 \ub4dc\ub9b0 \ud6c4 \ubd80\ub4dd\uc774 \ud3ec\uc778\ud2b8\uc758 \uc77c\ubd80 \ub610\ub294 \uc804\ubd80\ub97c \uc870\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uadf8\ub9ac\uace0 \ud3ec\uc778\ud2b8\ub294 \ub9bd\ud53d\uac00 \uc815\ud55c \uae30\uac04\uc5d0 \ub530\ub77c \uc8fc\uae30\uc801\uc73c\ub85c \uc18c\uba78\ud560 \uc218\ub3c4 \uc788\uc73c\ub2c8 \ud3ec\uc778\ud2b8\uac00 \ubd80\uc5ec\ub418\ub294 \ub9bd\ud53d \uc11c\ube44\uc2a4 \uc774\uc6a9 \uc2dc \uc720\uc758\ud574 \uc8fc\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4. \ub9bd\ud53d \uc11c\ube44\uc2a4 \uc774\uc6a9\uacfc \uad00\ub828\ud558\uc5ec \uba87 \uac00\uc9c0 \uc8fc\uc758\uc0ac\ud56d\uc774 \uc788\uc2b5\ub2c8\ub2e4. \ub9bd\ud53d\uc740 \uc5ec\ub7ec\ubd84\uc774 \ub9bd\ud53d \uc11c\ube44\uc2a4\ub97c \uc790\uc720\ub86d\uace0 \ud3b8\ub9ac\ud558\uac8c \uc774\uc6a9\ud560 \uc218 \uc788\ub3c4\ub85d \ucd5c\uc120\uc744 \ub2e4\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4. \ub2e4\ub9cc, \uc5ec\ub7ec\ubd84\uc774 \ub9bd\ud53d \uc11c\ube44\uc2a4\ub97c \ubcf4\ub2e4 \uc548\uc804\ud558\uac8c \uc774\uc6a9\ud558\uace0 \ub9bd\ud53d \uc11c\ube44\uc2a4\uc5d0\uc11c \uc5ec\ub7ec\ubd84\uacfc \ud0c0\uc778\uc758 \uad8c\ub9ac\uac00 \uc11c\ub85c \uc874\uc911\ub418\uace0 \ubcf4\ud638\ubc1b\uc73c\ub824\uba74 \uc5ec\ub7ec\ubd84\uc758 \ub3c4\uc6c0\uacfc \ud611\uc870\uac00 \ud544\uc694\ud569\ub2c8\ub2e4. \uc5ec\ub7ec\ubd84\uc758 \uc548\uc804\ud55c \uc11c\ube44\uc2a4 \uc774\uc6a9\uacfc \uad8c\ub9ac \ubcf4\ud638\ub97c \uc704\ud574 \ubd80\ub4dd\uc774 \uc544\ub798\uc640 \uac19\uc740 \uacbd\uc6b0 \uc5ec\ub7ec\ubd84\uc758 \uac8c\uc2dc\ubb3c \uac8c\uc7ac\ub098 \ub9bd\ud53d \uc11c\ube44\uc2a4 \uc774\uc6a9\uc774 \uc81c\ud55c\ub420 \uc218 \uc788\uc73c\ubbc0\ub85c, \uc774\uc5d0 \ub300\ud55c \ud655\uc778 \ubc0f \uc900\uc218\ub97c \uc694\uccad \ub4dc\ub9bd\ub2c8\ub2e4. \ud68c\uc6d0 \uac00\uc785 \uc2dc \uc774\ub984, \uc0dd\ub144\uc6d4\uc77c, \ud734\ub300\uc804\ud654\ubc88\ud638 \ub4f1\uc758 \uc815\ubcf4\ub97c \ud5c8\uc704\ub85c \uae30\uc7ac\ud574\uc11c\ub294 \uc548 \ub429\ub2c8\ub2e4. \ud68c\uc6d0 \uacc4\uc815\uc5d0 \ub4f1\ub85d\ub41c \uc815\ubcf4\ub294 \ud56d\uc0c1 \uc815\ud655\ud55c \ucd5c\uc2e0 \uc815\ubcf4\uac00 \uc720\uc9c0\ub420 \uc218 \uc788\ub3c4\ub85d \uad00\ub9ac\ud574 \uc8fc\uc138\uc694. \uc790\uc2e0\uc758 \uacc4\uc815\uc744 \ub2e4\ub978 \uc0ac\ub78c\uc5d0\uac8c \ud310\ub9e4, \uc591\ub3c4, \ub300\uc5ec \ub610\ub294 \ub2f4\ubcf4\ub85c \uc81c\uacf5\ud558\uac70\ub098 \ub2e4\ub978 \uc0ac\ub78c\uc5d0\uac8c \uadf8 \uc0ac\uc6a9\uc744 \ud5c8\ub77d\ud574\uc11c\ub294 \uc548 \ub429\ub2c8\ub2e4. \uc544\uc6b8\ub7ec \uc790\uc2e0\uc758 \uacc4\uc815\uc774 \uc544\ub2cc \ud0c0\uc778\uc758 \uacc4\uc815\uc744 \ubb34\ub2e8\uc73c\ub85c \uc0ac\uc6a9\ud574\uc11c\ub294 \uc548 \ub429\ub2c8\ub2e4. \uc774\uc5d0 \uad00\ud55c \uc0c1\uc138\ud55c \ub0b4\uc6a9\uc740 \uacc4\uc815 \uc6b4\uc601\uc815\ucc45\uc744 \ucc38\uace0\ud574 \uc8fc\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4. \ud0c0\uc778\uc5d0 \ub300\ud574 \uc9c1\uc811\uc801\uc774\uace0 \uba85\ubc31\ud55c \uc2e0\uccb4\uc801 \uc704\ud611\uc744 \uac00\ud558\ub294 \ub0b4\uc6a9\uc758 \uac8c\uc2dc\ubb3c, \ud0c0\uc778\uc758 \uc790\ud574 \ud589\uc704 \ub610\ub294 \uc790\uc0b4\uc744 \ubd80\ucd94\uae30\uac70\ub098 \uad8c\uc7a5\ud558\ub294 \ub0b4\uc6a9\uc758 \uac8c\uc2dc\ubb3c, \ud0c0\uc778\uc758 \uc2e0\uc0c1\uc815\ubcf4, \uc0ac\uc0dd\ud65c \ub4f1 \ube44\uacf5\uac1c \uac1c\uc778\uc815\ubcf4\ub97c \ub4dc\ub7ec\ub0b4\ub294 \ub0b4\uc6a9\uc758 \uac8c\uc2dc\ubb3c, \ud0c0\uc778\uc744 \uc9c0\uc18d\uc801\uc73c\ub85c \ub530\ub3cc\ub9ac\uac70\ub098 \uad34\ub86d\ud788\ub294 \ub0b4\uc6a9\uc758 \uac8c\uc2dc\ubb3c, \uc131\ub9e4\ub9e4\ub97c \uc81c\uc548, \uc54c\uc120, \uc720\uc778 \ub610\ub294 \uac15\uc694\ud558\ub294 \ub0b4\uc6a9\uc758 \uac8c\uc2dc\ubb3c, \uacf5\uacf5 \uc548\uc804\uc5d0 \ub300\ud574 \uc9c1\uc811\uc801\uc774\uace0 \uc2ec\uac01\ud55c \uc704\ud611\uc744 \uac00\ud558\ub294 \ub0b4\uc6a9\uc758 \uac8c\uc2dc\ubb3c\uc740 \uc81c\ud55c\ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uad00\ub828 \ubc95\ub839\uc0c1 \uae08\uc9c0\ub418\uac70\ub098 \ud615\uc0ac\ucc98\ubc8c\uc758 \ub300\uc0c1\uc774 \ub418\ub294 \ud589\uc704\ub97c \uc218\ud589\ud558\uac70\ub098 \uc774\ub97c \uad50\uc0ac \ub610\ub294 \ubc29\uc870\ud558\ub294 \ub4f1\uc758 \ubc94\uc8c4 \uad00\ub828 \uc9c1\uc811\uc801\uc778 \uc704\ud5d8\uc774 \ud655\uc778\ub41c \uac8c\uc2dc\ubb3c, \uad00\ub828 \ubc95\ub839\uc5d0\uc11c \ud64d\ubcf4, \uad11\uace0, \ud310\ub9e4 \ub4f1\uc744 \uae08\uc9c0\ud558\uace0 \uc788\ub294 \ubb3c\uac74 \ub610\ub294 \uc11c\ube44\uc2a4\ub97c \ud64d\ubcf4, \uad11\uace0, \ud310\ub9e4\ud558\ub294 \ub0b4\uc6a9\uc758 \uac8c\uc2dc\ubb3c, \ud0c0\uc778\uc758 \uc9c0\uc2dd\uc7ac\uc0b0\uad8c \ub4f1\uc744 \uce68\ud574\ud558\uac70\ub098 \ubaa8\uc695, \uc0ac\uc0dd\ud65c \uce68\ud574 \ub610\ub294 \uba85\uc608\ud6fc\uc190 \ub4f1 \ud0c0\uc778\uc758 \uad8c\ub9ac\ub97c \uce68\ud574\ud558\ub294 \ub0b4\uc6a9\uc774 \ud655\uc778\ub41c \uac8c\uc2dc\ubb3c\uc740 \uc81c\ud55c\ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc790\uadf9\uc801\uc774\uace0 \ub178\uace8\uc801\uc778 \uc131\ud589\uc704\ub97c \ubb18\uc0ac\ud558\ub294 \ub4f1 \ud0c0\uc778\uc5d0\uac8c \uc131\uc801 \uc218\uce58\uc2ec\uc744 \uc720\ubc1c\uc2dc\ud0a4\uac70\ub098 \uc65c\uace1\ub41c \uc131 \uc758\uc2dd \ub4f1\uc744 \uc57c\uae30\ud560 \uc218 \uc788\ub294 \ub0b4\uc6a9\uc758 \uac8c\uc2dc\ubb3c, \ud0c0\uc778\uc5d0\uac8c \uc794\ud639\uac10 \ub610\ub294 \ud610\uc624\uac10\uc744 \uc77c\uc73c\ud0ac \uc218 \uc788\ub294 \ud3ed\ub825\uc801\uc774\uace0 \uc790\uadf9\uc801\uc778 \ub0b4\uc6a9\uc758 \uac8c\uc2dc\ubb3c, \ubcf8\uc778 \uc774\uc678\uc758 \uc790\ub97c \uc0ac\uce6d\ud558\uac70\ub098 \ud5c8\uc704\uc0ac\uc2e4\uc744 \uc8fc\uc7a5\ud558\ub294 \ub4f1 \ud0c0\uc778\uc744 \uae30\ub9cc\ud558\ub294 \ub0b4\uc6a9\uc758 \uac8c\uc2dc\ubb3c, \uacfc\ub3c4\ud55c \uc695\uc124, \ube44\uc18d\uc5b4 \ub4f1\uc744 \uacc4\uc18d\ud558\uc5ec \ubc18\ubcf5\uc801\uc73c\ub85c \uc0ac\uc6a9\ud558\uc5ec \uc2ec\ud55c \ud610\uc624\uac10 \ub610\ub294 \ubd88\ucf8c\uac10\uc744 \uc77c\uc73c\ud0a4\ub294 \ub0b4\uc6a9\uc758 \uac8c\uc2dc\ubb3c\uc740 \uc81c\ud55c\ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc790\ub3d9\ud654\ub41c \uc218\ub2e8\uc744 \ud65c\uc6a9\ud558\ub294 \ub4f1 \ub9bd\ud53d \uc11c\ube44\uc2a4\uc758 \uae30\ub2a5\uc744 \ube44\uc815\uc0c1\uc801\uc73c\ub85c \uc774\uc6a9\ud558\uc5ec \uac8c\uc7ac\ub41c \uac8c\uc2dc\ubb3c, \ub9bd\ud53d \uac01 \uac1c\ubcc4 \uc11c\ube44\uc2a4\uc758 \uc81c\uacf5 \ucde8\uc9c0\uc640 \ubd80\ud569\ud558\uc9c0 \uc54a\ub294 \ub0b4\uc6a9\uc758 \uac8c\uc2dc\ubb3c\uc740 \ub2e4\ub978 \uc774\uc6a9\uc790\ub4e4\uc758 \uc815\uc0c1\uc801\uc778 \ub9bd\ud53d \uc11c\ube44\uc2a4 \uc774\uc6a9\uc5d0 \ubd88\ud3b8\uc744 \ucd08\ub798\ud558\uace0 \ub354 \ub098\uc544\uac00 \ub9bd\ud53d\uc758 \uc6d0\ud65c\ud55c \uc11c\ube44\uc2a4 \uc81c\uacf5\uc744 \ubc29\ud574\ud558\ubbc0\ub85c \uc5ed\uc2dc \uc81c\ud55c\ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uae30\ud0c0 \uc81c\ud55c\ub418\ub294 \uac8c\uc2dc\ubb3c\uc5d0 \uad00\ud55c \uc0c1\uc138\ud55c \ub0b4\uc6a9\uc740 \uac8c\uc2dc\ubb3c \uc6b4\uc601\uc815\ucc45 \ubc0f \uac01 \uac1c\ubcc4 \uc11c\ube44\uc2a4\uc5d0\uc11c\uc758 \uc57d\uad00, \uc6b4\uc601\uc815\ucc45 \ub4f1\uc744 \ucc38\uace0\ud574 \uc8fc\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4. \ub9bd\ud53d\uc758 \uc0ac\uc804 \ud5c8\ub77d \uc5c6\uc774 \uc790\ub3d9\ud654\ub41c \uc218\ub2e8(\uc608: \ub9e4\ud06c\ub85c \ud504\ub85c\uadf8\ub7a8, \ub85c\ubd07(\ubd07), \uc2a4\ud30c\uc774\ub354, \uc2a4\ud06c\ub798\ud37c \ub4f1)\uc744 \uc774\uc6a9\ud558\uc5ec \ub9bd\ud53d \uc11c\ube44\uc2a4 \ud68c\uc6d0\uc73c\ub85c \uac00\uc785\uc744 \uc2dc\ub3c4 \ub610\ub294 \uac00\uc785\ud558\uac70\ub098, \ub9bd\ud53d \uc11c\ube44\uc2a4\uc5d0 \ub85c\uadf8\uc778\uc744 \uc2dc\ub3c4 \ub610\ub294 \ub85c\uadf8\uc778\ud558\uac70\ub098, \ub9bd\ud53d \uc11c\ube44\uc2a4 \uc0c1\uc5d0 \uac8c\uc2dc\ubb3c\uc744 \uac8c\uc7ac\ud558\uac70\ub098, \ub9bd\ud53d \uc11c\ube44\uc2a4\ub97c \ud1b5\ud574 \ucee4\ubba4\ub2c8\ucf00\uc774\uc158\ud558\uac70\ub098(\uc608: \uc804\uc790\uba54\uc77c, \ucabd\uc9c0 \ub4f1), \ub9bd\ud53d \uc11c\ube44\uc2a4\uc5d0 \uac8c\uc7ac\ub41c \ud68c\uc6d0\uc758 \uc544\uc774\ub514(ID), \uac8c\uc2dc\ubb3c \ub4f1\uc744 \uc218\uc9d1\ud558\uac70\ub098, \ub9bd\ud53d \uac80\uc0c9 \uc11c\ube44\uc2a4\uc5d0\uc11c \ud2b9\uc815 \uc9c8\uc758\uc5b4\ub85c \uac80\uc0c9\ud558\uac70\ub098 \ud639\uc740 \uadf8 \uac80\uc0c9\uacb0\uacfc\uc5d0\uc11c \ud2b9\uc815 \uac80\uc0c9\uacb0\uacfc\ub97c \uc120\ud0dd(\uc774\ub978\ubc14 \u2018\ud074\ub9ad\u2019)\ud558\ub294 \ub4f1 \uc774\uc6a9\uc790(\uc0ac\ub78c)\uc758 \uc2e4\uc81c \uc774\uc6a9\uc744 \uc804\uc81c\ub85c \ud558\ub294 \ub9bd\ud53d \uc11c\ube44\uc2a4\uc758 \uc81c\uacf5 \ucde8\uc9c0\uc5d0 \ubd80\ud569\ud558\uc9c0 \uc54a\ub294 \ubc29\uc2dd\uc73c\ub85c \ub9bd\ud53d \uc11c\ube44\uc2a4\ub97c \uc774\uc6a9\ud558\uac70\ub098 \uc774\uc640 \uac19\uc740 \ub9bd\ud53d \uc11c\ube44\uc2a4\uc5d0 \ub300\ud55c \uc5b4\ubdf0\uc9d5(\ub0a8\uc6a9) \ud589\uc704\ub97c \ub9c9\uae30 \uc704\ud55c \ub9bd\ud53d\uc758 \uae30\uc220\uc801 \uc870\uce58\ub97c \ubb34\ub825\ud654\ud558\ub824\ub294 \uc77c\uccb4\uc758 \ud589\uc704(\uc608: IP\ub97c \uc9c0\uc18d\uc801\uc73c\ub85c \ubc14\uafd4\uac00\uba70 \uc811\uc18d\ud558\ub294 \ud589\uc704, Captcha\ub97c \uc678\ubd80 \uc194\ub8e8\uc158 \ub4f1\uc744 \ud1b5\ud574 \uc6b0\ud68c\ud558\uac70\ub098 \ubb34\ub825\ud654 \ud558\ub294 \ud589\uc704 \ub4f1)\ub97c \uc2dc\ub3c4\ud574\uc11c\ub294 \uc548 \ub429\ub2c8\ub2e4. \ub9bd\ud53d\uc758 \ub3d9\uc758 \uc5c6\uc774 \uc790\ub3d9\ud654\ub41c \uc218\ub2e8\uc5d0 \uc758\ud574 \ub9bd\ud53d \uc11c\ube44\uc2a4 \uc0c1\uc5d0 \uad11\uace0\uac00 \uac8c\uc7ac\ub418\ub294 \uc601\uc5ed \ub610\ub294 \uadf8 \ubc16\uc758 \uc601\uc5ed\uc5d0 \ubd80\ud638, \ubb38\uc790, \uc74c\uc131, \uc74c\ud5a5, \uadf8\ub9bc, \uc0ac\uc9c4, \ub3d9\uc601\uc0c1, \ub9c1\ud06c \ub4f1\uc73c\ub85c \uad6c\uc131\ub41c \uac01\uc885 \ucf58\ud150\uce20 \uc790\uccb4 \ub610\ub294 \ud30c\uc77c\uc744 \uc0bd\uc785\ud574\uc11c\ub294 \uc548 \ub429\ub2c8\ub2e4. \ub610\ud55c, \ub9bd\ud53d \uc11c\ube44\uc2a4 \ub610\ub294 \uc774\uc5d0 \ud3ec\ud568\ub41c \uc18c\ud504\ud2b8\uc6e8\uc5b4\ub97c \ubcf5\uc0ac, \uc218\uc815\ud560 \uc218 \uc5c6\uc73c\uba70, \uc774\ub97c \ud310\ub9e4, \uc591\ub3c4, \ub300\uc5ec \ub610\ub294 \ub2f4\ubcf4\ub85c \uc81c\uacf5\ud558\uac70\ub098 \ud0c0\uc778\uc5d0\uac8c \uadf8 \uc774\uc6a9\uc744 \ud5c8\ub77d\ud574\uc11c\ub294 \uc548 \ub429\ub2c8\ub2e4. \ub9bd\ud53d \uc11c\ube44\uc2a4\uc5d0 \ud3ec\ud568\ub41c \uc18c\ud504\ud2b8\uc6e8\uc5b4\ub97c \uc5ed \uc124\uacc4, \uc18c\uc2a4\ucf54\ub4dc \ucd94\ucd9c \uc2dc\ub3c4, \ubcf5\uc81c, \ubd84\ud574, \ubaa8\ubc29, \uae30\ud0c0 \ubcc0\ud615\ud558\ub294 \ub4f1\uc758 \ud589\uc704\ub3c4 \uae08\uc9c0\ub429\ub2c8\ub2e4(\ub2e4\ub9cc, \uc624\ud508\uc18c\uc2a4\uc5d0 \ud574\ub2f9\ub418\ub294 \uacbd\uc6b0 \uadf8 \uc790\uccb4 \uc870\uac74\uc5d0 \ub530\ub985\ub2c8\ub2e4). \uadf8 \ubc16\uc5d0 \ubc14\uc774\ub7ec\uc2a4\ub098 \uae30\ud0c0 \uc545\uc131 \ucf54\ub4dc\ub97c \uc5c5\ub85c\ub4dc\ud558\uac70\ub098 \ub9bd\ud53d \uc11c\ube44\uc2a4\uc758 \uc6d0\ud65c\ud55c \uc6b4\uc601\uc744 \ubc29\ud574\ud560 \ubaa9\uc801\uc73c\ub85c \uc11c\ube44\uc2a4 \uae30\ub2a5\uc744 \ube44\uc815\uc0c1\uc801\uc73c\ub85c \uc774\uc6a9\ud558\ub294 \ud589\uc704 \uc5ed\uc2dc \uae08\uc9c0\ub429\ub2c8\ub2e4. \ub9bd\ud53d\uc740 \ubcf8 \uc57d\uad00\uc758 \ubc94\uc704 \ub0b4\uc5d0\uc11c \uac8c\uc2dc\ubb3c \uc6b4\uc601\uc815\ucc45, \uac01 \uac1c\ubcc4 \uc11c\ube44\uc2a4\uc5d0\uc11c\uc758 \uc57d\uad00 \ub610\ub294 \uc6b4\uc601\uc815\ucc45, \uac01 \uc11c\ube44\uc2a4 \uc0c1\uc758 \uc548\ub0b4, \uacf5\uc9c0\uc0ac\ud56d, \uace0\uac1d\uc13c\ud130 \ub3c4\uc6c0\ub9d0 \ub4f1\uc744 \ub450\uc5b4, \uc5ec\ub7ec\ubd84\uc5d0\uac8c \uc548\uc815\uc801\uc774\uace0 \uc6d0\ud65c\ud55c \uc11c\ube44\uc2a4 \uc774\uc6a9\uc774 \uac00\ub2a5\ud558\ub3c4\ub85d \uc9c0\uc6d0\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4. \uac01 \uc138\ubd80 \uc815\ucc45\uc5d0\ub294 \uc5ec\ub7ec\ubd84\uc774 \ucc38\uace0\ud560 \uc218 \uc788\ub3c4\ub85d \ubcf4\ub2e4 \uad6c\uccb4\uc801\uc778 \uc720\uc758\uc0ac\ud56d\uc744 \ud3ec\ud568\ud558\uace0 \uc788\uc73c\ub2c8, \ubcf8 \uc57d\uad00 \ubcf8\ubb38 \ubc0f \uad6c\uc131 \ud398\uc774\uc9c0 \uc0c1\uc758 \ub9c1\ud06c \ub4f1\uc744 \ud1b5\ud574 \uc774\ub97c \ud655\uc778\ud574 \uc8fc\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4. \ubd80\ub4dd\uc774 \uc11c\ube44\uc2a4 \uc774\uc6a9\uc744 \uc81c\ud55c\ud560 \uacbd\uc6b0 \ud569\ub9ac\uc801\uc778 \uc808\ucc28\ub97c \uc900\uc218\ud569\ub2c8\ub2e4. \ub9bd\ud53d\uc740 \ub2e4\uc591\ud55c \uc815\ubcf4\uc640 \uc758\uacac\uc774 \ub2f4\uae34 \uc5ec\ub7ec\ubd84\uc758 \ucf58\ud150\uce20\ub97c \uc18c\uc911\ud788 \ub2e4\ub8f0 \uac83\uc744 \uc57d\uc18d \ub4dc\ub9bd\ub2c8\ub2e4\ub9cc, \uc5ec\ub7ec\ubd84\uc774 \uac8c\uc7ac\ud55c \uac8c\uc2dc\ubb3c\uc774 \uad00\ub828 \ubc95\ub839, \ubcf8 \uc57d\uad00, \uac8c\uc2dc\ubb3c \uc6b4\uc601\uc815\ucc45, \uac01 \uac1c\ubcc4 \uc11c\ube44\uc2a4\uc5d0\uc11c\uc758 \uc57d\uad00, \uc6b4\uc601\uc815\ucc45 \ub4f1\uc5d0 \uc704\ubc30\ub418\ub294 \uacbd\uc6b0, \ubd80\ub4dd\uc774 \uc774\ub97c \ube44\uacf5\uac1c \ub610\ub294 \uc0ad\uc81c \ucc98\ub9ac\ud558\uac70\ub098 \uac8c\uc7ac\ub97c \uac70\ubd80\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub2e4\ub9cc, \uc774\uac83\uc774 \ub9bd\ud53d\uac00 \ubaa8\ub4e0 \ucf58\ud150\uce20\ub97c \uac80\ud1a0\ud560 \uc758\ubb34\uac00 \uc788\ub2e4\ub294 \uac83\uc744 \uc758\ubbf8\ud558\uc9c0\ub294 \uc54a\uc2b5\ub2c8\ub2e4. \ub610\ud55c \uc5ec\ub7ec\ubd84\uc774 \uad00\ub828 \ubc95\ub839, \ubcf8 \uc57d\uad00, \uacc4\uc815 \ubc0f \uac8c\uc2dc\ubb3c \uc6b4\uc601\uc815\ucc45, \uac01 \uac1c\ubcc4 \uc11c\ube44\uc2a4\uc5d0\uc11c\uc758 \uc57d\uad00, \uc6b4\uc601\uc815\ucc45 \ub4f1\uc744 \uc900\uc218\ud558\uc9c0 \uc54a\uc744 \uacbd\uc6b0, \ub9bd\ud53d\uc740 \uc5ec\ub7ec\ubd84\uc758 \uad00\ub828 \ud589\uc704 \ub0b4\uc6a9\uc744 \ud655\uc778\ud560 \uc218 \uc788\uc73c\uba70, \uadf8 \ud655\uc778 \uacb0\uacfc\uc5d0 \ub530\ub77c \ub9bd\ud53d \uc11c\ube44\uc2a4 \uc774\uc6a9\uc5d0 \ub300\ud55c \uc8fc\uc758\ub97c \ub2f9\ubd80\ud558\uac70\ub098, \ub9bd\ud53d \uc11c\ube44\uc2a4 \uc774\uc6a9\uc744 \uc77c\ubd80 \ub610\ub294 \uc804\ubd80, \uc77c\uc2dc \ub610\ub294 \uc601\uad6c\ud788 \uc815\uc9c0\uc2dc\ud0a4\ub294 \ub4f1 \uadf8 \uc774\uc6a9\uc744 \uc81c\ud55c\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ud55c\ud3b8, \uc774\ub7ec\ud55c \uc774\uc6a9 \uc81c\ud55c\uc5d0\ub3c4 \ubd88\uad6c\ud558\uace0 \ub354 \uc774\uc0c1 \ub9bd\ud53d \uc11c\ube44\uc2a4 \uc774\uc6a9\uacc4\uc57d\uc758 \uc628\uc804\ud55c \uc720\uc9c0\ub97c \uae30\ub300\ud558\uae30 \uc5b4\ub824\uc6b4 \uacbd\uc6b0\uc5d4 \ubd80\ub4dd\uc774 \uc5ec\ub7ec\ubd84\uacfc\uc758 \uc774\uc6a9\uacc4\uc57d\uc744 \ud574\uc9c0\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ubd80\ub4dd\uc774 \uc5ec\ub7ec\ubd84\uc758 \uc11c\ube44\uc2a4 \uc774\uc6a9\uc744 \uc81c\ud55c\ud574\uc57c \ud560 \uacbd\uc6b0 \uba85\ubc31\ud55c \ubc95\ub839 \uc704\ubc18\uc774\ub098 \ud0c0\uc778\uc758 \uad8c\ub9ac\uce68\ud574\ub85c\uc11c \uae34\uae09\ud55c \uc704\ud5d8 \ub610\ub294 \ud53c\ud574 \ucc28\ub2e8\uc774 \uc694\uad6c\ub418\ub294 \uc0ac\uc548 \uc678\uc5d0\ub294 \uc704\uc640 \uac19\uc740 \ub2e8\uacc4\uc801 \uc11c\ube44\uc2a4 \uc774\uc6a9\uc81c\ud55c \uc6d0\uce59\uc744 \uc900\uc218 \ud558\uaca0\uc2b5\ub2c8\ub2e4. \uba85\ubc31\ud55c \ubc95\ub839 \uc704\ubc18 \ub4f1\uc744 \uc774\uc720\ub85c \ubd80\ub4dd\uc774 \uc11c\ube44\uc2a4 \uc774\uc6a9\uc744 \uc989\uc2dc \uc601\uad6c \uc815\uc9c0\uc2dc\ud0a4\ub294 \uacbd\uc6b0 \uc11c\ube44\uc2a4 \uc774\uc6a9\uc744 \ud1b5\ud574 \ud68d\ub4dd\ud55c \ud3ec\uc778\ud2b8 \ubc0f \uae30\ud0c0 \ud61c\ud0dd \ub4f1\uc740 \ubaa8\ub450 \uc18c\uba78\ub418\uace0 \uc774\uc5d0 \ub300\ud574 \ubcc4\ub3c4\ub85c \ubcf4\uc0c1\ud558\uc9c0 \uc54a\uc73c\ubbc0\ub85c \uc720\uc758\ud574 \uc8fc\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4. \uc11c\ube44\uc2a4 \uc774\uc6a9 \uc81c\ud55c\uc758 \uc870\uac74, \uc138\ubd80 \ub0b4\uc6a9 \ub4f1\uc740 \uacc4\uc815 \uc6b4\uc601\uc815\ucc45 \ubc0f \uac01 \uac1c\ubcc4 \uc11c\ube44\uc2a4\uc5d0\uc11c\uc758 \uc6b4\uc601\uc815\ucc45\uc744 \ucc38\uace0\ud558\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4. \ub9bd\ud53d\uc758 \uc798\ubabb\uc740 \ub9bd\ud53d\uac00 \ucc45\uc784\uc9d1\ub2c8\ub2e4. \ub9bd\ud53d\uc740 \uc5ec\ub7ec\ubd84\uc774 \ub9bd\ud53d \uc11c\ube44\uc2a4\ub97c \uc774\uc6a9\ud568\uc5d0 \uc788\uc5b4 \ub9bd\ud53d\uc758 \uace0\uc758 \ub610\ub294 \uacfc\uc2e4\ub85c \uc778\ud558\uc5ec \uc190\ud574\ub97c \uc785\uac8c \ub420 \uacbd\uc6b0 \uad00\ub828 \ubc95\ub839\uc5d0 \ub530\ub77c \uc5ec\ub7ec\ubd84\uc758 \uc190\ud574\ub97c \ubc30\uc0c1\ud569\ub2c8\ub2e4. \ub2e4\ub9cc, \ucc9c\uc7ac\uc9c0\ubcc0 \ub610\ub294 \uc774\uc5d0 \uc900\ud558\ub294 \ubd88\uac00\ud56d\ub825\uc73c\ub85c \uc778\ud558\uc5ec \ub9bd\ud53d\uac00 \uc11c\ube44\uc2a4\ub97c \uc81c\uacf5\ud560 \uc218 \uc5c6\uac70\ub098 \uc774\uc6a9\uc790\uc758 \uace0\uc758 \ub610\ub294 \uacfc\uc2e4\ub85c \uc778\ud558\uc5ec \uc11c\ube44\uc2a4\ub97c \uc774\uc6a9\ud560 \uc218 \uc5c6\uc5b4 \ubc1c\uc0dd\ud55c \uc190\ud574\uc5d0 \ub300\ud574\uc11c \ub9bd\ud53d\uc740 \ucc45\uc784\uc744 \ubd80\ub2f4\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. \uadf8\ub9ac\uace0 \ub9bd\ud53d\uac00 \uc190\ud574\ubc30\uc0c1\ucc45\uc784\uc744 \ubd80\ub2f4\ud558\ub294 \uacbd\uc6b0\uc5d0\ub3c4 \ud1b5\uc0c1\uc801\uc73c\ub85c \uc608\uacac\uc774 \ubd88\uac00\ub2a5\ud558\uac70\ub098 \ud2b9\ubcc4\ud55c \uc0ac\uc815\uc73c\ub85c \uc778\ud55c \ud2b9\ubcc4 \uc190\ud574 \ub610\ub294 \uac04\uc811 \uc190\ud574, \uae30\ud0c0 \uc9d5\ubc8c\uc801 \uc190\ud574\uc5d0 \ub300\ud574\uc11c\ub294 \uad00\ub828 \ubc95\ub839\uc5d0 \ud2b9\ubcc4\ud55c \uaddc\uc815\uc774 \uc5c6\ub294 \ud55c \ucc45\uc784\uc744 \ubd80\ub2f4\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. \ud55c\ud3b8, \ub9bd\ud53d \uc11c\ube44\uc2a4\ub97c \ub9e4\uac1c\ub85c \ud55c \uc5ec\ub7ec\ubd84\uacfc \ub2e4\ub978 \ud68c\uc6d0 \uac04 \ub610\ub294 \uc5ec\ub7ec\ubd84\uacfc \ube44\ud68c\uc6d0 \uac04\uc758 \uc758\uacac \uad50\ud658, \uac70\ub798 \ub4f1\uc5d0\uc11c \ubc1c\uc0dd\ud55c \uc190\ud574\ub098 \uc5ec\ub7ec\ubd84\uc774 \uc11c\ube44\uc2a4 \uc0c1\uc5d0 \uac8c\uc7ac\ub41c \ud0c0\uc778\uc758 \uac8c\uc2dc\ubb3c \ub4f1\uc758 \ucf58\ud150\uce20\ub97c \uc2e0\ub8b0\ud568\uc73c\ub85c\uc368 \ubc1c\uc0dd\ud55c \uc190\ud574\uc5d0 \ub300\ud574\uc11c\ub3c4 \ub9bd\ud53d\uc740 \ud2b9\ubcc4\ud55c \uc0ac\uc815\uc774 \uc5c6\ub294 \ud55c \uc774\uc5d0 \ub300\ud574 \ucc45\uc784\uc744 \ubd80\ub2f4\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. \uc5b8\uc81c\ub4e0\uc9c0 \ub9bd\ud53d \uc11c\ube44\uc2a4 \uc774\uc6a9\uacc4\uc57d\uc744 \ud574\uc9c0\ud558\uc2e4 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub9bd\ud53d\uc5d0\uac8c\ub294 \ucc38 \uc548\ud0c0\uae4c\uc6b4 \uc77c\uc785\ub2c8\ub2e4\ub9cc, \ud68c\uc6d0\uc740 \uc5b8\uc81c\ub4e0\uc9c0 \ub9bd\ud53d \uc11c\ube44\uc2a4 \uc774\uc6a9\uacc4\uc57d \ud574\uc9c0\ub97c \uc2e0\uccad\ud558\uc5ec \ud68c\uc6d0\uc5d0\uc11c \ud0c8\ud1f4\ud560 \uc218 \uc788\uc73c\uba70, \uc774 \uacbd\uc6b0 \ub9bd\ud53d\uc740 \uad00\ub828 \ubc95\ub839 \ub4f1\uc774 \uc815\ud558\ub294 \ubc14\uc5d0 \ub530\ub77c \uc774\ub97c \uc9c0\uccb4 \uc5c6\uc774 \ucc98\ub9ac\ud558\uaca0\uc2b5\ub2c8\ub2e4. \ub9bd\ud53d \uc11c\ube44\uc2a4 \uc774\uc6a9\uacc4\uc57d\uc774 \ud574\uc9c0\ub418\uba74, \uad00\ub828 \ubc95\ub839 \ubc0f \uac1c\uc778\uc815\ubcf4\ucc98\ub9ac\ubc29\uce68\uc5d0 \ub530\ub77c \ub9bd\ud53d\uac00 \ud574\ub2f9 \ud68c\uc6d0\uc758 \uc815\ubcf4\ub97c \ubcf4\uc720\ud560 \uc218 \uc788\ub294 \uacbd\uc6b0\ub97c \uc81c\uc678\ud558\uace0, \ud574\ub2f9 \ud68c\uc6d0 \uacc4\uc815\uc5d0 \ubd80\uc18d\ub41c \uac8c\uc2dc\ubb3c \uc77c\uccb4\ub97c \ud3ec\ud568\ud55c \ud68c\uc6d0\uc758 \ubaa8\ub4e0 \ub370\uc774\ud130\ub294 \uc18c\uba78\ub428\uacfc \ub3d9\uc2dc\uc5d0 \ubcf5\uad6c\ud560 \uc218 \uc5c6\uac8c \ub429\ub2c8\ub2e4. \ub2e4\ub9cc, \uc774 \uacbd\uc6b0\uc5d0\ub3c4 \ub2e4\ub978 \ud68c\uc6d0\uc774 \ubcc4\ub3c4\ub85c \ub2f4\uc544\uac14\uac70\ub098 \uc2a4\ud06c\ub7a9\ud55c \uac8c\uc2dc\ubb3c\uacfc \uacf5\uc6a9 \uac8c\uc2dc\ud310\uc5d0 \ub4f1\ub85d\ud55c \ub313\uae00 \ub4f1\uc758 \uac8c\uc2dc\ubb3c\uc740 \uc0ad\uc81c\ub418\uc9c0 \uc54a\uc73c\ubbc0\ub85c \ubc18\ub4dc\uc2dc \ud574\uc9c0 \uc2e0\uccad \uc774\uc804\uc5d0 \uc0ad\uc81c\ud558\uc2e0 \ud6c4 \ud0c8\ud1f4\ud558\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4. \uc77c\ubd80 \ub9bd\ud53d \uc11c\ube44\uc2a4\uc5d0\ub294 \uad11\uace0\uac00 \ud3ec\ud568\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4. \uc5ec\ub7ec\ubd84\uc774 \ub2e4\uc591\ud55c \ub9bd\ud53d \uc11c\ube44\uc2a4\ub97c \uc774\uc6a9\ud558\ub2e4 \ubcf4\uba74 \uac04\ud639 \uc77c\ubd80 \uac1c\ubcc4 \uc11c\ube44\uc2a4\uc5d0 \uad11\uace0\uac00 \ud3ec\ud568\ub41c \uacbd\uc6b0\uac00 \uc788\uc2b5\ub2c8\ub2e4. \ub9bd\ud53d \uc11c\ube44\uc2a4\ub97c \uc774\uc6a9\ud558\uba74\uc11c \ubc1c\uc0dd\ud560 \uc218 \uc788\ub294 \ub370\uc774\ud130 \ud1b5\uc2e0\uc694\uae08\uc740 \uac00\uc785\ud558\uc2e0 \ud1b5\uc2e0\uc0ac\uc5c5\uc790\uc640\uc758 \uc774\uc6a9\uacc4\uc57d\uc5d0 \ub530\ub77c \uc5ec\ub7ec\ubd84\uc774 \ubd80\ub2f4\ud558\uba70, \ud3ec\ud568\ub41c \uad11\uace0 \uc5f4\ub78c\uc73c\ub85c \uc778\ud574 \ucd94\uac00\uc801\uc73c\ub85c \ubc1c\uc0dd\ud558\ub294 \ube44\uc6a9 \uc5ed\uc2dc \uc5ec\ub7ec\ubd84\uc774 \ubd80\ub2f4\ud569\ub2c8\ub2e4. \uc6d0\ud558\ub294 \ub9bd\ud53d \uc11c\ube44\uc2a4\ub97c \uc774\uc6a9\ud558\uae30 \uc704\ud574 \uc6d0\ud558\uc9c0 \uc54a\ub294 \uad11\uace0\ub97c \ubd10\uc57c \ud558\ub294 \uacbd\uc6b0\uac00 \uc788\uc2b5\ub2c8\ub2e4. \uc774\ub294 \uc5ec\ub7ec\ubd84\uc5d0\uac8c \uc81c\uacf5\ud558\ub294 \ub2e4\uc591\ud55c \ub9bd\ud53d \uc11c\ube44\uc2a4\ub97c \uc6d0\uce59\uc801\uc73c\ub85c \ubb34\ub8cc\ub85c \uc81c\uacf5\ud560 \uc218 \uc788\uac8c \ud574\uc8fc\ub294 \ub370 \uae30\uc5ec\ud558\uba70, \ub354 \ub098\uc544\uac00 \ub9bd\ud53d\uac00 \uc5f0\uad6c \uac1c\ubc1c\uc5d0 \ud22c\uc790\ud558\uc5ec \ub354 \ub098\uc740 \uc11c\ube44\uc2a4\ub97c \uc81c\uacf5\ud560 \uc218 \uc788\ub294 \uae30\ubc18\uc774 \ub429\ub2c8\ub2e4. \ucd5c\uadfc \ud0c0\uc0ac\uc758 \uc77c\ubd80 \uc11c\ube44\uc2a4\ub4e4\uc774 \uad11\uace0 \uc5c6\ub294 \uc11c\ube44\uc2a4 \uc774\uc6a9\uc744 \uac15\uc870\ud558\uba70 \uc8fc\ub41c \uc11c\ube44\uc2a4\ub97c \uc720\ub8cc\ub85c \uc81c\uacf5\ud558\uace0 \uc788\ub294 \uad00\ud589\uc774 \uc774\ub97c \ub4b7\ubc1b\uce68\ud569\ub2c8\ub2e4. \ub9bd\ud53d\uc740 \uc5ec\ub7ec\ubd84\uc758 \ubcf8\uc758 \uc544\ub2cc \ubd88\ud3b8\uc774\ub098 \ubd80\ub2f4\uc774 \ucd5c\uc18c\ud654\ub420 \uc218 \uc788\ub294 \ubc29\ubc95\uc5d0 \ub300\ud574 \ud56d\uc0c1 \uace0\ubbfc\ud558\uace0 \uac1c\uc120\ud574 \ub098\uac00\uaca0\uc2b5\ub2c8\ub2e4. \uc11c\ube44\uc2a4 \uc911\ub2e8 \ub610\ub294 \ubcc0\uacbd \uc2dc \uaf2d \uc54c\ub824\ub4dc\ub9ac\uaca0\uc2b5\ub2c8\ub2e4. \ub9bd\ud53d\uc740 \uc5f0\uc911 \ubb34\ud734, 1\uc77c 24\uc2dc\uac04 \uc548\uc815\uc801\uc73c\ub85c \uc11c\ube44\uc2a4\ub97c \uc81c\uacf5\ud558\uae30 \uc704\ud574 \ucd5c\uc120\uc744 \ub2e4\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4\ub9cc, \ucef4\ud4e8\ud130, \uc11c\ubc84 \ub4f1 \uc815\ubcf4\ud1b5\uc2e0\uc124\ube44\uc758 \ubcf4\uc218\uc810\uac80, \uad50\uccb4 \ub610\ub294 \uace0\uc7a5, \ud1b5\uc2e0\ub450\uc808 \ub4f1 \uc6b4\uc601\uc0c1 \uc0c1\ub2f9\ud55c \uc774\uc720\uac00 \uc788\ub294 \uacbd\uc6b0 \ubd80\ub4dd\uc774 \uc11c\ube44\uc2a4\uc758 \uc804\ubd80 \ub610\ub294 \uc77c\ubd80\ub97c \uc911\ub2e8\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ud55c\ud3b8, \ub9bd\ud53d\uc740 \uc11c\ube44\uc2a4 \uc6b4\uc601 \ub610\ub294 \uac1c\uc120\uc744 \uc704\ud574 \uc0c1\ub2f9\ud55c \ud544\uc694\uc131\uc774 \uc788\ub294 \uacbd\uc6b0 \uc11c\ube44\uc2a4\uc758 \uc804\ubd80 \ub610\ub294 \uc77c\ubd80\ub97c \uc218\uc815, \ubcc0\uacbd \ub610\ub294 \uc885\ub8cc\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ubb34\ub8cc\ub85c \uc81c\uacf5\ub418\ub294 \uc11c\ube44\uc2a4\uc758 \uc804\ubd80 \ub610\ub294 \uc77c\ubd80\ub97c \uc218\uc815, \ubcc0\uacbd \ub610\ub294 \uc885\ub8cc\ud558\uac8c \ub41c \uacbd\uc6b0 \uad00\ub828 \ubc95\ub839\uc5d0 \ud2b9\ubcc4\ud55c \uaddc\uc815\uc774 \uc5c6\ub294 \ud55c \ubcc4\ub3c4\uc758 \ubcf4\uc0c1\uc744 \ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. \uc774 \uacbd\uc6b0 \ub9bd\ud53d\uc740 \uc608\uce21 \uac00\ub2a5\ud55c \uacbd\uc6b0 \uc0c1\ub2f9\uae30\uac04 \uc804\uc5d0 \uc774\ub97c \uc548\ub0b4\ud558\uba70, \ub9cc\uc57d \uc608\uce21 \ubd88\uac00\ub2a5\ud55c \uacbd\uc6b0\ub77c\uba74 \uc0ac\ud6c4 \uc9c0\uccb4 \uc5c6\uc774 \uc0c1\uc138\ud788 \uc124\uba85\ud558\uace0 \uc548\ub0b4 \ub4dc\ub9ac\uaca0\uc2b5\ub2c8\ub2e4. \ub610\ud55c \uc11c\ube44\uc2a4 \uc911\ub2e8\uc758 \uacbd\uc6b0\uc5d0\ub294 \uc5ec\ub7ec\ubd84 \uc790\uc2e0\uc758 \ucf58\ud150\uce20\ub97c \ubc31\uc5c5\ud560 \uc218 \uc788\ub3c4\ub85d \ud569\ub9ac\uc801\uc774\uace0 \ucda9\ubd84\ud55c \uae30\ud68c\ub97c \uc81c\uacf5\ud558\ub3c4\ub85d \ud558\uaca0\uc2b5\ub2c8\ub2e4. \uc8fc\uc694 \uc0ac\ud56d\uc744 \uc798 \uc548\ub0b4\ud558\uace0 \uc5ec\ub7ec\ubd84\uc758 \uc18c\uc911\ud55c \uc758\uacac\uc5d0 \uadc0 \uae30\uc6b8\uc774\uaca0\uc2b5\ub2c8\ub2e4. \ub9bd\ud53d\uc740 \uc11c\ube44\uc2a4 \uc774\uc6a9\uc5d0 \ud544\uc694\ud55c \uc8fc\uc694\uc0ac\ud56d\uc744 \uc801\uc2dc\uc5d0 \uc798 \uc548\ub0b4\ud574 \ub4dc\ub9b4 \uc218 \uc788\ub3c4\ub85d \ud798\uc4f0\uaca0\uc2b5\ub2c8\ub2e4. \ud68c\uc6d0\uc5d0\uac8c \ud1b5\uc9c0\ub97c \ud558\ub294 \uacbd\uc6b0 \uc804\uc790\uba54\uc77c, \uc11c\ube44\uc2a4 \ub0b4 \uc54c\ub9bc \ub610\ub294 \uae30\ud0c0 \uc801\uc808\ud55c \uc804\uc790\uc801 \uc218\ub2e8\uc744 \ud1b5\ud574 \uac1c\ubcc4\uc801\uc73c\ub85c \uc54c\ub824 \ub4dc\ub9b4 \uac83\uc774\uba70, \ub2e4\ub9cc \ud68c\uc6d0 \uc804\uccb4\uc5d0 \ub300\ud55c \ud1b5\uc9c0\uac00 \ud544\uc694\ud560 \uacbd\uc6b0\uc5d4 7\uc77c \uc774\uc0c1 www.lippick.com\uc744 \ube44\ub86f\ud55c \ub9bd\ud53d \ub3c4\uba54\uc778\uc758 \uc6f9\uc0ac\uc774\ud2b8 \ubc0f \uc751\uc6a9\ud504\ub85c\uadf8\ub7a8(\uc5b4\ud50c\ub9ac\ucf00\uc774\uc158, \uc571) \ucd08\uae30 \ud654\uba74 \ub610\ub294 \uacf5\uc9c0\uc0ac\ud56d \ub4f1\uc5d0 \uad00\ub828 \ub0b4\uc6a9\uc744 \uac8c\uc2dc\ud558\ub3c4\ub85d \ud558\uaca0\uc2b5\ub2c8\ub2e4. \ub9bd\ud53d\uc740 \uc5ec\ub7ec\ubd84\uc758 \uc18c\uc911\ud55c \uc758\uacac\uc5d0 \uadc0 \uae30\uc6b8\uc774\uaca0\uc2b5\ub2c8\ub2e4. \uc5ec\ub7ec\ubd84\uc740 \uc5b8\uc81c\ub4e0\uc9c0 \uace0\uac1d\uc13c\ud130\ub97c \ud1b5\ud574 \uc11c\ube44\uc2a4 \uc774\uc6a9\uacfc \uad00\ub828\ub41c \uc758\uacac\uc774\ub098 \uac1c\uc120\uc0ac\ud56d\uc744 \uc804\ub2ec\ud560 \uc218 \uc788\uc73c\uba70, \ub9bd\ud53d\uc740 \ud569\ub9ac\uc801 \ubc94\uc704 \ub0b4\uc5d0\uc11c \uac00\ub2a5\ud55c \uadf8 \ucc98\ub9ac\uacfc\uc815 \ubc0f \uacb0\uacfc\ub97c \uc5ec\ub7ec\ubd84\uaed8 \uc804\ub2ec\ud560 \uc218 \uc788\ub3c4\ub85d \ud558\uaca0\uc2b5\ub2c8\ub2e4. \uc5ec\ub7ec\ubd84\uc774 \uc27d\uac8c \uc54c \uc218 \uc788\ub3c4\ub85d \uc57d\uad00 \ubc0f \uc6b4\uc601\uc815\ucc45\uc744 \uac8c\uc2dc\ud558\uba70 \uc0ac\uc804 \uacf5\uc9c0 \ud6c4 \uac1c\uc815\ud569\ub2c8\ub2e4. \ub9bd\ud53d\uc740 \ubcf8 \uc57d\uad00\uc758 \ub0b4\uc6a9\uc744 \uc5ec\ub7ec\ubd84\uc774 \uc27d\uac8c \ud655\uc778\ud560 \uc218 \uc788\ub3c4\ub85d \uc11c\ube44\uc2a4 \ucd08\uae30 \ud654\uba74\uc5d0 \uac8c\uc2dc\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4. \ub9bd\ud53d\uc740 \uc218\uc2dc\ub85c \ubcf8 \uc57d\uad00, \uacc4\uc815 \ubc0f \uac8c\uc2dc\ubb3c \uc6b4\uc601\uc815\ucc45\uc744 \uac1c\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4\ub9cc, \uad00\ub828 \ubc95\ub839\uc744 \uc704\ubc30\ud558\uc9c0 \uc54a\ub294 \ubc94\uc704 \ub0b4\uc5d0\uc11c \uac1c\uc815\ud560 \uac83\uc774\uba70, \uc0ac\uc804\uc5d0 \uadf8 \uac1c\uc815 \uc774\uc720\uc640 \uc801\uc6a9 \uc77c\uc790\ub97c \uc11c\ube44\uc2a4 \ub0b4\uc5d0 \uc54c\ub9ac\ub3c4\ub85d \ud558\uaca0\uc2b5\ub2c8\ub2e4. \ub610\ud55c \uc5ec\ub7ec\ubd84\uc5d0\uac8c \ubd88\ub9ac\ud560 \uc218 \uc788\ub294 \uc911\ub300\ud55c \ub0b4\uc6a9\uc758 \uc57d\uad00 \ubcc0\uacbd\uc758 \uacbd\uc6b0\uc5d0\ub294 \ucd5c\uc18c 30\uc77c \uc774\uc804\uc5d0 \ud574\ub2f9 \uc11c\ube44\uc2a4 \ub0b4 \uacf5\uc9c0\ud558\uace0 \ubcc4\ub3c4\uc758 \uc804\uc790\uc801 \uc218\ub2e8(\uc804\uc790\uba54\uc77c, \uc11c\ube44\uc2a4 \ub0b4 \uc54c\ub9bc \ub4f1)\uc744 \ud1b5\ud574 \uac1c\ubcc4\uc801\uc73c\ub85c \uc54c\ub9b4 \uac83\uc785\ub2c8\ub2e4. \ub9bd\ud53d\uc740 \ubcc0\uacbd\ub41c \uc57d\uad00\uc744 \uac8c\uc2dc\ud55c \ub0a0\ub85c\ubd80\ud130 \ud6a8\ub825\uc774 \ubc1c\uc0dd\ub418\ub294 \ub0a0\uae4c\uc9c0 \uc57d\uad00 \ubcc0\uacbd\uc5d0 \ub300\ud55c \uc5ec\ub7ec\ubd84\uc758 \uc758\uacac\uc744 \uae30\ub2e4\ub9bd\ub2c8\ub2e4. \uc704 \uae30\uac04\uc774 \uc9c0\ub098\ub3c4\ub85d \uc5ec\ub7ec\ubd84\uc758 \uc758\uacac\uc774 \ub9bd\ud53d\uc5d0 \uc811\uc218\ub418\uc9c0 \uc54a\uc73c\uba74, \uc5ec\ub7ec\ubd84\uc774 \ubcc0\uacbd\ub41c \uc57d\uad00\uc5d0 \ub530\ub77c \uc11c\ube44\uc2a4\ub97c \uc774\uc6a9\ud558\ub294 \ub370\uc5d0 \ub3d9\uc758\ud558\ub294 \uac83\uc73c\ub85c \uac04\uc8fc\ub429\ub2c8\ub2e4. \ub9bd\ud53d\ub85c\uc11c\ub294 \ub9e4\uc6b0 \uc548\ud0c0\uae4c\uc6b4 \uc77c\uc774\uc9c0\ub9cc, \uc5ec\ub7ec\ubd84\uc774 \ubcc0\uacbd\ub41c \uc57d\uad00\uc5d0 \ub3d9\uc758\ud558\uc9c0 \uc54a\ub294 \uacbd\uc6b0 \ubcc0\uacbd\ub41c \uc57d\uad00\uc758 \uc801\uc6a9\uc744 \ubc1b\ub294 \ud574\ub2f9 \uc11c\ube44\uc2a4\uc758 \uc81c\uacf5\uc774 \ub354 \uc774\uc0c1 \ubd88\uac00\ub2a5\ud558\uac8c \ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub9bd\ud53d \uc11c\ube44\uc2a4\uc5d0\ub294 \uae30\ubcf8\uc801\uc73c\ub85c \ubcf8 \uc57d\uad00\uc774 \uc801\uc6a9\ub429\ub2c8\ub2e4\ub9cc, \ubd80\ub4dd\uc774 \uac01 \uac1c\ubcc4 \uc11c\ube44\uc2a4\uc758 \uace0\uc720\ud55c \ud2b9\uc131\uc744 \ubc18\uc601\ud558\uae30 \uc704\ud574 \ubcf8 \uc57d\uad00 \uc678 \ubcc4\ub3c4\uc758 \uc57d\uad00, \uc6b4\uc601\uc815\ucc45\uc774 \ucd94\uac00\ub85c \uc801\uc6a9\ub420 \ub54c\uac00 \uc788\uc2b5\ub2c8\ub2e4. \ub530\ub77c\uc11c \ubcc4\ub3c4\uc758 \uc57d\uad00, \uc6b4\uc601\uc815\ucc45\uc5d0\uc11c \uadf8 \uac1c\ubcc4 \uc11c\ube44\uc2a4 \uc81c\uacf5\uc5d0 \uad00\ud558\uc5ec \ubcf8 \uc57d\uad00, \uacc4\uc815 \ubc0f \uac8c\uc2dc\ubb3c \uc6b4\uc601\uc815\ucc45\uacfc \ub2e4\ub974\uac8c \uc815\ud55c \uacbd\uc6b0\uc5d0\ub294 \ubcc4\ub3c4\uc758 \uc57d\uad00, \uc6b4\uc601\uc815\ucc45\uc774 \uc6b0\uc120\ud558\uc5ec \uc801\uc6a9\ub429\ub2c8\ub2e4. \uc774\ub7ec\ud55c \ub0b4\uc6a9\uc740 \uac01\uac01\uc758 \uac1c\ubcc4 \uc11c\ube44\uc2a4 \ucd08\uae30 \ud654\uba74\uc5d0\uc11c \ud655\uc778\ud574 \uc8fc\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4. \ubcf8 \uc57d\uad00\uc740 \ud55c\uad6d\uc5b4\ub97c \uc815\ubcf8\uc73c\ub85c \ud569\ub2c8\ub2e4. \ubcf8 \uc57d\uad00 \ub610\ub294 \ub9bd\ud53d \uc11c\ube44\uc2a4\uc640 \uad00\ub828\ub41c \uc5ec\ub7ec\ubd84\uacfc \ub9bd\ud53d\uc640\uc758 \uad00\uacc4\uc5d0\ub294 \ub300\ud55c\ubbfc\uad6d\uc758 \ubc95\ub839\uc774 \uc801\uc6a9\ub429\ub2c8\ub2e4. \uadf8\ub9ac\uace0 \ubcf8 \uc57d\uad00 \ub610\ub294 \ub9bd\ud53d \uc11c\ube44\uc2a4\uc640 \uad00\ub828\ud558\uc5ec \uc5ec\ub7ec\ubd84\uacfc \ub9bd\ud53d \uc0ac\uc774\uc5d0 \ubd84\uc7c1\uc774 \ubc1c\uc0dd\ud560 \uacbd\uc6b0, \uadf8 \ubd84\uc7c1\uc758 \ucc98\ub9ac\ub294 \ub300\ud55c\ubbfc\uad6d '\ubbfc\uc0ac\uc18c\uc1a1\ubc95'\uc5d0\uc11c \uc815\ud55c \uc808\ucc28\ub97c \ub530\ub985\ub2c8\ub2e4. \uacf5\uc9c0 \uc77c\uc790: 2018\ub144 3\uc6d4 30\uc77c \uc801\uc6a9 \uc77c\uc790: 2018\ub144 5\uc6d4 1\uc77c \ub9bd\ud53d \uc11c\ube44\uc2a4\uc640 \uad00\ub828\ud558\uc5ec \uad81\uae08\ud558\uc2e0 \uc0ac\ud56d\uc774 \uc788\uc73c\uc2dc\uba74 \uace0\uac1d\uc13c\ud130(\ub300\ud45c\ubc88\ud638: 1588 \u2013 3820/ \ud3c9\uc77c 09:00~18:00)\ub85c \ubb38\uc758 \uc8fc\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4."}),(0,Je.jsxs)("div",{className:"register-checkbox-wrap",children:[(0,Je.jsx)("input",{type:"checkbox",className:"register-checkbox",id:"checkbox2"}),(0,Je.jsxs)("label",{for:"checkbox2",className:"register-label",children:["\uac1c\uc778\uc815\ubcf4 \uc218\uc9d1 \ubc0f \uc774\uc6a9 \ub3d9\uc758",(0,Je.jsx)("small",{children:"(\ud544\uc218)"})]})]}),(0,Je.jsx)("textarea",{spellcheck:"false",className:"register-text",children:"\uac1c\uc778\uc815\ubcf4\ubcf4\ud638\ubc95\uc5d0 \ub530\ub77c \ub9bd\ud53d\uc5d0 \ud68c\uc6d0\uac00\uc785 \uc2e0\uccad\ud558\uc2dc\ub294 \ubd84\uaed8 \uc218\uc9d1\ud558\ub294 \uac1c\uc778\uc815\ubcf4\uc758 \ud56d\ubaa9, \uac1c\uc778\uc815\ubcf4\uc758 \uc218\uc9d1 \ubc0f \uc774\uc6a9\ubaa9\uc801, \uac1c\uc778\uc815\ubcf4\uc758 \ubcf4\uc720 \ubc0f \uc774\uc6a9\uae30\uac04, \ub3d9\uc758 \uac70\ubd80\uad8c \ubc0f \ub3d9\uc758 \uac70\ubd80 \uc2dc \ubd88\uc774\uc775\uc5d0 \uad00\ud55c \uc0ac\ud56d\uc744 \uc548\ub0b4 \ub4dc\ub9ac\uc624\ub2c8 \uc790\uc138\ud788 \uc77d\uc740 \ud6c4 \ub3d9\uc758\ud558\uc5ec \uc8fc\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4. 1. \uc218\uc9d1\ud558\ub294 \uac1c\uc778\uc815\ubcf4 \uc774\uc6a9\uc790\ub294 \ud68c\uc6d0\uac00\uc785\uc744 \ud558\uc9c0 \uc54a\uc544\ub3c4 \uc815\ubcf4 \uac80\uc0c9, \ub274\uc2a4 \ubcf4\uae30 \ub4f1 \ub300\ubd80\ubd84\uc758 \ub9bd\ud53d \uc11c\ube44\uc2a4\ub97c \ud68c\uc6d0\uacfc \ub3d9\uc77c\ud558\uac8c \uc774\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774\uc6a9\uc790\uac00 \uba54\uc77c, \uce98\ub9b0\ub354, \uce74\ud398, \ube14\ub85c\uadf8 \ub4f1\uacfc \uac19\uc774 \uac1c\uc778\ud654 \ud639\uc740 \ud68c\uc6d0\uc81c \uc11c\ube44\uc2a4\ub97c \uc774\uc6a9\ud558\uae30 \uc704\ud574 \ud68c\uc6d0\uac00\uc785\uc744 \ud560 \uacbd\uc6b0, \ub9bd\ud53d\uc740 \uc11c\ube44\uc2a4 \uc774\uc6a9\uc744 \uc704\ud574 \ud544\uc694\ud55c \ucd5c\uc18c\ud55c\uc758 \uac1c\uc778\uc815\ubcf4\ub97c \uc218\uc9d1\ud569\ub2c8\ub2e4. \ud68c\uc6d0\uac00\uc785 \uc2dc\uc810\uc5d0 \ub9bd\ud53d\uac00 \uc774\uc6a9\uc790\ub85c\ubd80\ud130 \uc218\uc9d1\ud558\ub294 \uac1c\uc778\uc815\ubcf4\ub294 \uc544\ub798\uc640 \uac19\uc2b5\ub2c8\ub2e4. - \ud68c\uc6d0 \uac00\uc785 \uc2dc\uc5d0 \u2018\uc544\uc774\ub514, \ube44\ubc00\ubc88\ud638, \uc774\ub984, \uc0dd\ub144\uc6d4\uc77c, \uc131\ubcc4, \ud734\ub300\uc804\ud654\ubc88\ud638\u2019\ub97c \ud544\uc218\ud56d\ubaa9\uc73c\ub85c \uc218\uc9d1\ud569\ub2c8\ub2e4. \ub9cc\uc57d \uc774\uc6a9\uc790\uac00 \uc785\ub825\ud558\ub294 \uc0dd\ub144\uc6d4\uc77c\uc774 \ub9cc14\uc138 \ubbf8\ub9cc \uc544\ub3d9\uc77c \uacbd\uc6b0\uc5d0\ub294 \ubc95\uc815\ub300\ub9ac\uc778 \uc815\ubcf4(\ubc95\uc815\ub300\ub9ac\uc778\uc758 \uc774\ub984, \uc0dd\ub144\uc6d4\uc77c, \uc131\ubcc4, \uc911\ubcf5\uac00\uc785\ud655\uc778\uc815\ubcf4(DI), \ud734\ub300\uc804\ud654\ubc88\ud638)\ub97c \ucd94\uac00\ub85c \uc218\uc9d1\ud569\ub2c8\ub2e4. \uadf8\ub9ac\uace0 \uc120\ud0dd\ud56d\ubaa9\uc73c\ub85c \uc774\uba54\uc77c \uc8fc\uc18c\ub97c \uc218\uc9d1\ud569\ub2c8\ub2e4. - \ub2e8\uccb4\uc544\uc774\ub514\ub85c \ud68c\uc6d0\uac00\uc785 \uc2dc \ub2e8\uccb4\uc544\uc774\ub514, \ube44\ubc00\ubc88\ud638, \ub2e8\uccb4\uc774\ub984, \uc774\uba54\uc77c\uc8fc\uc18c, \ud734\ub300\uc804\ud654\ubc88\ud638\ub97c \ud544\uc218\ud56d\ubaa9\uc73c\ub85c \uc218\uc9d1\ud569\ub2c8\ub2e4. \uadf8\ub9ac\uace0 \ub2e8\uccb4 \ub300\ud45c\uc790\uba85\uc744 \uc120\ud0dd\ud56d\ubaa9\uc73c\ub85c \uc218\uc9d1\ud569\ub2c8\ub2e4. \uc11c\ube44\uc2a4 \uc774\uc6a9 \uacfc\uc815\uc5d0\uc11c \uc774\uc6a9\uc790\ub85c\ubd80\ud130 \uc218\uc9d1\ud558\ub294 \uac1c\uc778\uc815\ubcf4\ub294 \uc544\ub798\uc640 \uac19\uc2b5\ub2c8\ub2e4. - \ud68c\uc6d0\uc815\ubcf4 \ub610\ub294 \uac1c\ubcc4 \uc11c\ube44\uc2a4\uc5d0\uc11c \ud504\ub85c\ud544 \uc815\ubcf4(\ubcc4\uba85, \ud504\ub85c\ud544 \uc0ac\uc9c4)\ub97c \uc124\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ud68c\uc6d0\uc815\ubcf4\uc5d0 \ubcc4\uba85\uc744 \uc785\ub825\ud558\uc9c0 \uc54a\uc740 \uacbd\uc6b0\uc5d0\ub294 \ub9c8\uc2a4\ud0b9 \ucc98\ub9ac\ub41c \uc544\uc774\ub514\uac00 \ubcc4\uba85\uc73c\ub85c \uc790\ub3d9 \uc785\ub825\ub429\ub2c8\ub2e4. - \ub9bd\ud53d \ub0b4\uc758 \uac1c\ubcc4 \uc11c\ube44\uc2a4 \uc774\uc6a9, \uc774\ubca4\ud2b8 \uc751\ubaa8 \ubc0f \uacbd\ud488 \uc2e0\uccad \uacfc\uc815\uc5d0\uc11c \ud574\ub2f9 \uc11c\ube44\uc2a4\uc758 \uc774\uc6a9\uc790\uc5d0 \ud55c\ud574 \ucd94\uac00 \uac1c\uc778\uc815\ubcf4 \uc218\uc9d1\uc774 \ubc1c\uc0dd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ucd94\uac00\ub85c \uac1c\uc778\uc815\ubcf4\ub97c \uc218\uc9d1\ud560 \uacbd\uc6b0\uc5d0\ub294 \ud574\ub2f9 \uac1c\uc778\uc815\ubcf4 \uc218\uc9d1 \uc2dc\uc810\uc5d0\uc11c \uc774\uc6a9\uc790\uc5d0\uac8c \u2018\uc218\uc9d1\ud558\ub294 \uac1c\uc778\uc815\ubcf4 \ud56d\ubaa9, \uac1c\uc778\uc815\ubcf4\uc758 \uc218\uc9d1 \ubc0f \uc774\uc6a9\ubaa9\uc801, \uac1c\uc778\uc815\ubcf4\uc758 \ubcf4\uad00\uae30\uac04\u2019\uc5d0 \ub300\ud574 \uc548\ub0b4 \ub4dc\ub9ac\uace0 \ub3d9\uc758\ub97c \ubc1b\uc2b5\ub2c8\ub2e4. \uc11c\ube44\uc2a4 \uc774\uc6a9 \uacfc\uc815\uc5d0\uc11c IP \uc8fc\uc18c, \ucfe0\ud0a4, \uc11c\ube44\uc2a4 \uc774\uc6a9 \uae30\ub85d, \uae30\uae30\uc815\ubcf4, \uc704\uce58\uc815\ubcf4\uac00 \uc0dd\uc131\ub418\uc5b4 \uc218\uc9d1\ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub610\ud55c \uc774\ubbf8\uc9c0 \ubc0f \uc74c\uc131\uc744 \uc774\uc6a9\ud55c \uac80\uc0c9 \uc11c\ube44\uc2a4 \ub4f1\uc5d0\uc11c \uc774\ubbf8\uc9c0\ub098 \uc74c\uc131\uc774 \uc218\uc9d1\ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uad6c\uccb4\uc801\uc73c\ub85c 1) \uc11c\ube44\uc2a4 \uc774\uc6a9 \uacfc\uc815\uc5d0\uc11c \uc774\uc6a9\uc790\uc5d0 \uad00\ud55c \uc815\ubcf4\ub97c \uc790\ub3d9\ud654\ub41c \ubc29\ubc95\uc73c\ub85c \uc0dd\uc131\ud558\uc5ec \uc774\ub97c \uc800\uc7a5(\uc218\uc9d1)\ud558\uac70\ub098, 2) \uc774\uc6a9\uc790 \uae30\uae30\uc758 \uace0\uc720\ud55c \uc815\ubcf4\ub97c \uc6d0\ub798\uc758 \uac12\uc744 \ud655\uc778\ud558\uc9c0 \ubabb \ud558\ub3c4\ub85d \uc548\uc804\ud558\uac8c \ubcc0\ud658\ud558\uc5ec \uc218\uc9d1\ud569\ub2c8\ub2e4. \uc11c\ube44\uc2a4 \uc774\uc6a9 \uacfc\uc815\uc5d0\uc11c \uc704\uce58\uc815\ubcf4\uac00 \uc218\uc9d1\ub420 \uc218 \uc788\uc73c\uba70, \ub9bd\ud53d\uc5d0\uc11c \uc81c\uacf5\ud558\ub294 \uc704\uce58\uae30\ubc18 \uc11c\ube44\uc2a4\uc5d0 \ub300\ud574\uc11c\ub294 '\ub9bd\ud53d \uc704\uce58\uc815\ubcf4 \uc774\uc6a9\uc57d\uad00'\uc5d0\uc11c \uc790\uc138\ud558\uac8c \uaddc\uc815\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4. \uc774\uc640 \uac19\uc774 \uc218\uc9d1\ub41c \uc815\ubcf4\ub294 \uac1c\uc778\uc815\ubcf4\uc640\uc758 \uc5f0\uacc4 \uc5ec\ubd80 \ub4f1\uc5d0 \ub530\ub77c \uac1c\uc778\uc815\ubcf4\uc5d0 \ud574\ub2f9\ud560 \uc218 \uc788\uace0, \uac1c\uc778\uc815\ubcf4\uc5d0 \ud574\ub2f9\ud558\uc9c0 \uc54a\uc744 \uc218\ub3c4 \uc788\uc2b5\ub2c8\ub2e4. 2. \uc218\uc9d1\ud55c \uac1c\uc778\uc815\ubcf4\uc758 \uc774\uc6a9 \ub9bd\ud53d \ubc0f \ub9bd\ud53d \uad00\ub828 \uc81c\ubc18 \uc11c\ube44\uc2a4(\ubaa8\ubc14\uc77c \uc6f9/\uc571 \ud3ec\ud568)\uc758 \ud68c\uc6d0\uad00\ub9ac, \uc11c\ube44\uc2a4 \uac1c\ubc1c\u30fb\uc81c\uacf5 \ubc0f \ud5a5\uc0c1, \uc548\uc804\ud55c \uc778\ud130\ub137 \uc774\uc6a9\ud658\uacbd \uad6c\ucd95 \ub4f1 \uc544\ub798\uc758 \ubaa9\uc801\uc73c\ub85c\ub9cc \uac1c\uc778\uc815\ubcf4\ub97c \uc774\uc6a9\ud569\ub2c8\ub2e4. - \ud68c\uc6d0 \uac00\uc785 \uc758\uc0ac\uc758 \ud655\uc778, \uc5f0\ub839 \ud655\uc778 \ubc0f \ubc95\uc815\ub300\ub9ac\uc778 \ub3d9\uc758 \uc9c4\ud589, \uc774\uc6a9\uc790 \ubc0f \ubc95\uc815\ub300\ub9ac\uc778\uc758 \ubcf8\uc778 \ud655\uc778, \uc774\uc6a9\uc790 \uc2dd\ubcc4, \ud68c\uc6d0\ud0c8\ud1f4 \uc758\uc0ac\uc758 \ud655\uc778 \ub4f1 \ud68c\uc6d0\uad00\ub9ac\ub97c \uc704\ud558\uc5ec \uac1c\uc778\uc815\ubcf4\ub97c \uc774\uc6a9\ud569\ub2c8\ub2e4. - \ucf58\ud150\uce20 \ub4f1 \uae30\uc874 \uc11c\ube44\uc2a4 \uc81c\uacf5(\uad11\uace0 \ud3ec\ud568)\uc5d0 \ub354\ud558\uc5ec, \uc778\uad6c\ud1b5\uacc4\ud559\uc801 \ubd84\uc11d, \uc11c\ube44\uc2a4 \ubc29\ubb38 \ubc0f \uc774\uc6a9\uae30\ub85d\uc758 \ubd84\uc11d, \uac1c\uc778\uc815\ubcf4 \ubc0f \uad00\uc2ec\uc5d0 \uae30\ubc18\ud55c \uc774\uc6a9\uc790\uac04 \uad00\uacc4\uc758 \ud615\uc131, \uc9c0\uc778 \ubc0f \uad00\uc2ec\uc0ac \ub4f1\uc5d0 \uae30\ubc18\ud55c \ub9de\ucda4\ud615 \uc11c\ube44\uc2a4 \uc81c\uacf5 \ub4f1 \uc2e0\uaddc \uc11c\ube44\uc2a4 \uc694\uc18c\uc758 \ubc1c\uad74 \ubc0f \uae30\uc874 \uc11c\ube44\uc2a4 \uac1c\uc120 \ub4f1\uc744 \uc704\ud558\uc5ec \uac1c\uc778\uc815\ubcf4\ub97c \uc774\uc6a9\ud569\ub2c8\ub2e4. - \ubc95\ub839 \ubc0f \ub9bd\ud53d \uc774\uc6a9\uc57d\uad00\uc744 \uc704\ubc18\ud558\ub294 \ud68c\uc6d0\uc5d0 \ub300\ud55c \uc774\uc6a9 \uc81c\ud55c \uc870\uce58, \ubd80\uc815 \uc774\uc6a9 \ud589\uc704\ub97c \ud3ec\ud568\ud558\uc5ec \uc11c\ube44\uc2a4\uc758 \uc6d0\ud65c\ud55c \uc6b4\uc601\uc5d0 \uc9c0\uc7a5\uc744 \uc8fc\ub294 \ud589\uc704\uc5d0 \ub300\ud55c \ubc29\uc9c0 \ubc0f \uc81c\uc7ac, \uacc4\uc815\ub3c4\uc6a9 \ubc0f \ubd80\uc815\uac70\ub798 \ubc29\uc9c0, \uc57d\uad00 \uac1c\uc815 \ub4f1\uc758 \uace0\uc9c0\uc0ac\ud56d \uc804\ub2ec, \ubd84\uc7c1\uc870\uc815\uc744 \uc704\ud55c \uae30\ub85d \ubcf4\uc874, \ubbfc\uc6d0\ucc98\ub9ac \ub4f1 \uc774\uc6a9\uc790 \ubcf4\ud638 \ubc0f \uc11c\ube44\uc2a4 \uc6b4\uc601\uc744 \uc704\ud558\uc5ec \uac1c\uc778\uc815\ubcf4\ub97c \uc774\uc6a9\ud569\ub2c8\ub2e4. - \uc720\ub8cc \uc11c\ube44\uc2a4 \uc81c\uacf5\uc5d0 \ub530\ub974\ub294 \ubcf8\uc778\uc778\uc99d, \uad6c\ub9e4 \ubc0f \uc694\uae08 \uacb0\uc81c, \uc0c1\ud488 \ubc0f \uc11c\ube44\uc2a4\uc758 \ubc30\uc1a1\uc744 \uc704\ud558\uc5ec \uac1c\uc778\uc815\ubcf4\ub97c \uc774\uc6a9\ud569\ub2c8\ub2e4. - \uc774\ubca4\ud2b8 \uc815\ubcf4 \ubc0f \ucc38\uc5ec\uae30\ud68c \uc81c\uacf5, \uad11\uace0\uc131 \uc815\ubcf4 \uc81c\uacf5 \ub4f1 \ub9c8\ucf00\ud305 \ubc0f \ud504\ub85c\ubaa8\uc158 \ubaa9\uc801\uc73c\ub85c \uac1c\uc778\uc815\ubcf4\ub97c \uc774\uc6a9\ud569\ub2c8\ub2e4. - \uc11c\ube44\uc2a4 \uc774\uc6a9\uae30\ub85d\uacfc \uc811\uc18d \ube48\ub3c4 \ubd84\uc11d, \uc11c\ube44\uc2a4 \uc774\uc6a9\uc5d0 \ub300\ud55c \ud1b5\uacc4, \uc11c\ube44\uc2a4 \ubd84\uc11d \ubc0f \ud1b5\uacc4\uc5d0 \ub530\ub978 \ub9de\ucda4 \uc11c\ube44\uc2a4 \uc81c\uacf5 \ubc0f \uad11\uace0 \uac8c\uc7ac \ub4f1\uc5d0 \uac1c\uc778\uc815\ubcf4\ub97c \uc774\uc6a9\ud569\ub2c8\ub2e4. - \ubcf4\uc548, \ud504\ub77c\uc774\ubc84\uc2dc, \uc548\uc804 \uce21\uba74\uc5d0\uc11c \uc774\uc6a9\uc790\uac00 \uc548\uc2ec\ud558\uace0 \uc774\uc6a9\ud560 \uc218 \uc788\ub294 \uc11c\ube44\uc2a4 \uc774\uc6a9\ud658\uacbd \uad6c\ucd95\uc744 \uc704\ud574 \uac1c\uc778\uc815\ubcf4\ub97c \uc774\uc6a9\ud569\ub2c8\ub2e4. 3. \uac1c\uc778\uc815\ubcf4\uc758 \ubcf4\uad00\uae30\uac04 \ud68c\uc0ac\ub294 \uc6d0\uce59\uc801\uc73c\ub85c \uc774\uc6a9\uc790\uc758 \uac1c\uc778\uc815\ubcf4\ub97c \ud68c\uc6d0 \ud0c8\ud1f4 \uc2dc \uc9c0\uccb4\uc5c6\uc774 \ud30c\uae30\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4. \ub2e8, \uc774\uc6a9\uc790\uc5d0\uac8c \uac1c\uc778\uc815\ubcf4 \ubcf4\uad00\uae30\uac04\uc5d0 \ub300\ud574 \ubcc4\ub3c4\uc758 \ub3d9\uc758\ub97c \uc5bb\uc740 \uacbd\uc6b0, \ub610\ub294 \ubc95\ub839\uc5d0\uc11c \uc77c\uc815 \uae30\uac04 \uc815\ubcf4\ubcf4\uad00 \uc758\ubb34\ub97c \ubd80\uacfc\ud558\ub294 \uacbd\uc6b0\uc5d0\ub294 \ud574\ub2f9 \uae30\uac04 \ub3d9\uc548 \uac1c\uc778\uc815\ubcf4\ub97c \uc548\uc804\ud558\uac8c \ubcf4\uad00\ud569\ub2c8\ub2e4. \uc774\uc6a9\uc790\uc5d0\uac8c \uac1c\uc778\uc815\ubcf4 \ubcf4\uad00\uae30\uac04\uc5d0 \ub300\ud574 \ud68c\uc6d0\uac00\uc785 \uc2dc \ub610\ub294 \uc11c\ube44\uc2a4 \uac00\uc785 \uc2dc \ub3d9\uc758\ub97c \uc5bb\uc740 \uacbd\uc6b0\ub294 \uc544\ub798\uc640 \uac19\uc2b5\ub2c8\ub2e4. - \ubd80\uc815 \uac00\uc785 \ubc0f \uc774\uc6a9 \ubc29\uc9c0 \ubd80\uc815 \uc774\uc6a9\uc790\uc758 \uac00\uc785\uc778\uc99d \ud734\ub300\uc804\ud654\ubc88\ud638 \ub610\ub294 DI (\ub9cc14\uc138 \ubbf8\ub9cc\uc758 \uacbd\uc6b0 \ubc95\uc815\ub300\ub9ac\uc778DI) : \ud0c8\ud1f4\uc77c\ub85c\ubd80\ud130 6\uac1c\uc6d4 \ubcf4\uad00 \ud0c8\ud1f4\ud55c \uc774\uc6a9\uc790\uc758 \ud734\ub300\uc804\ud654\ubc88\ud638(\ubcf5\ud638\ud654\uac00 \ubd88\uac00\ub2a5\ud55c \uc77c\ubc29\ud5a5 \uc554\ud638\ud654(\ud574\uc2dc\ucc98\ub9ac)) : \ud0c8\ud1f4\uc77c\ub85c\ubd80\ud130 6\uac1c\uc6d4 \ubcf4\uad00 - QR\ucf54\ub4dc \ubcf5\uad6c \uc694\uccad \ub300\uc751 QR\ucf54\ub4dc \ub4f1\ub85d \uc815\ubcf4:\uc0ad\uc81c \uc2dc\uc810\uc73c\ub85c\ubd80\ud1306\uac1c\uc6d4 \ubcf4\uad00 - \uc2a4\ub9c8\ud2b8\ud50c\ub808\uc774\uc2a4 \ubd84\uc7c1 \uc870\uc815 \ubc0f \uace0\uac1d\ubb38\uc758 \ub300\uc751 \ud734\ub300\uc804\ud654\ubc88\ud638:\ub4f1\ub85d/\uc218\uc815/\uc0ad\uc81c \uc694\uccad \uc2dc\ub85c\ubd80\ud130 \ucd5c\ub3001\ub144 - \ub9bd\ud53d \ud50c\ub7ec\uc2a4 \uba64\ubc84\uc2ed \uc11c\ube44\uc2a4 \ud61c\ud0dd \uc911\ubcf5 \uc81c\uacf5 \ubc29\uc9c0 \uc554\ud638\ud654\ucc98\ub9ac(\ud574\uc2dc\ucc98\ub9ac)\ud55cDI :\ud61c\ud0dd \uc81c\uacf5 \uc885\ub8cc\uc77c\ub85c\ubd80\ud1306\uac1c\uc6d4 \ubcf4\uad00 - \uc9c0\uc2ddiN eXpert \uc7ac\uac00\uc785 \uc2e0\uccad \ubc0f \ubd80\uc815 \uc774\uc6a9 \ubc29\uc9c0 eXpert \uc11c\ube44\uc2a4 \ubc0f eXpert \uc13c\ud130 \uac00\uc785 \ub4f1\ub85d\uc815\ubcf4 : \uc2e0\uccad\uc77c\ub85c\ubd80\ud130 6\uac1c\uc6d4(\ub4f1\ub85d \uac70\uc808 \uc2dc, \uac70\uc808 \uc758\uc0ac \ud45c\uc2dc\ud55c \ub0a0\ub85c\ubd80\ud130 30\uc77c) \ubcf4\uad00 \uc804\uc790\uc0c1\uac70\ub798 \ub4f1\uc5d0\uc11c\uc758 \uc18c\ube44\uc790 \ubcf4\ud638\uc5d0 \uad00\ud55c \ubc95\ub960, \uc804\uc790\ubb38\uc11c \ubc0f \uc804\uc790\uac70\ub798 \uae30\ubcf8\ubc95, \ud1b5\uc2e0\ube44\ubc00\ubcf4\ud638\ubc95 \ub4f1 \ubc95\ub839\uc5d0\uc11c \uc77c\uc815\uae30\uac04 \uc815\ubcf4\uc758 \ubcf4\uad00\uc744 \uaddc\uc815\ud558\ub294 \uacbd\uc6b0\ub294 \uc544\ub798\uc640 \uac19\uc2b5\ub2c8\ub2e4. \ub9bd\ud53d\uc740 \uc774 \uae30\uac04 \ub3d9\uc548 \ubc95\ub839\uc758 \uaddc\uc815\uc5d0 \ub530\ub77c \uac1c\uc778\uc815\ubcf4\ub97c \ubcf4\uad00\ud558\uba70, \ubcf8 \uc815\ubcf4\ub97c \ub2e4\ub978 \ubaa9\uc801\uc73c\ub85c\ub294 \uc808\ub300 \uc774\uc6a9\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. - \uc804\uc790\uc0c1\uac70\ub798 \ub4f1\uc5d0\uc11c \uc18c\ube44\uc790 \ubcf4\ud638\uc5d0 \uad00\ud55c \ubc95\ub960 \uacc4\uc57d \ub610\ub294 \uccad\uc57d\ucca0\ud68c \ub4f1\uc5d0 \uad00\ud55c \uae30\ub85d: 5\ub144 \ubcf4\uad00 \ub300\uae08\uacb0\uc81c \ubc0f \uc7ac\ud654 \ub4f1\uc758 \uacf5\uae09\uc5d0 \uad00\ud55c \uae30\ub85d: 5\ub144 \ubcf4\uad00 \uc18c\ube44\uc790\uc758 \ubd88\ub9cc \ub610\ub294 \ubd84\uc7c1\ucc98\ub9ac\uc5d0 \uad00\ud55c \uae30\ub85d: 3\ub144 \ubcf4\uad00 - \uc804\uc790\ubb38\uc11c \ubc0f \uc804\uc790\uac70\ub798 \uae30\ubcf8\ubc95 \uacf5\uc778\uc804\uc790\uc8fc\uc18c\ub97c \ud1b5\ud55c \uc804\uc790\ubb38\uc11c \uc720\ud1b5\uc5d0 \uad00\ud55c \uae30\ub85d : 10\ub144 \ubcf4\uad00 - \uc804\uc790\uc11c\uba85 \uc778\uc99d \uc5c5\ubb34 \uc778\uc99d\uc11c\uc640 \uc778\uc99d \uc5c5\ubb34\uc5d0 \uad00\ud55c \uae30\ub85d: \uc778\uc99d\uc11c \ud6a8\ub825 \uc0c1\uc2e4\uc77c\ub85c\ubd80\ud130 10\ub144 \ubcf4\uad00 - \ud1b5\uc2e0\ube44\ubc00\ubcf4\ud638\ubc95 \ub85c\uadf8\uc778 \uae30\ub85d: 3\uac1c\uc6d4 \ucc38\uace0\ub85c \ub9bd\ud53d\uc740 \u2018\uac1c\uc778\uc815\ubcf4 \uc720\ud6a8\uae30\uac04\uc81c\u2019\uc5d0 \ub530\ub77c 1\ub144\uac04 \uc11c\ube44\uc2a4\ub97c \uc774\uc6a9\ud558\uc9c0 \uc54a\uc740 \ud68c\uc6d0\uc758 \uac1c\uc778\uc815\ubcf4\ub97c \ubcc4\ub3c4\ub85c \ubd84\ub9ac \ubcf4\uad00\ud558\uc5ec \uad00\ub9ac\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4. 4. \uac1c\uc778\uc815\ubcf4 \uc218\uc9d1 \ubc0f \uc774\uc6a9 \ub3d9\uc758\ub97c \uac70\ubd80\ud560 \uad8c\ub9ac \uc774\uc6a9\uc790\ub294 \uac1c\uc778\uc815\ubcf4\uc758 \uc218\uc9d1 \ubc0f \uc774\uc6a9 \ub3d9\uc758\ub97c \uac70\ubd80\ud560 \uad8c\ub9ac\uac00 \uc788\uc2b5\ub2c8\ub2e4. \ud68c\uc6d0\uac00\uc785 \uc2dc \uc218\uc9d1\ud558\ub294 \ucd5c\uc18c\ud55c\uc758 \uac1c\uc778\uc815\ubcf4, \uc989, \ud544\uc218 \ud56d\ubaa9\uc5d0 \ub300\ud55c \uc218\uc9d1 \ubc0f \uc774\uc6a9 \ub3d9\uc758\ub97c \uac70\ubd80\ud558\uc2e4 \uacbd\uc6b0, \ud68c\uc6d0\uac00\uc785\uc774 \uc5b4\ub824\uc6b8 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),(0,Je.jsx)("span",{className:"register-title",children:"\uc774\uba54\uc77c"}),(0,Je.jsx)("input",{placeholder:"",className:"register-input",type:"email",value:i,onChange:function(e){s(e.currentTarget.value)},required:!0}),(0,Je.jsx)("span",{className:"register-title",children:"\uc774\ub984"}),(0,Je.jsx)("input",{className:"register-input",type:"text",value:v,onChange:function(e){m(e.currentTarget.value)},required:!0}),(0,Je.jsx)("span",{className:"register-title",children:"\ube44\ubc00\ubc88\ud638"}),(0,Je.jsx)("input",{className:"register-input",type:"password",value:l,onChange:function(e){f(e.currentTarget.value)},required:!0}),(0,Je.jsx)("span",{className:"register-title",children:"\ube44\ubc00\ubc88\ud638 \ud655\uc778"}),(0,Je.jsx)("input",{className:"register-input",type:"password",value:b,onChange:function(e){x(e.currentTarget.value)},required:!0}),(0,Je.jsx)("br",{}),(0,Je.jsx)("button",{className:"register-btn",children:"\ud68c\uc6d0\uac00\uc785"})]})})}))),hb=function(){return(0,Je.jsx)("div",{style:{width:"75%",zIndex:"990",height:"65vh",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto"},children:(0,Je.jsx)("img",{style:{width:"150px",height:"150px"},src:rt,alt:""})})};var vb=$((function(e){return{navTG:e.reducer1,loading:e.reducer12}}))((function(t){var n=(0,e.useState)([]),o=(0,a.Z)(n,2),i=o[0],s=o[1],u=(0,e.useState)(0),c=(0,a.Z)(u,2),l=c[0],f=(c[1],(0,e.useState)(8)),d=(0,a.Z)(f,2),h=d[0],v=(d[1],(0,e.useState)(0)),m=(0,a.Z)(v,2),g=m[0],y=m[1],b={color:"inherit",textDecoration:"none",maxHeight:"75px"};(0,e.useEffect)((function(){t.dispatch({type:"nav-on"}),t.dispatch({type:"loading-start"})}),[t.navTG]),(0,e.useEffect)((function(){x({skip:l,limit:h})}),[]);var x=function(e){p().post("/api/product/lipstick",e).then((function(t){t.data.success?(e.loadMore?s([].concat((0,r.Z)(i),(0,r.Z)(t.data.productInfo))):s(t.data.productInfo),y(t.data.postSize)):alert(" \uc0c1\ud488 \uac00\uc838\uc624\uae30 \uc2e4\ud328 ")}))},w=i.map((function(e,n){return t.dispatch({type:"loading-end"}),(0,Je.jsxs)(Em,{lg:6,md:8,xs:24,style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[(0,Je.jsx)(_n,{to:"./product/".concat(e._id),style:{linkStyle:b,textDecoration:"none"},children:(0,Je.jsx)(ib,{cover:(0,Je.jsx)("img",{src:"http://localhost:5000/".concat(e.images[0])})})}),(0,Je.jsxs)("div",{className:"product-content-wrap",children:[(0,Je.jsx)(_n,{to:"./product/".concat(e._id),style:{linkStyle:b,textDecoration:"none"},children:(0,Je.jsx)("span",{className:"product-title",style:{color:"#333"},children:e.title})}),(0,Je.jsx)("div",{className:"color-box",style:{backgroundColor:"".concat(e.color),width:"20px",height:"20px",borderRadius:"10px",marginTop:"1vh"}}),(0,Je.jsx)("span",{className:"product-tone",style:{marginTop:"1vh"},children:e.tone}),(0,Je.jsxs)("span",{className:"product-price",style:{marginTop:"1vh"},children:[e.price," \uc6d0"]})]})]},n)}));return(0,Je.jsx)("div",{style:{width:"100%"},children:t.loading?(0,Je.jsx)(hb,{}):(0,Je.jsxs)("div",{children:[(0,Je.jsxs)("div",{className:"bg-wrap",children:[(0,Je.jsx)("div",{className:"bg bg-lipstick",children:(0,Je.jsx)("span",{className:"bg-title-1",style:{position:"absolute",color:"white",fontWeight:"500",fontSize:"2rem",left:"20%",top:"45%"},children:"\ub9bd\uc2a4\ud2f1"})}),(0,Je.jsxs)("div",{className:"content-text",children:[(0,Je.jsx)("span",{className:"bg-title-2",children:"\ub9bd\uc2a4\ud2f1"}),(0,Je.jsx)("span",{style:{fontSize:"0.8rem"},children:"\uc785\uc220\uc5d0 \uc0c8\ub85c\uc6b4 \ub9e4\ub825\uc744 \ub354\ud558\ub294 \uc0e4\ub12c \ub9bd \uceec\ub7ec.\ub8e8\uc96c \uc54c\ub93c\ub974 \ub9bd\uc2a4\ud2f1\uc740 \ub2e8 \ud55c \ubc88\uc758 \ud074\ub9ad\uc73c\ub85c \uac15\ub82c\ud55c \uc0c9\uc0c1\uc744 \uc120\uc0ac\ud569\ub2c8\ub2e4. \uc740\uc740\ud55c \uceec\ub7ec\uc5d0\uc11c \uac10\uac01\uc801\uc778 \uceec\ub7ec\uae4c\uc9c0, \ub2e4\uc591\ud55c \uceec\ub7ec\uc5d0\uc11c \uc5b4\uc6b8\ub9ac\ub294 \uc0c9\uc0c1\uc744 \uc120\ud0dd\ud558\uc138\uc694. \ubd80\ub4dc\ub7ec\uc6b4 \ud14d\uc2a4\ucc98\uc758 \ub8e8\uc96c \ucf54\ucf54 \ub9bd\uc2a4\ud2f1\uc740 \uc785\uc220\uc744 \uc120\uba85\ud558\uace0 \ub9e4\ud639\uc801\uc778 \uceec\ub7ec\ub85c \ubb3c\ub4e4\uc785\ub2c8\ub2e4. \ub8e8\ubbf8\ub108\uc2a4\uc5d0\uc11c \ub208\ubd80\uc2e0 \uc0e4\uc778 \ud6a8\uacfc\uae4c\uc9c0\uc758 \ub2e4\uc591\ud55c \ud53c\ub2c8\uc26c\ub97c \uacbd\ud5d8\ud574\ubcf4\uc138\uc694."})]})]}),(0,Je.jsxs)("div",{style:{width:"75%",margin:"2% auto 3rem",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:[(0,Je.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",width:"100%"},children:(0,Je.jsxs)("span",{style:{float:"right",marginBottom:"1vh",fontSize:"0.8rem",fontWeight:"200"},children:[i.length," \uc0c1\ud488"]})}),(0,Je.jsx)(Sm,{gutter:[16,16],children:w}),g>=h&&(0,Je.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,Je.jsx)(of,{onClick:function(){x({skip:l+h,limit:h,loadMore:!0})},children:"\ub354\ubcf4\uae30"})})]})]})})}));var mb=$((function(e){return{navTG:e.reducer1,loading:e.reducer12}}))((function(t){var n=(0,e.useState)([]),o=(0,a.Z)(n,2),i=o[0],s=o[1],u=(0,e.useState)(0),c=(0,a.Z)(u,2),l=c[0],f=(c[1],(0,e.useState)(8)),d=(0,a.Z)(f,2),h=d[0],v=(d[1],(0,e.useState)(0)),m=(0,a.Z)(v,2),g=m[0],y=m[1],b={color:"inherit",textDecoration:"none",maxHeight:"75px"};(0,e.useEffect)((function(){t.dispatch({type:"nav-on"})}),[t.navTG]),(0,e.useEffect)((function(){x({skip:l,limit:h})}),[]);var x=function(e){p().post("/api/product/liquid",e).then((function(t){t.data.success?(e.loadMore?s([].concat((0,r.Z)(i),(0,r.Z)(t.data.productInfo))):s(t.data.productInfo),y(t.data.postSize)):alert(" \uc0c1\ud488 \uac00\uc838\uc624\uae30 \uc2e4\ud328 ")}))},w=i.map((function(e,n){return t.dispatch({type:"loading-end"}),(0,Je.jsxs)(Em,{lg:6,md:8,xs:24,style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[(0,Je.jsx)(_n,{to:"./product/".concat(e._id),style:{linkStyle:b,textDecoration:"none"},children:(0,Je.jsx)(ib,{cover:(0,Je.jsx)("img",{src:"http://localhost:5000/".concat(e.images[0])})})}),(0,Je.jsxs)("div",{className:"product-content-wrap",children:[(0,Je.jsx)(_n,{to:"./product/".concat(e._id),style:{linkStyle:b,textDecoration:"none"},children:(0,Je.jsx)("span",{className:"product-title",style:{color:"#333"},children:e.title})}),(0,Je.jsx)("div",{className:"color-box",style:{backgroundColor:"".concat(e.color),width:"20px",height:"20px",borderRadius:"10px",marginTop:"1vh"}}),(0,Je.jsx)("span",{className:"product-tone",style:{marginTop:"1vh"},children:e.tone}),(0,Je.jsxs)("span",{className:"product-price",style:{marginTop:"1vh"},children:[e.price," \uc6d0"]})]})]},n)}));return(0,Je.jsx)("div",{style:{width:"100%"},children:t.loading?(0,Je.jsx)(hb,{}):(0,Je.jsxs)("div",{children:[(0,Je.jsxs)("div",{className:"bg-wrap",children:[(0,Je.jsx)("div",{className:"bg bg-liquid",children:(0,Je.jsx)("span",{className:"bg-title-1",style:{position:"absolute",color:"#333",fontWeight:"500",fontSize:"2rem",left:"70%",top:"45%"},children:"\ub9ac\ud034\ub4dc"})}),(0,Je.jsxs)("div",{className:"content-text",children:[(0,Je.jsx)("span",{className:"bg-title-2",children:"\ub9ac\ud034\ub4dc"}),(0,Je.jsx)("span",{style:{fontSize:"0.8rem"},children:"\ud48d\ubd80\ud55c \uceec\ub7ec\ub97c \uc120\uc0ac\ud558\ub294 \ub9ac\ud034\ub4dc \ub9bd \uceec\ub7ec. \uc624\ub798\ub3c4\ub85d \uac15\ub82c\ud558\uace0 \uc120\uba85\ud55c \uba54\uc774\ud06c\uc5c5 \ub8e9\uc744 \uc720\uc9c0\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."})]})]}),(0,Je.jsxs)("div",{style:{width:"75%",margin:"2% auto 3rem",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:[(0,Je.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",width:"100%"},children:(0,Je.jsxs)("span",{style:{float:"right",marginBottom:"1vh",fontSize:"0.8rem",fontWeight:"200"},children:[i.length," \uc0c1\ud488"]})}),(0,Je.jsx)(Sm,{gutter:[16,16],children:w}),g>=h&&(0,Je.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,Je.jsx)(of,{onClick:function(){x({skip:l+h,limit:h,loadMore:!0})},children:"\ub354\ubcf4\uae30"})})]})]})})}));var gb=$((function(e){return{navTG:e.reducer1}}))((function(t){var n=(0,e.useState)([]),o=(0,a.Z)(n,2),i=o[0],s=o[1],u=(0,e.useState)(0),c=(0,a.Z)(u,2),l=c[0],f=(c[1],(0,e.useState)(8)),d=(0,a.Z)(f,2),h=d[0],v=(d[1],(0,e.useState)(0)),m=(0,a.Z)(v,2),g=m[0],y=m[1],b={color:"inherit",textDecoration:"none",maxHeight:"75px"};(0,e.useEffect)((function(){t.dispatch({type:"nav-on"})}),[t.navTG]),(0,e.useEffect)((function(){x({skip:l,limit:h})}),[]);var x=function(e){p().post("/api/product/gloss",e).then((function(t){t.data.success?(e.loadMore?s([].concat((0,r.Z)(i),(0,r.Z)(t.data.productInfo))):s(t.data.productInfo),y(t.data.postSize)):alert(" \uc0c1\ud488 \uac00\uc838\uc624\uae30 \uc2e4\ud328 ")}))},w=i.map((function(e,n){return t.dispatch({type:"loading-end"}),(0,Je.jsxs)(Em,{lg:6,md:8,xs:24,style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[(0,Je.jsx)(_n,{to:"./product/".concat(e._id),style:{linkStyle:b,textDecoration:"none"},children:(0,Je.jsx)(ib,{cover:(0,Je.jsx)("img",{src:"http://localhost:5000/".concat(e.images[0])})})}),(0,Je.jsxs)("div",{className:"product-content-wrap",children:[(0,Je.jsx)(_n,{to:"./product/".concat(e._id),style:{linkStyle:b,textDecoration:"none"},children:(0,Je.jsx)("span",{className:"product-title",style:{color:"#333"},children:e.title})}),(0,Je.jsx)("div",{className:"color-box",style:{backgroundColor:"".concat(e.color),width:"20px",height:"20px",borderRadius:"10px",marginTop:"1vh"}}),(0,Je.jsx)("span",{className:"product-tone",style:{marginTop:"1vh"},children:e.tone}),(0,Je.jsxs)("span",{className:"product-price",style:{marginTop:"1vh"},children:[e.price," \uc6d0"]})]})]},n)}));return(0,Je.jsx)("div",{style:{width:"100%"},children:t.loading?(0,Je.jsx)(hb,{}):(0,Je.jsxs)("div",{children:[(0,Je.jsxs)("div",{className:"bg-wrap",children:[(0,Je.jsx)("div",{className:"bg bg-gloss",children:(0,Je.jsx)("span",{className:"bg-title-1",style:{position:"absolute",color:"#333",fontWeight:"500",fontSize:"2rem",left:"20%",top:"45%"},children:"\ub9bd \uae00\ub85c\uc2a4"})}),(0,Je.jsxs)("div",{className:"content-text",children:[(0,Je.jsx)("span",{className:"bg-title-2",children:"\ub9bd \uae00\ub85c\uc2a4"}),(0,Je.jsx)("span",{style:{fontSize:"0.8rem"},children:"\uc785\uc220\uc5d0 \ub179\uc544\ub4e4 \ub4ef \ubd80\ub4dc\ub7fd\uac8c \ubc00\ucc29\ub418\uc5b4 \uceec\ub7ec\ub97c \ub354\uc6b1 \uc120\uba85\ud558\uac8c \ud45c\ud604\ud558\ub294 \uc0e4\ub12c \ub9bd \uae00\ub85c\uc2a4. \uc2dc\uc120\uc744 \uc0ac\ub85c\uc7a1\ub294 \ubc18\uc9dd\uc784\uc744 \uc5f0\ucd9c\ud558\ub294 \ub8e8\uc96c \ucf54\ucf54 \uae00\ub85c\uc2a4. \ub048\uc801\uc774\uc9c0 \uc54a\ub294 \uc824 \ud14d\uc2a4\ucc98\ub85c, \ud48d\uc131\ud55c \uc218\ubd84\uac10\uc744 \ucc44\uc6cc \uc120\uba85\ud558\uac8c \ube5b\ub098\ub294 \uc785\uc220\uc744 \uc5f0\ucd9c\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub54c\ub85c\ub294 \uac15\ub82c\ud558\uac8c, \ub54c\ub85c\ub294 \ud22c\uba85\ud558\uac8c, \ub54c\ub85c\ub294 \ub798\ucee4\ucc98\ub7fc \uc120\uba85\ud558\uac8c \uceec\ub7ec\ub97c \ud45c\ud604\ud574 \ubcf4\uc138\uc694."})]})]}),(0,Je.jsxs)("div",{style:{width:"75%",margin:"2% auto 3rem",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:[(0,Je.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",width:"100%"},children:(0,Je.jsxs)("span",{style:{float:"right",marginBottom:"1vh",fontSize:"0.8rem",fontWeight:"200"},children:[i.length," \uc0c1\ud488"]})}),(0,Je.jsx)(Sm,{gutter:[16,16],children:w}),g>=h&&(0,Je.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,Je.jsx)(of,{onClick:function(){x({skip:l+h,limit:h,loadMore:!0})},children:"\ub354\ubcf4\uae30"})})]})]})})}));var yb=$((function(e){return{navTG:e.reducer1}}))((function(t){var n=(0,e.useState)([]),o=(0,a.Z)(n,2),i=o[0],s=o[1],u=(0,e.useState)(0),c=(0,a.Z)(u,2),l=c[0],f=(c[1],(0,e.useState)(8)),d=(0,a.Z)(f,2),h=d[0],v=(d[1],(0,e.useState)(0)),m=(0,a.Z)(v,2),g=m[0],y=m[1],b={color:"inherit",textDecoration:"none",maxHeight:"75px"};(0,e.useEffect)((function(){t.dispatch({type:"nav-on"})}),[t.navTG]),(0,e.useEffect)((function(){x({skip:l,limit:h})}),[]);var x=function(e){p().post("/api/product/care",e).then((function(t){t.data.success?(e.loadMore?s([].concat((0,r.Z)(i),(0,r.Z)(t.data.productInfo))):s(t.data.productInfo),y(t.data.postSize)):alert(" \uc0c1\ud488 \uac00\uc838\uc624\uae30 \uc2e4\ud328 ")}))},w=i.map((function(e,n){return t.dispatch({type:"loading-end"}),(0,Je.jsxs)(Em,{lg:6,md:8,xs:24,style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[(0,Je.jsx)(_n,{to:"./product/".concat(e._id),style:{linkStyle:b,textDecoration:"none"},children:(0,Je.jsx)(ib,{cover:(0,Je.jsx)("img",{src:"http://localhost:5000/".concat(e.images[0])})})}),(0,Je.jsxs)("div",{className:"product-content-wrap",children:[(0,Je.jsx)(_n,{to:"./product/".concat(e._id),style:{linkStyle:b,textDecoration:"none"},children:(0,Je.jsx)("span",{className:"product-title",style:{color:"#333"},children:e.title})}),(0,Je.jsx)("div",{className:"color-box",style:{backgroundColor:"".concat(e.color),width:"20px",height:"20px",borderRadius:"10px",marginTop:"1vh"}}),(0,Je.jsx)("span",{className:"product-tone",style:{marginTop:"1vh"},children:e.tone}),(0,Je.jsxs)("span",{className:"product-price",style:{marginTop:"1vh"},children:[e.price," \uc6d0"]})]})]},n)}));return(0,Je.jsx)("div",{style:{width:"100%"},children:t.loading?(0,Je.jsx)(hb,{}):(0,Je.jsxs)("div",{children:[(0,Je.jsxs)("div",{className:"bg-wrap",children:[(0,Je.jsx)("div",{className:"bg bg-care",children:(0,Je.jsx)("span",{className:"bg-title-1",style:{position:"absolute",color:"white",fontWeight:"500",fontSize:"2rem",left:"70%",top:"45%"},children:"\ub9bd \ucf00\uc5b4"})}),(0,Je.jsxs)("div",{className:"content-text",children:[(0,Je.jsx)("span",{className:"bg-title-2",children:"\ub9bd \ucf00\uc5b4"}),(0,Je.jsx)("span",{style:{fontSize:"0.8rem"},children:"\ube60\ub974\uace0 \uc27d\uac8c \ubc14\ub97c \uc218 \uc788\ub294 \uc0e4\ub12c \ub9bd\ubc24. \ud3b8\uc548\ud55c \ud14d\uc2a4\ucc98\ub85c \uc785\uc220\uc744 \ubd80\ub4dc\ub7fd\uac8c \uac10\uc2f8\ub294 \ubaa8\uc774\uc2a4\ucc98\ub77c\uc774\uc9d5 \ub9bd \ucf00\uc5b4 \uc81c\ud488\uc785\ub2c8\ub2e4. \uc785\uc220\uc5d0 \uac74\uac15\ud55c \uc724\uae30\ub97c \ub354\ud558\ub294 \ub8e8\uc96c \ucf54\ucf54 \ubc24. \uc218\ubd84\uac10\uc744 \ucc44\uc6cc \uac74\uac15\ud574\uc9c4 \uc785\uc220\uc744 \uacbd\ud5d8\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc790\uc5f0\uc2a4\ub7ec\uc6b4 \uceec\ub7ec\ub85c \uc785\uc220\uc5d0 \ucd09\ucd09\ud55c \uc218\ubd84\uc744 \uacf5\uae09\ud574\uc8fc\ub294 \ub808 \ubca0\uc96c \ub9bd\ubc24\uc740 \uc12c\uc138\ud55c \uceec\ub7ec\ub97c \uba38\uae08\uc740 \ub9e4\ub044\ub7ec\uc6b4 \uc785\uc220\uc744 \uc120\uc0ac\ud569\ub2c8\ub2e4."})]})]}),(0,Je.jsxs)("div",{style:{width:"75%",margin:"2% auto 3rem",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:[(0,Je.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",width:"100%"},children:(0,Je.jsxs)("span",{style:{float:"right",marginBottom:"1vh",fontSize:"0.8rem",fontWeight:"200"},children:[i.length," \uc0c1\ud488"]})}),(0,Je.jsx)(Sm,{gutter:[16,16],children:w}),g>=h&&(0,Je.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,Je.jsx)(of,{onClick:function(){x({skip:l+h,limit:h,loadMore:!0})},children:"\ub354\ubcf4\uae30"})})]})]})})})),bb=n(7832),xb=n.n(bb);function wb(t){var n=(0,e.useState)([]),r=(0,a.Z)(n,2),o=r[0],i=r[1];return(0,e.useEffect)((function(){if(t.detail.images&&t.detail.images.length>0){var e=[];t.detail.images.map((function(t){e.push({original:"http://localhost:5000/".concat(t),thumbnail:"http://localhost:5000/".concat(t)})})),i(e)}}),[t.detail]),(0,Je.jsx)("div",{children:(0,Je.jsx)(xb(),{items:o})})}var kb=e.memo(wb);function Sb(e,t){var n,r=e.key;return"value"in e&&(n=e.value),null!==r&&void 0!==r?r:void 0!==n?n:"rc-index-key-".concat(t)}function Eb(e,t){var n=e||{};return{label:n.label||(t?"children":"label"),value:n.value||"value",options:n.options||"options"}}function Cb(e){var t=s({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return ns(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),t}}),t}var Nb=["prefixCls","disabled","visible","children","popupElement","containerWidth","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],Tb=function(t,n){var r=t.prefixCls,a=(t.disabled,t.visible),i=t.children,u=t.popupElement,c=t.containerWidth,l=t.animation,f=t.transitionName,p=t.dropdownStyle,d=t.dropdownClassName,h=t.direction,v=void 0===h?"ltr":h,m=t.placement,g=t.dropdownMatchSelectWidth,y=t.dropdownRender,b=t.dropdownAlign,w=t.getPopupContainer,k=t.empty,S=t.getTriggerDOMNode,E=t.onPopupVisibleChange,C=t.onPopupMouseEnter,N=Pn(t,Nb),T="".concat(r,"-dropdown"),I=u;y&&(I=y(u));var O=e.useMemo((function(){return function(e){var t=!0===e?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:t,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:t,adjustY:1}}}}(g)}),[g]),_=l?"".concat(T,"-").concat(l):f,D=e.useRef(null);e.useImperativeHandle(n,(function(){return{getPopupElement:function(){return D.current}}}));var A=s({minWidth:c},p);return"number"===typeof g?A.width=g:g&&(A.width=c),e.createElement(dh,x({},N,{showAction:E?["click"]:[],hideAction:E?["click"]:[],popupPlacement:m||("rtl"===v?"bottomRight":"bottomLeft"),builtinPlacements:O,prefixCls:T,popupTransitionName:_,popup:e.createElement("div",{ref:D,onMouseEnter:C},I),popupAlign:b,popupVisible:a,getPopupContainer:w,popupClassName:Fn()(d,(0,o.Z)({},"".concat(T,"-empty"),k)),popupStyle:A,getTriggerDOMNode:S,onPopupVisibleChange:E}),i)},Ib=e.forwardRef(Tb);Ib.displayName="SelectTrigger";var Ob=Ib,_b="".concat("accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap"," ").concat("onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError").split(/[\s\n]+/),Db="aria-",Ab="data-";function Rb(e,t){return 0===e.indexOf(t)}function Pb(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!1===n?{aria:!0,data:!0,attr:!0}:!0===n?{aria:!0}:s({},n);var r={};return Object.keys(e).forEach((function(n){(t.aria&&("role"===n||Rb(n,Db))||t.data&&Rb(n,Ab)||t.attr&&_b.includes(n))&&(r[n]=e[n])})),r}var Mb=function(t){var n,r=t.className,a=t.customizeIcon,o=t.customizeIconProps,i=t.onMouseDown,s=t.onClick,u=t.children;return n="function"===typeof a?a(o):a,e.createElement("span",{className:r,onMouseDown:function(e){e.preventDefault(),i&&i(e)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:s,"aria-hidden":!0},void 0!==n?n:e.createElement("span",{className:Fn()(r.split(/\s+/).map((function(e){return"".concat(e,"-icon")})))},u))},Fb=function(t,n){var r,a,o=t.prefixCls,i=t.id,u=t.inputElement,c=t.disabled,l=t.tabIndex,f=t.autoFocus,p=t.autoComplete,d=t.editable,h=t.activeDescendantId,v=t.value,m=t.maxLength,g=t.onKeyDown,y=t.onMouseDown,b=t.onChange,x=t.onPaste,w=t.onCompositionStart,k=t.onCompositionEnd,S=t.open,E=t.attrs,C=u||e.createElement("input",null),N=C,T=N.ref,I=N.props,O=I.onKeyDown,_=I.onChange,D=I.onMouseDown,A=I.onCompositionStart,R=I.onCompositionEnd,P=I.style;return C=e.cloneElement(C,s(s(s({type:"search"},I),{},{id:i,ref:_s(n,T),disabled:c,tabIndex:l,autoComplete:p||"off",autoFocus:f,className:Fn()("".concat(o,"-selection-search-input"),null===(r=C)||void 0===r||null===(a=r.props)||void 0===a?void 0:a.className),role:"combobox","aria-expanded":S,"aria-haspopup":"listbox","aria-owns":"".concat(i,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(i,"_list"),"aria-activedescendant":h},E),{},{value:d?v:"",maxLength:m,readOnly:!d,unselectable:d?null:"on",style:s(s({},P),{},{opacity:d?null:0}),onKeyDown:function(e){g(e),O&&O(e)},onMouseDown:function(e){y(e),D&&D(e)},onChange:function(e){b(e),_&&_(e)},onCompositionStart:function(e){w(e),A&&A(e)},onCompositionEnd:function(e){k(e),R&&R(e)},onPaste:x}))},Lb=e.forwardRef(Fb);Lb.displayName="Input";var jb=Lb;function Zb(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}var zb="undefined"!==typeof window&&window.document&&window.document.documentElement;var Bb=function(e){e.preventDefault(),e.stopPropagation()},Ub=function(t){var n,r,i=t.id,s=t.prefixCls,u=t.values,c=t.open,l=t.searchValue,f=t.inputRef,p=t.placeholder,d=t.disabled,h=t.mode,v=t.showSearch,m=t.autoFocus,g=t.autoComplete,y=t.activeDescendantId,b=t.tabIndex,x=t.removeIcon,w=t.maxTagCount,k=t.maxTagTextLength,S=t.maxTagPlaceholder,E=void 0===S?function(e){return"+ ".concat(e.length," ...")}:S,C=t.tagRender,N=t.onToggleOpen,T=t.onRemove,I=t.onInputChange,O=t.onInputPaste,_=t.onInputKeyDown,D=t.onInputMouseDown,A=t.onInputCompositionStart,R=t.onInputCompositionEnd,P=e.useRef(null),M=(0,e.useState)(0),F=(0,a.Z)(M,2),L=F[0],j=F[1],Z=(0,e.useState)(!1),z=(0,a.Z)(Z,2),B=z[0],U=z[1],W="".concat(s,"-selection"),V=c||"tags"===h?l:"",H="tags"===h||v&&(c||B);function G(t,n,r,a,i){return e.createElement("span",{className:Fn()("".concat(W,"-item"),(0,o.Z)({},"".concat(W,"-item-disabled"),r)),title:"string"===typeof t||"number"===typeof t?t.toString():void 0},e.createElement("span",{className:"".concat(W,"-item-content")},n),a&&e.createElement(Mb,{className:"".concat(W,"-item-remove"),onMouseDown:Bb,onClick:i,customizeIcon:x},"\xd7"))}n=function(){j(P.current.scrollWidth)},r=[V],zb?e.useLayoutEffect(n,r):e.useEffect(n,r);var q=e.createElement("div",{className:"".concat(W,"-search"),style:{width:L},onFocus:function(){U(!0)},onBlur:function(){U(!1)}},e.createElement(jb,{ref:f,open:c,prefixCls:s,id:i,inputElement:null,disabled:d,autoFocus:m,autoComplete:g,editable:H,activeDescendantId:y,value:V,onKeyDown:_,onMouseDown:D,onChange:I,onPaste:O,onCompositionStart:A,onCompositionEnd:R,tabIndex:b,attrs:Pb(t,!0)}),e.createElement("span",{ref:P,className:"".concat(W,"-search-mirror"),"aria-hidden":!0},V,"\xa0")),X=e.createElement(eg,{prefixCls:"".concat(W,"-overflow"),data:u,renderItem:function(t){var n=t.disabled,r=t.label,a=t.value,o=!d&&!n,i=r;if("number"===typeof k&&("string"===typeof r||"number"===typeof r)){var s=String(i);s.length>k&&(i="".concat(s.slice(0,k),"..."))}var u=function(e){e&&e.stopPropagation(),T(t)};return"function"===typeof C?function(t,n,r,a,o){return e.createElement("span",{onMouseDown:function(e){Bb(e),N(!c)}},C({label:n,value:t,disabled:r,closable:a,onClose:o}))}(a,i,n,o,u):G(r,i,n,o,u)},renderRest:function(e){var t="function"===typeof E?E(e):E;return G(t,t,!1)},suffix:q,itemKey:"key",maxCount:w});return e.createElement(e.Fragment,null,X,!u.length&&!V&&e.createElement("span",{className:"".concat(W,"-placeholder")},p))},Wb=function(t){var n=t.inputElement,r=t.prefixCls,o=t.id,i=t.inputRef,s=t.disabled,u=t.autoFocus,c=t.autoComplete,l=t.activeDescendantId,f=t.mode,p=t.open,d=t.values,h=t.placeholder,v=t.tabIndex,m=t.showSearch,g=t.searchValue,y=t.activeValue,b=t.maxLength,x=t.onInputKeyDown,w=t.onInputMouseDown,k=t.onInputChange,S=t.onInputPaste,E=t.onInputCompositionStart,C=t.onInputCompositionEnd,N=e.useState(!1),T=(0,a.Z)(N,2),I=T[0],O=T[1],_="combobox"===f,D=_||m,A=d[0],R=g||"";_&&y&&!I&&(R=y),e.useEffect((function(){_&&O(!1)}),[_,y]);var P=!("combobox"!==f&&!p&&!m)&&!!R,M=!A||"string"!==typeof A.label&&"number"!==typeof A.label?void 0:A.label.toString();return e.createElement(e.Fragment,null,e.createElement("span",{className:"".concat(r,"-selection-search")},e.createElement(jb,{ref:i,prefixCls:r,id:o,open:p,inputElement:n,disabled:s,autoFocus:u,autoComplete:c,editable:D,activeDescendantId:l,value:R,onKeyDown:x,onMouseDown:w,onChange:function(e){O(!0),k(e)},onPaste:S,onCompositionStart:E,onCompositionEnd:C,tabIndex:v,attrs:Pb(t,!0),maxLength:_?b:void 0})),!_&&A&&!P&&e.createElement("span",{className:"".concat(r,"-selection-item"),title:M},A.label),function(){if(A)return null;var t=P?{visibility:"hidden"}:void 0;return e.createElement("span",{className:"".concat(r,"-selection-placeholder"),style:t},h)}())};function Vb(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,n=e.useRef(null),r=e.useRef(null);function a(e){(e||null===n.current)&&(n.current=e),window.clearTimeout(r.current),r.current=window.setTimeout((function(){n.current=null}),t)}return e.useEffect((function(){return function(){window.clearTimeout(r.current)}}),[]),[function(){return n.current},a]}var Hb=function(t,n){var r=(0,e.useRef)(null),o=(0,e.useRef)(!1),i=t.prefixCls,s=t.open,u=t.mode,c=t.showSearch,l=t.tokenWithEnter,f=t.onSearch,p=t.onSearchSubmit,d=t.onToggleOpen,h=t.onInputKeyDown,v=t.domRef;e.useImperativeHandle(n,(function(){return{focus:function(){r.current.focus()},blur:function(){r.current.blur()}}}));var m=Vb(0),g=(0,a.Z)(m,2),y=g[0],b=g[1],w=(0,e.useRef)(null),k=function(e){!1!==f(e,!0,o.current)&&d(!0)},S={inputRef:r,onInputKeyDown:function(e){var t,n=e.which;n!==Dm.UP&&n!==Dm.DOWN||e.preventDefault(),h&&h(e),n!==Dm.ENTER||"tags"!==u||o.current||s||null===p||void 0===p||p(e.target.value),t=n,[Dm.ESC,Dm.SHIFT,Dm.BACKSPACE,Dm.TAB,Dm.WIN_KEY,Dm.ALT,Dm.META,Dm.WIN_KEY_RIGHT,Dm.CTRL,Dm.SEMICOLON,Dm.EQUALS,Dm.CAPS_LOCK,Dm.CONTEXT_MENU,Dm.F1,Dm.F2,Dm.F3,Dm.F4,Dm.F5,Dm.F6,Dm.F7,Dm.F8,Dm.F9,Dm.F10,Dm.F11,Dm.F12].includes(t)||d(!0)},onInputMouseDown:function(){b(!0)},onInputChange:function(e){var t=e.target.value;if(l&&w.current&&/[\r\n]/.test(w.current)){var n=w.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");t=t.replace(n,w.current)}w.current=null,k(t)},onInputPaste:function(e){var t=e.clipboardData.getData("text");w.current=t},onInputCompositionStart:function(){o.current=!0},onInputCompositionEnd:function(e){o.current=!1,"combobox"!==u&&k(e.target.value)}},E="multiple"===u||"tags"===u?e.createElement(Ub,x({},t,S)):e.createElement(Wb,x({},t,S));return e.createElement("div",{ref:v,className:"".concat(i,"-selector"),onClick:function(e){e.target!==r.current&&(void 0!==document.body.style.msTouchAction?setTimeout((function(){r.current.focus()})):r.current.focus())},onMouseDown:function(e){var t=y();e.target===r.current||t||e.preventDefault(),("combobox"===u||c&&t)&&s||(s&&f("",!0,!1),d())}},E)},Gb=e.forwardRef(Hb);Gb.displayName="Selector";var qb=Gb;var Xb=e.createContext(null);var Kb=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","showArrow","inputIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],Yb=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"];function Qb(e){return"tags"===e||"multiple"===e}var $b=e.forwardRef((function(t,n){var i,u,c=t.id,l=t.prefixCls,f=t.className,p=t.showSearch,d=t.tagRender,h=t.direction,v=t.omitDomProps,m=t.displayValues,g=t.onDisplayValuesChange,y=t.emptyOptions,b=t.notFoundContent,w=void 0===b?"Not Found":b,k=t.onClear,S=t.mode,E=t.disabled,C=t.loading,N=t.getInputElement,T=t.getRawInputElement,I=t.open,O=t.defaultOpen,_=t.onDropdownVisibleChange,D=t.activeValue,A=t.onActiveValueChange,R=t.activeDescendantId,P=t.searchValue,M=t.onSearch,F=t.onSearchSplit,L=t.tokenSeparators,j=t.allowClear,Z=t.showArrow,z=t.inputIcon,B=t.clearIcon,U=t.OptionList,W=t.animation,V=t.transitionName,H=t.dropdownStyle,G=t.dropdownClassName,q=t.dropdownMatchSelectWidth,X=t.dropdownRender,K=t.dropdownAlign,Y=t.placement,Q=t.getPopupContainer,$=t.showAction,J=void 0===$?[]:$,ee=t.onFocus,te=t.onBlur,ne=t.onKeyUp,re=t.onKeyDown,ae=t.onMouseDown,oe=Pn(t,Kb),ie=Qb(S),se=(void 0!==p?p:ie)||"combobox"===S,ue=s({},oe);Yb.forEach((function(e){delete ue[e]})),null===v||void 0===v||v.forEach((function(e){delete ue[e]}));var ce=e.useState(!1),le=(0,a.Z)(ce,2),fe=le[0],pe=le[1];e.useEffect((function(){pe(Bp())}),[]);var de=e.useRef(null),he=e.useRef(null),ve=e.useRef(null),me=e.useRef(null),ge=e.useRef(null),ye=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,n=e.useState(!1),r=(0,a.Z)(n,2),o=r[0],i=r[1],s=e.useRef(null),u=function(){window.clearTimeout(s.current)};return e.useEffect((function(){return u}),[]),[o,function(e,n){u(),s.current=window.setTimeout((function(){i(e),n&&n()}),t)},u]}(),be=(0,a.Z)(ye,3),xe=be[0],we=be[1],ke=be[2];e.useImperativeHandle(n,(function(){var e,t;return{focus:null===(e=me.current)||void 0===e?void 0:e.focus,blur:null===(t=me.current)||void 0===t?void 0:t.blur,scrollTo:function(e){var t;return null===(t=ge.current)||void 0===t?void 0:t.scrollTo(e)}}}));var Se=e.useMemo((function(){var e;if("combobox"!==S)return P;var t=null===(e=m[0])||void 0===e?void 0:e.value;return"string"===typeof t||"number"===typeof t?String(t):""}),[P,S,m]),Ee="combobox"===S&&"function"===typeof N&&N()||null,Ce="function"===typeof T&&T(),Ne=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Is((function(){return _s.apply(void 0,t)}),t,(function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))}))}(he,null===Ce||void 0===Ce||null===(i=Ce.props)||void 0===i?void 0:i.ref),Te=Si(void 0,{defaultValue:O,value:I}),Ie=(0,a.Z)(Te,2),Oe=Ie[0],_e=Ie[1],De=Oe,Ae=!w&&y;(E||Ae&&De&&"combobox"===S)&&(De=!1);var Re=!Ae&&De,Pe=e.useCallback((function(e){var t=void 0!==e?e:!De;De===t||E||(_e(t),null===_||void 0===_||_(t))}),[E,De,_e,_]),Me=e.useMemo((function(){return(L||[]).some((function(e){return["\n","\r\n"].includes(e)}))}),[L]),Fe=function(e,t,n){var a=!0,o=e;null===A||void 0===A||A(null);var i=n?null:function(e,t){if(!t||!t.length)return null;var n=!1,a=function e(t,a){var o=(0,Pu.Z)(a),i=o[0],s=o.slice(1);if(!i)return[t];var u=t.split(i);return n=n||u.length>1,u.reduce((function(t,n){return[].concat((0,r.Z)(t),(0,r.Z)(e(n,s)))}),[]).filter((function(e){return e}))}(e,t);return n?a:null}(e,L);return"combobox"!==S&&i&&(o="",null===F||void 0===F||F(i),Pe(!1),a=!1),M&&Se!==o&&M(o,{source:t?"typing":"effect"}),a};e.useEffect((function(){De||ie||"combobox"===S||Fe("",!1,!1)}),[De]),e.useEffect((function(){Oe&&E&&_e(!1),E&&we(!1)}),[E]);var Le=Vb(),je=(0,a.Z)(Le,2),Ze=je[0],ze=je[1],Be=e.useRef(!1),Ue=[];e.useEffect((function(){return function(){Ue.forEach((function(e){return clearTimeout(e)})),Ue.splice(0,Ue.length)}}),[]);var We,Ve=e.useState(null),He=(0,a.Z)(Ve,2),Ge=He[0],qe=He[1],Xe=e.useState({}),Ke=(0,a.Z)(Xe,2)[1];Jd((function(){if(Re){var e,t=Math.ceil(null===(e=de.current)||void 0===e?void 0:e.offsetWidth);Ge===t||Number.isNaN(t)||qe(t)}}),[Re]),Ce&&(We=function(e){Pe(e)}),function(t,n,r){var a=e.useRef(null);a.current={open:n,triggerOpen:r},e.useEffect((function(){function e(e){var n=e.target;n.shadowRoot&&e.composed&&(n=e.composedPath()[0]||n),a.current.open&&t().filter((function(e){return e})).every((function(e){return!e.contains(n)&&e!==n}))&&a.current.triggerOpen(!1)}return window.addEventListener("mousedown",e),function(){return window.removeEventListener("mousedown",e)}}),[])}((function(){var e;return[de.current,null===(e=ve.current)||void 0===e?void 0:e.getPopupElement()]}),Re,Pe);var Ye,Qe,$e=e.useMemo((function(){return s(s({},t),{},{notFoundContent:w,open:De,triggerOpen:Re,id:c,showSearch:se,multiple:ie,toggleOpen:Pe})}),[t,w,Re,De,c,se,ie,Pe]),Je=void 0!==Z?Z:C||!ie&&"combobox"!==S;Je&&(Ye=e.createElement(Mb,{className:Fn()("".concat(l,"-arrow"),(0,o.Z)({},"".concat(l,"-arrow-loading"),C)),customizeIcon:z,customizeIconProps:{loading:C,searchValue:Se,open:De,focused:xe,showSearch:se}}));!E&&j&&(m.length||Se)&&(Qe=e.createElement(Mb,{className:"".concat(l,"-clear"),onMouseDown:function(){null===k||void 0===k||k(),g([],{type:"clear",values:m}),Fe("",!1,!1)},customizeIcon:B},"\xd7"));var et,tt=e.createElement(U,{ref:ge}),nt=Fn()(l,f,(u={},(0,o.Z)(u,"".concat(l,"-focused"),xe),(0,o.Z)(u,"".concat(l,"-multiple"),ie),(0,o.Z)(u,"".concat(l,"-single"),!ie),(0,o.Z)(u,"".concat(l,"-allow-clear"),j),(0,o.Z)(u,"".concat(l,"-show-arrow"),Je),(0,o.Z)(u,"".concat(l,"-disabled"),E),(0,o.Z)(u,"".concat(l,"-loading"),C),(0,o.Z)(u,"".concat(l,"-open"),De),(0,o.Z)(u,"".concat(l,"-customize-input"),Ee),(0,o.Z)(u,"".concat(l,"-show-search"),se),u)),rt=e.createElement(Ob,{ref:ve,disabled:E,prefixCls:l,visible:Re,popupElement:tt,containerWidth:Ge,animation:W,transitionName:V,dropdownStyle:H,dropdownClassName:G,direction:h,dropdownMatchSelectWidth:q,dropdownRender:X,dropdownAlign:K,placement:Y,getPopupContainer:Q,empty:y,getTriggerDOMNode:function(){return he.current},onPopupVisibleChange:We,onPopupMouseEnter:function(){Ke({})}},Ce?e.cloneElement(Ce,{ref:Ne}):e.createElement(qb,x({},t,{domRef:he,prefixCls:l,inputElement:Ee,ref:me,id:c,showSearch:se,mode:S,activeDescendantId:R,tagRender:d,values:m,open:De,onToggleOpen:Pe,activeValue:D,searchValue:Se,onSearch:Fe,onSearchSubmit:function(e){e&&e.trim()&&M(e,{source:"submit"})},onRemove:function(e){var t=m.filter((function(t){return t!==e}));g(t,{type:"remove",values:[e]})},tokenWithEnter:Me})));return et=Ce?rt:e.createElement("div",x({className:nt},ue,{ref:de,onMouseDown:function(e){var t,n=e.target,r=null===(t=ve.current)||void 0===t?void 0:t.getPopupElement();if(r&&r.contains(n)){var a=setTimeout((function(){var e,t=Ue.indexOf(a);-1!==t&&Ue.splice(t,1),ke(),fe||r.contains(document.activeElement)||null===(e=me.current)||void 0===e||e.focus()}));Ue.push(a)}for(var o=arguments.length,i=new Array(o>1?o-1:0),s=1;s<o;s++)i[s-1]=arguments[s];null===ae||void 0===ae||ae.apply(void 0,[e].concat(i))},onKeyDown:function(e){var t,n=Ze(),a=e.which;if(a===Dm.ENTER&&("combobox"!==S&&e.preventDefault(),De||Pe(!0)),ze(!!Se),a===Dm.BACKSPACE&&!n&&ie&&!Se&&m.length){for(var o=(0,r.Z)(m),i=null,s=o.length-1;s>=0;s-=1){var u=o[s];if(!u.disabled){o.splice(s,1),i=u;break}}i&&g(o,{type:"remove",values:[i]})}for(var c=arguments.length,l=new Array(c>1?c-1:0),f=1;f<c;f++)l[f-1]=arguments[f];De&&ge.current&&(t=ge.current).onKeyDown.apply(t,[e].concat(l)),null===re||void 0===re||re.apply(void 0,[e].concat(l))},onKeyUp:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a;De&&ge.current&&(a=ge.current).onKeyUp.apply(a,[e].concat(n)),null===ne||void 0===ne||ne.apply(void 0,[e].concat(n))},onFocus:function(){we(!0),E||(ee&&!Be.current&&ee.apply(void 0,arguments),J.includes("focus")&&Pe(!0)),Be.current=!0},onBlur:function(){we(!1,(function(){Be.current=!1,Pe(!1)})),E||(Se&&("tags"===S?M(Se,{source:"submit"}):"multiple"===S&&M("",{source:"blur"})),te&&te.apply(void 0,arguments))}}),xe&&!De&&e.createElement("span",{style:{width:0,height:0,display:"flex",overflow:"hidden",opacity:0},"aria-live":"polite"},"".concat(m.map((function(e){var t=e.label,n=e.value;return["number","string"].includes((0,vi.Z)(t))?t:n})).join(", "))),rt,Ye,Qe),e.createElement(Xb.Provider,{value:$e},et)}));var Jb=$b;function ex(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ex(Object(n),!0).forEach((function(t){nx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ex(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var rx=e.forwardRef((function(t,n){var r=t.height,a=t.offset,o=t.children,i=t.prefixCls,s=t.onInnerResize,u={},c={display:"flex",flexDirection:"column"};return void 0!==a&&(u={height:r,position:"relative",overflow:"hidden"},c=tx(tx({},c),{},{transform:"translateY(".concat(a,"px)"),position:"absolute",left:0,right:0,top:0})),e.createElement("div",{style:u},e.createElement(yf,{onResize:function(e){e.offsetHeight&&s&&s()}},e.createElement("div",{style:c,className:Fn()(nx({},"".concat(i,"-holder-inner"),i)),ref:n},o)))}));rx.displayName="Filler";var ax=rx;function ox(e){return ox="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ox(e)}function ix(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ux(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cx(e,t){return cx=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},cx(e,t)}function lx(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(Qf){return!1}}();return function(){var n,r=px(e);if(t){var a=px(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return fx(this,n)}}function fx(e,t){if(t&&("object"===ox(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function px(e){return px=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},px(e)}function dx(e){return"touches"in e?e.touches[0].pageY:e.pageY}var hx=function(t){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cx(e,t)}(i,t);var n,r,a,o=lx(i);function i(){var t;sx(this,i);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=o.call.apply(o,[this].concat(r))).moveRaf=null,t.scrollbarRef=e.createRef(),t.thumbRef=e.createRef(),t.visibleTimeout=null,t.state={dragging:!1,pageY:null,startTop:null,visible:!1},t.delayHidden=function(){clearTimeout(t.visibleTimeout),t.setState({visible:!0}),t.visibleTimeout=setTimeout((function(){t.setState({visible:!1})}),2e3)},t.onScrollbarTouchStart=function(e){e.preventDefault()},t.onContainerMouseDown=function(e){e.stopPropagation(),e.preventDefault()},t.patchEvents=function(){window.addEventListener("mousemove",t.onMouseMove),window.addEventListener("mouseup",t.onMouseUp),t.thumbRef.current.addEventListener("touchmove",t.onMouseMove),t.thumbRef.current.addEventListener("touchend",t.onMouseUp)},t.removeEvents=function(){var e;window.removeEventListener("mousemove",t.onMouseMove),window.removeEventListener("mouseup",t.onMouseUp),null===(e=t.scrollbarRef.current)||void 0===e||e.removeEventListener("touchstart",t.onScrollbarTouchStart),t.thumbRef.current&&(t.thumbRef.current.removeEventListener("touchstart",t.onMouseDown),t.thumbRef.current.removeEventListener("touchmove",t.onMouseMove),t.thumbRef.current.removeEventListener("touchend",t.onMouseUp)),Xc.cancel(t.moveRaf)},t.onMouseDown=function(e){var n=t.props.onStartMove;t.setState({dragging:!0,pageY:dx(e),startTop:t.getTop()}),n(),t.patchEvents(),e.stopPropagation(),e.preventDefault()},t.onMouseMove=function(e){var n=t.state,r=n.dragging,a=n.pageY,o=n.startTop,i=t.props.onScroll;if(Xc.cancel(t.moveRaf),r){var s=o+(dx(e)-a),u=t.getEnableScrollRange(),c=t.getEnableHeightRange(),l=c?s/c:0,f=Math.ceil(l*u);t.moveRaf=Xc((function(){i(f)}))}},t.onMouseUp=function(){var e=t.props.onStopMove;t.setState({dragging:!1}),e(),t.removeEvents()},t.getSpinHeight=function(){var e=t.props,n=e.height,r=n/e.count*10;return r=Math.max(r,20),r=Math.min(r,n/2),Math.floor(r)},t.getEnableScrollRange=function(){var e=t.props;return e.scrollHeight-e.height||0},t.getEnableHeightRange=function(){return t.props.height-t.getSpinHeight()||0},t.getTop=function(){var e=t.props.scrollTop,n=t.getEnableScrollRange(),r=t.getEnableHeightRange();return 0===e||0===n?0:e/n*r},t.showScroll=function(){var e=t.props,n=e.height;return e.scrollHeight>n},t}return n=i,(r=[{key:"componentDidMount",value:function(){this.scrollbarRef.current.addEventListener("touchstart",this.onScrollbarTouchStart),this.thumbRef.current.addEventListener("touchstart",this.onMouseDown)}},{key:"componentDidUpdate",value:function(e){e.scrollTop!==this.props.scrollTop&&this.delayHidden()}},{key:"componentWillUnmount",value:function(){this.removeEvents(),clearTimeout(this.visibleTimeout)}},{key:"render",value:function(){var t=this.state,n=t.dragging,r=t.visible,a=this.props.prefixCls,o=this.getSpinHeight(),i=this.getTop(),s=this.showScroll(),u=s&&r;return e.createElement("div",{ref:this.scrollbarRef,className:Fn()("".concat(a,"-scrollbar"),ix({},"".concat(a,"-scrollbar-show"),s)),style:{width:8,top:0,bottom:0,right:0,position:"absolute",display:u?null:"none"},onMouseDown:this.onContainerMouseDown,onMouseMove:this.delayHidden},e.createElement("div",{ref:this.thumbRef,className:Fn()("".concat(a,"-scrollbar-thumb"),ix({},"".concat(a,"-scrollbar-thumb-moving"),n)),style:{width:"100%",height:o,top:i,left:0,position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"},onMouseDown:this.onMouseDown}))}}])&&ux(n.prototype,r),a&&ux(n,a),Object.defineProperty(n,"prototype",{writable:!1}),i}(e.Component);function vx(t){var n=t.children,r=t.setRef,a=e.useCallback((function(e){r(e)}),[]);return e.cloneElement(n,{ref:a})}function mx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var gx=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.maps=void 0,this.maps=Object.create(null)}var t,n,r;return t=e,n=[{key:"set",value:function(e,t){this.maps[e]=t}},{key:"get",value:function(e){return this.maps[e]}}],n&&mx(t.prototype,n),r&&mx(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),yx=gx;function bx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(u){s=!0,a=u}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return xx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xx(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wx(e){return wx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wx(e)}function kx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(u){s=!0,a=u}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Sx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sx(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sx(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ex(t,n,r){var a=kx(e.useState(t),2),o=a[0],i=a[1],s=kx(e.useState(null),2),u=s[0],c=s[1];return e.useEffect((function(){var e=function(e,t,n){var r,a,o=e.length,i=t.length;if(0===o&&0===i)return null;o<i?(r=e,a=t):(r=t,a=e);var s={__EMPTY_ITEM__:!0};function u(e){return void 0!==e?n(e):s}for(var c=null,l=1!==Math.abs(o-i),f=0;f<a.length;f+=1){var p=u(r[f]);if(p!==u(a[f])){c=f,l=l||p!==u(a[f+1]);break}}return null===c?null:{index:c,multiple:l}}(o||[],t||[],n);void 0!==(null===e||void 0===e?void 0:e.index)&&(null===r||void 0===r||r(e.index),c(t[e.index])),i(t)}),[t]),[u]}function Cx(e){return Cx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cx(e)}var Nx="object"===("undefined"===typeof navigator?"undefined":Cx(navigator))&&/Firefox/i.test(navigator.userAgent),Tx=function(t,n){var r=(0,e.useRef)(!1),a=(0,e.useRef)(null);function o(){clearTimeout(a.current),r.current=!0,a.current=setTimeout((function(){r.current=!1}),50)}var i=(0,e.useRef)({top:t,bottom:n});return i.current.top=t,i.current.bottom=n,function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e<0&&i.current.top||e>0&&i.current.bottom;return t&&n?(clearTimeout(a.current),r.current=!1):n&&!r.current||o(),!r.current&&n}};var Ix=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","component","onScroll","onVisibleChange"];function Ox(){return Ox=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ox.apply(this,arguments)}function _x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_x(Object(n),!0).forEach((function(t){Ax(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ax(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rx(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(u){s=!0,a=u}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Px(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Px(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Px(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mx(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Fx=[],Lx={overflowY:"auto",overflowAnchor:"none"};function jx(t,n){var r=t.prefixCls,a=void 0===r?"rc-virtual-list":r,o=t.className,i=t.height,s=t.itemHeight,u=t.fullHeight,c=void 0===u||u,l=t.style,f=t.data,p=t.children,d=t.itemKey,h=t.virtual,v=t.component,m=void 0===v?"div":v,g=t.onScroll,y=t.onVisibleChange,b=Mx(t,Ix),x=!(!1===h||!i||!s),w=x&&f&&s*f.length>i,k=Rx((0,e.useState)(0),2),S=k[0],E=k[1],C=Rx((0,e.useState)(!1),2),N=C[0],T=C[1],I=Fn()(a,o),O=f||Fx,_=(0,e.useRef)(),D=(0,e.useRef)(),A=(0,e.useRef)(),R=e.useCallback((function(e){return"function"===typeof d?d(e):null===e||void 0===e?void 0:e[d]}),[d]),P={getKey:R};function M(e){E((function(t){var n=function(e){var t=e;Number.isNaN(Q.current)||(t=Math.min(t,Q.current));return t=Math.max(t,0)}("function"===typeof e?e(t):e);return _.current.scrollTop=n,n}))}var F=(0,e.useRef)({start:0,end:O.length}),L=(0,e.useRef)(),j=Rx(Ex(O,R),1)[0];L.current=j;var Z=function(t,n,r){var a=bx(e.useState(0),2),o=a[0],i=a[1],s=(0,e.useRef)(new Map),u=(0,e.useRef)(new yx),c=(0,e.useRef)();function l(){Xc.cancel(c.current)}function f(){l(),c.current=Xc((function(){s.current.forEach((function(e,t){if(e&&e.offsetParent){var n=al(e),r=n.offsetHeight;u.current.get(t)!==r&&u.current.set(t,n.offsetHeight)}})),i((function(e){return e+1}))}))}return(0,e.useEffect)((function(){return l}),[]),[function(e,a){var o=t(e),i=s.current.get(o);a?(s.current.set(o,a),f()):s.current.delete(o),!i!==!a&&(a?null===n||void 0===n||n(e):null===r||void 0===r||r(e))},f,u.current,o]}(R,null,null),z=Rx(Z,4),B=z[0],U=z[1],W=z[2],V=z[3],H=e.useMemo((function(){if(!x)return{scrollHeight:void 0,start:0,end:O.length-1,offset:void 0};var e;if(!w)return{scrollHeight:(null===(e=D.current)||void 0===e?void 0:e.offsetHeight)||0,start:0,end:O.length-1,offset:void 0};for(var t,n,r,a=0,o=O.length,u=0;u<o;u+=1){var c=O[u],l=R(c),f=W.get(l),p=a+(void 0===f?s:f);p>=S&&void 0===t&&(t=u,n=a),p>S+i&&void 0===r&&(r=u),a=p}return void 0===t&&(t=0,n=0),void 0===r&&(r=O.length-1),{scrollHeight:a,start:t,end:r=Math.min(r+1,O.length),offset:n}}),[w,x,S,O,V,i]),G=H.scrollHeight,q=H.start,X=H.end,K=H.offset;F.current.start=q,F.current.end=X;var Y=G-i,Q=(0,e.useRef)(Y);Q.current=Y;var $=S<=0,J=S>=Y,ee=Tx($,J);var te=function(t,n,r,a){var o=(0,e.useRef)(0),i=(0,e.useRef)(null),s=(0,e.useRef)(null),u=(0,e.useRef)(!1),c=Tx(n,r);return[function(e){if(t){Xc.cancel(i.current);var n=e.deltaY;o.current+=n,s.current=n,c(n)||(Nx||e.preventDefault(),i.current=Xc((function(){var e=u.current?10:1;a(o.current*e),o.current=0})))}},function(e){t&&(u.current=e.detail===s.current)}]}(x,$,J,(function(e){M((function(t){return t+e}))})),ne=Rx(te,2),re=ne[0],ae=ne[1];!function(t,n,r){var a,o=(0,e.useRef)(!1),i=(0,e.useRef)(0),s=(0,e.useRef)(null),u=(0,e.useRef)(null),c=function(e){if(o.current){var t=Math.ceil(e.touches[0].pageY),n=i.current-t;i.current=t,r(n)&&e.preventDefault(),clearInterval(u.current),u.current=setInterval((function(){(!r(n*=.9333333333333333,!0)||Math.abs(n)<=.1)&&clearInterval(u.current)}),16)}},l=function(){o.current=!1,a()},f=function(e){a(),1!==e.touches.length||o.current||(o.current=!0,i.current=Math.ceil(e.touches[0].pageY),s.current=e.target,s.current.addEventListener("touchmove",c),s.current.addEventListener("touchend",l))};a=function(){s.current&&(s.current.removeEventListener("touchmove",c),s.current.removeEventListener("touchend",l))},Jd((function(){return t&&n.current.addEventListener("touchstart",f),function(){var e;null===(e=n.current)||void 0===e||e.removeEventListener("touchstart",f),a(),clearInterval(u.current)}}),[t])}(x,_,(function(e,t){return!ee(e,t)&&(re({preventDefault:function(){},deltaY:e}),!0)})),Jd((function(){function e(e){x&&e.preventDefault()}return _.current.addEventListener("wheel",re),_.current.addEventListener("DOMMouseScroll",ae),_.current.addEventListener("MozMousePixelScroll",e),function(){_.current&&(_.current.removeEventListener("wheel",re),_.current.removeEventListener("DOMMouseScroll",ae),_.current.removeEventListener("MozMousePixelScroll",e))}}),[x]);var oe=function(t,n,r,a,o,i,s,u){var c=e.useRef();return function(e){if(null!==e&&void 0!==e){if(Xc.cancel(c.current),"number"===typeof e)s(e);else if(e&&"object"===wx(e)){var l,f=e.align;l="index"in e?e.index:n.findIndex((function(t){return o(t)===e.key}));var p=e.offset,d=void 0===p?0:p;!function e(u,p){if(!(u<0)&&t.current){var h=t.current.clientHeight,v=!1,m=p;if(h){for(var g=p||f,y=0,b=0,x=0,w=Math.min(n.length,l),k=0;k<=w;k+=1){var S=o(n[k]);b=y;var E=r.get(S);y=x=b+(void 0===E?a:E),k===l&&void 0===E&&(v=!0)}var C=null;switch(g){case"top":C=b-d;break;case"bottom":C=x-h+d;break;default:var N=t.current.scrollTop;b<N?m="top":x>N+h&&(m="bottom")}null!==C&&C!==t.current.scrollTop&&s(C)}c.current=Xc((function(){v&&i(),e(u-1,m)}))}}(3)}}else u()}}(_,O,W,s,R,U,M,(function(){var e;null===(e=A.current)||void 0===e||e.delayHidden()}));e.useImperativeHandle(n,(function(){return{scrollTo:oe}})),Jd((function(){if(y){var e=O.slice(q,X+1);y(e,O)}}),[q,X,O]);var ie=function(t,n,r,a,o,i){var s=i.getKey;return t.slice(n,r+1).map((function(t,r){var i=o(t,n+r,{}),u=s(t);return e.createElement(vx,{key:u,setRef:function(e){return a(t,e)}},i)}))}(O,q,X,B,p,P),se=null;return i&&(se=Dx(Ax({},c?"height":"maxHeight",i),Lx),x&&(se.overflowY="hidden",N&&(se.pointerEvents="none"))),e.createElement("div",Ox({style:Dx(Dx({},l),{},{position:"relative"}),className:I},b),e.createElement(m,{className:"".concat(a,"-holder"),style:se,ref:_,onScroll:function(e){var t=e.currentTarget.scrollTop;t!==S&&M(t),null===g||void 0===g||g(e)}},e.createElement(ax,{prefixCls:a,height:G,offset:K,onInnerResize:U,ref:D},ie)),x&&e.createElement(hx,{ref:A,prefixCls:a,scrollTop:S,height:i,scrollHeight:G,count:O.length,onScroll:function(e){M(e)},onStartMove:function(){T(!0)},onStopMove:function(){T(!1)}}))}var Zx=e.forwardRef(jx);Zx.displayName="List";var zx=Zx;var Bx=e.createContext(null),Ux=["disabled","title","children","style","className"];function Wx(e){return"string"===typeof e||"number"===typeof e}var Vx=function(t,n){var i=e.useContext(Xb),s=i.prefixCls,u=i.id,c=i.open,l=i.multiple,f=i.mode,p=i.searchValue,d=i.toggleOpen,h=i.notFoundContent,v=i.onPopupScroll,m=e.useContext(Bx),g=m.flattenOptions,y=m.onActiveValue,b=m.defaultActiveFirstOption,w=m.onSelect,k=m.menuItemSelectedIcon,S=m.rawValues,E=m.fieldNames,C=m.virtual,N=m.listHeight,T=m.listItemHeight,I="".concat(s,"-item"),O=Is((function(){return g}),[c,g],(function(e,t){return t[0]&&e[1]!==t[1]})),_=e.useRef(null),D=function(e){e.preventDefault()},A=function(e){_.current&&_.current.scrollTo("number"===typeof e?{index:e}:e)},R=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=O.length,r=0;r<n;r+=1){var a=(e+r*t+n)%n,o=O[a],i=o.group,s=o.data;if(!i&&!s.disabled)return a}return-1},P=e.useState((function(){return R(0)})),M=(0,a.Z)(P,2),F=M[0],L=M[1],j=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];L(e);var n={source:t?"keyboard":"mouse"},r=O[e];r?y(r.value,e,n):y(null,-1,n)};(0,e.useEffect)((function(){j(!1!==b?R(0):-1)}),[O.length,p]);var Z=e.useCallback((function(e){return S.has(e)&&"combobox"!==f}),[f,(0,r.Z)(S).toString()]);(0,e.useEffect)((function(){var e,t=setTimeout((function(){if(!l&&c&&1===S.size){var e=Array.from(S)[0],t=O.findIndex((function(t){return t.data.value===e}));-1!==t&&(j(t),A(t))}}));c&&(null===(e=_.current)||void 0===e||e.scrollTo(void 0));return function(){return clearTimeout(t)}}),[c,p]);var z=function(e){void 0!==e&&w(e,{selected:!S.has(e)}),l||d(!1)};if(e.useImperativeHandle(n,(function(){return{onKeyDown:function(e){var t=e.which,n=e.ctrlKey;switch(t){case Dm.N:case Dm.P:case Dm.UP:case Dm.DOWN:var r=0;if(t===Dm.UP?r=-1:t===Dm.DOWN?r=1:/(mac\sos|macintosh)/i.test(navigator.appVersion)&&n&&(t===Dm.N?r=1:t===Dm.P&&(r=-1)),0!==r){var a=R(F+r,r);A(a),j(a,!0)}break;case Dm.ENTER:var o=O[F];o&&!o.data.disabled?z(o.value):z(void 0),c&&e.preventDefault();break;case Dm.ESC:d(!1),c&&e.stopPropagation()}},onKeyUp:function(){},scrollTo:function(e){A(e)}}})),0===O.length)return e.createElement("div",{role:"listbox",id:"".concat(u,"_list"),className:"".concat(I,"-empty"),onMouseDown:D},h);var B=Object.keys(E).map((function(e){return E[e]})),U=function(e){return e.label},W=function(t){var n=O[t];if(!n)return null;var r=n.data||{},a=r.value,o=n.group,i=Pb(r,!0),s=U(n);return n?e.createElement("div",x({"aria-label":"string"!==typeof s||o?null:s},i,{key:t,role:o?"presentation":"option",id:"".concat(u,"_list_").concat(t),"aria-selected":Z(a)}),a):null};return e.createElement(e.Fragment,null,e.createElement("div",{role:"listbox",id:"".concat(u,"_list"),style:{height:0,width:0,overflow:"hidden"}},W(F-1),W(F),W(F+1)),e.createElement(zx,{itemKey:"key",ref:_,data:O,height:N,itemHeight:T,fullHeight:!1,onMouseDown:D,onScroll:v,virtual:C},(function(t,n){var r,a=t.group,i=t.groupOption,s=t.data,u=t.label,c=t.value,l=s.key;if(a){var f,p=null!==(f=s.title)&&void 0!==f?f:Wx(u)&&u;return e.createElement("div",{className:Fn()(I,"".concat(I,"-group")),title:p},void 0!==u?u:l)}var d=s.disabled,h=s.title,v=(s.children,s.style),m=s.className,g=wi(Pn(s,Ux),B),y=Z(c),b="".concat(I,"-option"),w=Fn()(I,b,m,(r={},(0,o.Z)(r,"".concat(b,"-grouped"),i),(0,o.Z)(r,"".concat(b,"-active"),F===n&&!d),(0,o.Z)(r,"".concat(b,"-disabled"),d),(0,o.Z)(r,"".concat(b,"-selected"),y),r)),S=U(t),E=!k||"function"===typeof k||y,C="number"===typeof S?S:S||c,N=Wx(C)?C.toString():void 0;return void 0!==h&&(N=h),e.createElement("div",x({},Pb(g),{"aria-selected":y,className:w,title:N,onMouseMove:function(){F===n||d||j(n)},onClick:function(){d||z(c)},style:v}),e.createElement("div",{className:"".concat(b,"-content")},C),e.isValidElement(k)||y,E&&e.createElement(Mb,{className:"".concat(I,"-option-state"),customizeIcon:k,customizeIconProps:{isSelected:y}},y?"\u2713":null))})))},Hx=e.forwardRef(Vx);Hx.displayName="OptionList";var Gx=Hx,qx=function(){return null};qx.isSelectOption=!0;var Xx=qx,Kx=function(){return null};Kx.isSelectOptGroup=!0;var Yx=Kx,Qx=["children","value"],$x=["children"];function Jx(e){var t=e.key,n=e.props,r=n.children,a=n.value;return s({key:t,value:void 0!==a?a:t,children:r},Pn(n,Qx))}function ew(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return nu(t).map((function(t,r){if(!e.isValidElement(t)||!t.type)return null;var a=t.type.isSelectOptGroup,o=t.key,i=t.props,u=i.children,c=Pn(i,$x);return n||!a?Jx(t):s(s({key:"__RC_SELECT_GRP__".concat(null===o?r:o,"__"),label:o},c),{},{options:ew(u)})})).filter((function(e){return e}))}function tw(t,n,r,a,o){return e.useMemo((function(){var e=t;!t&&(e=ew(n));var i=new Map,s=new Map,u=function(e,t,n){n&&"string"===typeof n&&e.set(t[n],t)};return function e(t){for(var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=0;c<t.length;c+=1){var l=t[c];!l[r.options]||n?(i.set(l[r.value],l),u(s,l,r.label),u(s,l,a),u(s,l,o)):e(l[r.options],!0)}}(e),{options:e,valueOptions:i,labelOptions:s}}),[t,n,r,a,o])}var nw=0,rw=rs();function aw(t){var n=e.useState(),r=(0,a.Z)(n,2),o=r[0],i=r[1];return e.useEffect((function(){i("rc_select_".concat(function(){var e;return rw?(e=nw,nw+=1):e="TEST_OR_SSR",e}()))}),[]),t||o}function ow(t){var n=e.useRef();n.current=t;var r=e.useCallback((function(){return n.current.apply(n,arguments)}),[]);return r}function iw(e,t){return Zb(e).join("").toUpperCase().includes(t)}var sw=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"],uw=["inputValue"];var cw=e.forwardRef((function(t,n){var i=t.id,u=t.mode,c=t.prefixCls,l=void 0===c?"rc-select":c,f=t.backfill,p=t.fieldNames,d=t.inputValue,h=t.searchValue,v=t.onSearch,m=t.autoClearSearchValue,g=void 0===m||m,y=t.onSelect,b=t.onDeselect,w=t.dropdownMatchSelectWidth,k=void 0===w||w,S=t.filterOption,E=t.filterSort,C=t.optionFilterProp,N=t.optionLabelProp,T=t.options,I=t.children,O=t.defaultActiveFirstOption,_=t.menuItemSelectedIcon,D=t.virtual,A=t.listHeight,R=void 0===A?200:A,P=t.listItemHeight,M=void 0===P?20:P,F=t.value,L=t.defaultValue,j=t.labelInValue,Z=t.onChange,z=Pn(t,sw),B=aw(i),U=Qb(u),W=!(T||!I),V=e.useMemo((function(){return(void 0!==S||"combobox"!==u)&&S}),[S,u]),H=e.useMemo((function(){return Eb(p,W)}),[JSON.stringify(p),W]),G=Si("",{value:void 0!==h?h:d,postState:function(e){return e||""}}),q=(0,a.Z)(G,2),X=q[0],K=q[1],Y=tw(T,I,H,C,N),Q=Y.valueOptions,$=Y.labelOptions,J=Y.options,ee=e.useCallback((function(e){return Zb(e).map((function(e){var t,n,r,a,o;(function(e){return!e||"object"!==(0,vi.Z)(e)})(e)?t=e:(r=e.key,n=e.label,t=null!==(o=e.value)&&void 0!==o?o:r);var i,s=Q.get(t);s&&(void 0===n&&(n=null===s||void 0===s?void 0:s[N||H.label]),void 0===r&&(r=null!==(i=null===s||void 0===s?void 0:s.key)&&void 0!==i?i:t),a=null===s||void 0===s?void 0:s.disabled);return{label:n,value:t,key:r,disabled:a}}))}),[H,N,Q]),te=Si(L,{value:F}),ne=(0,a.Z)(te,2),re=ne[0],ae=ne[1],oe=function(t,n){var r=e.useRef({values:new Map,options:new Map});return[e.useMemo((function(){var e=r.current,a=e.values,o=e.options,i=t.map((function(e){var t;return void 0===e.label?s(s({},e),{},{label:null===(t=a.get(e.value))||void 0===t?void 0:t.label}):e})),u=new Map,c=new Map;return i.forEach((function(e){u.set(e.value,e),c.set(e.value,n.get(e.value)||o.get(e.value))})),r.current.values=u,r.current.options=c,i}),[t,n]),e.useCallback((function(e){return n.get(e)||r.current.options.get(e)}),[n])]}(e.useMemo((function(){var e,t=ee(re);return"combobox"!==u||(null===(e=t[0])||void 0===e?void 0:e.value)?t:[]}),[re,ee,u]),Q),ie=(0,a.Z)(oe,2),se=ie[0],ue=ie[1],ce=e.useMemo((function(){if(!u&&1===se.length){var e=se[0];if(null===e.value&&(null===e.label||void 0===e.label))return[]}return se.map((function(e){var t;return s(s({},e),{},{label:null!==(t=e.label)&&void 0!==t?t:e.value})}))}),[u,se]),le=e.useMemo((function(){return new Set(se.map((function(e){return e.value})))}),[se]);e.useEffect((function(){if("combobox"===u){var e,t=null===(e=se[0])||void 0===e?void 0:e.value;void 0!==t&&null!==t&&K(String(t))}}),[se]);var fe=ow((function(e,t){var n,r=null!==t&&void 0!==t?t:e;return n={},(0,o.Z)(n,H.value,e),(0,o.Z)(n,H.label,r),n})),pe=function(t,n,r,a,i){return e.useMemo((function(){if(!r||!1===a)return t;var e=n.options,u=n.label,c=n.value,l=[],f="function"===typeof a,p=r.toUpperCase(),d=f?a:function(t,n){return i?iw(n[i],p):n[e]?iw(n["children"!==u?u:"label"],p):iw(n[c],p)},h=f?function(e){return Cb(e)}:function(e){return e};return t.forEach((function(t){if(t[e])if(d(r,h(t)))l.push(t);else{var n=t[e].filter((function(e){return d(r,h(e))}));n.length&&l.push(s(s({},t),{},(0,o.Z)({},e,n)))}else d(r,h(t))&&l.push(t)})),l}),[t,a,i,r,n])}(e.useMemo((function(){if("tags"!==u)return J;var e=(0,r.Z)(J);return(0,r.Z)(se).sort((function(e,t){return e.value<t.value?-1:1})).forEach((function(t){var n=t.value;(function(e){return Q.has(e)})(n)||e.push(fe(n,t.label))})),e}),[fe,J,Q,se,u]),H,X,V,C),de=e.useMemo((function(){return"tags"!==u||!X||pe.some((function(e){return e[C||"value"]===X}))?pe:[fe(X)].concat((0,r.Z)(pe))}),[fe,C,u,pe,X]),he=e.useMemo((function(){return E?(0,r.Z)(de).sort((function(e,t){return E(e,t)})):de}),[de,E]),ve=e.useMemo((function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fieldNames,r=t.childrenAsData,a=[],o=Eb(n,!1),i=o.label,s=o.value,u=o.options;function c(e,t){e.forEach((function(e){var n=e[i];if(t||!(u in e)){var o=e[s];a.push({key:Sb(e,a.length),groupOption:t,data:e,label:n,value:o})}else{var l=n;void 0===l&&r&&(l=e.label),a.push({key:Sb(e,a.length),group:!0,data:e,label:l}),c(e[u],!0)}}))}return c(e,!1),a}(he,{fieldNames:H,childrenAsData:W})}),[he,H,W]),me=function(e){var t=ee(e);if(ae(t),Z&&(t.length!==se.length||t.some((function(e,t){var n;return(null===(n=se[t])||void 0===n?void 0:n.value)!==(null===e||void 0===e?void 0:e.value)})))){var n=j?t:t.map((function(e){return e.value})),r=t.map((function(e){return Cb(ue(e.value))}));Z(U?n:n[0],U?r:r[0])}},ge=e.useState(null),ye=(0,a.Z)(ge,2),be=ye[0],xe=ye[1],we=e.useState(0),ke=(0,a.Z)(we,2),Se=ke[0],Ee=ke[1],Ce=void 0!==O?O:"combobox"!==u,Ne=e.useCallback((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.source,a=void 0===r?"keyboard":r;Ee(t),f&&"combobox"===u&&null!==e&&"keyboard"===a&&xe(String(e))}),[f,u]),Te=function(e,t){var n=function(){var t,n=ue(e);return[j?{label:null===n||void 0===n?void 0:n[H.label],value:e,key:null!==(t=null===n||void 0===n?void 0:n.key)&&void 0!==t?t:e}:e,Cb(n)]};if(t&&y){var r=n(),o=(0,a.Z)(r,2),i=o[0],s=o[1];y(i,s)}else if(!t&&b){var u=n(),c=(0,a.Z)(u,2),l=c[0],f=c[1];b(l,f)}},Ie=ow((function(e,t){var n,a=!U||t.selected;n=a?U?[].concat((0,r.Z)(se),[e]):[e]:se.filter((function(t){return t.value!==e})),me(n),Te(e,a),"combobox"===u?xe(""):Qb&&!g||(K(""),xe(""))})),Oe=e.useMemo((function(){var e=!1!==D&&!1!==k;return s(s({},Y),{},{flattenOptions:ve,onActiveValue:Ne,defaultActiveFirstOption:Ce,onSelect:Ie,menuItemSelectedIcon:_,rawValues:le,fieldNames:H,virtual:e,listHeight:R,listItemHeight:M,childrenAsData:W})}),[Y,ve,Ne,Ce,Ie,_,le,H,D,k,R,M,W]);return e.createElement(Bx.Provider,{value:Oe},e.createElement(Jb,x({},z,{id:B,prefixCls:l,ref:n,omitDomProps:uw,mode:u,displayValues:ce,onDisplayValuesChange:function(e,t){me(e),"remove"!==t.type&&"clear"!==t.type||t.values.forEach((function(e){Te(e.value,!1)}))},searchValue:X,onSearch:function(e,t){if(K(e),xe(null),"submit"!==t.source)"blur"!==t.source&&("combobox"===u&&me(e),null===v||void 0===v||v(e));else{var n=(e||"").trim();if(n){var a=Array.from(new Set([].concat((0,r.Z)(le),[n])));me(a),Te(n,!0),K("")}}},onSearchSplit:function(e){var t=e;"tags"!==u&&(t=e.map((function(e){var t=$.get(e);return null===t||void 0===t?void 0:t.value})).filter((function(e){return void 0!==e})));var n=Array.from(new Set([].concat((0,r.Z)(le),(0,r.Z)(t))));me(n),n.forEach((function(e){Te(e,!0)}))},dropdownMatchSelectWidth:k,OptionList:Gx,emptyOptions:!ve.length,activeValue:be,activeDescendantId:"".concat(B,"_list_").concat(Se)})))}));var lw=cw;lw.Option=Xx,lw.OptGroup=Yx;var fw=lw,pw={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},dw=function(t,n){return e.createElement(Es,s(s({},t),{},{ref:n,icon:pw}))};dw.displayName="DownOutlined";var hw=e.forwardRef(dw),vw={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},mw=function(t,n){return e.createElement(Es,s(s({},t),{},{ref:n,icon:vw}))};mw.displayName="CheckOutlined";var gw=e.forwardRef(mw);var yw=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n},bw="SECRET_COMBOBOX_MODE_DO_NOT_USE",xw=function(t,n){var r,a,i=t.prefixCls,s=t.bordered,u=void 0===s||s,c=t.className,l=t.getPopupContainer,f=t.dropdownClassName,p=t.listHeight,d=void 0===p?256:p,h=t.placement,v=t.listItemHeight,m=void 0===v?24:v,g=t.size,y=t.notFoundContent,b=t.status,w=t.showArrow,k=yw(t,["prefixCls","bordered","className","getPopupContainer","dropdownClassName","listHeight","placement","listItemHeight","size","notFoundContent","status","showArrow"]),S=e.useContext(Js),E=S.getPopupContainer,C=S.getPrefixCls,N=S.renderEmpty,T=S.direction,I=S.virtual,O=S.dropdownMatchSelectWidth,_=e.useContext(Ps),D=C("select",i),A=C(),R=e.useMemo((function(){var e=k.mode;if("combobox"!==e)return e===bw?"combobox":e}),[k.mode]),P="multiple"===R||"tags"===R,M=void 0!==w?w:k.loading||!(P||"combobox"===R),F=(0,e.useContext)(_c),L=F.status,j=F.hasFeedback,Z=F.isFormItemInput,z=F.feedbackIcon,B=Ls(L,b);a=void 0!==y?y:"combobox"===R?null:N("Select");var U=function(t){var n=t.suffixIcon,r=t.clearIcon,a=t.menuItemSelectedIcon,o=t.removeIcon,i=t.loading,s=t.multiple,u=t.hasFeedback,c=t.prefixCls,l=t.showArrow,f=t.feedbackIcon,p=r;r||(p=e.createElement(Ns,null));var d=function(t){return e.createElement(e.Fragment,null,!1!==l&&t,u&&f)},h=null;if(void 0!==n)h=d(n);else if(i)h=d(e.createElement(Xl,{spin:!0}));else{var v="".concat(c,"-suffix");h=function(t){var n=t.open,r=t.showSearch;return d(n&&r?e.createElement(Zc,{className:v}):e.createElement(hw,{className:v}))}}return{clearIcon:p,suffixIcon:h,itemIcon:void 0!==a?a:s?e.createElement(gw,null):null,removeIcon:void 0!==o?o:e.createElement(eb,null)}}(x(x({},k),{multiple:P,hasFeedback:j,feedbackIcon:z,showArrow:M,prefixCls:D})),W=U.suffixIcon,V=U.itemIcon,H=U.removeIcon,G=U.clearIcon,q=wi(k,["suffixIcon","itemIcon"]),X=Fn()(f,(0,o.Z)({},"".concat(D,"-dropdown-").concat(T),"rtl"===T)),K=g||_,Y=Fn()((r={},(0,o.Z)(r,"".concat(D,"-lg"),"large"===K),(0,o.Z)(r,"".concat(D,"-sm"),"small"===K),(0,o.Z)(r,"".concat(D,"-rtl"),"rtl"===T),(0,o.Z)(r,"".concat(D,"-borderless"),!u),(0,o.Z)(r,"".concat(D,"-in-form-item"),Z),r),Fs(D,B,j),c);return e.createElement(fw,x({ref:n,virtual:I,dropdownMatchSelectWidth:O},q,{transitionName:_h(A,Oh(h),k.transitionName),listHeight:d,listItemHeight:m,mode:R,prefixCls:D,placement:void 0!==h?h:"rtl"===T?"bottomRight":"bottomLeft",direction:T,inputIcon:W,menuItemSelectedIcon:V,removeIcon:H,clearIcon:G,notFoundContent:a,className:Y,getPopupContainer:l||E,dropdownClassName:X,showArrow:j||w}))},ww=e.forwardRef(xw);ww.SECRET_COMBOBOX_MODE_DO_NOT_USE=bw,ww.Option=Xx,ww.OptGroup=Yx;var kw=ww;var Sw=$((function(e){return{hAlert:e.reducer14}}))((function(t){return(0,e.useEffect)((function(){var e=setTimeout((function(){t.dispatch({type:"hAlert-off"})}),2e3);return function(){clearTimeout(e)}}),[]),(0,Je.jsx)("div",{className:"halert-wrap",children:(0,Je.jsx)(gr,{in:t.hAlert,appear:t.hAlert,timeout:50,children:function(e){return(0,Je.jsx)("div",{className:"heart-alert hAlert-".concat(e),children:(0,Je.jsx)("span",{children:"\uc704\uc2dc\ub9ac\uc2a4\ud2b8\uc5d0 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4."})})}})})}));var Ew=$((function(e){return{bAlert:e.reducer15}}))((function(t){return(0,e.useEffect)((function(){var e=setTimeout((function(){t.dispatch({type:"bAlert-off"})}),2e3);return function(){clearTimeout(e)}}),[]),(0,Je.jsx)("div",{className:"halert-wrap",children:(0,Je.jsx)(gr,{in:t.bAlert,appear:t.bAlert,timeout:50,children:function(e){return(0,Je.jsx)("div",{className:"heart-alert hAlert-".concat(e),children:(0,Je.jsx)("span",{children:"\uc1fc\ud551\ubc31\uc5d0 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4."})})}})})})),Cw=kw.Option;var Nw=$((function(e){return{navTG:e.reducer1,tab:e.reducer9,loading:e.reducer12,heart:e.reducer13,bagCount:e.setBagCount,hAlert:e.reducer14,bAlert:e.reducer15}}))((function(t){(0,e.useEffect)((function(){t.dispatch({type:"nav-on"}),t.dispatch({type:"hAlert-off"}),t.dispatch({type:"bAlert-off"})}),[]),(0,e.useEffect)((function(){t.dispatch({type:"bag-get"}),setTimeout((function(){t.dispatch({type:"bag-get"})}),500),setTimeout((function(){t.dispatch({type:"bag-get"})}),750),setTimeout((function(){t.dispatch({type:"bag-get"})}),1e3)}),[t]);var n=re(),o=t.match.params.productId,i=(0,e.useState)({}),u=(0,a.Z)(i,2),c=u[0],l=u[1],f=(0,e.useState)(!1),d=(0,a.Z)(f,2),h=d[0],v=d[1],m=(0,e.useState)([]),g=(0,a.Z)(m,2),y=g[0],b=g[1],x=(0,e.useState)(0),w=(0,a.Z)(x,2),k=w[0],S=w[1],E=(0,e.useState)(8),C=(0,a.Z)(E,2),N=C[0],T=(C[1],(0,e.useState)(0)),I=(0,a.Z)(T,2),O=(I[0],I[1]),_=(0,e.useState)(""),D=(0,a.Z)(_,2),A=(D[0],D[1]),R=sessionStorage.getItem("userId");(0,e.useEffect)((function(){M({skip:k,limit:N}),t.dispatch({type:"loading-start"})}),[]);var P=function(e,t){return(void 0!==e?e.split(" "):["",""])[t]},M=function(e){p().post("/api/search",e).then((function(n){n.data.success?(e&&b((0,r.Z)(n.data.productInfo)),O(n.data.postSize)):alert(" \uc0c1\ud488 \uac00\uc838\uc624\uae30 \uc2e4\ud328 "),t.dispatch({type:"loading-end"})}))},F=function(e){var t={skip:0,limit:N,searchTerm:e};S(0),A(e),function(e){p().post("/api/search",e).then((function(t){t.data.success?(e&&b((0,r.Z)(t.data.productInfo)),O(t.data.postSize)):alert(" \uc0c1\ud488 \uac00\uc838\uc624\uae30 \uc2e4\ud328 ")}))}(t)};(0,e.useEffect)((function(){p().get("/api/product/products_by_id?id=".concat(o)).then((function(e){l(e.data[0])})).catch((function(e){return alert(e)}))}),[]);var L=function(e){return void 0===e?"":e.split(" ")[0]},j=!1;return t.user&&t.user.userData&&t.user.userData.isAuth&&t.user.userData.wish.forEach((function(e){e.id===o&&(j=!0)})),n(j?{type:"heart-fill"}:{type:"heart-drain"}),(0,Je.jsxs)("div",{className:"detail-wrap",children:[t.loading?(0,Je.jsx)(hb,{}):(0,Je.jsxs)("div",{className:"detail-top-wrap",children:[t.hAlert&&(0,Je.jsx)(Sw,{}),t.bAlert&&(0,Je.jsx)(Ew,{}),(0,Je.jsxs)("div",{className:"detail-top-wrap-2",children:[(0,Je.jsx)("div",{className:"detail-top-wrap-left",children:h?(0,Je.jsx)(et,{color:c.color,tryOn:h,setTryOn:v}):(0,Je.jsx)(kb,{detail:c})}),(0,Je.jsx)("div",{className:"detail-top-wrap-right",children:(0,Je.jsxs)("div",{className:"detail-info-wrap",children:[(0,Je.jsxs)("div",{className:"detail-title-wrap",children:[(0,Je.jsx)("h3",{children:c.title}),t.heart?(0,Je.jsx)(ft,{className:"heart",onClick:function(){if("false"===R)return alert("\ub85c\uadf8\uc778 \ud6c4 \uc774\uc6a9\ud574\uc8fc\uc138\uc694."),t.history.back(1);t.dispatch({type:"heart-drain"}),n(lb(o))}}):(0,Je.jsx)(bt,{className:"heart",onClick:function(){if("false"===R)return alert("\ub85c\uadf8\uc778 \ud6c4 \uc774\uc6a9\ud574\uc8fc\uc138\uc694."),t.history.back(1);t.dispatch({type:"heart-fill"}),t.dispatch({type:"hAlert-on"}),n(function(e){var t={productId:e};return{type:"add_to_wish",payload:p().post("/api/users/addToWish",t).then((function(e){return e.data}))}}(o))}})]}),(0,Je.jsxs)("p",{children:[c.price," \uc6d0"]}),(0,Je.jsx)(kw,{style:{width:"200px",marginTop:"10px"},placeholder:"\xa0\uc120\ud0dd \uac00\ub2a5\ud55c \uceec\ub7ec",onClick:function(){A(L(c.title)),F(L(c.title))},onChange:function(e){var t;t=e,window.location.replace("/product/".concat(t))},children:y.map((function(e){return(0,Je.jsx)(Cw,{value:e._id,children:e.title})}))}),(0,Je.jsx)("button",{className:"detail-btn",onClick:function(){if("false"===R)return t.history.back(1);n(cb(o)),n({type:"bAlert-on"})},children:"\uc7a5\ubc14\uad6c\ub2c8\uc5d0 \ucd94\uac00\ud558\uae30"}),(0,Je.jsx)("button",{className:"detail-btn",onClick:function(){v(!h)},children:"\ud2b8\ub77c\uc774\uc628"})]})})]})]}),(0,Je.jsxs)("div",{className:"detail-bottom-wrap",children:[(0,Je.jsx)("div",{className:"detail-tab-wrap",children:(0,Je.jsxs)("ul",{className:"detail-tab",children:[(0,Je.jsx)("li",{className:"".concat(t.tab[0]&&"tab-on"),onClick:function(){t.dispatch({type:"on-1"})},children:"\uc124\uba85"}),(0,Je.jsx)("li",{className:"".concat(t.tab[1]&&"tab-on"),onClick:function(e){t.dispatch({type:"on-2"})},children:"\uc0c1\ud488 \ud544\uc218 \uc815\ubcf4"}),(0,Je.jsx)("li",{className:"".concat(t.tab[2]&&"tab-on"),onClick:function(e){t.dispatch({type:"on-3"})},children:"\ubc30\uc1a1\uacfc \ubc18\ud488"}),(0,Je.jsx)("li",{className:"".concat(t.tab[3]&&"tab-on"),onClick:function(e){t.dispatch({type:"on-4"})},children:"\uc7ac\uc785\uace0 \uc54c\ub9bc"})]})}),(0,Je.jsxs)("div",{className:"detail-bottom-content",children:[(0,Je.jsx)("span",{className:"detail-bottom-desc ".concat(t.tab[0]&&"tab-inline"),children:(0,Je.jsx)("pre",{children:void 0!==c.detail?c.detail[0]:""})}),(0,Je.jsx)("span",{className:"detail-bottom-desc ".concat(t.tab[1]&&"tab-inline"),children:(0,Je.jsx)("pre",{children:void 0!==c.detail?c.detail[1]:""})}),(0,Je.jsxs)("span",{className:"detail-bottom-desc ".concat(t.tab[2]&&"tab-inline"),children:[(0,Je.jsxs)("pre",{children:["\ubc30\uc1a1 \uc11c\ube44\uc2a4\ub294 \ub2e4\uc591\ud55c\uac00\uc694?",(0,Je.jsx)("br",{}),"\ub9bd\ud53d \ubdf0\ud2f0 \uacf5\uc2dd \uc628\ub77c\uc778 \uc2a4\ud1a0\uc5b4\ub294 \uace0\uac1d\ub2d8\uc758 \ud3b8\uc758\ub97c \uc704\ud558\uc5ec \ub2e4\uc591\ud55c \ubc30\uc1a1 \uc11c\ube44\uc2a4\ub97c \uc81c\uacf5\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4."," ",(0,Je.jsx)("br",{}),"\uc120\ud0dd \uac00\ub2a5\ud55c \ubc30\uc1a1 \uc11c\ube44\uc2a4\ub294 \ud558\uae30\uc640 \uac19\uc2b5\ub2c8\ub2e4.",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"-\uc77c\ubc18 \ubc30\uc1a1: \uc8fc\ubb38 \ud6c4 \ud3c9\uade0 2~4\uc77c \uc774\ub0b4 \ubc1c\uc1a1\ub418\ub294 \uc11c\ube44\uc2a4(\uc601\uc5c5\uc77c \uae30\uc900). 3\ub9cc \uc6d0 \uc774\uc0c1 \uad6c\ub9e4 \uc2dc \ubb34\ub8cc\ubc30\uc1a1. 3\ub9cc \uc6d0 \ubbf8\ub9cc 2,500\uc6d0 \uc720\ub8cc \ubc30\uc1a1",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"-\uc775\uc77c \ubc30\uc1a1: \uc8fc\ubb38 \ub2f9\uc77c \uc790\uc815 ~ \uc624\ud6c4 1\uc2dc\uae4c\uc9c0\uc758 \uc8fc\ubb38 \uac74\uc5d0 \ub300\ud574 \uc775\uc77c \ub0b4 \ubc30\uc1a1\ub418\ub294 3,500\uc6d0 \uc720\ub8cc \uc11c\ube44\uc2a4(\uc11c\uc6b8 \uc9c0\uc5ed\uc5d0 \ud55c\ud568, \uc601\uc5c5\uc77c \uae30\uc900)",(0,Je.jsx)("br",{}),"-\uc608\uc57d\uc77c \ubc30\uc1a1: \uc8fc\ubb38 \ub2f9\uc77c \ud3ec\ud568 5\uc77c \uc774\ud6c4\ubd80\ud130 2\uc8fc \uc774\ub0b4\uc758 \uc608\uc57d\uc77c\uc5d0 \ub9de\ucdb0 \ubc30\uc1a1\ub418\ub294 3,500\uc6d0 \uc720\ub8cc \ubc30\uc1a1 \uc11c\ube44\uc2a4(\uc601\uc5c5\uc77c \uae30\uc900).",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"*\uc8fc\ubb38 \uc644\ub8cc \ud6c4\uc5d0\ub294 \ubc30\uc1a1\uc9c0 \ubcc0\uacbd\uc774 \ubd88\uac00\ud569\ub2c8\ub2e4.",(0,Je.jsx)("br",{}),"\uc8fc\ubb38\uc81c\ud488\uc744 \ubc18\ud488\ud558\uac70\ub098 \ud658\ubd88\ubc1b\uc73c\ub824\uba74 \uc5b4\ub5bb\uac8c \ud558\ub098\uc694?",(0,Je.jsx)("br",{}),"\ub9bd\ud53d \ubdf0\ud2f0 \uacf5\uc2dd \uc628\ub77c\uc778 \uc2a4\ud1a0\uc5b4\uc5d0\uc11c \uad6c\ub9e4\ud558\uc2e0 \uc81c\ud488\uc774 \ub9cc\uc871\uc2a4\ub7fd\uc9c0 \uc54a\uc73c\uc2e4 \uacbd\uc6b0 \ubaa8\ub4e0 \uc81c\ud488 (\uc77c\ubd80 \uc561\uc138\uc11c\ub9ac \ubc0f \uac1c\ubd09 \ud754\uc801\uc774 \ud655\uc778\ub41c \uacbd\uc6b0 \uc81c\uc678, \uc774\uc6a9\uc57d\uad00\uc5d0 \uc0c1\uc138 \uc815\ubcf4 \ud655\uc778 \uac00\ub2a5) \uc740 \uc218\ub839 \ud6c4 7\uc77c \uc774\ub0b4 \ud658\ubd88 \uc758\uc0ac\ub97c \ubc1d\ud788\uace0 \ubc18\ud488 \uc8fc\uc2dc\uba74 \uc808\ucc28\uc5d0 \ub530\ub77c \ud658\ubd88 \ucc98\ub9ac\ub97c \ub3c4\uc640\ub4dc\ub9ac\uace0 \uc788\uc2b5\ub2c8\ub2e4. \ud658\ubd88 \uc18c\uc694\uc77c\uc740 \uacb0\uc81c \uc218\ub2e8\uc5d0 \ub530\ub77c \uc0c1\uc774\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ub2e4\ub9cc, \uc77c\ubd80 \uacb0\uc81c \uc218\ub2e8\uc5d0 \ub300\ud574\uc11c\ub294 \ud658\ubd88 \ucc98\ub9ac\ub97c \uc704\ud558\uc5ec \uace0\uac1d\ub2d8\uaed8 \ubcc4\ub3c4\uc758 \uacc4\uc88c\ubc88\ud638\ub97c \uc694\uccad\ud558\ub294 \uacbd\uc6b0\uac00 \uc788\uc2b5\ub2c8\ub2e4. \uc8fc\ubb38 \ucde8\uc18c \ubc0f \ubc18\ud488\uc5d0 \ub300\ud55c \uc808\ucc28\ub294 \ud558\uae30\uc640 \uac19\uc2b5\ub2c8\ub2e4.",(0,Je.jsx)("br",{}),"-\uc8fc\ubb38 \ucde8\uc18c: \uc8fc\ubb38 \ud6c4 30\ubd84 \uc774\ub0b4\uc5d0 \ub9c8\uc774 \ud398\uc774\uc9c0\uc5d0\uc11c \uc8fc\ubb38 \ucde8\uc18c \ubc84\ud2bc\uc744 \uc774\uc6a9\ud558\uc5ec \ucde8\uc18c\ud558\uac70\ub098, \uace0\uac1d \uc13c\ud130\ub97c \ud1b5\ud574 \uc8fc\ubb38\uc744 \ucde8\uc18c\ud558\uc2e4 \uc218 \uc788\uc2b5\ub2c8\ub2e4. 30\ubd84 \uc774\ud6c4\uc5d0\ub294 \uc8fc\ubb38 \ucde8\uc18c\uac00 \ubd88\uac00\ud558\uba70 \ud544\uc694\uc5d0 \ub530\ub77c \ubc18\ud488 \uc808\ucc28\ub85c \ub300\uccb4 \ub429\ub2c8\ub2e4.",(0,Je.jsx)("br",{}),"-\uad50\ud658: \ub9bd\ud53d \ubdf0\ud2f0 \uacf5\uc2dd \uc628\ub77c\uc778 \uc2a4\ud1a0\uc5b4\uc5d0\uc11c \uad6c\ub9e4\ud55c \uc81c\ud488\uc740 \uc628\ub77c\uc778\uc5d0\uc11c \ubc18\ud488 \ubc0f \ud658\ubd88\uc774 \uac00\ub2a5\ud558\ub098, \uc81c\ud488 \uad50\ud658\uc740 \ubd88\uac00\ub2a5\ud569\ub2c8\ub2e4. \uad50\ud658\uc744 \uc6d0\ud558\uc2e4 \uacbd\uc6b0, \uc81c\ud488\uc744 \uc218\ub839\ud558\uc2e0 \ub4a4 \uace0\uac1d\uc13c\ud130\ub97c \ud1b5\ud574 \ubc18\ud488 \uc808\ucc28\ub97c \uac70\uce58\uc2e0 \ud6c4 \ub2e4\uc2dc \uc8fc\ubb38\ud558\uc5ec \uc8fc\uc2ed\uc2dc\uc624.",(0,Je.jsx)("br",{}),"-\ubc18\ud488/\ud658\ubd88 \uc811\uc218: \ubc18\ud488\uacfc \ud658\ubd88 \ubb38\uc758\ub294 \ub9bd\ud53d \uc628\ub77c\uc778 \uc2a4\ud1a0\uc5b4\uc758 \uace0\uac1d\uc13c\ud130\ub85c \uc5f0\ub77d \uc8fc\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4.",(0,Je.jsx)("br",{}),"-\ubc18\ud488 \uac00\ub2a5 \uae30\uac04: \ub2e8\uc21c \ubcc0\uc2ec\uc5d0 \uc758\ud55c \ubc18\ud488\uc740 \uc81c\ud488 \uc218\ub839 \ud6c4 7\uc77c \uc774\ub0b4\uc5d0\ub9cc \uac00\ub2a5\ud569\ub2c8\ub2e4.",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"-\ub2e4\uc74c\uc758 \uacbd\uc6b0\uc5d0\ub294 \ub2e8\uc21c \ubcc0\uc2ec\uc5d0 \uc758\ud55c \ubc18\ud488\uc774 \ubd88\uac00\ud569\ub2c8\ub2e4:",(0,Je.jsx)("br",{}),"\u2170. \uc774\uc6a9\uc790\uc5d0\uac8c \ucc45\uc784 \uc788\ub294 \uc0ac\uc720\ub85c \uc7ac\ud654 \ub4f1\uc774 \uba78\uc2e4 \ub610\ub294 \ud6fc\uc190\ub41c \uacbd\uc6b0(\uc7ac\ud654\uc758 \ubc15\uc2a4 \ub610\ub294 \ubc00\ubd09\ud3ec\uc7a5\uc744 \uac1c\ubd09\ud558\uc5ec \ucd94\uac00 \ud3ec\uc7a5\ube44\uc6a9 \uc5c6\uc774 \uc7ac\ud310\ub9e4\uac00 \ubd88\uac00\ub2a5\ud55c \uacbd\uc6b0\ub97c \ud3ec\ud568\ud558\ub098, \ubc30\uc1a1\uc6a9 \ubc15\uc2a4 \ud3ec\uc7a5 \ud6fc\uc190 \ubc0f \uc0c1\ud488 \ud558\uc790\uc758 \uacbd\uc6b0 \ub4f1\uc740 \uc81c\uc678\ud568)",(0,Je.jsx)("br",{}),"\u2171. \uc774\uc6a9\uc790\uc758 \uc0ac\uc6a9 \ub610\ub294 \uc77c\ubd80 \uc18c\ube44\uc5d0 \uc758\ud558\uc5ec \uc7ac\ud654 \ub4f1\uc758 \uac00\uce58\uac00 \ud604\uc800\ud788 \uac10\uc18c\ud55c \uacbd\uc6b0",(0,Je.jsx)("br",{}),"\u2172. \uc2dc\uac04\uc758 \uacbd\uacfc\uc5d0 \uc758\ud558\uc5ec \uc7ac\ud310\ub9e4\uac00 \uace4\ub780\ud560 \uc815\ub3c4\ub85c \uc7ac\ud654 \ub4f1\uc758 \uac00\uce58\uac00 \ud604\uc800\ud788 \uac10\uc18c\ud55c \uacbd\uc6b0",(0,Je.jsx)("br",{}),"\u2173. \uc774\uc6a9\uc790\uac00 \ubc18\ud658\ud55c \uc81c\ud488\uc774 \uc8fc\ubb38\ud55c \uc815\ud488\uc774 \uc544\ub2cc \uacbd\uc6b0",(0,Je.jsx)("br",{}),"\u2174. \uc8fc\ubb38 \ucca0\ud68c\ub97c \ud5c8\uc6a9\ud560 \uacbd\uc6b0 \ub9bd\ud53d \ubdf0\ud2f0 \uc628\ub77c\uc778 \uc2a4\ud1a0\uc5b4\uc5d0 \ud68c\ubcf5\ud560 \uc218 \uc5c6\ub294 \uc911\ub300\ud55c \ud53c\ud574\uac00 \uc608\uc0c1\ub418\ub294 \uacbd\uc6b0\ub85c\uc11c \uc0ac\uc804\uc5d0 \ud574\ub2f9 \uac70\ub798\uc5d0 \ub300\ud558\uc5ec \ubcc4\ub3c4\ub85c \uadf8 \uc0ac\uc2e4\uc744 \uace0\uc9c0\ud558\uace0 \uc774\uc6a9\uc790\uc758 \ub3d9\uc758\ub97c \ubc1b\uc740 \uacbd\uc6b0",(0,Je.jsx)("br",{}),"\u2175. \uc8fc\ubb38 \uc2dc \ub3d9\ubd09\ub41c \uc0ac\uc740\ud488, \uc0d8\ud50c, \ub9bd\ud53d \ub85c\uace0\uac00 \ub4e4\uc5b4\uac04 \ud3ec\uc7a5 \ud328\ud0a4\uc9c0\ub97c \ubc18\ud658\ud558\uc9c0 \uc54a\uc740 \uacbd\uc6b0",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"-\uc81c\ud488\uc5d0 \ud558\uc790\uac00 \uc788\uac70\ub098 \uacc4\uc57d \ub0b4\uc6a9\uacfc \ub2e4\ub974\uac8c \uc774\ud589\ub41c \uacbd\uc6b0 \uc81c\ud488 \uc218\ub839\uc77c\ub85c\ubd80\ud130 3\uac1c\uc6d4 \uc774\ub0b4\uc5d0 \ud658\ubd88 \uac00\ub2a5\ud569\ub2c8\ub2e4.",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"-\ubc18\ud488 \uc2dc \ub9bd\ud53d\uacfc \uacc4\uc57d\ud55c \ud0dd\ubc30\uc5c5\uccb4\uac00 \uc544\ub2cc \ud0c0 \ud0dd\ubc30\uc0ac\ub97c \uc774\uc6a9\ud558\ub294 \uacbd\uc6b0 \ud30c\uc190 \ubc0f \ubd84\uc2e4\uc5d0 \ub300\ud55c \ucc45\uc784\uc740 \uace0\uac1d\ub2d8\uaed8 \uc788\uc2b5\ub2c8\ub2e4.",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"-\ubc18\ud488 \ud0dd\ubc30 \ube44\uc6a9\uc740 \uc77c\uc591 \ud0dd\ubc30 \uae30\uc0ac\ub2d8\uaed8 \uc9c1\uc811 \uc804\ub2ec\ud574\uc57c \ud569\ub2c8\ub2e4.",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"-\ubc18\ud488 \ud0dd\ubc30 \ube44\uc6a9\uc740 5,000\uc6d0 \uc77c\uad04 \ubd80\ub2f4\ub429\ub2c8\ub2e4. \ub3c4\uc11c\uc0b0\uac04, \uc81c\uc8fc\ub3c4\ub97c \ud3ec\ud568\ud55c \uad6d\ub0b4 \uc804 \uc9c0\uc5ed\uc73c\ub85c \ubc30\uc1a1 \uac00\ub2a5\ud558\ub098 \uc77c\ubd80 \uc9c0\uc5ed\uc5d0 \ub530\ub77c \ubc30\uc1a1 \uc2dc\uae30\uac00 \ub2e4\ub97c \uc218 \uc788\uc73c\uba70, \ucd94\uac00 \uc6b4\uc784 \ube44\uc6a9\uc774 \ubc1c\uc0dd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. (\ucd94\uac00 \uc6b4\uc784\uc758 \uacbd\uc6b0 \uace0\uac1d \ubcc4\ub3c4 \ubd80\ub2f4)",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"\uace0\uac1d\uc13c\ud130\ub85c \uc5f0\ub77d\uc744 \uc8fc\uc2dc\uba74 \ud0dd\ubc30 \uae30\uc0ac\ub2d8 \ubc18\ud488 \ud53d\uc5c5 \uc608\uc57d\uc744 \ub3c4\uc640\ub4dc\ub9ac\uba70 \ubc18\ud488 \uc811\uc218 \ud6c4 14\uc77c \uc774\ub0b4\uc5d0 \ubb3c\ub958\uc13c\ud130\uc5d0 \ubc18\ud488 \uc81c\ud488 \ub3c4\ucc29 \ud655\uc778\uc774 \ub418\uc5b4\uc57c \ud569\ub2c8\ub2e4. \ubc18\ud488 \ubb3c\ud488 \ub3c4\ucc29 \ud6c4 \ub0b4\ubd80 \uc2ec\uc0ac\ub97c \ud1b5\ud574 \ube60\ub978 \ubc18\ud488 \ubc0f \ud658\ubd88\uc744 \ub3c4\uc640\ub4dc\ub9ac\ub3c4\ub85d \ud558\uaca0\uc2b5\ub2c8\ub2e4.",(0,Je.jsx)("br",{}),"\ub9bd\ud53d \ubdf0\ud2f0 \uacf5\uc2dd \uc628\ub77c\uc778 \uc2a4\ud1a0\uc5b4\uc5d0\uc11c\ub294 \ubc18\ud488 \uac80\uc218 \uc644\ub8cc \ud6c4 3\uc77c \uc601\uc5c5\uc77c \uc774\ub0b4\uc5d0 \ud658\ubd88 \ucc98\ub9ac\ub97c \ud558\ub098 \uacb0\uc81c \uc218\ub2e8\uc5d0 \ub530\ub77c \uace0\uac1d\ub2d8\uc5d0\uac8c \uc2e4\uc81c \ud658\ubd88\ub418\ub294 \uc2dc\uc810\uc740 \uc0c1\uc774\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \ubc18\ud488\ud558\uc2e4 \ub54c\uc5d0\ub294 \uc0d8\ud50c \ubc0f \ud328\ud0a4\uc9c0\ub97c \ubc18\ub4dc\uc2dc \uc81c\ud488\uacfc \ud568\uaed8 \ubc18\uc1a1\ud574 \uc8fc\uc2dc\uae30 \ubc14\ub77c\uc624\uba70, \uc81c\ud488\uc5d0 \ub300\ud55c \uad50\ud658 \ubc0f \ub2e8\uc21c \ubcc0\uc2ec\uc5d0 \uc758\ud55c \ubd80\ubd84 \ubc18\ud488 \ubc0f \ubd80\ubd84 \ud658\ubd88 \uc11c\ube44\uc2a4\ub294 \uc81c\uacf5\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. \uc628\ub77c\uc778 \uad6c\ub9e4 \uc0c1\ud488\uc740 \uc624\ud504\ub77c\uc778 \ubd80\ud2f0\ud06c\uc5d0\uc11c \uad50\ud658 \ubc0f \ubc18\ud488, \ud658\ubd88\uc744 \ubc1b\uc73c\uc2e4 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"\ubc30\uc1a1 \uc911 \ud30c\uc190\ub41c \uc81c\ud488\uc744 \uc218\ub839\ud558\uc168\ub2e4\uba74 \ud30c\uc190 \uc81c\ud488\uc758 \uc0c1\ud0dc \ud655\uc778\uc744 \uc704\ud574 \uc0ac\uc9c4\uc744 \ucd2c\uc601\ud558\uc2e0 \ud6c4 \ub9bd\ud53d \ubdf0\ud2f0 \uacf5\uc2dd \uc628\ub77c\uc778 \uc2a4\ud1a0\uc5b4 \uace0\uac1d \uc13c\ud130\ub85c \uc5f0\ub77d \ubd80\ud0c1\ub4dc\ub9ac\uaca0\uc2b5\ub2c8\ub2e4.",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"\ub354 \uc790\uc138\ud55c \ubb38\uc758\ub97c \uc6d0\ud558\uc2e0\ub2e4\uba74 \ub9bd\ud53d \ubdf0\ud2f0 \uacf5\uc2dd \uc628\ub77c\uc778 \uc2a4\ud1a0\uc5b4\uc758 \uace0\uac1d \uc13c\ud130\ub85c \uc804\ud654 \ub610\ub294 \uc628\ub77c\uc778 \uace0\uac1d \ubb38\uc758\ub97c \uc8fc\uc2e4 \uacbd\uc6b0 \ube60\ub974\uace0 \uce5c\uc808\ud55c \uc0c1\ub2f4\uc744 \ub3c4\uc640\ub4dc\ub9b4 \uc218 \uc788\ub3c4\ub85d \ud558\uaca0\uc2b5\ub2c8\ub2e4. - \uace0\uac1d \uc13c\ud130(080-332-2700) \uc6b4\uc601 \uc2dc\uac04: \uc6d4-\uae08, \uc624\uc804 9\uc2dc-\uc624\ud6c4 6\uc2dc"]}),(0,Je.jsx)("br",{})]}),(0,Je.jsx)("span",{className:"detail-bottom-desc ".concat(t.tab[3]&&"tab-inline"),children:(0,Je.jsxs)("pre",{children:["\uc81c\ud488 \ud488\uc808 \uc2dc, \uc7ac\uc785\uace0 \uc54c\ub9bc \uc2e0\uccad \uc11c\ube44\uc2a4\ub97c \uc774\uc6a9\ud558\uc5ec \uc7ac\uc785\uace0 \uc548\ub0b4\ub97c \ubc1b\uc73c\uc2e4 \uc218 \uc788\uc2b5\ub2c8\ub2e4.",(0,Je.jsx)("br",{}),(0,Je.jsx)("br",{}),"\ud488\uc808\ub41c \uc81c\ud488 \uc0c1\uc138\ud398\uc774\uc9c0\uc758 [\uc7ac\uc785\uace0 \uc54c\ub9bc] \ubc84\ud2bc\uc744 \ud074\ub9ad \ud6c4, \uc5f0\ub77d\ucc98 \uc815\ubcf4\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694. ",(0,Je.jsx)("br",{}),"\uc7ac\uc785\uace0 \uc2dc \uc785\ub825\ud558\uc2e0 \uc5f0\ub77d\ucc98\ub85c \uc54c\ub9bc \uba54\uc2dc\uc9c0\ub97c \ubcf4\ub0b4\ub4dc\ub9bd\ub2c8\ub2e4.",(0,Je.jsx)("br",{}),"\ud310\ub9e4\uac00 \ubc0f \uc635\uc158 \ub4f1\uc758 \uc0c1\ud488 \uc815\ubcf4\ub294 \ubcc0\uacbd\ub420 \uc218 \uc788\uc73c\uba70, \uc7ac\uc785\uace0 \uc54c\ub9bc \ud6c4 \uad6c\ub9e4 \uc2dc\uc810\uc5d0 \ub530\ub77c \ud488\uc808\uc774 \ubc1c\uc0dd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."," "]})})]})]}),(0,Je.jsxs)("div",{className:"detail-slide-wrap",children:[(0,Je.jsxs)("div",{className:"detail-slide-text-wrap",children:[(0,Je.jsx)("span",{children:P(c.title,0)}),(0,Je.jsx)("h3",{children:P(c.title,1)})]}),(0,Je.jsx)("div",{className:"detail-slide-img-wrap",children:(0,Je.jsx)(tt.Z,s(s({},{dots:!1,infinite:!0,speed:500,slidesToShow:1,slidesToScroll:1}),{},{children:void 0!==c.description?c.description.map((function(e){return(0,Je.jsx)("div",{className:"detail-slide-img",children:(0,Je.jsx)("img",{src:"http://localhost:5000/".concat(e),alt:""})})})):""}))})]})]})}));var Tw=function(e){var t=function(e){if(e.length>0){var t=e[0];return"http://localhost:5000/".concat(t)}},n={color:"inherit",textDecoration:"none"};return(0,Je.jsxs)("div",{className:"card-top-wrap",children:[(0,Je.jsx)("div",{className:"card-title",children:e.ShowTotal&&(0,Je.jsx)("h3",{children:"\ub098\uc758 \uc1fc\ud551\ubc31"})}),e.products&&e.products.map((function(r,a){return(0,Je.jsxs)("div",{className:"card-wrap",children:[(0,Je.jsx)(_n,{to:"/product/".concat(r._id),className:"card-left",children:(0,Je.jsx)("div",{children:(0,Je.jsx)("img",{src:t(r.images),alt:""})})}),(0,Je.jsxs)("div",{className:"card-right",children:[(0,Je.jsx)("div",{className:"card-right-top",children:(0,Je.jsx)("h3",{children:r.title})}),(0,Je.jsxs)("div",{className:"card-right-mid",children:[(0,Je.jsxs)("div",{className:"card-right-mid-top",children:[(0,Je.jsx)("div",{className:"color-circle",style:{backgroundColor:r.color,borderRadius:"10px",width:"20px",height:"20px"}}),(0,Je.jsxs)("span",{children:[" ",r.quantity," EA"]})]}),(0,Je.jsx)("div",{className:"card-right-mid-bottom",children:(0,Je.jsxs)("span",{children:[" ",r.price*r.quantity," \uc6d0"]})})]}),(0,Je.jsxs)("div",{className:"card-right-bottom",children:[(0,Je.jsx)(_n,{to:"/product/".concat(r._id),style:n,children:(0,Je.jsx)("div",{children:(0,Je.jsxs)("span",{children:[(0,Je.jsx)(gt,{})," \uc0c1\uc138\ubcf4\uae30"]})})}),(0,Je.jsx)("div",{className:"card-right-bottom-btn",onClick:function(){return e.removeItem(r._id)},children:(0,Je.jsxs)("span",{children:[(0,Je.jsx)(vt,{})," \uc0ad\uc81c\ud558\uae30"]})})]})]})]})}))]})},Iw=n(8501),Ow=n.n(Iw),_w=function(e){(0,Ya.Z)(n,e);var t=(0,Qa.Z)(n);function n(){return(0,la.Z)(this,n),t.apply(this,arguments)}return(0,fa.Z)(n,[{key:"render",value:function(){var e=this,t=this.props.total;return(0,Je.jsx)(Ow(),{env:"sandbox",client:{sandbox:"AXJGVYFT52n_3RGVWm6ECR87enCVxAXJWy8S8tKDklc1IpE1b0YJPjFYM81y0M6S9zLRZin-C0e2LUnW",production:"YOUR-PRODUCTION-APP-ID"},currency:"USD",total:t,onError:function(e){console.log("Error!",e)},onSuccess:function(t){console.log("The payment was succeeded!",t),e.props.onSuccess(t)},onCancel:function(e){console.log("The payment was cancelled!",e)},style:{size:"large",color:"black",shape:"rect",label:"checkout"}})}}]),n}(e.Component),Dw={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M955.7 856l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zM480 416c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v184c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V416zm32 352a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"warning",theme:"filled"},Aw=function(t,n){return e.createElement(Es,s(s({},t),{},{ref:n,icon:Dw}))};Aw.displayName="WarningFilled";var Rw={success:dp,error:Ns,info:gp,warning:e.forwardRef(Aw)},Pw={404:function(){return e.createElement("svg",{width:"252",height:"294"},e.createElement("defs",null,e.createElement("path",{d:"M0 .387h251.772v251.772H0z"})),e.createElement("g",{fill:"none",fillRule:"evenodd"},e.createElement("g",{transform:"translate(0 .012)"},e.createElement("mask",{fill:"#fff"}),e.createElement("path",{d:"M0 127.32v-2.095C0 56.279 55.892.387 124.838.387h2.096c68.946 0 124.838 55.892 124.838 124.838v2.096c0 68.946-55.892 124.838-124.838 124.838h-2.096C55.892 252.16 0 196.267 0 127.321",fill:"#E4EBF7",mask:"url(#b)"})),e.createElement("path",{d:"M39.755 130.84a8.276 8.276 0 1 1-16.468-1.66 8.276 8.276 0 0 1 16.468 1.66",fill:"#FFF"}),e.createElement("path",{d:"M36.975 134.297l10.482 5.943M48.373 146.508l-12.648 10.788",stroke:"#FFF",strokeWidth:"2"}),e.createElement("path",{d:"M39.875 159.352a5.667 5.667 0 1 1-11.277-1.136 5.667 5.667 0 0 1 11.277 1.136M57.588 143.247a5.708 5.708 0 1 1-11.358-1.145 5.708 5.708 0 0 1 11.358 1.145M99.018 26.875l29.82-.014a4.587 4.587 0 1 0-.003-9.175l-29.82.013a4.587 4.587 0 1 0 .003 9.176M110.424 45.211l29.82-.013a4.588 4.588 0 0 0-.004-9.175l-29.82.013a4.587 4.587 0 1 0 .004 9.175",fill:"#FFF"}),e.createElement("path",{d:"M112.798 26.861v-.002l15.784-.006a4.588 4.588 0 1 0 .003 9.175l-15.783.007v-.002a4.586 4.586 0 0 0-.004-9.172M184.523 135.668c-.553 5.485-5.447 9.483-10.931 8.93-5.485-.553-9.483-5.448-8.93-10.932.552-5.485 5.447-9.483 10.932-8.93 5.485.553 9.483 5.447 8.93 10.932",fill:"#FFF"}),e.createElement("path",{d:"M179.26 141.75l12.64 7.167M193.006 156.477l-15.255 13.011",stroke:"#FFF",strokeWidth:"2"}),e.createElement("path",{d:"M184.668 170.057a6.835 6.835 0 1 1-13.6-1.372 6.835 6.835 0 0 1 13.6 1.372M203.34 153.325a6.885 6.885 0 1 1-13.7-1.382 6.885 6.885 0 0 1 13.7 1.382",fill:"#FFF"}),e.createElement("path",{d:"M151.931 192.324a2.222 2.222 0 1 1-4.444 0 2.222 2.222 0 0 1 4.444 0zM225.27 116.056a2.222 2.222 0 1 1-4.445 0 2.222 2.222 0 0 1 4.444 0zM216.38 151.08a2.223 2.223 0 1 1-4.446-.001 2.223 2.223 0 0 1 4.446 0zM176.917 107.636a2.223 2.223 0 1 1-4.445 0 2.223 2.223 0 0 1 4.445 0zM195.291 92.165a2.223 2.223 0 1 1-4.445 0 2.223 2.223 0 0 1 4.445 0zM202.058 180.711a2.223 2.223 0 1 1-4.446 0 2.223 2.223 0 0 1 4.446 0z",stroke:"#FFF",strokeWidth:"2"}),e.createElement("path",{stroke:"#FFF",strokeWidth:"2",d:"M214.404 153.302l-1.912 20.184-10.928 5.99M173.661 174.792l-6.356 9.814h-11.36l-4.508 6.484M174.941 125.168v-15.804M220.824 117.25l-12.84 7.901-15.31-7.902V94.39"}),e.createElement("path",{d:"M166.588 65.936h-3.951a4.756 4.756 0 0 1-4.743-4.742 4.756 4.756 0 0 1 4.743-4.743h3.951a4.756 4.756 0 0 1 4.743 4.743 4.756 4.756 0 0 1-4.743 4.742",fill:"#FFF"}),e.createElement("path",{d:"M174.823 30.03c0-16.281 13.198-29.48 29.48-29.48 16.28 0 29.48 13.199 29.48 29.48 0 16.28-13.2 29.48-29.48 29.48-16.282 0-29.48-13.2-29.48-29.48",fill:"#1890FF"}),e.createElement("path",{d:"M205.952 38.387c.5.5.785 1.142.785 1.928s-.286 1.465-.785 1.964c-.572.5-1.214.75-2 .75-.785 0-1.429-.285-1.929-.785-.572-.5-.82-1.143-.82-1.929s.248-1.428.82-1.928c.5-.5 1.144-.75 1.93-.75.785 0 1.462.25 1.999.75m4.285-19.463c1.428 1.249 2.143 2.963 2.143 5.142 0 1.712-.427 3.13-1.219 4.25-.067.096-.137.18-.218.265-.416.429-1.41 1.346-2.956 2.699a5.07 5.07 0 0 0-1.428 1.75 5.207 5.207 0 0 0-.536 2.357v.5h-4.107v-.5c0-1.357.215-2.536.714-3.5.464-.964 1.857-2.464 4.178-4.536l.43-.5c.643-.785.964-1.643.964-2.535 0-1.18-.358-2.108-1-2.785-.678-.68-1.643-1.001-2.858-1.001-1.536 0-2.642.464-3.357 1.43-.37.5-.621 1.135-.76 1.904a1.999 1.999 0 0 1-1.971 1.63h-.004c-1.277 0-2.257-1.183-1.98-2.43.337-1.518 1.02-2.78 2.073-3.784 1.536-1.5 3.607-2.25 6.25-2.25 2.32 0 4.214.607 5.642 1.894",fill:"#FFF"}),e.createElement("path",{d:"M52.04 76.131s21.81 5.36 27.307 15.945c5.575 10.74-6.352 9.26-15.73 4.935-10.86-5.008-24.7-11.822-11.577-20.88",fill:"#FFB594"}),e.createElement("path",{d:"M90.483 67.504l-.449 2.893c-.753.49-4.748-2.663-4.748-2.663l-1.645.748-1.346-5.684s6.815-4.589 8.917-5.018c2.452-.501 9.884.94 10.7 2.278 0 0 1.32.486-2.227.69-3.548.203-5.043.447-6.79 3.132-1.747 2.686-2.412 3.624-2.412 3.624",fill:"#FFC6A0"}),e.createElement("path",{d:"M128.055 111.367c-2.627-7.724-6.15-13.18-8.917-15.478-3.5-2.906-9.34-2.225-11.366-4.187-1.27-1.231-3.215-1.197-3.215-1.197s-14.98-3.158-16.828-3.479c-2.37-.41-2.124-.714-6.054-1.405-1.57-1.907-2.917-1.122-2.917-1.122l-7.11-1.383c-.853-1.472-2.423-1.023-2.423-1.023l-2.468-.897c-1.645 9.976-7.74 13.796-7.74 13.796 1.795 1.122 15.703 8.3 15.703 8.3l5.107 37.11s-3.321 5.694 1.346 9.109c0 0 19.883-3.743 34.921-.329 0 0 3.047-2.546.972-8.806.523-3.01 1.394-8.263 1.736-11.622.385.772 2.019 1.918 3.14 3.477 0 0 9.407-7.365 11.052-14.012-.832-.723-1.598-1.585-2.267-2.453-.567-.736-.358-2.056-.765-2.717-.669-1.084-1.804-1.378-1.907-1.682",fill:"#FFF"}),e.createElement("path",{d:"M101.09 289.998s4.295 2.041 7.354 1.021c2.821-.94 4.53.668 7.08 1.178 2.55.51 6.874 1.1 11.686-1.26-.103-5.51-6.889-3.98-11.96-6.713-2.563-1.38-3.784-4.722-3.598-8.799h-9.402s-1.392 10.52-1.16 14.573",fill:"#CBD1D1"}),e.createElement("path",{d:"M101.067 289.826s2.428 1.271 6.759.653c3.058-.437 3.712.481 7.423 1.031 3.712.55 10.724-.069 11.823-.894.413 1.1-.343 2.063-.343 2.063s-1.512.603-4.812.824c-2.03.136-5.8.291-7.607-.503-1.787-1.375-5.247-1.903-5.728-.241-3.918.95-7.355-.286-7.355-.286l-.16-2.647z",fill:"#2B0849"}),e.createElement("path",{d:"M108.341 276.044h3.094s-.103 6.702 4.536 8.558c-4.64.618-8.558-2.303-7.63-8.558",fill:"#A4AABA"}),e.createElement("path",{d:"M57.542 272.401s-2.107 7.416-4.485 12.306c-1.798 3.695-4.225 7.492 5.465 7.492 6.648 0 8.953-.48 7.423-6.599-1.53-6.12.266-13.199.266-13.199h-8.669z",fill:"#CBD1D1"}),e.createElement("path",{d:"M51.476 289.793s2.097 1.169 6.633 1.169c6.083 0 8.249-1.65 8.249-1.65s.602 1.114-.619 2.165c-.993.855-3.597 1.591-7.39 1.546-4.145-.048-5.832-.566-6.736-1.168-.825-.55-.687-1.58-.137-2.062",fill:"#2B0849"}),e.createElement("path",{d:"M58.419 274.304s.033 1.519-.314 2.93c-.349 1.42-1.078 3.104-1.13 4.139-.058 1.151 4.537 1.58 5.155.034.62-1.547 1.294-6.427 1.913-7.252.619-.825-4.903-2.119-5.624.15",fill:"#A4AABA"}),e.createElement("path",{d:"M99.66 278.514l13.378.092s1.298-54.52 1.853-64.403c.554-9.882 3.776-43.364 1.002-63.128l-12.547-.644-22.849.78s-.434 3.966-1.195 9.976c-.063.496-.682.843-.749 1.365-.075.585.423 1.354.32 1.966-2.364 14.08-6.377 33.104-8.744 46.677-.116.666-1.234 1.009-1.458 2.691-.04.302.211 1.525.112 1.795-6.873 18.744-10.949 47.842-14.277 61.885l14.607-.014s2.197-8.57 4.03-16.97c2.811-12.886 23.111-85.01 23.111-85.01l3.016-.521 1.043 46.35s-.224 1.234.337 2.02c.56.785-.56 1.123-.392 2.244l.392 1.794s-.449 7.178-.898 11.89c-.448 4.71-.092 39.165-.092 39.165",fill:"#7BB2F9"}),e.createElement("path",{d:"M76.085 221.626c1.153.094 4.038-2.019 6.955-4.935M106.36 225.142s2.774-1.11 6.103-3.883",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M107.275 222.1s2.773-1.11 6.102-3.884",stroke:"#648BD8",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M74.74 224.767s2.622-.591 6.505-3.365M86.03 151.634c-.27 3.106.3 8.525-4.336 9.123M103.625 149.88s.11 14.012-1.293 15.065c-2.219 1.664-2.99 1.944-2.99 1.944M99.79 150.438s.035 12.88-1.196 24.377M93.673 175.911s7.212-1.664 9.431-1.664M74.31 205.861a212.013 212.013 0 0 1-.979 4.56s-1.458 1.832-1.009 3.776c.449 1.944-.947 2.045-4.985 15.355-1.696 5.59-4.49 18.591-6.348 27.597l-.231 1.12M75.689 197.807a320.934 320.934 0 0 1-.882 4.754M82.591 152.233L81.395 162.7s-1.097.15-.5 2.244c.113 1.346-2.674 15.775-5.18 30.43M56.12 274.418h13.31",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M116.241 148.22s-17.047-3.104-35.893.2c.158 2.514-.003 4.15-.003 4.15s14.687-2.818 35.67-.312c.252-2.355.226-4.038.226-4.038",fill:"#192064"}),e.createElement("path",{d:"M106.322 151.165l.003-4.911a.81.81 0 0 0-.778-.815c-2.44-.091-5.066-.108-7.836-.014a.818.818 0 0 0-.789.815l-.003 4.906a.81.81 0 0 0 .831.813c2.385-.06 4.973-.064 7.73.017a.815.815 0 0 0 .842-.81",fill:"#FFF"}),e.createElement("path",{d:"M105.207 150.233l.002-3.076a.642.642 0 0 0-.619-.646 94.321 94.321 0 0 0-5.866-.01.65.65 0 0 0-.63.647v3.072a.64.64 0 0 0 .654.644 121.12 121.12 0 0 1 5.794.011c.362.01.665-.28.665-.642",fill:"#192064"}),e.createElement("path",{d:"M100.263 275.415h12.338M101.436 270.53c.006 3.387.042 5.79.111 6.506M101.451 264.548a915.75 915.75 0 0 0-.015 4.337M100.986 174.965l.898 44.642s.673 1.57-.225 2.692c-.897 1.122 2.468.673.898 2.243-1.57 1.57.897 1.122 0 3.365-.596 1.489-.994 21.1-1.096 35.146",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M46.876 83.427s-.516 6.045 7.223 5.552c11.2-.712 9.218-9.345 31.54-21.655-.786-2.708-2.447-4.744-2.447-4.744s-11.068 3.11-22.584 8.046c-6.766 2.9-13.395 6.352-13.732 12.801M104.46 91.057l.941-5.372-8.884-11.43-5.037 5.372-1.74 7.834a.321.321 0 0 0 .108.32c.965.8 6.5 5.013 14.347 3.544a.332.332 0 0 0 .264-.268",fill:"#FFC6A0"}),e.createElement("path",{d:"M93.942 79.387s-4.533-2.853-2.432-6.855c1.623-3.09 4.513 1.133 4.513 1.133s.52-3.642 3.121-3.642c.52-1.04 1.561-4.162 1.561-4.162s11.445 2.601 13.526 3.121c0 5.203-2.304 19.424-7.84 19.861-8.892.703-12.449-9.456-12.449-9.456",fill:"#FFC6A0"}),e.createElement("path",{d:"M113.874 73.446c2.601-2.081 3.47-9.722 3.47-9.722s-2.479-.49-6.64-2.05c-4.683-2.081-12.798-4.747-17.48.976-9.668 3.223-2.05 19.823-2.05 19.823l2.713-3.021s-3.935-3.287-2.08-6.243c2.17-3.462 3.92 1.073 3.92 1.073s.637-2.387 3.581-3.342c.355-.71 1.036-2.674 1.432-3.85a1.073 1.073 0 0 1 1.263-.704c2.4.558 8.677 2.019 11.356 2.662.522.125.871.615.82 1.15l-.305 3.248z",fill:"#520038"}),e.createElement("path",{d:"M104.977 76.064c-.103.61-.582 1.038-1.07.956-.489-.083-.801-.644-.698-1.254.103-.61.582-1.038 1.07-.956.488.082.8.644.698 1.254M112.132 77.694c-.103.61-.582 1.038-1.07.956-.488-.083-.8-.644-.698-1.254.103-.61.582-1.038 1.07-.956.488.082.8.643.698 1.254",fill:"#552950"}),e.createElement("path",{stroke:"#DB836E",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round",d:"M110.13 74.84l-.896 1.61-.298 4.357h-2.228"}),e.createElement("path",{d:"M110.846 74.481s1.79-.716 2.506.537",stroke:"#5C2552",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M92.386 74.282s.477-1.114 1.113-.716c.637.398 1.274 1.433.558 1.99-.717.556.159 1.67.159 1.67",stroke:"#DB836E",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M103.287 72.93s1.83 1.113 4.137.954",stroke:"#5C2552",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M103.685 81.762s2.227 1.193 4.376 1.193M104.64 84.308s.954.398 1.511.318M94.693 81.205s2.308 7.4 10.424 7.639",stroke:"#DB836E",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M81.45 89.384s.45 5.647-4.935 12.787M69 82.654s-.726 9.282-8.204 14.206",stroke:"#E4EBF7",strokeWidth:"1.101",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M129.405 122.865s-5.272 7.403-9.422 10.768",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M119.306 107.329s.452 4.366-2.127 32.062",stroke:"#E4EBF7",strokeWidth:"1.101",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M150.028 151.232h-49.837a1.01 1.01 0 0 1-1.01-1.01v-31.688c0-.557.452-1.01 1.01-1.01h49.837c.558 0 1.01.453 1.01 1.01v31.688a1.01 1.01 0 0 1-1.01 1.01",fill:"#F2D7AD"}),e.createElement("path",{d:"M150.29 151.232h-19.863v-33.707h20.784v32.786a.92.92 0 0 1-.92.92",fill:"#F4D19D"}),e.createElement("path",{d:"M123.554 127.896H92.917a.518.518 0 0 1-.425-.816l6.38-9.113c.193-.277.51-.442.85-.442h31.092l-7.26 10.371z",fill:"#F2D7AD"}),e.createElement("path",{fill:"#CC9B6E",d:"M123.689 128.447H99.25v-.519h24.169l7.183-10.26.424.298z"}),e.createElement("path",{d:"M158.298 127.896h-18.669a2.073 2.073 0 0 1-1.659-.83l-7.156-9.541h19.965c.49 0 .95.23 1.244.622l6.69 8.92a.519.519 0 0 1-.415.83",fill:"#F4D19D"}),e.createElement("path",{fill:"#CC9B6E",d:"M157.847 128.479h-19.384l-7.857-10.475.415-.31 7.7 10.266h19.126zM130.554 150.685l-.032-8.177.519-.002.032 8.177z"}),e.createElement("path",{fill:"#CC9B6E",d:"M130.511 139.783l-.08-21.414.519-.002.08 21.414zM111.876 140.932l-.498-.143 1.479-5.167.498.143zM108.437 141.06l-2.679-2.935 2.665-3.434.41.318-2.397 3.089 2.384 2.612zM116.607 141.06l-.383-.35 2.383-2.612-2.397-3.089.41-.318 2.665 3.434z"}),e.createElement("path",{d:"M154.316 131.892l-3.114-1.96.038 3.514-1.043.092c-1.682.115-3.634.23-4.789.23-1.902 0-2.693 2.258 2.23 2.648l-2.645-.596s-2.168 1.317.504 2.3c0 0-1.58 1.217.561 2.58-.584 3.504 5.247 4.058 7.122 3.59 1.876-.47 4.233-2.359 4.487-5.16.28-3.085-.89-5.432-3.35-7.238",fill:"#FFC6A0"}),e.createElement("path",{d:"M153.686 133.577s-6.522.47-8.36.372c-1.836-.098-1.904 2.19 2.359 2.264 3.739.15 5.451-.044 5.451-.044",stroke:"#DB836E",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M145.16 135.877c-1.85 1.346.561 2.355.561 2.355s3.478.898 6.73.617",stroke:"#DB836E",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M151.89 141.71s-6.28.111-6.73-2.132c-.223-1.346.45-1.402.45-1.402M146.114 140.868s-1.103 3.16 5.44 3.533M151.202 129.932v3.477M52.838 89.286c3.533-.337 8.423-1.248 13.582-7.754",stroke:"#DB836E",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M168.567 248.318a6.647 6.647 0 0 1-6.647-6.647v-66.466a6.647 6.647 0 1 1 13.294 0v66.466a6.647 6.647 0 0 1-6.647 6.647",fill:"#5BA02E"}),e.createElement("path",{d:"M176.543 247.653a6.647 6.647 0 0 1-6.646-6.647v-33.232a6.647 6.647 0 1 1 13.293 0v33.232a6.647 6.647 0 0 1-6.647 6.647",fill:"#92C110"}),e.createElement("path",{d:"M186.443 293.613H158.92a3.187 3.187 0 0 1-3.187-3.187v-46.134a3.187 3.187 0 0 1 3.187-3.187h27.524a3.187 3.187 0 0 1 3.187 3.187v46.134a3.187 3.187 0 0 1-3.187 3.187",fill:"#F2D7AD"}),e.createElement("path",{d:"M88.979 89.48s7.776 5.384 16.6 2.842",stroke:"#E4EBF7",strokeWidth:"1.101",strokeLinecap:"round",strokeLinejoin:"round"})))},500:function(){return e.createElement("svg",{width:"254",height:"294"},e.createElement("defs",null,e.createElement("path",{d:"M0 .335h253.49v253.49H0z"}),e.createElement("path",{d:"M0 293.665h253.49V.401H0z"})),e.createElement("g",{fill:"none",fillRule:"evenodd"},e.createElement("g",{transform:"translate(0 .067)"},e.createElement("mask",{fill:"#fff"}),e.createElement("path",{d:"M0 128.134v-2.11C0 56.608 56.273.334 125.69.334h2.11c69.416 0 125.69 56.274 125.69 125.69v2.11c0 69.417-56.274 125.69-125.69 125.69h-2.11C56.273 253.824 0 197.551 0 128.134",fill:"#E4EBF7",mask:"url(#b)"})),e.createElement("path",{d:"M39.989 132.108a8.332 8.332 0 1 1-16.581-1.671 8.332 8.332 0 0 1 16.58 1.671",fill:"#FFF"}),e.createElement("path",{d:"M37.19 135.59l10.553 5.983M48.665 147.884l-12.734 10.861",stroke:"#FFF",strokeWidth:"2"}),e.createElement("path",{d:"M40.11 160.816a5.706 5.706 0 1 1-11.354-1.145 5.706 5.706 0 0 1 11.354 1.145M57.943 144.6a5.747 5.747 0 1 1-11.436-1.152 5.747 5.747 0 0 1 11.436 1.153M99.656 27.434l30.024-.013a4.619 4.619 0 1 0-.004-9.238l-30.024.013a4.62 4.62 0 0 0 .004 9.238M111.14 45.896l30.023-.013a4.62 4.62 0 1 0-.004-9.238l-30.024.013a4.619 4.619 0 1 0 .004 9.238",fill:"#FFF"}),e.createElement("path",{d:"M113.53 27.421v-.002l15.89-.007a4.619 4.619 0 1 0 .005 9.238l-15.892.007v-.002a4.618 4.618 0 0 0-.004-9.234M150.167 70.091h-3.979a4.789 4.789 0 0 1-4.774-4.775 4.788 4.788 0 0 1 4.774-4.774h3.979a4.789 4.789 0 0 1 4.775 4.774 4.789 4.789 0 0 1-4.775 4.775",fill:"#FFF"}),e.createElement("path",{d:"M171.687 30.234c0-16.392 13.289-29.68 29.681-29.68 16.392 0 29.68 13.288 29.68 29.68 0 16.393-13.288 29.681-29.68 29.681s-29.68-13.288-29.68-29.68",fill:"#FF603B"}),e.createElement("path",{d:"M203.557 19.435l-.676 15.035a1.514 1.514 0 0 1-3.026 0l-.675-15.035a2.19 2.19 0 1 1 4.377 0m-.264 19.378c.513.477.77 1.1.77 1.87s-.257 1.393-.77 1.907c-.55.476-1.21.733-1.943.733a2.545 2.545 0 0 1-1.87-.77c-.55-.514-.806-1.136-.806-1.87 0-.77.256-1.393.806-1.87.513-.513 1.137-.733 1.87-.733.77 0 1.43.22 1.943.733",fill:"#FFF"}),e.createElement("path",{d:"M119.3 133.275c4.426-.598 3.612-1.204 4.079-4.778.675-5.18-3.108-16.935-8.262-25.118-1.088-10.72-12.598-11.24-12.598-11.24s4.312 4.895 4.196 16.199c1.398 5.243.804 14.45.804 14.45s5.255 11.369 11.78 10.487",fill:"#FFB594"}),e.createElement("path",{d:"M100.944 91.61s1.463-.583 3.211.582c8.08 1.398 10.368 6.706 11.3 11.368 1.864 1.282 1.864 2.33 1.864 3.496.365.777 1.515 3.03 1.515 3.03s-7.225 1.748-10.954 6.758c-1.399-6.41-6.936-25.235-6.936-25.235",fill:"#FFF"}),e.createElement("path",{d:"M94.008 90.5l1.019-5.815-9.23-11.874-5.233 5.581-2.593 9.863s8.39 5.128 16.037 2.246",fill:"#FFB594"}),e.createElement("path",{d:"M82.931 78.216s-4.557-2.868-2.445-6.892c1.632-3.107 4.537 1.139 4.537 1.139s.524-3.662 3.139-3.662c.523-1.046 1.569-4.184 1.569-4.184s11.507 2.615 13.6 3.138c-.001 5.23-2.317 19.529-7.884 19.969-8.94.706-12.516-9.508-12.516-9.508",fill:"#FFC6A0"}),e.createElement("path",{d:"M102.971 72.243c2.616-2.093 3.489-9.775 3.489-9.775s-2.492-.492-6.676-2.062c-4.708-2.092-12.867-4.771-17.575.982-9.54 4.41-2.062 19.93-2.062 19.93l2.729-3.037s-3.956-3.304-2.092-6.277c2.183-3.48 3.943 1.08 3.943 1.08s.64-2.4 3.6-3.36c.356-.714 1.04-2.69 1.44-3.872a1.08 1.08 0 0 1 1.27-.707c2.41.56 8.723 2.03 11.417 2.676.524.126.876.619.825 1.156l-.308 3.266z",fill:"#520038"}),e.createElement("path",{d:"M101.22 76.514c-.104.613-.585 1.044-1.076.96-.49-.082-.805-.646-.702-1.26.104-.613.585-1.044 1.076-.961.491.083.805.647.702 1.26M94.26 75.074c-.104.613-.585 1.044-1.076.96-.49-.082-.805-.646-.702-1.26.104-.613.585-1.044 1.076-.96.491.082.805.646.702 1.26",fill:"#552950"}),e.createElement("path",{stroke:"#DB836E",strokeWidth:"1.063",strokeLinecap:"round",strokeLinejoin:"round",d:"M99.206 73.644l-.9 1.62-.3 4.38h-2.24"}),e.createElement("path",{d:"M99.926 73.284s1.8-.72 2.52.54",stroke:"#5C2552",strokeWidth:"1.117",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M81.367 73.084s.48-1.12 1.12-.72c.64.4 1.28 1.44.56 2s.16 1.68.16 1.68",stroke:"#DB836E",strokeWidth:"1.117",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M92.326 71.724s1.84 1.12 4.16.96",stroke:"#5C2552",strokeWidth:"1.117",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M92.726 80.604s2.24 1.2 4.4 1.2M93.686 83.164s.96.4 1.52.32M83.687 80.044s1.786 6.547 9.262 7.954",stroke:"#DB836E",strokeWidth:"1.063",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M95.548 91.663s-1.068 2.821-8.298 2.105c-7.23-.717-10.29-5.044-10.29-5.044",stroke:"#E4EBF7",strokeWidth:"1.136",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M78.126 87.478s6.526 4.972 16.47 2.486c0 0 9.577 1.02 11.536 5.322 5.36 11.77.543 36.835 0 39.962 3.496 4.055-.466 8.483-.466 8.483-15.624-3.548-35.81-.6-35.81-.6-4.849-3.546-1.223-9.044-1.223-9.044L62.38 110.32c-2.485-15.227.833-19.803 3.549-20.743 3.03-1.049 8.04-1.282 8.04-1.282.496-.058 1.08-.076 1.37-.233 2.36-1.282 2.787-.583 2.787-.583",fill:"#FFF"}),e.createElement("path",{d:"M65.828 89.81s-6.875.465-7.59 8.156c-.466 8.857 3.03 10.954 3.03 10.954s6.075 22.102 16.796 22.957c8.39-2.176 4.758-6.702 4.661-11.42-.233-11.304-7.108-16.897-7.108-16.897s-4.212-13.75-9.789-13.75",fill:"#FFC6A0"}),e.createElement("path",{d:"M71.716 124.225s.855 11.264 9.828 6.486c4.765-2.536 7.581-13.828 9.789-22.568 1.456-5.768 2.58-12.197 2.58-12.197l-4.973-1.709s-2.408 5.516-7.769 12.275c-4.335 5.467-9.144 11.11-9.455 17.713",fill:"#FFC6A0"}),e.createElement("path",{d:"M108.463 105.191s1.747 2.724-2.331 30.535c2.376 2.216 1.053 6.012-.233 7.51",stroke:"#E4EBF7",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M123.262 131.527s-.427 2.732-11.77 1.981c-15.187-1.006-25.326-3.25-25.326-3.25l.933-5.8s.723.215 9.71-.068c11.887-.373 18.714-6.07 24.964-1.022 4.039 3.263 1.489 8.16 1.489 8.16",fill:"#FFC6A0"}),e.createElement("path",{d:"M70.24 90.974s-5.593-4.739-11.054 2.68c-3.318 7.223.517 15.284 2.664 19.578-.31 3.729 2.33 4.311 2.33 4.311s.108.895 1.516 2.68c4.078-7.03 6.72-9.166 13.711-12.546-.328-.656-1.877-3.265-1.825-3.767.175-1.69-1.282-2.623-1.282-2.623s-.286-.156-1.165-2.738c-.788-2.313-2.036-5.177-4.895-7.575",fill:"#FFF"}),e.createElement("path",{d:"M90.232 288.027s4.855 2.308 8.313 1.155c3.188-1.063 5.12.755 8.002 1.331 2.881.577 7.769 1.243 13.207-1.424-.117-6.228-7.786-4.499-13.518-7.588-2.895-1.56-4.276-5.336-4.066-9.944H91.544s-1.573 11.89-1.312 16.47",fill:"#CBD1D1"}),e.createElement("path",{d:"M90.207 287.833s2.745 1.437 7.639.738c3.456-.494 3.223.66 7.418 1.282 4.195.621 13.092-.194 14.334-1.126.466 1.242-.388 2.33-.388 2.33s-1.709.682-5.438.932c-2.295.154-8.098.276-10.14-.621-2.02-1.554-4.894-1.515-6.06-.234-4.427 1.075-7.184-.31-7.184-.31l-.181-2.991z",fill:"#2B0849"}),e.createElement("path",{d:"M98.429 272.257h3.496s-.117 7.574 5.127 9.671c-5.244.7-9.672-2.602-8.623-9.671",fill:"#A4AABA"}),e.createElement("path",{d:"M44.425 272.046s-2.208 7.774-4.702 12.899c-1.884 3.874-4.428 7.854 5.729 7.854 6.97 0 9.385-.503 7.782-6.917-1.604-6.415.279-13.836.279-13.836h-9.088z",fill:"#CBD1D1"}),e.createElement("path",{d:"M38.066 290.277s2.198 1.225 6.954 1.225c6.376 0 8.646-1.73 8.646-1.73s.63 1.168-.649 2.27c-1.04.897-3.77 1.668-7.745 1.621-4.347-.05-6.115-.593-7.062-1.224-.864-.577-.72-1.657-.144-2.162",fill:"#2B0849"}),e.createElement("path",{d:"M45.344 274.041s.035 1.592-.329 3.07c-.365 1.49-1.13 3.255-1.184 4.34-.061 1.206 4.755 1.657 5.403.036.65-1.622 1.357-6.737 2.006-7.602.648-.865-5.14-2.222-5.896.156",fill:"#A4AABA"}),e.createElement("path",{d:"M89.476 277.57l13.899.095s1.349-56.643 1.925-66.909c.576-10.267 3.923-45.052 1.042-65.585l-13.037-.669-23.737.81s-.452 4.12-1.243 10.365c-.065.515-.708.874-.777 1.417-.078.608.439 1.407.332 2.044-2.455 14.627-5.797 32.736-8.256 46.837-.121.693-1.282 1.048-1.515 2.796-.042.314.22 1.584.116 1.865-7.14 19.473-12.202 52.601-15.66 67.19l15.176-.015s2.282-10.145 4.185-18.871c2.922-13.389 24.012-88.32 24.012-88.32l3.133-.954-.158 48.568s-.233 1.282.35 2.098c.583.815-.581 1.167-.408 2.331l.408 1.864s-.466 7.458-.932 12.352c-.467 4.895 1.145 40.69 1.145 40.69",fill:"#7BB2F9"}),e.createElement("path",{d:"M64.57 218.881c1.197.099 4.195-2.097 7.225-5.127M96.024 222.534s2.881-1.152 6.34-4.034",stroke:"#648BD8",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M96.973 219.373s2.882-1.153 6.34-4.034",stroke:"#648BD8",strokeWidth:"1.032",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M63.172 222.144s2.724-.614 6.759-3.496M74.903 146.166c-.281 3.226.31 8.856-4.506 9.478M93.182 144.344s.115 14.557-1.344 15.65c-2.305 1.73-3.107 2.02-3.107 2.02M89.197 144.923s.269 13.144-1.01 25.088M83.525 170.71s6.81-1.051 9.116-1.051M46.026 270.045l-.892 4.538M46.937 263.289l-.815 4.157M62.725 202.503c-.33 1.618-.102 1.904-.449 3.438 0 0-2.756 1.903-2.29 3.923.466 2.02-.31 3.424-4.505 17.252-1.762 5.807-4.233 18.922-6.165 28.278-.03.144-.521 2.646-1.14 5.8M64.158 194.136c-.295 1.658-.6 3.31-.917 4.938M71.33 146.787l-1.244 10.877s-1.14.155-.519 2.33c.117 1.399-2.778 16.39-5.382 31.615M44.242 273.727H58.07",stroke:"#648BD8",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M106.18 142.117c-3.028-.489-18.825-2.744-36.219.2a.625.625 0 0 0-.518.644c.063 1.307.044 2.343.015 2.995a.617.617 0 0 0 .716.636c3.303-.534 17.037-2.412 35.664-.266.347.04.66-.214.692-.56.124-1.347.16-2.425.17-3.029a.616.616 0 0 0-.52-.62",fill:"#192064"}),e.createElement("path",{d:"M96.398 145.264l.003-5.102a.843.843 0 0 0-.809-.847 114.104 114.104 0 0 0-8.141-.014.85.85 0 0 0-.82.847l-.003 5.097c0 .476.388.857.864.845 2.478-.064 5.166-.067 8.03.017a.848.848 0 0 0 .876-.843",fill:"#FFF"}),e.createElement("path",{d:"M95.239 144.296l.002-3.195a.667.667 0 0 0-.643-.672c-1.9-.061-3.941-.073-6.094-.01a.675.675 0 0 0-.654.672l-.002 3.192c0 .376.305.677.68.669 1.859-.042 3.874-.043 6.02.012.376.01.69-.291.691-.668",fill:"#192064"}),e.createElement("path",{d:"M90.102 273.522h12.819M91.216 269.761c.006 3.519-.072 5.55 0 6.292M90.923 263.474c-.009 1.599-.016 2.558-.016 4.505M90.44 170.404l.932 46.38s.7 1.631-.233 2.796c-.932 1.166 2.564.7.932 2.33-1.63 1.633.933 1.166 0 3.497-.618 1.546-1.031 21.921-1.138 36.513",stroke:"#648BD8",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M73.736 98.665l2.214 4.312s2.098.816 1.865 2.68l.816 2.214M64.297 116.611c.233-.932 2.176-7.147 12.585-10.488M77.598 90.042s7.691 6.137 16.547 2.72",stroke:"#E4EBF7",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M91.974 86.954s5.476-.816 7.574-4.545c1.297-.345.72 2.212-.33 3.671-.7.971-1.01 1.554-1.01 1.554s.194.31.155.816c-.053.697-.175.653-.272 1.048-.081.335.108.657 0 1.049-.046.17-.198.5-.382.878-.12.249-.072.687-.2.948-.231.469-1.562 1.87-2.622 2.855-3.826 3.554-5.018 1.644-6.001-.408-.894-1.865-.661-5.127-.874-6.875-.35-2.914-2.622-3.03-1.923-4.429.343-.685 2.87.69 3.263 1.748.757 2.04 2.952 1.807 2.622 1.69",fill:"#FFC6A0"}),e.createElement("path",{d:"M99.8 82.429c-.465.077-.35.272-.97 1.243-.622.971-4.817 2.932-6.39 3.224-2.589.48-2.278-1.56-4.254-2.855-1.69-1.107-3.562-.638-1.398 1.398.99.932.932 1.107 1.398 3.205.335 1.506-.64 3.67.7 5.593",stroke:"#DB836E",strokeWidth:".774",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M79.543 108.673c-2.1 2.926-4.266 6.175-5.557 8.762",stroke:"#E59788",strokeWidth:".774",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M87.72 124.768s-2.098-1.942-5.127-2.719c-3.03-.777-3.574-.155-5.516.078-1.942.233-3.885-.932-3.652.7.233 1.63 5.05 1.01 5.206 2.097.155 1.087-6.37 2.796-8.313 2.175-.777.777.466 1.864 2.02 2.175.233 1.554 2.253 1.554 2.253 1.554s.699 1.01 2.641 1.088c2.486 1.32 8.934-.7 10.954-1.554 2.02-.855-.466-5.594-.466-5.594",fill:"#FFC6A0"}),e.createElement("path",{d:"M73.425 122.826s.66 1.127 3.167 1.418c2.315.27 2.563.583 2.563.583s-2.545 2.894-9.07 2.272M72.416 129.274s3.826.097 4.933-.718M74.98 130.75s1.961.136 3.36-.505M77.232 131.916s1.748.019 2.914-.505M73.328 122.321s-.595-1.032 1.262-.427c1.671.544 2.833.055 5.128.155 1.389.061 3.067-.297 3.982.15 1.606.784 3.632 2.181 3.632 2.181s10.526 1.204 19.033-1.127M78.864 108.104s-8.39 2.758-13.168 12.12",stroke:"#E59788",strokeWidth:".774",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M109.278 112.533s3.38-3.613 7.575-4.662",stroke:"#E4EBF7",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M107.375 123.006s9.697-2.745 11.445-.88",stroke:"#E59788",strokeWidth:".774",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M194.605 83.656l3.971-3.886M187.166 90.933l3.736-3.655M191.752 84.207l-4.462-4.56M198.453 91.057l-4.133-4.225M129.256 163.074l3.718-3.718M122.291 170.039l3.498-3.498M126.561 163.626l-4.27-4.27M132.975 170.039l-3.955-3.955",stroke:"#BFCDDD",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M190.156 211.779h-1.604a4.023 4.023 0 0 1-4.011-4.011V175.68a4.023 4.023 0 0 1 4.01-4.01h1.605a4.023 4.023 0 0 1 4.011 4.01v32.088a4.023 4.023 0 0 1-4.01 4.01",fill:"#A3B4C6"}),e.createElement("path",{d:"M237.824 212.977a4.813 4.813 0 0 1-4.813 4.813h-86.636a4.813 4.813 0 0 1 0-9.626h86.636a4.813 4.813 0 0 1 4.813 4.813",fill:"#A3B4C6"}),e.createElement("mask",{fill:"#fff"}),e.createElement("path",{fill:"#A3B4C6",mask:"url(#d)",d:"M154.098 190.096h70.513v-84.617h-70.513z"}),e.createElement("path",{d:"M224.928 190.096H153.78a3.219 3.219 0 0 1-3.208-3.209V167.92a3.219 3.219 0 0 1 3.208-3.21h71.148a3.219 3.219 0 0 1 3.209 3.21v18.967a3.219 3.219 0 0 1-3.21 3.209M224.928 130.832H153.78a3.218 3.218 0 0 1-3.208-3.208v-18.968a3.219 3.219 0 0 1 3.208-3.209h71.148a3.219 3.219 0 0 1 3.209 3.21v18.967a3.218 3.218 0 0 1-3.21 3.208",fill:"#BFCDDD",mask:"url(#d)"}),e.createElement("path",{d:"M159.563 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M166.98 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M174.397 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M222.539 120.546h-22.461a.802.802 0 0 1-.802-.802v-3.208c0-.443.359-.803.802-.803h22.46c.444 0 .803.36.803.803v3.208c0 .443-.36.802-.802.802",fill:"#FFF",mask:"url(#d)"}),e.createElement("path",{d:"M224.928 160.464H153.78a3.218 3.218 0 0 1-3.208-3.209v-18.967a3.219 3.219 0 0 1 3.208-3.209h71.148a3.219 3.219 0 0 1 3.209 3.209v18.967a3.218 3.218 0 0 1-3.21 3.209",fill:"#BFCDDD",mask:"url(#d)"}),e.createElement("path",{d:"M173.455 130.832h49.301M164.984 130.832h6.089M155.952 130.832h6.75M173.837 160.613h49.3M165.365 160.613h6.089M155.57 160.613h6.751",stroke:"#7C90A5",strokeWidth:"1.124",strokeLinecap:"round",strokeLinejoin:"round",mask:"url(#d)"}),e.createElement("path",{d:"M159.563 151.038a2.407 2.407 0 1 1 0-4.814 2.407 2.407 0 0 1 0 4.814M166.98 151.038a2.407 2.407 0 1 1 0-4.814 2.407 2.407 0 0 1 0 4.814M174.397 151.038a2.407 2.407 0 1 1 .001-4.814 2.407 2.407 0 0 1 0 4.814M222.539 151.038h-22.461a.802.802 0 0 1-.802-.802v-3.209c0-.443.359-.802.802-.802h22.46c.444 0 .803.36.803.802v3.209c0 .443-.36.802-.802.802M159.563 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M166.98 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M174.397 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M222.539 179.987h-22.461a.802.802 0 0 1-.802-.802v-3.209c0-.443.359-.802.802-.802h22.46c.444 0 .803.36.803.802v3.209c0 .443-.36.802-.802.802",fill:"#FFF",mask:"url(#d)"}),e.createElement("path",{d:"M203.04 221.108h-27.372a2.413 2.413 0 0 1-2.406-2.407v-11.448a2.414 2.414 0 0 1 2.406-2.407h27.372a2.414 2.414 0 0 1 2.407 2.407V218.7a2.413 2.413 0 0 1-2.407 2.407",fill:"#BFCDDD",mask:"url(#d)"}),e.createElement("path",{d:"M177.259 207.217v11.52M201.05 207.217v11.52",stroke:"#A3B4C6",strokeWidth:"1.124",strokeLinecap:"round",strokeLinejoin:"round",mask:"url(#d)"}),e.createElement("path",{d:"M162.873 267.894a9.422 9.422 0 0 1-9.422-9.422v-14.82a9.423 9.423 0 0 1 18.845 0v14.82a9.423 9.423 0 0 1-9.423 9.422",fill:"#5BA02E",mask:"url(#d)"}),e.createElement("path",{d:"M171.22 267.83a9.422 9.422 0 0 1-9.422-9.423v-3.438a9.423 9.423 0 0 1 18.845 0v3.438a9.423 9.423 0 0 1-9.422 9.423",fill:"#92C110",mask:"url(#d)"}),e.createElement("path",{d:"M181.31 293.666h-27.712a3.209 3.209 0 0 1-3.209-3.21V269.79a3.209 3.209 0 0 1 3.209-3.21h27.711a3.209 3.209 0 0 1 3.209 3.21v20.668a3.209 3.209 0 0 1-3.209 3.209",fill:"#F2D7AD",mask:"url(#d)"})))},403:function(){return e.createElement("svg",{width:"251",height:"294"},e.createElement("g",{fill:"none",fillRule:"evenodd"},e.createElement("path",{d:"M0 129.023v-2.084C0 58.364 55.591 2.774 124.165 2.774h2.085c68.574 0 124.165 55.59 124.165 124.165v2.084c0 68.575-55.59 124.166-124.165 124.166h-2.085C55.591 253.189 0 197.598 0 129.023",fill:"#E4EBF7"}),e.createElement("path",{d:"M41.417 132.92a8.231 8.231 0 1 1-16.38-1.65 8.231 8.231 0 0 1 16.38 1.65",fill:"#FFF"}),e.createElement("path",{d:"M38.652 136.36l10.425 5.91M49.989 148.505l-12.58 10.73",stroke:"#FFF",strokeWidth:"2"}),e.createElement("path",{d:"M41.536 161.28a5.636 5.636 0 1 1-11.216-1.13 5.636 5.636 0 0 1 11.216 1.13M59.154 145.261a5.677 5.677 0 1 1-11.297-1.138 5.677 5.677 0 0 1 11.297 1.138M100.36 29.516l29.66-.013a4.562 4.562 0 1 0-.004-9.126l-29.66.013a4.563 4.563 0 0 0 .005 9.126M111.705 47.754l29.659-.013a4.563 4.563 0 1 0-.004-9.126l-29.66.013a4.563 4.563 0 1 0 .005 9.126",fill:"#FFF"}),e.createElement("path",{d:"M114.066 29.503V29.5l15.698-.007a4.563 4.563 0 1 0 .004 9.126l-15.698.007v-.002a4.562 4.562 0 0 0-.004-9.122M185.405 137.723c-.55 5.455-5.418 9.432-10.873 8.882-5.456-.55-9.432-5.418-8.882-10.873.55-5.455 5.418-9.432 10.873-8.882 5.455.55 9.432 5.418 8.882 10.873",fill:"#FFF"}),e.createElement("path",{d:"M180.17 143.772l12.572 7.129M193.841 158.42L178.67 171.36",stroke:"#FFF",strokeWidth:"2"}),e.createElement("path",{d:"M185.55 171.926a6.798 6.798 0 1 1-13.528-1.363 6.798 6.798 0 0 1 13.527 1.363M204.12 155.285a6.848 6.848 0 1 1-13.627-1.375 6.848 6.848 0 0 1 13.626 1.375",fill:"#FFF"}),e.createElement("path",{d:"M152.988 194.074a2.21 2.21 0 1 1-4.42 0 2.21 2.21 0 0 1 4.42 0zM225.931 118.217a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.421 0zM217.09 153.051a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.42 0zM177.84 109.842a2.21 2.21 0 1 1-4.422 0 2.21 2.21 0 0 1 4.421 0zM196.114 94.454a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.421 0zM202.844 182.523a2.21 2.21 0 1 1-4.42 0 2.21 2.21 0 0 1 4.42 0z",stroke:"#FFF",strokeWidth:"2"}),e.createElement("path",{stroke:"#FFF",strokeWidth:"2",d:"M215.125 155.262l-1.902 20.075-10.87 5.958M174.601 176.636l-6.322 9.761H156.98l-4.484 6.449M175.874 127.28V111.56M221.51 119.404l-12.77 7.859-15.228-7.86V96.668"}),e.createElement("path",{d:"M180.68 29.32C180.68 13.128 193.806 0 210 0c16.193 0 29.32 13.127 29.32 29.32 0 16.194-13.127 29.322-29.32 29.322-16.193 0-29.32-13.128-29.32-29.321",fill:"#A26EF4"}),e.createElement("path",{d:"M221.45 41.706l-21.563-.125a1.744 1.744 0 0 1-1.734-1.754l.071-12.23a1.744 1.744 0 0 1 1.754-1.734l21.562.125c.964.006 1.74.791 1.735 1.755l-.071 12.229a1.744 1.744 0 0 1-1.754 1.734",fill:"#FFF"}),e.createElement("path",{d:"M215.106 29.192c-.015 2.577-2.049 4.654-4.543 4.64-2.494-.014-4.504-2.115-4.489-4.693l.04-6.925c.016-2.577 2.05-4.654 4.543-4.64 2.494.015 4.504 2.116 4.49 4.693l-.04 6.925zm-4.53-14.074a6.877 6.877 0 0 0-6.916 6.837l-.043 7.368a6.877 6.877 0 0 0 13.754.08l.042-7.368a6.878 6.878 0 0 0-6.837-6.917zM167.566 68.367h-3.93a4.73 4.73 0 0 1-4.717-4.717 4.73 4.73 0 0 1 4.717-4.717h3.93a4.73 4.73 0 0 1 4.717 4.717 4.73 4.73 0 0 1-4.717 4.717",fill:"#FFF"}),e.createElement("path",{d:"M168.214 248.838a6.611 6.611 0 0 1-6.61-6.611v-66.108a6.611 6.611 0 0 1 13.221 0v66.108a6.611 6.611 0 0 1-6.61 6.61",fill:"#5BA02E"}),e.createElement("path",{d:"M176.147 248.176a6.611 6.611 0 0 1-6.61-6.61v-33.054a6.611 6.611 0 1 1 13.221 0v33.053a6.611 6.611 0 0 1-6.61 6.611",fill:"#92C110"}),e.createElement("path",{d:"M185.994 293.89h-27.376a3.17 3.17 0 0 1-3.17-3.17v-45.887a3.17 3.17 0 0 1 3.17-3.17h27.376a3.17 3.17 0 0 1 3.17 3.17v45.886a3.17 3.17 0 0 1-3.17 3.17",fill:"#F2D7AD"}),e.createElement("path",{d:"M81.972 147.673s6.377-.927 17.566-1.28c11.729-.371 17.57 1.086 17.57 1.086s3.697-3.855.968-8.424c1.278-12.077 5.982-32.827.335-48.273-1.116-1.339-3.743-1.512-7.536-.62-1.337.315-7.147-.149-7.983-.1l-15.311-.347s-3.487-.17-8.035-.508c-1.512-.113-4.227-1.683-5.458-.338-.406.443-2.425 5.669-1.97 16.077l8.635 35.642s-3.141 3.61 1.219 7.085",fill:"#FFF"}),e.createElement("path",{d:"M75.768 73.325l-.9-6.397 11.982-6.52s7.302-.118 8.038 1.205c.737 1.324-5.616.993-5.616.993s-1.836 1.388-2.615 2.5c-1.654 2.363-.986 6.471-8.318 5.986-1.708.284-2.57 2.233-2.57 2.233",fill:"#FFC6A0"}),e.createElement("path",{d:"M52.44 77.672s14.217 9.406 24.973 14.444c1.061.497-2.094 16.183-11.892 11.811-7.436-3.318-20.162-8.44-21.482-14.496-.71-3.258 2.543-7.643 8.401-11.76M141.862 80.113s-6.693 2.999-13.844 6.876c-3.894 2.11-10.137 4.704-12.33 7.988-6.224 9.314 3.536 11.22 12.947 7.503 6.71-2.651 28.999-12.127 13.227-22.367",fill:"#FFB594"}),e.createElement("path",{d:"M76.166 66.36l3.06 3.881s-2.783 2.67-6.31 5.747c-7.103 6.195-12.803 14.296-15.995 16.44-3.966 2.662-9.754 3.314-12.177-.118-3.553-5.032.464-14.628 31.422-25.95",fill:"#FFC6A0"}),e.createElement("path",{d:"M64.674 85.116s-2.34 8.413-8.912 14.447c.652.548 18.586 10.51 22.144 10.056 5.238-.669 6.417-18.968 1.145-20.531-.702-.208-5.901-1.286-8.853-2.167-.87-.26-1.611-1.71-3.545-.936l-1.98-.869zM128.362 85.826s5.318 1.956 7.325 13.734c-.546.274-17.55 12.35-21.829 7.805-6.534-6.94-.766-17.393 4.275-18.61 4.646-1.121 5.03-1.37 10.23-2.929",fill:"#FFF"}),e.createElement("path",{d:"M78.18 94.656s.911 7.41-4.914 13.078",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M87.397 94.68s3.124 2.572 10.263 2.572c7.14 0 9.074-3.437 9.074-3.437",stroke:"#E4EBF7",strokeWidth:".932",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M117.184 68.639l-6.781-6.177s-5.355-4.314-9.223-.893c-3.867 3.422 4.463 2.083 5.653 4.165 1.19 2.082.848 1.143-2.083.446-5.603-1.331-2.082.893 2.975 5.355 2.091 1.845 6.992.955 6.992.955l2.467-3.851z",fill:"#FFC6A0"}),e.createElement("path",{d:"M105.282 91.315l-.297-10.937-15.918-.027-.53 10.45c-.026.403.17.788.515.999 2.049 1.251 9.387 5.093 15.799.424.287-.21.443-.554.431-.91",fill:"#FFB594"}),e.createElement("path",{d:"M107.573 74.24c.817-1.147.982-9.118 1.015-11.928a1.046 1.046 0 0 0-.965-1.055l-4.62-.365c-7.71-1.044-17.071.624-18.253 6.346-5.482 5.813-.421 13.244-.421 13.244s1.963 3.566 4.305 6.791c.756 1.041.398-3.731 3.04-5.929 5.524-4.594 15.899-7.103 15.899-7.103",fill:"#5C2552"}),e.createElement("path",{d:"M88.426 83.206s2.685 6.202 11.602 6.522c7.82.28 8.973-7.008 7.434-17.505l-.909-5.483c-6.118-2.897-15.478.54-15.478.54s-.576 2.044-.19 5.504c-2.276 2.066-1.824 5.618-1.824 5.618s-.905-1.922-1.98-2.321c-.86-.32-1.897.089-2.322 1.98-1.04 4.632 3.667 5.145 3.667 5.145",fill:"#FFC6A0"}),e.createElement("path",{stroke:"#DB836E",strokeWidth:"1.145",strokeLinecap:"round",strokeLinejoin:"round",d:"M100.843 77.099l1.701-.928-1.015-4.324.674-1.406"}),e.createElement("path",{d:"M105.546 74.092c-.022.713-.452 1.279-.96 1.263-.51-.016-.904-.607-.882-1.32.021-.713.452-1.278.96-1.263.51.016.904.607.882 1.32M97.592 74.349c-.022.713-.452 1.278-.961 1.263-.509-.016-.904-.607-.882-1.32.022-.713.452-1.279.961-1.263.51.016.904.606.882 1.32",fill:"#552950"}),e.createElement("path",{d:"M91.132 86.786s5.269 4.957 12.679 2.327",stroke:"#DB836E",strokeWidth:"1.145",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M99.776 81.903s-3.592.232-1.44-2.79c1.59-1.496 4.897-.46 4.897-.46s1.156 3.906-3.457 3.25",fill:"#DB836E"}),e.createElement("path",{d:"M102.88 70.6s2.483.84 3.402.715M93.883 71.975s2.492-1.144 4.778-1.073",stroke:"#5C2552",strokeWidth:"1.526",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M86.32 77.374s.961.879 1.458 2.106c-.377.48-1.033 1.152-.236 1.809M99.337 83.719s1.911.151 2.509-.254",stroke:"#DB836E",strokeWidth:"1.145",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M87.782 115.821l15.73-3.012M100.165 115.821l10.04-2.008",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M66.508 86.763s-1.598 8.83-6.697 14.078",stroke:"#E4EBF7",strokeWidth:"1.114",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M128.31 87.934s3.013 4.121 4.06 11.785",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M64.09 84.816s-6.03 9.912-13.607 9.903",stroke:"#DB836E",strokeWidth:".795",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M112.366 65.909l-.142 5.32s5.993 4.472 11.945 9.202c4.482 3.562 8.888 7.455 10.985 8.662 4.804 2.766 8.9 3.355 11.076 1.808 4.071-2.894 4.373-9.878-8.136-15.263-4.271-1.838-16.144-6.36-25.728-9.73",fill:"#FFC6A0"}),e.createElement("path",{d:"M130.532 85.488s4.588 5.757 11.619 6.214",stroke:"#DB836E",strokeWidth:".75",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M121.708 105.73s-.393 8.564-1.34 13.612",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M115.784 161.512s-3.57-1.488-2.678-7.14",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M101.52 290.246s4.326 2.057 7.408 1.03c2.842-.948 4.564.673 7.132 1.186 2.57.514 6.925 1.108 11.772-1.269-.104-5.551-6.939-4.01-12.048-6.763-2.582-1.39-3.812-4.757-3.625-8.863h-9.471s-1.402 10.596-1.169 14.68",fill:"#CBD1D1"}),e.createElement("path",{d:"M101.496 290.073s2.447 1.281 6.809.658c3.081-.44 3.74.485 7.479 1.039 3.739.554 10.802-.07 11.91-.9.415 1.108-.347 2.077-.347 2.077s-1.523.608-4.847.831c-2.045.137-5.843.293-7.663-.507-1.8-1.385-5.286-1.917-5.77-.243-3.947.958-7.41-.288-7.41-.288l-.16-2.667z",fill:"#2B0849"}),e.createElement("path",{d:"M108.824 276.19h3.116s-.103 6.751 4.57 8.62c-4.673.624-8.62-2.32-7.686-8.62",fill:"#A4AABA"}),e.createElement("path",{d:"M57.65 272.52s-2.122 7.47-4.518 12.396c-1.811 3.724-4.255 7.548 5.505 7.548 6.698 0 9.02-.483 7.479-6.648-1.541-6.164.268-13.296.268-13.296H57.65z",fill:"#CBD1D1"}),e.createElement("path",{d:"M51.54 290.04s2.111 1.178 6.682 1.178c6.128 0 8.31-1.662 8.31-1.662s.605 1.122-.624 2.18c-1 .862-3.624 1.603-7.444 1.559-4.177-.049-5.876-.57-6.786-1.177-.831-.554-.692-1.593-.138-2.078",fill:"#2B0849"}),e.createElement("path",{d:"M58.533 274.438s.034 1.529-.315 2.95c-.352 1.431-1.087 3.127-1.139 4.17-.058 1.16 4.57 1.592 5.194.035.623-1.559 1.303-6.475 1.927-7.306.622-.831-4.94-2.135-5.667.15",fill:"#A4AABA"}),e.createElement("path",{d:"M100.885 277.015l13.306.092s1.291-54.228 1.843-64.056c.552-9.828 3.756-43.13.997-62.788l-12.48-.64-22.725.776s-.433 3.944-1.19 9.921c-.062.493-.677.838-.744 1.358-.075.582.42 1.347.318 1.956-2.35 14.003-6.343 32.926-8.697 46.425-.116.663-1.227 1.004-1.45 2.677-.04.3.21 1.516.112 1.785-6.836 18.643-10.89 47.584-14.2 61.551l14.528-.014s2.185-8.524 4.008-16.878c2.796-12.817 22.987-84.553 22.987-84.553l3-.517 1.037 46.1s-.223 1.228.334 2.008c.558.782-.556 1.117-.39 2.233l.39 1.784s-.446 7.14-.892 11.826c-.446 4.685-.092 38.954-.092 38.954",fill:"#7BB2F9"}),e.createElement("path",{d:"M77.438 220.434c1.146.094 4.016-2.008 6.916-4.91M107.55 223.931s2.758-1.103 6.069-3.862",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M108.459 220.905s2.759-1.104 6.07-3.863",stroke:"#648BD8",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M76.099 223.557s2.608-.587 6.47-3.346M87.33 150.82c-.27 3.088.297 8.478-4.315 9.073M104.829 149.075s.11 13.936-1.286 14.983c-2.207 1.655-2.975 1.934-2.975 1.934M101.014 149.63s.035 12.81-1.19 24.245M94.93 174.965s7.174-1.655 9.38-1.655M75.671 204.754c-.316 1.55-.64 3.067-.973 4.535 0 0-1.45 1.822-1.003 3.756.446 1.934-.943 2.034-4.96 15.273-1.686 5.559-4.464 18.49-6.313 27.447-.078.38-4.018 18.06-4.093 18.423M77.043 196.743a313.269 313.269 0 0 1-.877 4.729M83.908 151.414l-1.19 10.413s-1.091.148-.496 2.23c.111 1.34-2.66 15.692-5.153 30.267M57.58 272.94h13.238",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),e.createElement("path",{d:"M117.377 147.423s-16.955-3.087-35.7.199c.157 2.501-.002 4.128-.002 4.128s14.607-2.802 35.476-.31c.251-2.342.226-4.017.226-4.017",fill:"#192064"}),e.createElement("path",{d:"M107.511 150.353l.004-4.885a.807.807 0 0 0-.774-.81c-2.428-.092-5.04-.108-7.795-.014a.814.814 0 0 0-.784.81l-.003 4.88c0 .456.371.82.827.808a140.76 140.76 0 0 1 7.688.017.81.81 0 0 0 .837-.806",fill:"#FFF"}),e.createElement("path",{d:"M106.402 149.426l.002-3.06a.64.64 0 0 0-.616-.643 94.135 94.135 0 0 0-5.834-.009.647.647 0 0 0-.626.643l-.001 3.056c0 .36.291.648.651.64 1.78-.04 3.708-.041 5.762.012.36.009.662-.279.662-.64",fill:"#192064"}),e.createElement("path",{d:"M101.485 273.933h12.272M102.652 269.075c.006 3.368.04 5.759.11 6.47M102.667 263.125c-.009 1.53-.015 2.98-.016 4.313M102.204 174.024l.893 44.402s.669 1.561-.224 2.677c-.892 1.116 2.455.67.893 2.231-1.562 1.562.893 1.116 0 3.347-.592 1.48-.988 20.987-1.09 34.956",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"})))}},Mw=Object.keys(Pw),Fw=function(t){var n=t.prefixCls,r=t.className,a=t.subTitle,i=t.title,s=t.style,u=t.children,c=t.status,l=void 0===c?"info":c,f=t.icon,p=t.extra,d=e.useContext(Js),h=d.getPrefixCls,v=d.direction,m=h("result",n),g=Fn()(m,"".concat(m,"-").concat(l),r,(0,o.Z)({},"".concat(m,"-rtl"),"rtl"===v));return e.createElement("div",{className:g,style:s},function(t,n){var r=n.status,a=n.icon,o=Fn()("".concat(t,"-icon"));if(Mw.includes("".concat(r))){var i=Pw[r];return e.createElement("div",{className:"".concat(o," ").concat(t,"-image")},e.createElement(i,null))}var s=e.createElement(Rw[r]);return e.createElement("div",{className:o},a||s)}(m,{status:l,icon:f}),e.createElement("div",{className:"".concat(m,"-title")},i),a&&e.createElement("div",{className:"".concat(m,"-subtitle")},a),function(t,n){var r=n.extra;return r&&e.createElement("div",{className:"".concat(t,"-extra")},r)}(m,{extra:p}),u&&e.createElement("div",{className:"".concat(m,"-content")},u))};Fw.PRESENTED_IMAGE_403=Pw[403],Fw.PRESENTED_IMAGE_404=Pw[404],Fw.PRESENTED_IMAGE_500=Pw[500];var Lw=Fw;function jw(e){return ct({tag:"svg",attr:{viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M12 9H2V8h10v1zm4-6v9c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h14c.55 0 1 .45 1 1zm-1 3H1v6h14V6zm0-3H1v1h14V3zm-9 7H2v1h4v-1z"}}]})(e)}function Zw(e){return ct({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M8.965 18a3.5 3.5 0 0 1-6.93 0H1V6a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2h3l3 4.056V18h-2.035a3.5 3.5 0 0 1-6.93 0h-5.07zM15 7H3v8.05a3.5 3.5 0 0 1 5.663.95h5.674c.168-.353.393-.674.663-.95V7zm2 6h4v-.285L18.992 10H17v3zm.5 6a1.5 1.5 0 1 0 0-3.001 1.5 1.5 0 0 0 0 3.001zM7 17.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0z"}}]}]})(e)}function zw(e){return ct({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M287.03 20c-39.133.48-79.73 15.297-117 45.938h80.47v43.188c52.76-29.75 114.592-31.588 163.938.03l-18.188 9.72 64.688 50.72-3.75-83.314-26.407 14.126C395.99 48.792 345.038 20.644 290.907 20c-1.288-.015-2.583-.016-3.875 0zm-268 64.625v212.75h212.782V84.625H19.032zm50.282 26.03H205.78v138.939h-18.718v-120.25H69.313v-18.688zm3.344 38.126l90.094 91.845-13.344 13.094-90.094-91.845 13.344-13.094zm206.656 61.75v212.782h212.75v-212.78h-212.75zm50.25 26.064h136.469V375.5h-18.686V255.28h-117.78l-.002-18.686zm3.344 38.094l90.125 91.875-13.342 13.062-90.125-91.844 13.343-13.092zm-278.53 63.656l3.75 83.312 23.312-12.47c60.927 88.637 169.99 106.485 259.625 32.814h-80.439v-43.188c-52.08 29.38-113 31.544-162.03 1.188l20.436-10.938-64.655-50.718z"}}]})(e)}var Bw=$((function(e){return{navTG:e.reducer1}}))((function(t){var n=re(),r=(0,e.useState)(0),o=(0,a.Z)(r,2),i=o[0],s=o[1],u=(0,e.useState)(0),c=(0,a.Z)(u,2),l=(c[0],c[1],(0,e.useState)(!1)),f=(0,a.Z)(l,2),d=f[0],h=f[1],v=(0,e.useState)(!1),m=(0,a.Z)(v,2),g=m[0],y=m[1];(0,e.useEffect)((function(){t.dispatch({type:"nav-on"})}),[t.navTG]),(0,e.useEffect)((function(){var e=[];t.user.userData&&t.user.userData.cart&&t.user.userData.cart.length>0&&(t.user.userData.cart.forEach((function(t){e.push(t.id)})),n(function(e,t){var n=p().get("/api/product/products_by_id?id=".concat(e,"&type=array")).then((function(e){return t.forEach((function(t){e.data.forEach((function(n,r){t.id===n._id&&(e.data[r].quantity=t.quantity)}))})),e.data}));return{type:"get_cart_items",payload:n}}(e,t.user.userData.cart)).then((function(e){b(e.payload)})))}),[t.user.userData]);var b=function(e){var t=0;e.map((function(e){t+=parseInt(e.price,10)*e.quantity})),s(t),h(!0)};return(0,Je.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,Je.jsxs)("div",{className:"bag-wrap show-".concat(d),children:[(0,Je.jsx)("div",{className:"bag-left-wrap",children:(0,Je.jsx)(Tw,{products:t.user.cartDetail,removeItem:function(e){n(function(e){var t=p().get("/api/users/removeFromCart?id=".concat(e)).then((function(e){return e.data.cart.forEach((function(t){e.data.productInfo.forEach((function(n,r){t.id===n._id&&(e.data.productInfo[r].quantity=t.quantity)}))})),e.data}));return{type:"remove_cart_item",payload:t}}(e)).then((function(e){e.payload.productInfo.length<=0&&h(!1),function(){for(var e=0;e++;e<30)setTimeout((function(){n({type:"bag-get"})}),250*e)}()}))},ShowTotal:d,onClick:function(){}})}),(0,Je.jsxs)("div",{className:"bag-right-wrap",children:[d?(0,Je.jsxs)("div",{className:"bag-right-top",children:[(0,Je.jsxs)("div",{className:"span-wrap",children:[(0,Je.jsx)("span",{children:"\ud569\uacc4"})," ",(0,Je.jsxs)("span",{style:{fontWeight:"500"},children:[i," \uc6d0"]})]}),(0,Je.jsxs)("div",{className:"span-wrap",children:[(0,Je.jsx)("span",{children:"\ubc30\uc1a1"})," ",(0,Je.jsx)("span",{style:{fontWeight:"500"},children:"0 \uc6d0"})]}),(0,Je.jsxs)("div",{className:"span-wrap",style:{marginTop:"5%",marginBottom:"5%"},children:[(0,Je.jsx)("span",{children:"\ucd1d\uc561"})," ",(0,Je.jsxs)("span",{style:{fontWeight:"500"},children:[i," \uc6d0"]})]})]}):g?(0,Je.jsxs)("div",{children:[(0,Je.jsx)(Lw,{status:"success"}),(0,Je.jsx)("pre",{style:{fontSize:"0.9rem",paddingLeft:"10px",overflow:"auto",whiteSpace:"pre-wrap",minWidth:"170px"},children:"\uacb0\uc81c\uac00 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."})]}):(0,Je.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[(0,Je.jsx)(Qs,{description:!1,image:Qs.PRESENTED_IMAGE_SIMPLE}),(0,Je.jsx)("pre",{style:{fontSize:"0.9rem",paddingLeft:"15px",overflow:"auto",whiteSpace:"pre-wrap",minWidth:"190px"},children:"\uc1fc\ud551\ubc31\uc774 \ube44\uc5b4\uc788\uc2b5\ub2c8\ub2e4."})]}),d&&(0,Je.jsx)(_w,{className:"paypal-wrap",total:(i/1243.5).toFixed(2),onSuccess:function(e){n(function(e){return{type:"on_success_buy",payload:p().post("/api/users/successBuy",e).then((function(e){return e.data}))}}({paymentData:e,cartDetail:t.user.cartDetail})).then((function(e){e.payload.success&&(n({type:"bag-remove"}),h(!1),y(!0))}))},style:{display:"flex",justifyContent:"center"}}),d&&(0,Je.jsxs)("div",{className:"bag-right-bottom",children:[(0,Je.jsxs)("div",{className:"bag-right-item",onClick:function(){t.dispatch({type:"modal-1"})},children:[(0,Je.jsx)("div",{className:"bag-right-item-left",children:(0,Je.jsx)(jw,{})}),(0,Je.jsxs)("div",{className:"bag-right-item-right",children:[(0,Je.jsx)("span",{children:"\uacb0\uc81c \uc548\ub0b4"}),(0,Je.jsx)("span",{children:"Paypal"})]})]}),(0,Je.jsxs)("div",{className:"bag-right-item",onClick:function(){t.dispatch({type:"modal-2"})},children:[(0,Je.jsx)("div",{className:"bag-right-item-left",children:(0,Je.jsx)(Zw,{})}),(0,Je.jsxs)("div",{className:"bag-right-item-right",children:[(0,Je.jsx)("span",{children:"\ubc30\uc1a1 \uc548\ub0b4"}),(0,Je.jsx)("span",{children:"\ubb34\ub8cc \ubc30\uc1a1 \uc11c\ube44\uc2a4"})]})]}),(0,Je.jsxs)("div",{className:"bag-right-item",onClick:function(){t.dispatch({type:"modal-3"})},children:[(0,Je.jsx)("div",{className:"bag-right-item-left",children:(0,Je.jsx)(zw,{})}),(0,Je.jsxs)("div",{className:"bag-right-item-right",children:[(0,Je.jsx)("span",{children:"\uad50\ud658 \ubc0f \ud658\ubd88 \uc815\ucc45"}),(0,Je.jsx)("span",{children:"7\uc77c \uc774\ub0b4\uc5d0 \ubc18\ud488 \ub610\ub294 14\uc77c \uc774\ub0b4\uc5d0 \uad50\ud658 \uac00\ub2a5"})]})]}),(0,Je.jsxs)("div",{className:"bag-right-item",onClick:function(){t.dispatch({type:"modal-4"})},children:[(0,Je.jsx)("div",{className:"bag-right-item-left",children:(0,Je.jsx)(yt,{})}),(0,Je.jsxs)("div",{className:"bag-right-item-right",children:[(0,Je.jsx)("span",{children:"\uc120\ubb3c \ud3ec\uc7a5"}),(0,Je.jsx)("span",{children:"\ubb34\ub8cc \uc120\ubb3c \ud3ec\uc7a5 \uc11c\ube44\uc2a4 \uc81c\uacf5"})]})]})]})]})]})})}));var Uw=$((function(e){return{navTG:e.reducer1,bAlert:e.reducer15}}))((function(t){var n=(0,e.useState)(!1),r=(0,a.Z)(n,2),o=r[0],i=r[1],s=re();(0,e.useEffect)((function(){t.dispatch({type:"nav-on"})}),[t.navTG]),(0,e.useEffect)((function(){var e=[];t.user.userData&&t.user.userData.wish&&(t.user.userData.wish.length>0?(t.user.userData.wish.forEach((function(t){e.push(t.id)})),s(function(e,t){return{type:"get_wish_items",payload:p().get("/api/product/products_by_id?id=".concat(e,"&type=array")).then((function(e){return t.forEach((function(e){})),e.data}))}}(e,t.user.userData.wish)),i(!0)):i(!1))}),[t.user.userData]);var u=function(e){s(lb(e)).then(s(cb(e))),function(){for(var e=0;e++;e<6)setTimeout((function(){s({type:"bag-get"})}),250*e)}(),t.dispatch({type:"bAlert-on"})};return(0,Je.jsx)("div",{className:"wish-top-wrap",children:o?(0,Je.jsxs)("div",{children:[(0,Je.jsx)("h3",{children:"\ub098\uc758 \uc704\uc2dc\ub9ac\uc2a4\ud2b8"}),t.bAlert&&(0,Je.jsx)(Ew,{}),(0,Je.jsx)("div",{className:"wish-wrap",children:t.user&&t.user.wishDetail&&t.user.wishDetail.map((function(e){return(0,Je.jsxs)("div",{className:"wish-item-wrap",children:[(0,Je.jsxs)("div",{className:"wish-item-top",children:[(0,Je.jsx)("button",{className:"wish-btn-removeFromWish",onClick:function(){return t=e._id,void s(lb(t)).then((function(e){}));var t},children:"\xd7"}),(0,Je.jsx)("img",{src:"http://localhost:5000/".concat(e.images[0]),alt:"product"})]}),(0,Je.jsxs)("div",{className:"wish-item-bottom",children:[(0,Je.jsx)("div",{className:"wish-item-title",children:(0,Je.jsx)("span",{children:e.title})}),(0,Je.jsxs)("div",{className:"wish-item-info",children:[(0,Je.jsx)("div",{className:"wish-item-info-top",children:(0,Je.jsxs)("span",{children:[e.price," \uc6d0"]})}),(0,Je.jsxs)("div",{className:"wish-item-info-bottom",children:[(0,Je.jsxs)("span",{children:[e.tone,"\xa0",e.category]}),(0,Je.jsx)("div",{className:"wish-item-circle",style:{backgroundColor:e.color}})]})]}),(0,Je.jsx)("button",{className:"wish-btn-removeAndCart",onClick:function(){return u(e._id)},children:"\uc7a5\ubc14\uad6c\ub2c8\uc5d0 \ucd94\uac00\ud558\uae30"})]})]},e._id)}))})]}):(0,Je.jsxs)("div",{className:"wish-empty",children:[(0,Je.jsx)(Qs,{description:!1,image:Qs.PRESENTED_IMAGE_SIMPLE}),(0,Je.jsx)("span",{style:{fontSize:"0.9rem"},children:"\uc704\uc2dc\ub9ac\uc2a4\ud2b8\uac00 \ube44\uc5b4\uc788\uc2b5\ub2c8\ub2e4."})]})})}));var Ww=$((function(e){return{navTG:e.reducer1}}))((function(t){(0,e.useEffect)((function(){t.dispatch({type:"nav-on"})}),[t.navTG]);var n={color:"inherit",textDecoration:"none",flex:"1"};return(0,Je.jsx)("div",{className:"history-top-wrap",children:(0,Je.jsxs)("div",{className:"history-wrap",children:[(0,Je.jsxs)("div",{className:"history-card-title",children:[(0,Je.jsx)("h3",{children:"\ub098\uc758 \uc8fc\ubb38\ub0b4\uc5ed"}),(0,Je.jsxs)("span",{children:[t.user.userData&&t.user.userData.history.length," \uc0c1\ud488"]})]}),(0,Je.jsx)("div",{className:"history-card-top-wrap",children:t.user.userData&&t.user.userData.history.map((function(e){return(0,Je.jsxs)("div",{className:"history-card-wrap",children:[(0,Je.jsx)(_n,{to:"/product/".concat(e.id),style:n,className:"link-1",children:(0,Je.jsx)("div",{className:"history-card-left",children:(0,Je.jsx)("img",{src:"http://localhost:5000/".concat(e.image),alt:"\uc774\ubbf8\uc9c0 \uc0bd\uc785"})})}),(0,Je.jsxs)("div",{className:"history-card-right",children:[(0,Je.jsx)("div",{className:"history-card-right-top",children:(0,Je.jsx)("h3",{children:e.name})}),(0,Je.jsxs)("div",{className:"history-card-right-mid",children:[(0,Je.jsxs)("div",{className:"history-card-right-mid-top",children:[(0,Je.jsx)("div",{className:"color-circle",style:{backgroundColor:e.color,borderRadius:"10px",width:"20px",height:"20px"}}),(0,Je.jsxs)("span",{children:[" ",e.quantity," EA"]})]}),(0,Je.jsx)("div",{className:"history-card-right-mid-bottom",children:(0,Je.jsxs)("span",{children:[" ",e.price," \uc6d0"]})})]}),(0,Je.jsx)("div",{className:"history-card-right-bottom",children:(0,Je.jsx)(_n,{to:"/product/".concat(e.id),style:n,className:"link-2",children:(0,Je.jsx)("div",{children:(0,Je.jsxs)("span",{children:[(0,Je.jsx)(gt,{})," \uc8fc\ubb38 \uc81c\ud488 \uc0c1\uc138\ubcf4\uae30"]})})})})]})]})}))})]})})}));var Vw=$((function(e){return{selectedImg:e.reducer7}}))((function(e){var t="lipstick",n="liquid",r="gloss",a="care";return(0,Je.jsx)("div",{className:"content-wrap",children:(0,Je.jsxs)("div",{className:"content-box",children:[(0,Je.jsx)("div",{className:"deg90",children:(0,Je.jsx)("span",{children:"CHANEL_BEAUTY"})}),(0,Je.jsx)("div",{className:"content-img-wrap",children:(0,Je.jsx)(_n,{to:"/".concat("content1-img-1"===e.selectedImg?t:"content1-img-2"===e.selectedImg?n:"content1-img-3"===e.selectedImg?r:"content1-img-4"===e.selectedImg?a:""),children:(0,Je.jsx)("div",{className:"content-img-box ".concat(e.selectedImg)})})}),(0,Je.jsxs)("div",{className:"btn-box",children:[(0,Je.jsxs)("div",{className:"content-text-wrap",children:["content1-img-1"===e.selectedImg&&(0,Je.jsx)("span",{children:"Lipstick"}),"content1-img-2"===e.selectedImg&&(0,Je.jsx)("span",{children:"Liquid"}),"content1-img-3"===e.selectedImg&&(0,Je.jsx)("span",{children:"Lip Gloss"}),"content1-img-4"===e.selectedImg&&(0,Je.jsx)("span",{children:"Lip Care"})]}),(0,Je.jsxs)("div",{className:"btn-wrap-home",children:[(0,Je.jsx)("button",{className:"slide-btn",onClick:function(){e.dispatch({type:"minus"})},children:(0,Je.jsx)(ai,{})}),(0,Je.jsx)("button",{style:{marginLeft:"10%"},className:"slide-btn",onClick:function(){e.dispatch({type:"plus"})},children:(0,Je.jsx)(oi,{})})]})]})]})})}));var Hw=$((function(e){return{bg:e.reducer6,tab:e.reducer9}}))((function(t){var n=(0,e.useState)(""),r=(0,a.Z)(n,2),o=(r[0],r[1]);(0,e.useEffect)((function(){o("\ub9bd\uc2a4\ud2f1"),t.refreshFunction("\ub9bd\uc2a4\ud2f1")}),[]);var i=function(e){null===e?(o(""),t.refreshFunction(""),console.log(e.target.innerText)):(o(e.target.innerText),t.refreshFunction(e.target.innerText),console.log(e.target.innerText))},s={color:"inherit",textDecoration:"none",maxHeight:"75px"},u=t.Products.slice(0,4);return(0,Je.jsx)("div",{className:"content2-wrap",children:(0,Je.jsxs)("div",{className:"content2-box",children:[(0,Je.jsx)("div",{className:"content2-title",children:(0,Je.jsx)("h2",{children:"\ub9bd\ud53d \ucd94\ucc9c \uc81c\ud488"})}),(0,Je.jsx)("div",{className:"content2-tab-wrap",children:(0,Je.jsxs)("ul",{className:"content2-tab",children:[(0,Je.jsx)("li",{className:"".concat(t.tab[0]&&"tab-on"),onClick:function(){t.dispatch({type:"on-1"}),i(null)},children:"\ub9bd\uc2a4\ud2f1"}),(0,Je.jsx)("li",{className:"".concat(t.tab[1]&&"tab-on"),onClick:function(e){t.dispatch({type:"on-2"}),i(e)},children:"\ub9ac\ud034\ub4dc"}),(0,Je.jsx)("li",{className:"".concat(t.tab[2]&&"tab-on"),onClick:function(e){t.dispatch({type:"on-3"}),i(e)},children:"\ub9bd\uae00\ub85c\uc2a4"}),(0,Je.jsx)("li",{className:"".concat(t.tab[3]&&"tab-on"),onClick:function(e){t.dispatch({type:"on-4"}),i(e)},children:"\ub9bd\ucf00\uc5b4"})]})}),(0,Je.jsx)("div",{className:"content2-contents",children:(0,Je.jsx)("div",{className:"content2-contents-right-wrap",children:u.map((function(e){return(0,Je.jsxs)("div",{className:"content2-contents-right-img",children:[(0,Je.jsx)(_n,{to:"./product/".concat(e._id),children:(0,Je.jsx)("img",{src:"http://localhost:5000/".concat(e.images[0]),alt:""})}),(0,Je.jsxs)("div",{className:"product-content-wrap",children:[(0,Je.jsx)(_n,{to:"./product/".concat(e._id),style:s,children:(0,Je.jsx)("span",{className:"product-title",children:e.title})}),(0,Je.jsx)("div",{className:"color-box",style:{backgroundColor:"".concat(e.color),width:"20px",height:"20px",borderRadius:"10px",marginTop:"3%"}}),(0,Je.jsx)("span",{className:"product-tone",children:e.tone}),(0,Je.jsxs)("span",{className:"product-price",children:[e.price," \uc6d0"]})]})]})}))})})]})})})),Gw=n(6710),qw=n.p+"static/media/chanel_cut.ded08f4c3f7e90e4cf2c.mp4";var Xw=wn($((function(e){return{playing:e.reducer3,muted:e.reducer4}}))((function(e){return(0,Je.jsx)("div",{className:"high-wrap",children:(0,Je.jsxs)(ko,{className:"main-bottom-wrap",children:[(0,Je.jsx)(_n,{onClick:function(){if("false"===sessionStorage.getItem("userId"))return alert("\ub85c\uadf8\uc778 \ud6c4 \uc774\uc6a9\ud574\uc8fc\uc138\uc694."),e.history.push("/home");e.history.push("/personal")},children:(0,Je.jsx)("div",{className:"link-box",children:(0,Je.jsx)("span",{children:"\ud37c\uc2a4\ub110 \uceec\ub7ec \ud14c\uc2a4\ud2b8"})})}),(0,Je.jsxs)("div",{className:"icon-box",children:[e.muted?(0,Je.jsx)(ii,{onClick:function(){e.dispatch({type:"vol"})}}):(0,Je.jsx)(si,{onClick:function(){e.dispatch({type:"mute"})}}),e.playing?(0,Je.jsx)(pt,{onClick:function(){e.dispatch({type:"pause"})}}):(0,Je.jsx)(dt,{onClick:function(){e.dispatch({type:"play"})}})]})]})})})));var Kw=$((function(e){return{playing:e.reducer3,muted:e.reducer4}}))((function(e){return(0,Je.jsxs)("div",{className:"video-wrap",children:[(0,Je.jsx)(Gw.Z,{className:"react-player",url:qw,width:"100%",height:"100%",playing:!!e.playing,muted:!!e.muted,controls:!1,light:!1,pip:!0,loop:!0,volume:null,onEnded:function(){}}),(0,Je.jsx)(Xw,{})]})}));var Yw=$((function(e){return{bg:e.reducer6,login:e.reducer8,footer:e.reducer11}}))((function(t){return(0,e.useEffect)((function(){return t.dispatch({type:"footer-down"}),function(){t.dispatch({type:"footer-up"})}}),[]),(0,Je.jsxs)(ko,{className:"home-wrap",children:[(0,Je.jsx)(Kw,{}),(0,Je.jsx)(Vw,{}),(0,Je.jsx)(Hw,{Products:t.Products,refreshFunction:t.refreshFunction})]})}));var Qw=$((function(e){return{footer:e.reducer11}}))((function(e){return(0,Je.jsxs)("div",{className:"footer-wrap footer-".concat(e.footer),children:[(0,Je.jsxs)("div",{className:"footer-top",children:[(0,Je.jsx)("div",{className:"footer-top-item",children:(0,Je.jsxs)("ul",{className:"footer-top-ul",children:[(0,Je.jsx)("li",{className:"footer-top-li-1",children:"Lippick"}),(0,Je.jsx)("li",{children:"\ud37c\uc2a4\ub110 \uceec\ub7ec \ud14c\uc2a4\ud2b8"}),(0,Je.jsx)("li",{children:"\uc775\uc2a4\ud074\ub8e8\uc2dc\ube0c \uc11c\ube44\uc2a4"}),(0,Je.jsx)("li",{children:"\ucc44\uc6a9"}),(0,Je.jsx)("li",{children:"\ube0c\ub79c\ub4dc \uc18c\uac1c"})]})}),(0,Je.jsx)("div",{className:"footer-top-item",children:(0,Je.jsxs)("ul",{className:"footer-top-ul",children:[(0,Je.jsx)("li",{className:"footer-top-li-1",children:"\uace0\uac1d \uc11c\ube44\uc2a4"}),(0,Je.jsx)("li",{children:"\uc8fc\ubb38 \ubc30\uc1a1 \uc870\ud68c"}),(0,Je.jsx)("li",{children:"\ubc18\ud488 \uc2e0\uccad"}),(0,Je.jsx)("li",{children:"\ubc30\uc1a1 \uc11c\ube44\uc2a4"}),(0,Je.jsx)("li",{children:"\ud68c\uc6d0 \uac00\uc785"}),(0,Je.jsx)("li",{children:"FAQ"}),(0,Je.jsx)("li",{children:"\uace0\uac1d \ubb38\uc758"})]})}),(0,Je.jsx)("div",{className:"footer-top-item",children:(0,Je.jsxs)("ul",{className:"footer-top-ul",children:[(0,Je.jsx)("li",{className:"footer-top-li-1",children:"\ubc95\ub960"}),(0,Je.jsx)("li",{children:"\uc774\uc6a9 \uc57d\uad00"}),(0,Je.jsx)("li",{children:"\uac1c\uc778\uc815\ubcf4 \ubcf4\ud638\uc815\ucc45"}),(0,Je.jsx)("li",{children:"\ubc18\ud488 \uc815\ucc45"}),(0,Je.jsx)("li",{children:"\ubc30\uc1a1 \uc815\ucc45"})]})}),(0,Je.jsx)("div",{className:"footer-top-item",children:(0,Je.jsxs)("ul",{className:"footer-top-ul",children:[(0,Je.jsx)("li",{className:"footer-top-li-1",children:"\uc18c\uc15c \ubbf8\ub514\uc5b4"}),(0,Je.jsx)("li",{children:"\ud398\uc774\uc2a4\ubd81"}),(0,Je.jsx)("li",{children:"\uc778\uc2a4\ud0c0\uadf8\ub7a8"}),(0,Je.jsx)("li",{children:"\uc720\ud29c\ube0c"}),(0,Je.jsx)("li",{children:"\ud2b8\uc704\ud130"})]})})]}),(0,Je.jsx)("div",{className:"footer-bottom",children:(0,Je.jsx)("div",{className:"footer-bottom-item",children:(0,Je.jsx)("span",{children:"@2022 Lippick INC."})})})]})}));function $w(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;function a(a){var o=se((function(e){return e.user})),i=re();return(0,e.useEffect)((function(){i(ub()).then((function(e){e.payload.isAuth?(r&&!e.payload.isAdmin||!1===n)&&a.history.push("/home"):n&&(a.history.push("/home"),alert("\ub85c\uadf8\uc778 \ud6c4 \uc774\uc6a9\uac00\ub2a5\ud569\ub2c8\ub2e4."))}))}),[]),(0,Je.jsx)(t,s(s({},a),{},{user:o}))}return a}var Jw=$((function(e){return{navTG:e.reducer1,expand:e.reducer5,login:e.reducer8}}))((function(t){var n=(0,e.useState)([]),o=(0,a.Z)(n,2),i=o[0],s=o[1],u=(0,e.useState)(0),c=(0,a.Z)(u,2),l=c[0],f=c[1],d=(0,e.useState)(8),h=(0,a.Z)(d,2),v=h[0],m=(h[1],(0,e.useState)(0)),g=(0,a.Z)(m,2),y=(g[0],g[1]),b=(0,e.useState)(""),x=(0,a.Z)(b,2),w=(x[0],x[1]);(0,e.useEffect)((function(){k({skip:l,limit:v})}),[]);var k=function(e){p().post("/api/search",e).then((function(t){t.data.success?(e&&s((0,r.Z)(t.data.productInfo)),y(t.data.postSize)):alert(" \uc0c1\ud488 \uac00\uc838\uc624\uae30 \uc2e4\ud328 ")}))},S=function(e){var t={skip:0,limit:v,searchTerm:e};f(0),w(e),k(t)};return(0,Je.jsxs)("div",{className:"App",children:[t.login&&(0,Je.jsx)(pb,{}),(0,Je.jsx)(hn,{path:"/:id",children:t.expand?(0,Je.jsx)(sb,{Products:i,refreshFunction:S}):(0,Je.jsx)(wm,{refreshFunction:S})}),(0,Je.jsx)(hn,{path:"/home",children:(0,Je.jsx)(Yw,{Products:i,refreshFunction:S})}),(0,Je.jsxs)(xn,{children:[(0,Je.jsx)(hn,{path:"/personal",children:(0,Je.jsx)(Rn,{Products:i,refreshFunction:S})}),(0,Je.jsx)(hn,{path:"/personal1",children:(0,Je.jsx)(Rn,{})}),(0,Je.jsx)(hn,{path:"/register",children:(0,Je.jsx)(db,{})}),(0,Je.jsx)(hn,{path:"/product/upload",children:(0,Je.jsx)(lm,{})}),(0,Je.jsx)(hn,{path:"/lipstick",children:(0,Je.jsx)(vb,{})}),(0,Je.jsx)(hn,{path:"/liquid",children:(0,Je.jsx)(mb,{})}),(0,Je.jsx)(hn,{path:"/gloss",children:(0,Je.jsx)(gb,{})}),(0,Je.jsx)(hn,{path:"/care",children:(0,Je.jsx)(yb,{})}),(0,Je.jsx)(hn,{path:"/test",children:(0,Je.jsx)(Nw,{Products:i,refreshFunction:S})}),(0,Je.jsx)(hn,{path:"/product/:productId",component:$w(Nw,null)}),(0,Je.jsx)(hn,{path:"/bag",component:$w(Bw,!0)}),(0,Je.jsx)(hn,{path:"/wishlist",component:$w(Uw,!0)}),(0,Je.jsx)(hn,{path:"/history",component:$w(Ww,!0)})]}),(0,Je.jsx)(hn,{path:"/:id",children:(0,Je.jsx)(Qw,{})})]})}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ek(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var tk="function"===typeof Symbol&&Symbol.observable||"@@observable",nk=function(){return Math.random().toString(36).substring(7).split("").join(".")},rk={INIT:"@@redux/INIT"+nk(),REPLACE:"@@redux/REPLACE"+nk(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+nk()}};function ak(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function ok(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(ek(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(ek(1));return n(ok)(e,t)}if("function"!==typeof e)throw new Error(ek(2));var a=e,o=t,i=[],s=i,u=!1;function c(){s===i&&(s=i.slice())}function l(){if(u)throw new Error(ek(3));return o}function f(e){if("function"!==typeof e)throw new Error(ek(4));if(u)throw new Error(ek(5));var t=!0;return c(),s.push(e),function(){if(t){if(u)throw new Error(ek(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),i=null}}}function p(e){if(!ak(e))throw new Error(ek(7));if("undefined"===typeof e.type)throw new Error(ek(8));if(u)throw new Error(ek(9));try{u=!0,o=a(o,e)}finally{u=!1}for(var t=i=s,n=0;n<t.length;n++){(0,t[n])()}return e}function d(e){if("function"!==typeof e)throw new Error(ek(10));a=e,p({type:rk.REPLACE})}function h(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(ek(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[tk]=function(){return this},e}return p({type:rk.INIT}),(r={dispatch:p,subscribe:f,getState:l,replaceReducer:d})[tk]=h,r}function ik(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var sk=n(9975);function uk(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(a){return"function"===typeof a?a(n,r,e):t(a)}}}}var ck=uk();ck.withExtraArgument=uk;var lk=ck;var fk=0;var pk=!1;var dk=!0;var hk=!0;var vk=!1;var mk=!1;var gk=["content1-img-1","content1-img-2","content1-img-3","content1-img-4"],yk=0,bk="content1-img-1";var xk=!1;var wk=[!0,!1,!1,!1];var kk=!1;var Sk=!1;var Ek=!0;var Ck=!1;var Nk=!1;var Tk=!1;var Ik=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var a=t[r];0,"function"===typeof e[a]&&(n[a]=e[a])}var o,i=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:rk.INIT}))throw new Error(ek(12));if("undefined"===typeof n(void 0,{type:rk.PROBE_UNKNOWN_ACTION()}))throw new Error(ek(13))}))}(n)}catch(Qf){o=Qf}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,a={},s=0;s<i.length;s++){var u=i[s],c=n[u],l=e[u],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(ek(14))}a[u]=f,r=r||f!==l}return(r=r||i.length!==Object.keys(e).length)?a:e}}({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"login_user":return s(s({},e),{},{loginSuccess:t.payload});case"register_user":return s(s({},e),{},{register:t.payload});case"auth_user":return s(s({},e),{},{userData:t.payload});case"add_to_cart":return s(s({},e),{},{userData:s(s({},e.userData),{},{cart:t.payload})});case"get_cart_items":return s(s({},e),{},{cartDetail:t.payload});case"remove_cart_item":return s(s({},e),{},{cartDetail:t.payload.productInfo,userData:s(s({},e.userData),{},{cart:t.payload.cart})});case"on_success_buy":return s(s({},e),{},{cartDetail:t.payload.cartDetail,userData:s(s({},e.userData),{},{cart:t.payload.cart})});case"add_to_wish":return s(s({},e),{},{userData:s(s({},e.userData),{},{wish:t.payload})});case"get_wish_items":return s(s({},e),{},{wishDetail:t.payload});case"remove_wish_item":return s(s({},e),{},{wishDetail:t.payload.productInfo,userData:s(s({},e.userData),{},{wish:t.payload.wish})});default:return e}},setBagCount:function(){var e=arguments.length>1?arguments[1]:void 0;return"bag-get"==e.type&&p().get("/api/users/auth").then((function(e){var t=0;e.data.cart&&(e.data.cart.map((function(e){t+=parseInt(e.quantity,10)})),fk=t)})),"bag-add"==e.type&&(fk+=1),"bag-remove"==e.type&&(fk=0),fk},reducer1:function(){var e=arguments.length>1?arguments[1]:void 0;return"nav-on"===e.type?pk=!0:"nav-off"===e.type&&(pk=!1),pk},reducer2:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e},reducer3:function(){var e=arguments.length>1?arguments[1]:void 0;return"pause"===e.type?dk=!1:"play"===e.type&&(dk=!0),dk},reducer4:function(){var e=arguments.length>1?arguments[1]:void 0;return"vol"===e.type?hk=!1:"mute"===e.type&&(hk=!0),hk},reducer5:function(){var e=arguments.length>1?arguments[1]:void 0;return"expand-on"===e.type?vk=!0:"expand-off"===e.type&&(vk=!1),vk},reducer6:function(){var e=arguments.length>1?arguments[1]:void 0;return"bg-on"===e.type?mk=!0:"bg-off"===e.type&&(mk=!1),mk},reducer7:function(){var e=arguments.length>1?arguments[1]:void 0;return"minus"===e.type&&0===yk?bk=gk[yk=3]:"plus"===e.type&&3===yk?bk=gk[yk=0]:"plus"===e.type&&0<=yk<=3?bk=gk[yk+=1]:"minus"===e.type&&0<=yk<=3&&(bk=gk[yk-=1]),bk},reducer8:function(){var e=arguments.length>1?arguments[1]:void 0;return"login-on"===e.type?xk=!0:"login-off"===e.type&&(xk=!1),xk},reducer9:function(){var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"on-1":wk=[!0,!1,!1,!1];break;case"on-2":wk=[!1,!0,!1,!1];break;case"on-3":wk=[!1,!1,!0,!1];break;case"on-4":wk=[!1,!1,!1,!0];break;default:return wk}return wk},reducer10:function(){var e=arguments.length>1?arguments[1]:void 0;return"ani-on"===e.type?kk=!0:"ani-off"===e.type&&(kk=!1),kk},reducer11:function(){var e=arguments.length>1?arguments[1]:void 0;return"footer-down"===e.type?Sk=!0:"footer-up"===e.type&&(Sk=!1),Sk},reducer12:function(){var e=arguments.length>1?arguments[1]:void 0;return"loading-end"===e.type?Ek=!1:"loading-start"===e.type&&(Ek=!0),Ek},reducer13:function(){var e=arguments.length>1?arguments[1]:void 0;return"heart-fill"===e.type?Ck=!0:"heart-drain"===e.type&&(Ck=!1),Ck},reducer14:function(){var e=arguments.length>1?arguments[1]:void 0;return"hAlert-on"===e.type?Nk=!0:"hAlert-off"===e.type&&(Nk=!1),Nk},reducer15:function(){var e=arguments.length>1?arguments[1]:void 0;return"bAlert-on"===e.type?Tk=!0:"bAlert-off"===e.type&&(Tk=!1),Tk}}),Ok=Ik;function _k(){var t=Sn().pathname;return(0,e.useEffect)((function(){window.scrollTo(0,0)}),[t]),null}var Dk=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(ek(15))},a={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(a)}));return r=ik.apply(void 0,o)(n.dispatch),s(s({},n),{},{dispatch:r})}}}(sk.Z,lk)(ok);t.render((0,Je.jsx)(e.StrictMode,{children:(0,Je.jsx)(b,{store:Dk(Ok,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),children:(0,Je.jsxs)(En,{children:[(0,Je.jsx)(_k,{}),(0,Je.jsx)(Jw,{})]})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}()}();
//# sourceMappingURL=main.25c9d980.js.map